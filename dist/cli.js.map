{"version":3,"file":"cli.js","sources":["../node_modules/.pnpm/chalk@5.6.2/node_modules/chalk/source/vendor/ansi-styles/index.js","../node_modules/.pnpm/chalk@5.6.2/node_modules/chalk/source/vendor/supports-color/browser.js","../node_modules/.pnpm/chalk@5.6.2/node_modules/chalk/source/utilities.js","../node_modules/.pnpm/chalk@5.6.2/node_modules/chalk/source/index.js","../src/utils/logger.ts","../node_modules/.pnpm/commander@12.1.0/node_modules/commander/lib/error.js","../node_modules/.pnpm/commander@12.1.0/node_modules/commander/lib/argument.js","../node_modules/.pnpm/commander@12.1.0/node_modules/commander/lib/help.js","../node_modules/.pnpm/commander@12.1.0/node_modules/commander/lib/option.js","../node_modules/.pnpm/commander@12.1.0/node_modules/commander/lib/suggestSimilar.js","../node_modules/.pnpm/commander@12.1.0/node_modules/commander/lib/command.js","../node_modules/.pnpm/commander@12.1.0/node_modules/commander/index.js","../node_modules/.pnpm/commander@12.1.0/node_modules/commander/esm.mjs","../node_modules/.pnpm/dotenv@16.6.1/node_modules/dotenv/lib/main.js","../src/plugins/autoload.ts","../node_modules/.pnpm/@ai-sdk+provider@3.0.3/node_modules/@ai-sdk/provider/dist/index.mjs","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/core.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/util.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/errors.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/parse.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/regexes.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/checks.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/doc.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/versions.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/schemas.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/registries.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/api.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/to-json-schema.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/core/json-schema-processors.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/classic/iso.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/classic/errors.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/classic/parse.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/classic/schemas.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v4/classic/coerce.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v3/helpers/util.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v3/ZodError.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v3/helpers/errorUtil.js","../node_modules/.pnpm/zod@4.3.5/node_modules/zod/v3/types.js","../node_modules/.pnpm/eventsource-parser@3.0.6/node_modules/eventsource-parser/dist/index.js","../node_modules/.pnpm/eventsource-parser@3.0.6/node_modules/eventsource-parser/dist/stream.js","../node_modules/.pnpm/@ai-sdk+provider-utils@4.0.6_zod@4.3.5/node_modules/@ai-sdk/provider-utils/dist/index.mjs","../node_modules/.pnpm/@ai-sdk+anthropic@3.0.13_zod@4.3.5/node_modules/@ai-sdk/anthropic/dist/index.mjs","../node_modules/.pnpm/@ai-sdk+google@3.0.8_zod@4.3.5/node_modules/@ai-sdk/google/dist/index.mjs","../node_modules/.pnpm/@ai-sdk+openai@3.0.10_zod@4.3.5/node_modules/@ai-sdk/openai/dist/index.mjs","../node_modules/.pnpm/@vercel+oidc@3.1.0/node_modules/@vercel/oidc/dist/get-context.js","../node_modules/.pnpm/@vercel+oidc@3.1.0/node_modules/@vercel/oidc/dist/index-browser.js","../node_modules/.pnpm/@ai-sdk+gateway@3.0.14_zod@4.3.5/node_modules/@ai-sdk/gateway/dist/index.mjs","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/platform/browser/globalThis.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/version.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/internal/semver.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/internal/global-utils.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/diag/ComponentLogger.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/diag/types.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/diag/internal/logLevelLogger.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/api/diag.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/context/context.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/context/NoopContextManager.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/api/context.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/trace_flags.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/invalid-span-constants.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/NonRecordingSpan.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/context-utils.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/spancontext-utils.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/NoopTracer.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/ProxyTracer.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/NoopTracerProvider.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/ProxyTracerProvider.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace/status.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/api/trace.js","../node_modules/.pnpm/@opentelemetry+api@1.9.0/node_modules/@opentelemetry/api/build/esm/trace-api.js","../node_modules/.pnpm/ai@6.0.34_zod@4.3.5/node_modules/ai/dist/index.mjs","../src/services/ai.ts","../src/workflows/run.ts","../src/types/config.ts","../src/workflows/schema.ts","../src/cli.ts"],"sourcesContent":["const ANSI_BACKGROUND_OFFSET = 10;\n\nconst wrapAnsi16 = (offset = 0) => code => `\\u001B[${code + offset}m`;\n\nconst wrapAnsi256 = (offset = 0) => code => `\\u001B[${38 + offset};5;${code}m`;\n\nconst wrapAnsi16m = (offset = 0) => (red, green, blue) => `\\u001B[${38 + offset};2;${red};${green};${blue}m`;\n\nconst styles = {\n\tmodifier: {\n\t\treset: [0, 0],\n\t\t// 21 isn't widely supported and 22 does the same thing\n\t\tbold: [1, 22],\n\t\tdim: [2, 22],\n\t\titalic: [3, 23],\n\t\tunderline: [4, 24],\n\t\toverline: [53, 55],\n\t\tinverse: [7, 27],\n\t\thidden: [8, 28],\n\t\tstrikethrough: [9, 29],\n\t},\n\tcolor: {\n\t\tblack: [30, 39],\n\t\tred: [31, 39],\n\t\tgreen: [32, 39],\n\t\tyellow: [33, 39],\n\t\tblue: [34, 39],\n\t\tmagenta: [35, 39],\n\t\tcyan: [36, 39],\n\t\twhite: [37, 39],\n\n\t\t// Bright color\n\t\tblackBright: [90, 39],\n\t\tgray: [90, 39], // Alias of `blackBright`\n\t\tgrey: [90, 39], // Alias of `blackBright`\n\t\tredBright: [91, 39],\n\t\tgreenBright: [92, 39],\n\t\tyellowBright: [93, 39],\n\t\tblueBright: [94, 39],\n\t\tmagentaBright: [95, 39],\n\t\tcyanBright: [96, 39],\n\t\twhiteBright: [97, 39],\n\t},\n\tbgColor: {\n\t\tbgBlack: [40, 49],\n\t\tbgRed: [41, 49],\n\t\tbgGreen: [42, 49],\n\t\tbgYellow: [43, 49],\n\t\tbgBlue: [44, 49],\n\t\tbgMagenta: [45, 49],\n\t\tbgCyan: [46, 49],\n\t\tbgWhite: [47, 49],\n\n\t\t// Bright color\n\t\tbgBlackBright: [100, 49],\n\t\tbgGray: [100, 49], // Alias of `bgBlackBright`\n\t\tbgGrey: [100, 49], // Alias of `bgBlackBright`\n\t\tbgRedBright: [101, 49],\n\t\tbgGreenBright: [102, 49],\n\t\tbgYellowBright: [103, 49],\n\t\tbgBlueBright: [104, 49],\n\t\tbgMagentaBright: [105, 49],\n\t\tbgCyanBright: [106, 49],\n\t\tbgWhiteBright: [107, 49],\n\t},\n};\n\nexport const modifierNames = Object.keys(styles.modifier);\nexport const foregroundColorNames = Object.keys(styles.color);\nexport const backgroundColorNames = Object.keys(styles.bgColor);\nexport const colorNames = [...foregroundColorNames, ...backgroundColorNames];\n\nfunction assembleStyles() {\n\tconst codes = new Map();\n\n\tfor (const [groupName, group] of Object.entries(styles)) {\n\t\tfor (const [styleName, style] of Object.entries(group)) {\n\t\t\tstyles[styleName] = {\n\t\t\t\topen: `\\u001B[${style[0]}m`,\n\t\t\t\tclose: `\\u001B[${style[1]}m`,\n\t\t\t};\n\n\t\t\tgroup[styleName] = styles[styleName];\n\n\t\t\tcodes.set(style[0], style[1]);\n\t\t}\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false,\n\t\t});\n\t}\n\n\tObject.defineProperty(styles, 'codes', {\n\t\tvalue: codes,\n\t\tenumerable: false,\n\t});\n\n\tstyles.color.close = '\\u001B[39m';\n\tstyles.bgColor.close = '\\u001B[49m';\n\n\tstyles.color.ansi = wrapAnsi16();\n\tstyles.color.ansi256 = wrapAnsi256();\n\tstyles.color.ansi16m = wrapAnsi16m();\n\tstyles.bgColor.ansi = wrapAnsi16(ANSI_BACKGROUND_OFFSET);\n\tstyles.bgColor.ansi256 = wrapAnsi256(ANSI_BACKGROUND_OFFSET);\n\tstyles.bgColor.ansi16m = wrapAnsi16m(ANSI_BACKGROUND_OFFSET);\n\n\t// From https://github.com/Qix-/color-convert/blob/3f0e0d4e92e235796ccb17f6e85c72094a651f49/conversions.js\n\tObject.defineProperties(styles, {\n\t\trgbToAnsi256: {\n\t\t\tvalue(red, green, blue) {\n\t\t\t\t// We use the extended greyscale palette here, with the exception of\n\t\t\t\t// black and white. normal palette only has 4 greyscale shades.\n\t\t\t\tif (red === green && green === blue) {\n\t\t\t\t\tif (red < 8) {\n\t\t\t\t\t\treturn 16;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (red > 248) {\n\t\t\t\t\t\treturn 231;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Math.round(((red - 8) / 247) * 24) + 232;\n\t\t\t\t}\n\n\t\t\t\treturn 16\n\t\t\t\t\t+ (36 * Math.round(red / 255 * 5))\n\t\t\t\t\t+ (6 * Math.round(green / 255 * 5))\n\t\t\t\t\t+ Math.round(blue / 255 * 5);\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToRgb: {\n\t\t\tvalue(hex) {\n\t\t\t\tconst matches = /[a-f\\d]{6}|[a-f\\d]{3}/i.exec(hex.toString(16));\n\t\t\t\tif (!matches) {\n\t\t\t\t\treturn [0, 0, 0];\n\t\t\t\t}\n\n\t\t\t\tlet [colorString] = matches;\n\n\t\t\t\tif (colorString.length === 3) {\n\t\t\t\t\tcolorString = [...colorString].map(character => character + character).join('');\n\t\t\t\t}\n\n\t\t\t\tconst integer = Number.parseInt(colorString, 16);\n\n\t\t\t\treturn [\n\t\t\t\t\t/* eslint-disable no-bitwise */\n\t\t\t\t\t(integer >> 16) & 0xFF,\n\t\t\t\t\t(integer >> 8) & 0xFF,\n\t\t\t\t\tinteger & 0xFF,\n\t\t\t\t\t/* eslint-enable no-bitwise */\n\t\t\t\t];\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToAnsi256: {\n\t\t\tvalue: hex => styles.rgbToAnsi256(...styles.hexToRgb(hex)),\n\t\t\tenumerable: false,\n\t\t},\n\t\tansi256ToAnsi: {\n\t\t\tvalue(code) {\n\t\t\t\tif (code < 8) {\n\t\t\t\t\treturn 30 + code;\n\t\t\t\t}\n\n\t\t\t\tif (code < 16) {\n\t\t\t\t\treturn 90 + (code - 8);\n\t\t\t\t}\n\n\t\t\t\tlet red;\n\t\t\t\tlet green;\n\t\t\t\tlet blue;\n\n\t\t\t\tif (code >= 232) {\n\t\t\t\t\tred = (((code - 232) * 10) + 8) / 255;\n\t\t\t\t\tgreen = red;\n\t\t\t\t\tblue = red;\n\t\t\t\t} else {\n\t\t\t\t\tcode -= 16;\n\n\t\t\t\t\tconst remainder = code % 36;\n\n\t\t\t\t\tred = Math.floor(code / 36) / 5;\n\t\t\t\t\tgreen = Math.floor(remainder / 6) / 5;\n\t\t\t\t\tblue = (remainder % 6) / 5;\n\t\t\t\t}\n\n\t\t\t\tconst value = Math.max(red, green, blue) * 2;\n\n\t\t\t\tif (value === 0) {\n\t\t\t\t\treturn 30;\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line no-bitwise\n\t\t\t\tlet result = 30 + ((Math.round(blue) << 2) | (Math.round(green) << 1) | Math.round(red));\n\n\t\t\t\tif (value === 2) {\n\t\t\t\t\tresult += 60;\n\t\t\t\t}\n\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tenumerable: false,\n\t\t},\n\t\trgbToAnsi: {\n\t\t\tvalue: (red, green, blue) => styles.ansi256ToAnsi(styles.rgbToAnsi256(red, green, blue)),\n\t\t\tenumerable: false,\n\t\t},\n\t\thexToAnsi: {\n\t\t\tvalue: hex => styles.ansi256ToAnsi(styles.hexToAnsi256(hex)),\n\t\t\tenumerable: false,\n\t\t},\n\t});\n\n\treturn styles;\n}\n\nconst ansiStyles = assembleStyles();\n\nexport default ansiStyles;\n","/* eslint-env browser */\n\nconst level = (() => {\n\tif (!('navigator' in globalThis)) {\n\t\treturn 0;\n\t}\n\n\tif (globalThis.navigator.userAgentData) {\n\t\tconst brand = navigator.userAgentData.brands.find(({brand}) => brand === 'Chromium');\n\t\tif (brand && brand.version > 93) {\n\t\t\treturn 3;\n\t\t}\n\t}\n\n\tif (/\\b(Chrome|Chromium)\\//.test(globalThis.navigator.userAgent)) {\n\t\treturn 1;\n\t}\n\n\treturn 0;\n})();\n\nconst colorSupport = level !== 0 && {\n\tlevel,\n\thasBasic: true,\n\thas256: level >= 2,\n\thas16m: level >= 3,\n};\n\nconst supportsColor = {\n\tstdout: colorSupport,\n\tstderr: colorSupport,\n};\n\nexport default supportsColor;\n","// TODO: When targeting Node.js 16, use `String.prototype.replaceAll`.\nexport function stringReplaceAll(string, substring, replacer) {\n\tlet index = string.indexOf(substring);\n\tif (index === -1) {\n\t\treturn string;\n\t}\n\n\tconst substringLength = substring.length;\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\treturnValue += string.slice(endIndex, index) + substring + replacer;\n\t\tendIndex = index + substringLength;\n\t\tindex = string.indexOf(substring, endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.slice(endIndex);\n\treturn returnValue;\n}\n\nexport function stringEncaseCRLFWithFirstIndex(string, prefix, postfix, index) {\n\tlet endIndex = 0;\n\tlet returnValue = '';\n\tdo {\n\t\tconst gotCR = string[index - 1] === '\\r';\n\t\treturnValue += string.slice(endIndex, (gotCR ? index - 1 : index)) + prefix + (gotCR ? '\\r\\n' : '\\n') + postfix;\n\t\tendIndex = index + 1;\n\t\tindex = string.indexOf('\\n', endIndex);\n\t} while (index !== -1);\n\n\treturnValue += string.slice(endIndex);\n\treturn returnValue;\n}\n","import ansiStyles from '#ansi-styles';\nimport supportsColor from '#supports-color';\nimport { // eslint-disable-line import/order\n\tstringReplaceAll,\n\tstringEncaseCRLFWithFirstIndex,\n} from './utilities.js';\n\nconst {stdout: stdoutColor, stderr: stderrColor} = supportsColor;\n\nconst GENERATOR = Symbol('GENERATOR');\nconst STYLER = Symbol('STYLER');\nconst IS_EMPTY = Symbol('IS_EMPTY');\n\n// `supportsColor.level` ‚Üí `ansiStyles.color[name]` mapping\nconst levelMapping = [\n\t'ansi',\n\t'ansi',\n\t'ansi256',\n\t'ansi16m',\n];\n\nconst styles = Object.create(null);\n\nconst applyOptions = (object, options = {}) => {\n\tif (options.level && !(Number.isInteger(options.level) && options.level >= 0 && options.level <= 3)) {\n\t\tthrow new Error('The `level` option should be an integer from 0 to 3');\n\t}\n\n\t// Detect level if not set manually\n\tconst colorLevel = stdoutColor ? stdoutColor.level : 0;\n\tobject.level = options.level === undefined ? colorLevel : options.level;\n};\n\nexport class Chalk {\n\tconstructor(options) {\n\t\t// eslint-disable-next-line no-constructor-return\n\t\treturn chalkFactory(options);\n\t}\n}\n\nconst chalkFactory = options => {\n\tconst chalk = (...strings) => strings.join(' ');\n\tapplyOptions(chalk, options);\n\n\tObject.setPrototypeOf(chalk, createChalk.prototype);\n\n\treturn chalk;\n};\n\nfunction createChalk(options) {\n\treturn chalkFactory(options);\n}\n\nObject.setPrototypeOf(createChalk.prototype, Function.prototype);\n\nfor (const [styleName, style] of Object.entries(ansiStyles)) {\n\tstyles[styleName] = {\n\t\tget() {\n\t\t\tconst builder = createBuilder(this, createStyler(style.open, style.close, this[STYLER]), this[IS_EMPTY]);\n\t\t\tObject.defineProperty(this, styleName, {value: builder});\n\t\t\treturn builder;\n\t\t},\n\t};\n}\n\nstyles.visible = {\n\tget() {\n\t\tconst builder = createBuilder(this, this[STYLER], true);\n\t\tObject.defineProperty(this, 'visible', {value: builder});\n\t\treturn builder;\n\t},\n};\n\nconst getModelAnsi = (model, level, type, ...arguments_) => {\n\tif (model === 'rgb') {\n\t\tif (level === 'ansi16m') {\n\t\t\treturn ansiStyles[type].ansi16m(...arguments_);\n\t\t}\n\n\t\tif (level === 'ansi256') {\n\t\t\treturn ansiStyles[type].ansi256(ansiStyles.rgbToAnsi256(...arguments_));\n\t\t}\n\n\t\treturn ansiStyles[type].ansi(ansiStyles.rgbToAnsi(...arguments_));\n\t}\n\n\tif (model === 'hex') {\n\t\treturn getModelAnsi('rgb', level, type, ...ansiStyles.hexToRgb(...arguments_));\n\t}\n\n\treturn ansiStyles[type][model](...arguments_);\n};\n\nconst usedModels = ['rgb', 'hex', 'ansi256'];\n\nfor (const model of usedModels) {\n\tstyles[model] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(getModelAnsi(model, levelMapping[level], 'color', ...arguments_), ansiStyles.color.close, this[STYLER]);\n\t\t\t\treturn createBuilder(this, styler, this[IS_EMPTY]);\n\t\t\t};\n\t\t},\n\t};\n\n\tconst bgModel = 'bg' + model[0].toUpperCase() + model.slice(1);\n\tstyles[bgModel] = {\n\t\tget() {\n\t\t\tconst {level} = this;\n\t\t\treturn function (...arguments_) {\n\t\t\t\tconst styler = createStyler(getModelAnsi(model, levelMapping[level], 'bgColor', ...arguments_), ansiStyles.bgColor.close, this[STYLER]);\n\t\t\t\treturn createBuilder(this, styler, this[IS_EMPTY]);\n\t\t\t};\n\t\t},\n\t};\n}\n\nconst proto = Object.defineProperties(() => {}, {\n\t...styles,\n\tlevel: {\n\t\tenumerable: true,\n\t\tget() {\n\t\t\treturn this[GENERATOR].level;\n\t\t},\n\t\tset(level) {\n\t\t\tthis[GENERATOR].level = level;\n\t\t},\n\t},\n});\n\nconst createStyler = (open, close, parent) => {\n\tlet openAll;\n\tlet closeAll;\n\tif (parent === undefined) {\n\t\topenAll = open;\n\t\tcloseAll = close;\n\t} else {\n\t\topenAll = parent.openAll + open;\n\t\tcloseAll = close + parent.closeAll;\n\t}\n\n\treturn {\n\t\topen,\n\t\tclose,\n\t\topenAll,\n\t\tcloseAll,\n\t\tparent,\n\t};\n};\n\nconst createBuilder = (self, _styler, _isEmpty) => {\n\t// Single argument is hot path, implicit coercion is faster than anything\n\t// eslint-disable-next-line no-implicit-coercion\n\tconst builder = (...arguments_) => applyStyle(builder, (arguments_.length === 1) ? ('' + arguments_[0]) : arguments_.join(' '));\n\n\t// We alter the prototype because we must return a function, but there is\n\t// no way to create a function with a different prototype\n\tObject.setPrototypeOf(builder, proto);\n\n\tbuilder[GENERATOR] = self;\n\tbuilder[STYLER] = _styler;\n\tbuilder[IS_EMPTY] = _isEmpty;\n\n\treturn builder;\n};\n\nconst applyStyle = (self, string) => {\n\tif (self.level <= 0 || !string) {\n\t\treturn self[IS_EMPTY] ? '' : string;\n\t}\n\n\tlet styler = self[STYLER];\n\n\tif (styler === undefined) {\n\t\treturn string;\n\t}\n\n\tconst {openAll, closeAll} = styler;\n\tif (string.includes('\\u001B')) {\n\t\twhile (styler !== undefined) {\n\t\t\t// Replace any instances already present with a re-opening code\n\t\t\t// otherwise only the part of the string until said closing code\n\t\t\t// will be colored, and the rest will simply be 'plain'.\n\t\t\tstring = stringReplaceAll(string, styler.close, styler.open);\n\n\t\t\tstyler = styler.parent;\n\t\t}\n\t}\n\n\t// We can move both next actions out of loop, because remaining actions in loop won't have\n\t// any/visible effect on parts we add here. Close the styling before a linebreak and reopen\n\t// after next line to fix a bleed issue on macOS: https://github.com/chalk/chalk/pull/92\n\tconst lfIndex = string.indexOf('\\n');\n\tif (lfIndex !== -1) {\n\t\tstring = stringEncaseCRLFWithFirstIndex(string, closeAll, openAll, lfIndex);\n\t}\n\n\treturn openAll + string + closeAll;\n};\n\nObject.defineProperties(createChalk.prototype, styles);\n\nconst chalk = createChalk();\nexport const chalkStderr = createChalk({level: stderrColor ? stderrColor.level : 0});\n\nexport {\n\tmodifierNames,\n\tforegroundColorNames,\n\tbackgroundColorNames,\n\tcolorNames,\n\n\t// TODO: Remove these aliases in the next major version\n\tmodifierNames as modifiers,\n\tforegroundColorNames as foregroundColors,\n\tbackgroundColorNames as backgroundColors,\n\tcolorNames as colors,\n} from './vendor/ansi-styles/index.js';\n\nexport {\n\tstdoutColor as supportsColor,\n\tstderrColor as supportsColorStderr,\n};\n\nexport default chalk;\n","import { Logger } from '@/types'\nimport chalk from 'chalk'\n\nexport const logger: Logger = {\n  info: (message: string) => {\n    console.log(chalk.blue('‚Ñπ'), message)\n  },\n\n  success: (message: string) => {\n    console.log(chalk.green('‚úî'), message)\n  },\n\n  error: (message: string) => {\n    console.error(chalk.red('‚úñ'), message)\n  },\n\n  warn: (message: string) => {\n    console.warn(chalk.yellow('‚ö†'), message)\n  },\n\n  debug: (message: string) => {\n    if (process.env.DEBUG) {\n      console.log(chalk.gray('üêõ'), message)\n    }\n  },\n}\n","/**\n * CommanderError class\n */\nclass CommanderError extends Error {\n  /**\n   * Constructs the CommanderError class\n   * @param {number} exitCode suggested exit code which could be used with process.exit\n   * @param {string} code an id string representing the error\n   * @param {string} message human-readable description of the error\n   */\n  constructor(exitCode, code, message) {\n    super(message);\n    // properly capture stack trace in Node.js\n    Error.captureStackTrace(this, this.constructor);\n    this.name = this.constructor.name;\n    this.code = code;\n    this.exitCode = exitCode;\n    this.nestedError = undefined;\n  }\n}\n\n/**\n * InvalidArgumentError class\n */\nclass InvalidArgumentError extends CommanderError {\n  /**\n   * Constructs the InvalidArgumentError class\n   * @param {string} [message] explanation of why argument is invalid\n   */\n  constructor(message) {\n    super(1, 'commander.invalidArgument', message);\n    // properly capture stack trace in Node.js\n    Error.captureStackTrace(this, this.constructor);\n    this.name = this.constructor.name;\n  }\n}\n\nexports.CommanderError = CommanderError;\nexports.InvalidArgumentError = InvalidArgumentError;\n","const { InvalidArgumentError } = require('./error.js');\n\nclass Argument {\n  /**\n   * Initialize a new command argument with the given name and description.\n   * The default is that the argument is required, and you can explicitly\n   * indicate this with <> around the name. Put [] around the name for an optional argument.\n   *\n   * @param {string} name\n   * @param {string} [description]\n   */\n\n  constructor(name, description) {\n    this.description = description || '';\n    this.variadic = false;\n    this.parseArg = undefined;\n    this.defaultValue = undefined;\n    this.defaultValueDescription = undefined;\n    this.argChoices = undefined;\n\n    switch (name[0]) {\n      case '<': // e.g. <required>\n        this.required = true;\n        this._name = name.slice(1, -1);\n        break;\n      case '[': // e.g. [optional]\n        this.required = false;\n        this._name = name.slice(1, -1);\n        break;\n      default:\n        this.required = true;\n        this._name = name;\n        break;\n    }\n\n    if (this._name.length > 3 && this._name.slice(-3) === '...') {\n      this.variadic = true;\n      this._name = this._name.slice(0, -3);\n    }\n  }\n\n  /**\n   * Return argument name.\n   *\n   * @return {string}\n   */\n\n  name() {\n    return this._name;\n  }\n\n  /**\n   * @package\n   */\n\n  _concatValue(value, previous) {\n    if (previous === this.defaultValue || !Array.isArray(previous)) {\n      return [value];\n    }\n\n    return previous.concat(value);\n  }\n\n  /**\n   * Set the default value, and optionally supply the description to be displayed in the help.\n   *\n   * @param {*} value\n   * @param {string} [description]\n   * @return {Argument}\n   */\n\n  default(value, description) {\n    this.defaultValue = value;\n    this.defaultValueDescription = description;\n    return this;\n  }\n\n  /**\n   * Set the custom handler for processing CLI command arguments into argument values.\n   *\n   * @param {Function} [fn]\n   * @return {Argument}\n   */\n\n  argParser(fn) {\n    this.parseArg = fn;\n    return this;\n  }\n\n  /**\n   * Only allow argument value to be one of choices.\n   *\n   * @param {string[]} values\n   * @return {Argument}\n   */\n\n  choices(values) {\n    this.argChoices = values.slice();\n    this.parseArg = (arg, previous) => {\n      if (!this.argChoices.includes(arg)) {\n        throw new InvalidArgumentError(\n          `Allowed choices are ${this.argChoices.join(', ')}.`,\n        );\n      }\n      if (this.variadic) {\n        return this._concatValue(arg, previous);\n      }\n      return arg;\n    };\n    return this;\n  }\n\n  /**\n   * Make argument required.\n   *\n   * @returns {Argument}\n   */\n  argRequired() {\n    this.required = true;\n    return this;\n  }\n\n  /**\n   * Make argument optional.\n   *\n   * @returns {Argument}\n   */\n  argOptional() {\n    this.required = false;\n    return this;\n  }\n}\n\n/**\n * Takes an argument and returns its human readable equivalent for help usage.\n *\n * @param {Argument} arg\n * @return {string}\n * @private\n */\n\nfunction humanReadableArgName(arg) {\n  const nameOutput = arg.name() + (arg.variadic === true ? '...' : '');\n\n  return arg.required ? '<' + nameOutput + '>' : '[' + nameOutput + ']';\n}\n\nexports.Argument = Argument;\nexports.humanReadableArgName = humanReadableArgName;\n","const { humanReadableArgName } = require('./argument.js');\n\n/**\n * TypeScript import types for JSDoc, used by Visual Studio Code IntelliSense and `npm run typescript-checkJS`\n * https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html#import-types\n * @typedef { import(\"./argument.js\").Argument } Argument\n * @typedef { import(\"./command.js\").Command } Command\n * @typedef { import(\"./option.js\").Option } Option\n */\n\n// Although this is a class, methods are static in style to allow override using subclass or just functions.\nclass Help {\n  constructor() {\n    this.helpWidth = undefined;\n    this.sortSubcommands = false;\n    this.sortOptions = false;\n    this.showGlobalOptions = false;\n  }\n\n  /**\n   * Get an array of the visible subcommands. Includes a placeholder for the implicit help command, if there is one.\n   *\n   * @param {Command} cmd\n   * @returns {Command[]}\n   */\n\n  visibleCommands(cmd) {\n    const visibleCommands = cmd.commands.filter((cmd) => !cmd._hidden);\n    const helpCommand = cmd._getHelpCommand();\n    if (helpCommand && !helpCommand._hidden) {\n      visibleCommands.push(helpCommand);\n    }\n    if (this.sortSubcommands) {\n      visibleCommands.sort((a, b) => {\n        // @ts-ignore: because overloaded return type\n        return a.name().localeCompare(b.name());\n      });\n    }\n    return visibleCommands;\n  }\n\n  /**\n   * Compare options for sort.\n   *\n   * @param {Option} a\n   * @param {Option} b\n   * @returns {number}\n   */\n  compareOptions(a, b) {\n    const getSortKey = (option) => {\n      // WYSIWYG for order displayed in help. Short used for comparison if present. No special handling for negated.\n      return option.short\n        ? option.short.replace(/^-/, '')\n        : option.long.replace(/^--/, '');\n    };\n    return getSortKey(a).localeCompare(getSortKey(b));\n  }\n\n  /**\n   * Get an array of the visible options. Includes a placeholder for the implicit help option, if there is one.\n   *\n   * @param {Command} cmd\n   * @returns {Option[]}\n   */\n\n  visibleOptions(cmd) {\n    const visibleOptions = cmd.options.filter((option) => !option.hidden);\n    // Built-in help option.\n    const helpOption = cmd._getHelpOption();\n    if (helpOption && !helpOption.hidden) {\n      // Automatically hide conflicting flags. Bit dubious but a historical behaviour that is convenient for single-command programs.\n      const removeShort = helpOption.short && cmd._findOption(helpOption.short);\n      const removeLong = helpOption.long && cmd._findOption(helpOption.long);\n      if (!removeShort && !removeLong) {\n        visibleOptions.push(helpOption); // no changes needed\n      } else if (helpOption.long && !removeLong) {\n        visibleOptions.push(\n          cmd.createOption(helpOption.long, helpOption.description),\n        );\n      } else if (helpOption.short && !removeShort) {\n        visibleOptions.push(\n          cmd.createOption(helpOption.short, helpOption.description),\n        );\n      }\n    }\n    if (this.sortOptions) {\n      visibleOptions.sort(this.compareOptions);\n    }\n    return visibleOptions;\n  }\n\n  /**\n   * Get an array of the visible global options. (Not including help.)\n   *\n   * @param {Command} cmd\n   * @returns {Option[]}\n   */\n\n  visibleGlobalOptions(cmd) {\n    if (!this.showGlobalOptions) return [];\n\n    const globalOptions = [];\n    for (\n      let ancestorCmd = cmd.parent;\n      ancestorCmd;\n      ancestorCmd = ancestorCmd.parent\n    ) {\n      const visibleOptions = ancestorCmd.options.filter(\n        (option) => !option.hidden,\n      );\n      globalOptions.push(...visibleOptions);\n    }\n    if (this.sortOptions) {\n      globalOptions.sort(this.compareOptions);\n    }\n    return globalOptions;\n  }\n\n  /**\n   * Get an array of the arguments if any have a description.\n   *\n   * @param {Command} cmd\n   * @returns {Argument[]}\n   */\n\n  visibleArguments(cmd) {\n    // Side effect! Apply the legacy descriptions before the arguments are displayed.\n    if (cmd._argsDescription) {\n      cmd.registeredArguments.forEach((argument) => {\n        argument.description =\n          argument.description || cmd._argsDescription[argument.name()] || '';\n      });\n    }\n\n    // If there are any arguments with a description then return all the arguments.\n    if (cmd.registeredArguments.find((argument) => argument.description)) {\n      return cmd.registeredArguments;\n    }\n    return [];\n  }\n\n  /**\n   * Get the command term to show in the list of subcommands.\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  subcommandTerm(cmd) {\n    // Legacy. Ignores custom usage string, and nested commands.\n    const args = cmd.registeredArguments\n      .map((arg) => humanReadableArgName(arg))\n      .join(' ');\n    return (\n      cmd._name +\n      (cmd._aliases[0] ? '|' + cmd._aliases[0] : '') +\n      (cmd.options.length ? ' [options]' : '') + // simplistic check for non-help option\n      (args ? ' ' + args : '')\n    );\n  }\n\n  /**\n   * Get the option term to show in the list of options.\n   *\n   * @param {Option} option\n   * @returns {string}\n   */\n\n  optionTerm(option) {\n    return option.flags;\n  }\n\n  /**\n   * Get the argument term to show in the list of arguments.\n   *\n   * @param {Argument} argument\n   * @returns {string}\n   */\n\n  argumentTerm(argument) {\n    return argument.name();\n  }\n\n  /**\n   * Get the longest command term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestSubcommandTermLength(cmd, helper) {\n    return helper.visibleCommands(cmd).reduce((max, command) => {\n      return Math.max(max, helper.subcommandTerm(command).length);\n    }, 0);\n  }\n\n  /**\n   * Get the longest option term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestOptionTermLength(cmd, helper) {\n    return helper.visibleOptions(cmd).reduce((max, option) => {\n      return Math.max(max, helper.optionTerm(option).length);\n    }, 0);\n  }\n\n  /**\n   * Get the longest global option term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestGlobalOptionTermLength(cmd, helper) {\n    return helper.visibleGlobalOptions(cmd).reduce((max, option) => {\n      return Math.max(max, helper.optionTerm(option).length);\n    }, 0);\n  }\n\n  /**\n   * Get the longest argument term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  longestArgumentTermLength(cmd, helper) {\n    return helper.visibleArguments(cmd).reduce((max, argument) => {\n      return Math.max(max, helper.argumentTerm(argument).length);\n    }, 0);\n  }\n\n  /**\n   * Get the command usage to be displayed at the top of the built-in help.\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  commandUsage(cmd) {\n    // Usage\n    let cmdName = cmd._name;\n    if (cmd._aliases[0]) {\n      cmdName = cmdName + '|' + cmd._aliases[0];\n    }\n    let ancestorCmdNames = '';\n    for (\n      let ancestorCmd = cmd.parent;\n      ancestorCmd;\n      ancestorCmd = ancestorCmd.parent\n    ) {\n      ancestorCmdNames = ancestorCmd.name() + ' ' + ancestorCmdNames;\n    }\n    return ancestorCmdNames + cmdName + ' ' + cmd.usage();\n  }\n\n  /**\n   * Get the description for the command.\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  commandDescription(cmd) {\n    // @ts-ignore: because overloaded return type\n    return cmd.description();\n  }\n\n  /**\n   * Get the subcommand summary to show in the list of subcommands.\n   * (Fallback to description for backwards compatibility.)\n   *\n   * @param {Command} cmd\n   * @returns {string}\n   */\n\n  subcommandDescription(cmd) {\n    // @ts-ignore: because overloaded return type\n    return cmd.summary() || cmd.description();\n  }\n\n  /**\n   * Get the option description to show in the list of options.\n   *\n   * @param {Option} option\n   * @return {string}\n   */\n\n  optionDescription(option) {\n    const extraInfo = [];\n\n    if (option.argChoices) {\n      extraInfo.push(\n        // use stringify to match the display of the default value\n        `choices: ${option.argChoices.map((choice) => JSON.stringify(choice)).join(', ')}`,\n      );\n    }\n    if (option.defaultValue !== undefined) {\n      // default for boolean and negated more for programmer than end user,\n      // but show true/false for boolean option as may be for hand-rolled env or config processing.\n      const showDefault =\n        option.required ||\n        option.optional ||\n        (option.isBoolean() && typeof option.defaultValue === 'boolean');\n      if (showDefault) {\n        extraInfo.push(\n          `default: ${option.defaultValueDescription || JSON.stringify(option.defaultValue)}`,\n        );\n      }\n    }\n    // preset for boolean and negated are more for programmer than end user\n    if (option.presetArg !== undefined && option.optional) {\n      extraInfo.push(`preset: ${JSON.stringify(option.presetArg)}`);\n    }\n    if (option.envVar !== undefined) {\n      extraInfo.push(`env: ${option.envVar}`);\n    }\n    if (extraInfo.length > 0) {\n      return `${option.description} (${extraInfo.join(', ')})`;\n    }\n\n    return option.description;\n  }\n\n  /**\n   * Get the argument description to show in the list of arguments.\n   *\n   * @param {Argument} argument\n   * @return {string}\n   */\n\n  argumentDescription(argument) {\n    const extraInfo = [];\n    if (argument.argChoices) {\n      extraInfo.push(\n        // use stringify to match the display of the default value\n        `choices: ${argument.argChoices.map((choice) => JSON.stringify(choice)).join(', ')}`,\n      );\n    }\n    if (argument.defaultValue !== undefined) {\n      extraInfo.push(\n        `default: ${argument.defaultValueDescription || JSON.stringify(argument.defaultValue)}`,\n      );\n    }\n    if (extraInfo.length > 0) {\n      const extraDescripton = `(${extraInfo.join(', ')})`;\n      if (argument.description) {\n        return `${argument.description} ${extraDescripton}`;\n      }\n      return extraDescripton;\n    }\n    return argument.description;\n  }\n\n  /**\n   * Generate the built-in help text.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {string}\n   */\n\n  formatHelp(cmd, helper) {\n    const termWidth = helper.padWidth(cmd, helper);\n    const helpWidth = helper.helpWidth || 80;\n    const itemIndentWidth = 2;\n    const itemSeparatorWidth = 2; // between term and description\n    function formatItem(term, description) {\n      if (description) {\n        const fullText = `${term.padEnd(termWidth + itemSeparatorWidth)}${description}`;\n        return helper.wrap(\n          fullText,\n          helpWidth - itemIndentWidth,\n          termWidth + itemSeparatorWidth,\n        );\n      }\n      return term;\n    }\n    function formatList(textArray) {\n      return textArray.join('\\n').replace(/^/gm, ' '.repeat(itemIndentWidth));\n    }\n\n    // Usage\n    let output = [`Usage: ${helper.commandUsage(cmd)}`, ''];\n\n    // Description\n    const commandDescription = helper.commandDescription(cmd);\n    if (commandDescription.length > 0) {\n      output = output.concat([\n        helper.wrap(commandDescription, helpWidth, 0),\n        '',\n      ]);\n    }\n\n    // Arguments\n    const argumentList = helper.visibleArguments(cmd).map((argument) => {\n      return formatItem(\n        helper.argumentTerm(argument),\n        helper.argumentDescription(argument),\n      );\n    });\n    if (argumentList.length > 0) {\n      output = output.concat(['Arguments:', formatList(argumentList), '']);\n    }\n\n    // Options\n    const optionList = helper.visibleOptions(cmd).map((option) => {\n      return formatItem(\n        helper.optionTerm(option),\n        helper.optionDescription(option),\n      );\n    });\n    if (optionList.length > 0) {\n      output = output.concat(['Options:', formatList(optionList), '']);\n    }\n\n    if (this.showGlobalOptions) {\n      const globalOptionList = helper\n        .visibleGlobalOptions(cmd)\n        .map((option) => {\n          return formatItem(\n            helper.optionTerm(option),\n            helper.optionDescription(option),\n          );\n        });\n      if (globalOptionList.length > 0) {\n        output = output.concat([\n          'Global Options:',\n          formatList(globalOptionList),\n          '',\n        ]);\n      }\n    }\n\n    // Commands\n    const commandList = helper.visibleCommands(cmd).map((cmd) => {\n      return formatItem(\n        helper.subcommandTerm(cmd),\n        helper.subcommandDescription(cmd),\n      );\n    });\n    if (commandList.length > 0) {\n      output = output.concat(['Commands:', formatList(commandList), '']);\n    }\n\n    return output.join('\\n');\n  }\n\n  /**\n   * Calculate the pad width from the maximum term length.\n   *\n   * @param {Command} cmd\n   * @param {Help} helper\n   * @returns {number}\n   */\n\n  padWidth(cmd, helper) {\n    return Math.max(\n      helper.longestOptionTermLength(cmd, helper),\n      helper.longestGlobalOptionTermLength(cmd, helper),\n      helper.longestSubcommandTermLength(cmd, helper),\n      helper.longestArgumentTermLength(cmd, helper),\n    );\n  }\n\n  /**\n   * Wrap the given string to width characters per line, with lines after the first indented.\n   * Do not wrap if insufficient room for wrapping (minColumnWidth), or string is manually formatted.\n   *\n   * @param {string} str\n   * @param {number} width\n   * @param {number} indent\n   * @param {number} [minColumnWidth=40]\n   * @return {string}\n   *\n   */\n\n  wrap(str, width, indent, minColumnWidth = 40) {\n    // Full \\s characters, minus the linefeeds.\n    const indents =\n      ' \\\\f\\\\t\\\\v\\u00a0\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff';\n    // Detect manually wrapped and indented strings by searching for line break followed by spaces.\n    const manualIndent = new RegExp(`[\\\\n][${indents}]+`);\n    if (str.match(manualIndent)) return str;\n    // Do not wrap if not enough room for a wrapped column of text (as could end up with a word per line).\n    const columnWidth = width - indent;\n    if (columnWidth < minColumnWidth) return str;\n\n    const leadingStr = str.slice(0, indent);\n    const columnText = str.slice(indent).replace('\\r\\n', '\\n');\n    const indentString = ' '.repeat(indent);\n    const zeroWidthSpace = '\\u200B';\n    const breaks = `\\\\s${zeroWidthSpace}`;\n    // Match line end (so empty lines don't collapse),\n    // or as much text as will fit in column, or excess text up to first break.\n    const regex = new RegExp(\n      `\\n|.{1,${columnWidth - 1}}([${breaks}]|$)|[^${breaks}]+?([${breaks}]|$)`,\n      'g',\n    );\n    const lines = columnText.match(regex) || [];\n    return (\n      leadingStr +\n      lines\n        .map((line, i) => {\n          if (line === '\\n') return ''; // preserve empty lines\n          return (i > 0 ? indentString : '') + line.trimEnd();\n        })\n        .join('\\n')\n    );\n  }\n}\n\nexports.Help = Help;\n","const { InvalidArgumentError } = require('./error.js');\n\nclass Option {\n  /**\n   * Initialize a new `Option` with the given `flags` and `description`.\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   */\n\n  constructor(flags, description) {\n    this.flags = flags;\n    this.description = description || '';\n\n    this.required = flags.includes('<'); // A value must be supplied when the option is specified.\n    this.optional = flags.includes('['); // A value is optional when the option is specified.\n    // variadic test ignores <value,...> et al which might be used to describe custom splitting of single argument\n    this.variadic = /\\w\\.\\.\\.[>\\]]$/.test(flags); // The option can take multiple values.\n    this.mandatory = false; // The option must have a value after parsing, which usually means it must be specified on command line.\n    const optionFlags = splitOptionFlags(flags);\n    this.short = optionFlags.shortFlag;\n    this.long = optionFlags.longFlag;\n    this.negate = false;\n    if (this.long) {\n      this.negate = this.long.startsWith('--no-');\n    }\n    this.defaultValue = undefined;\n    this.defaultValueDescription = undefined;\n    this.presetArg = undefined;\n    this.envVar = undefined;\n    this.parseArg = undefined;\n    this.hidden = false;\n    this.argChoices = undefined;\n    this.conflictsWith = [];\n    this.implied = undefined;\n  }\n\n  /**\n   * Set the default value, and optionally supply the description to be displayed in the help.\n   *\n   * @param {*} value\n   * @param {string} [description]\n   * @return {Option}\n   */\n\n  default(value, description) {\n    this.defaultValue = value;\n    this.defaultValueDescription = description;\n    return this;\n  }\n\n  /**\n   * Preset to use when option used without option-argument, especially optional but also boolean and negated.\n   * The custom processing (parseArg) is called.\n   *\n   * @example\n   * new Option('--color').default('GREYSCALE').preset('RGB');\n   * new Option('--donate [amount]').preset('20').argParser(parseFloat);\n   *\n   * @param {*} arg\n   * @return {Option}\n   */\n\n  preset(arg) {\n    this.presetArg = arg;\n    return this;\n  }\n\n  /**\n   * Add option name(s) that conflict with this option.\n   * An error will be displayed if conflicting options are found during parsing.\n   *\n   * @example\n   * new Option('--rgb').conflicts('cmyk');\n   * new Option('--js').conflicts(['ts', 'jsx']);\n   *\n   * @param {(string | string[])} names\n   * @return {Option}\n   */\n\n  conflicts(names) {\n    this.conflictsWith = this.conflictsWith.concat(names);\n    return this;\n  }\n\n  /**\n   * Specify implied option values for when this option is set and the implied options are not.\n   *\n   * The custom processing (parseArg) is not called on the implied values.\n   *\n   * @example\n   * program\n   *   .addOption(new Option('--log', 'write logging information to file'))\n   *   .addOption(new Option('--trace', 'log extra details').implies({ log: 'trace.txt' }));\n   *\n   * @param {object} impliedOptionValues\n   * @return {Option}\n   */\n  implies(impliedOptionValues) {\n    let newImplied = impliedOptionValues;\n    if (typeof impliedOptionValues === 'string') {\n      // string is not documented, but easy mistake and we can do what user probably intended.\n      newImplied = { [impliedOptionValues]: true };\n    }\n    this.implied = Object.assign(this.implied || {}, newImplied);\n    return this;\n  }\n\n  /**\n   * Set environment variable to check for option value.\n   *\n   * An environment variable is only used if when processed the current option value is\n   * undefined, or the source of the current value is 'default' or 'config' or 'env'.\n   *\n   * @param {string} name\n   * @return {Option}\n   */\n\n  env(name) {\n    this.envVar = name;\n    return this;\n  }\n\n  /**\n   * Set the custom handler for processing CLI option arguments into option values.\n   *\n   * @param {Function} [fn]\n   * @return {Option}\n   */\n\n  argParser(fn) {\n    this.parseArg = fn;\n    return this;\n  }\n\n  /**\n   * Whether the option is mandatory and must have a value after parsing.\n   *\n   * @param {boolean} [mandatory=true]\n   * @return {Option}\n   */\n\n  makeOptionMandatory(mandatory = true) {\n    this.mandatory = !!mandatory;\n    return this;\n  }\n\n  /**\n   * Hide option in help.\n   *\n   * @param {boolean} [hide=true]\n   * @return {Option}\n   */\n\n  hideHelp(hide = true) {\n    this.hidden = !!hide;\n    return this;\n  }\n\n  /**\n   * @package\n   */\n\n  _concatValue(value, previous) {\n    if (previous === this.defaultValue || !Array.isArray(previous)) {\n      return [value];\n    }\n\n    return previous.concat(value);\n  }\n\n  /**\n   * Only allow option value to be one of choices.\n   *\n   * @param {string[]} values\n   * @return {Option}\n   */\n\n  choices(values) {\n    this.argChoices = values.slice();\n    this.parseArg = (arg, previous) => {\n      if (!this.argChoices.includes(arg)) {\n        throw new InvalidArgumentError(\n          `Allowed choices are ${this.argChoices.join(', ')}.`,\n        );\n      }\n      if (this.variadic) {\n        return this._concatValue(arg, previous);\n      }\n      return arg;\n    };\n    return this;\n  }\n\n  /**\n   * Return option name.\n   *\n   * @return {string}\n   */\n\n  name() {\n    if (this.long) {\n      return this.long.replace(/^--/, '');\n    }\n    return this.short.replace(/^-/, '');\n  }\n\n  /**\n   * Return option name, in a camelcase format that can be used\n   * as a object attribute key.\n   *\n   * @return {string}\n   */\n\n  attributeName() {\n    return camelcase(this.name().replace(/^no-/, ''));\n  }\n\n  /**\n   * Check if `arg` matches the short or long flag.\n   *\n   * @param {string} arg\n   * @return {boolean}\n   * @package\n   */\n\n  is(arg) {\n    return this.short === arg || this.long === arg;\n  }\n\n  /**\n   * Return whether a boolean option.\n   *\n   * Options are one of boolean, negated, required argument, or optional argument.\n   *\n   * @return {boolean}\n   * @package\n   */\n\n  isBoolean() {\n    return !this.required && !this.optional && !this.negate;\n  }\n}\n\n/**\n * This class is to make it easier to work with dual options, without changing the existing\n * implementation. We support separate dual options for separate positive and negative options,\n * like `--build` and `--no-build`, which share a single option value. This works nicely for some\n * use cases, but is tricky for others where we want separate behaviours despite\n * the single shared option value.\n */\nclass DualOptions {\n  /**\n   * @param {Option[]} options\n   */\n  constructor(options) {\n    this.positiveOptions = new Map();\n    this.negativeOptions = new Map();\n    this.dualOptions = new Set();\n    options.forEach((option) => {\n      if (option.negate) {\n        this.negativeOptions.set(option.attributeName(), option);\n      } else {\n        this.positiveOptions.set(option.attributeName(), option);\n      }\n    });\n    this.negativeOptions.forEach((value, key) => {\n      if (this.positiveOptions.has(key)) {\n        this.dualOptions.add(key);\n      }\n    });\n  }\n\n  /**\n   * Did the value come from the option, and not from possible matching dual option?\n   *\n   * @param {*} value\n   * @param {Option} option\n   * @returns {boolean}\n   */\n  valueFromOption(value, option) {\n    const optionKey = option.attributeName();\n    if (!this.dualOptions.has(optionKey)) return true;\n\n    // Use the value to deduce if (probably) came from the option.\n    const preset = this.negativeOptions.get(optionKey).presetArg;\n    const negativeValue = preset !== undefined ? preset : false;\n    return option.negate === (negativeValue === value);\n  }\n}\n\n/**\n * Convert string from kebab-case to camelCase.\n *\n * @param {string} str\n * @return {string}\n * @private\n */\n\nfunction camelcase(str) {\n  return str.split('-').reduce((str, word) => {\n    return str + word[0].toUpperCase() + word.slice(1);\n  });\n}\n\n/**\n * Split the short and long flag out of something like '-m,--mixed <value>'\n *\n * @private\n */\n\nfunction splitOptionFlags(flags) {\n  let shortFlag;\n  let longFlag;\n  // Use original very loose parsing to maintain backwards compatibility for now,\n  // which allowed for example unintended `-sw, --short-word` [sic].\n  const flagParts = flags.split(/[ |,]+/);\n  if (flagParts.length > 1 && !/^[[<]/.test(flagParts[1]))\n    shortFlag = flagParts.shift();\n  longFlag = flagParts.shift();\n  // Add support for lone short flag without significantly changing parsing!\n  if (!shortFlag && /^-[^-]$/.test(longFlag)) {\n    shortFlag = longFlag;\n    longFlag = undefined;\n  }\n  return { shortFlag, longFlag };\n}\n\nexports.Option = Option;\nexports.DualOptions = DualOptions;\n","const maxDistance = 3;\n\nfunction editDistance(a, b) {\n  // https://en.wikipedia.org/wiki/Damerau‚ÄìLevenshtein_distance\n  // Calculating optimal string alignment distance, no substring is edited more than once.\n  // (Simple implementation.)\n\n  // Quick early exit, return worst case.\n  if (Math.abs(a.length - b.length) > maxDistance)\n    return Math.max(a.length, b.length);\n\n  // distance between prefix substrings of a and b\n  const d = [];\n\n  // pure deletions turn a into empty string\n  for (let i = 0; i <= a.length; i++) {\n    d[i] = [i];\n  }\n  // pure insertions turn empty string into b\n  for (let j = 0; j <= b.length; j++) {\n    d[0][j] = j;\n  }\n\n  // fill matrix\n  for (let j = 1; j <= b.length; j++) {\n    for (let i = 1; i <= a.length; i++) {\n      let cost = 1;\n      if (a[i - 1] === b[j - 1]) {\n        cost = 0;\n      } else {\n        cost = 1;\n      }\n      d[i][j] = Math.min(\n        d[i - 1][j] + 1, // deletion\n        d[i][j - 1] + 1, // insertion\n        d[i - 1][j - 1] + cost, // substitution\n      );\n      // transposition\n      if (i > 1 && j > 1 && a[i - 1] === b[j - 2] && a[i - 2] === b[j - 1]) {\n        d[i][j] = Math.min(d[i][j], d[i - 2][j - 2] + 1);\n      }\n    }\n  }\n\n  return d[a.length][b.length];\n}\n\n/**\n * Find close matches, restricted to same number of edits.\n *\n * @param {string} word\n * @param {string[]} candidates\n * @returns {string}\n */\n\nfunction suggestSimilar(word, candidates) {\n  if (!candidates || candidates.length === 0) return '';\n  // remove possible duplicates\n  candidates = Array.from(new Set(candidates));\n\n  const searchingOptions = word.startsWith('--');\n  if (searchingOptions) {\n    word = word.slice(2);\n    candidates = candidates.map((candidate) => candidate.slice(2));\n  }\n\n  let similar = [];\n  let bestDistance = maxDistance;\n  const minSimilarity = 0.4;\n  candidates.forEach((candidate) => {\n    if (candidate.length <= 1) return; // no one character guesses\n\n    const distance = editDistance(word, candidate);\n    const length = Math.max(word.length, candidate.length);\n    const similarity = (length - distance) / length;\n    if (similarity > minSimilarity) {\n      if (distance < bestDistance) {\n        // better edit distance, throw away previous worse matches\n        bestDistance = distance;\n        similar = [candidate];\n      } else if (distance === bestDistance) {\n        similar.push(candidate);\n      }\n    }\n  });\n\n  similar.sort((a, b) => a.localeCompare(b));\n  if (searchingOptions) {\n    similar = similar.map((candidate) => `--${candidate}`);\n  }\n\n  if (similar.length > 1) {\n    return `\\n(Did you mean one of ${similar.join(', ')}?)`;\n  }\n  if (similar.length === 1) {\n    return `\\n(Did you mean ${similar[0]}?)`;\n  }\n  return '';\n}\n\nexports.suggestSimilar = suggestSimilar;\n","const EventEmitter = require('node:events').EventEmitter;\nconst childProcess = require('node:child_process');\nconst path = require('node:path');\nconst fs = require('node:fs');\nconst process = require('node:process');\n\nconst { Argument, humanReadableArgName } = require('./argument.js');\nconst { CommanderError } = require('./error.js');\nconst { Help } = require('./help.js');\nconst { Option, DualOptions } = require('./option.js');\nconst { suggestSimilar } = require('./suggestSimilar');\n\nclass Command extends EventEmitter {\n  /**\n   * Initialize a new `Command`.\n   *\n   * @param {string} [name]\n   */\n\n  constructor(name) {\n    super();\n    /** @type {Command[]} */\n    this.commands = [];\n    /** @type {Option[]} */\n    this.options = [];\n    this.parent = null;\n    this._allowUnknownOption = false;\n    this._allowExcessArguments = true;\n    /** @type {Argument[]} */\n    this.registeredArguments = [];\n    this._args = this.registeredArguments; // deprecated old name\n    /** @type {string[]} */\n    this.args = []; // cli args with options removed\n    this.rawArgs = [];\n    this.processedArgs = []; // like .args but after custom processing and collecting variadic\n    this._scriptPath = null;\n    this._name = name || '';\n    this._optionValues = {};\n    this._optionValueSources = {}; // default, env, cli etc\n    this._storeOptionsAsProperties = false;\n    this._actionHandler = null;\n    this._executableHandler = false;\n    this._executableFile = null; // custom name for executable\n    this._executableDir = null; // custom search directory for subcommands\n    this._defaultCommandName = null;\n    this._exitCallback = null;\n    this._aliases = [];\n    this._combineFlagAndOptionalValue = true;\n    this._description = '';\n    this._summary = '';\n    this._argsDescription = undefined; // legacy\n    this._enablePositionalOptions = false;\n    this._passThroughOptions = false;\n    this._lifeCycleHooks = {}; // a hash of arrays\n    /** @type {(boolean | string)} */\n    this._showHelpAfterError = false;\n    this._showSuggestionAfterError = true;\n\n    // see .configureOutput() for docs\n    this._outputConfiguration = {\n      writeOut: (str) => process.stdout.write(str),\n      writeErr: (str) => process.stderr.write(str),\n      getOutHelpWidth: () =>\n        process.stdout.isTTY ? process.stdout.columns : undefined,\n      getErrHelpWidth: () =>\n        process.stderr.isTTY ? process.stderr.columns : undefined,\n      outputError: (str, write) => write(str),\n    };\n\n    this._hidden = false;\n    /** @type {(Option | null | undefined)} */\n    this._helpOption = undefined; // Lazy created on demand. May be null if help option is disabled.\n    this._addImplicitHelpCommand = undefined; // undecided whether true or false yet, not inherited\n    /** @type {Command} */\n    this._helpCommand = undefined; // lazy initialised, inherited\n    this._helpConfiguration = {};\n  }\n\n  /**\n   * Copy settings that are useful to have in common across root command and subcommands.\n   *\n   * (Used internally when adding a command using `.command()` so subcommands inherit parent settings.)\n   *\n   * @param {Command} sourceCommand\n   * @return {Command} `this` command for chaining\n   */\n  copyInheritedSettings(sourceCommand) {\n    this._outputConfiguration = sourceCommand._outputConfiguration;\n    this._helpOption = sourceCommand._helpOption;\n    this._helpCommand = sourceCommand._helpCommand;\n    this._helpConfiguration = sourceCommand._helpConfiguration;\n    this._exitCallback = sourceCommand._exitCallback;\n    this._storeOptionsAsProperties = sourceCommand._storeOptionsAsProperties;\n    this._combineFlagAndOptionalValue =\n      sourceCommand._combineFlagAndOptionalValue;\n    this._allowExcessArguments = sourceCommand._allowExcessArguments;\n    this._enablePositionalOptions = sourceCommand._enablePositionalOptions;\n    this._showHelpAfterError = sourceCommand._showHelpAfterError;\n    this._showSuggestionAfterError = sourceCommand._showSuggestionAfterError;\n\n    return this;\n  }\n\n  /**\n   * @returns {Command[]}\n   * @private\n   */\n\n  _getCommandAndAncestors() {\n    const result = [];\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    for (let command = this; command; command = command.parent) {\n      result.push(command);\n    }\n    return result;\n  }\n\n  /**\n   * Define a command.\n   *\n   * There are two styles of command: pay attention to where to put the description.\n   *\n   * @example\n   * // Command implemented using action handler (description is supplied separately to `.command`)\n   * program\n   *   .command('clone <source> [destination]')\n   *   .description('clone a repository into a newly created directory')\n   *   .action((source, destination) => {\n   *     console.log('clone command called');\n   *   });\n   *\n   * // Command implemented using separate executable file (description is second parameter to `.command`)\n   * program\n   *   .command('start <service>', 'start named service')\n   *   .command('stop [service]', 'stop named service, or all if no name supplied');\n   *\n   * @param {string} nameAndArgs - command name and arguments, args are `<required>` or `[optional]` and last may also be `variadic...`\n   * @param {(object | string)} [actionOptsOrExecDesc] - configuration options (for action), or description (for executable)\n   * @param {object} [execOpts] - configuration options (for executable)\n   * @return {Command} returns new command for action handler, or `this` for executable command\n   */\n\n  command(nameAndArgs, actionOptsOrExecDesc, execOpts) {\n    let desc = actionOptsOrExecDesc;\n    let opts = execOpts;\n    if (typeof desc === 'object' && desc !== null) {\n      opts = desc;\n      desc = null;\n    }\n    opts = opts || {};\n    const [, name, args] = nameAndArgs.match(/([^ ]+) *(.*)/);\n\n    const cmd = this.createCommand(name);\n    if (desc) {\n      cmd.description(desc);\n      cmd._executableHandler = true;\n    }\n    if (opts.isDefault) this._defaultCommandName = cmd._name;\n    cmd._hidden = !!(opts.noHelp || opts.hidden); // noHelp is deprecated old name for hidden\n    cmd._executableFile = opts.executableFile || null; // Custom name for executable file, set missing to null to match constructor\n    if (args) cmd.arguments(args);\n    this._registerCommand(cmd);\n    cmd.parent = this;\n    cmd.copyInheritedSettings(this);\n\n    if (desc) return this;\n    return cmd;\n  }\n\n  /**\n   * Factory routine to create a new unattached command.\n   *\n   * See .command() for creating an attached subcommand, which uses this routine to\n   * create the command. You can override createCommand to customise subcommands.\n   *\n   * @param {string} [name]\n   * @return {Command} new command\n   */\n\n  createCommand(name) {\n    return new Command(name);\n  }\n\n  /**\n   * You can customise the help with a subclass of Help by overriding createHelp,\n   * or by overriding Help properties using configureHelp().\n   *\n   * @return {Help}\n   */\n\n  createHelp() {\n    return Object.assign(new Help(), this.configureHelp());\n  }\n\n  /**\n   * You can customise the help by overriding Help properties using configureHelp(),\n   * or with a subclass of Help by overriding createHelp().\n   *\n   * @param {object} [configuration] - configuration options\n   * @return {(Command | object)} `this` command for chaining, or stored configuration\n   */\n\n  configureHelp(configuration) {\n    if (configuration === undefined) return this._helpConfiguration;\n\n    this._helpConfiguration = configuration;\n    return this;\n  }\n\n  /**\n   * The default output goes to stdout and stderr. You can customise this for special\n   * applications. You can also customise the display of errors by overriding outputError.\n   *\n   * The configuration properties are all functions:\n   *\n   *     // functions to change where being written, stdout and stderr\n   *     writeOut(str)\n   *     writeErr(str)\n   *     // matching functions to specify width for wrapping help\n   *     getOutHelpWidth()\n   *     getErrHelpWidth()\n   *     // functions based on what is being written out\n   *     outputError(str, write) // used for displaying errors, and not used for displaying help\n   *\n   * @param {object} [configuration] - configuration options\n   * @return {(Command | object)} `this` command for chaining, or stored configuration\n   */\n\n  configureOutput(configuration) {\n    if (configuration === undefined) return this._outputConfiguration;\n\n    Object.assign(this._outputConfiguration, configuration);\n    return this;\n  }\n\n  /**\n   * Display the help or a custom message after an error occurs.\n   *\n   * @param {(boolean|string)} [displayHelp]\n   * @return {Command} `this` command for chaining\n   */\n  showHelpAfterError(displayHelp = true) {\n    if (typeof displayHelp !== 'string') displayHelp = !!displayHelp;\n    this._showHelpAfterError = displayHelp;\n    return this;\n  }\n\n  /**\n   * Display suggestion of similar commands for unknown commands, or options for unknown options.\n   *\n   * @param {boolean} [displaySuggestion]\n   * @return {Command} `this` command for chaining\n   */\n  showSuggestionAfterError(displaySuggestion = true) {\n    this._showSuggestionAfterError = !!displaySuggestion;\n    return this;\n  }\n\n  /**\n   * Add a prepared subcommand.\n   *\n   * See .command() for creating an attached subcommand which inherits settings from its parent.\n   *\n   * @param {Command} cmd - new subcommand\n   * @param {object} [opts] - configuration options\n   * @return {Command} `this` command for chaining\n   */\n\n  addCommand(cmd, opts) {\n    if (!cmd._name) {\n      throw new Error(`Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()`);\n    }\n\n    opts = opts || {};\n    if (opts.isDefault) this._defaultCommandName = cmd._name;\n    if (opts.noHelp || opts.hidden) cmd._hidden = true; // modifying passed command due to existing implementation\n\n    this._registerCommand(cmd);\n    cmd.parent = this;\n    cmd._checkForBrokenPassThrough();\n\n    return this;\n  }\n\n  /**\n   * Factory routine to create a new unattached argument.\n   *\n   * See .argument() for creating an attached argument, which uses this routine to\n   * create the argument. You can override createArgument to return a custom argument.\n   *\n   * @param {string} name\n   * @param {string} [description]\n   * @return {Argument} new argument\n   */\n\n  createArgument(name, description) {\n    return new Argument(name, description);\n  }\n\n  /**\n   * Define argument syntax for command.\n   *\n   * The default is that the argument is required, and you can explicitly\n   * indicate this with <> around the name. Put [] around the name for an optional argument.\n   *\n   * @example\n   * program.argument('<input-file>');\n   * program.argument('[output-file]');\n   *\n   * @param {string} name\n   * @param {string} [description]\n   * @param {(Function|*)} [fn] - custom argument processing function\n   * @param {*} [defaultValue]\n   * @return {Command} `this` command for chaining\n   */\n  argument(name, description, fn, defaultValue) {\n    const argument = this.createArgument(name, description);\n    if (typeof fn === 'function') {\n      argument.default(defaultValue).argParser(fn);\n    } else {\n      argument.default(fn);\n    }\n    this.addArgument(argument);\n    return this;\n  }\n\n  /**\n   * Define argument syntax for command, adding multiple at once (without descriptions).\n   *\n   * See also .argument().\n   *\n   * @example\n   * program.arguments('<cmd> [env]');\n   *\n   * @param {string} names\n   * @return {Command} `this` command for chaining\n   */\n\n  arguments(names) {\n    names\n      .trim()\n      .split(/ +/)\n      .forEach((detail) => {\n        this.argument(detail);\n      });\n    return this;\n  }\n\n  /**\n   * Define argument syntax for command, adding a prepared argument.\n   *\n   * @param {Argument} argument\n   * @return {Command} `this` command for chaining\n   */\n  addArgument(argument) {\n    const previousArgument = this.registeredArguments.slice(-1)[0];\n    if (previousArgument && previousArgument.variadic) {\n      throw new Error(\n        `only the last argument can be variadic '${previousArgument.name()}'`,\n      );\n    }\n    if (\n      argument.required &&\n      argument.defaultValue !== undefined &&\n      argument.parseArg === undefined\n    ) {\n      throw new Error(\n        `a default value for a required argument is never used: '${argument.name()}'`,\n      );\n    }\n    this.registeredArguments.push(argument);\n    return this;\n  }\n\n  /**\n   * Customise or override default help command. By default a help command is automatically added if your command has subcommands.\n   *\n   * @example\n   *    program.helpCommand('help [cmd]');\n   *    program.helpCommand('help [cmd]', 'show help');\n   *    program.helpCommand(false); // suppress default help command\n   *    program.helpCommand(true); // add help command even if no subcommands\n   *\n   * @param {string|boolean} enableOrNameAndArgs - enable with custom name and/or arguments, or boolean to override whether added\n   * @param {string} [description] - custom description\n   * @return {Command} `this` command for chaining\n   */\n\n  helpCommand(enableOrNameAndArgs, description) {\n    if (typeof enableOrNameAndArgs === 'boolean') {\n      this._addImplicitHelpCommand = enableOrNameAndArgs;\n      return this;\n    }\n\n    enableOrNameAndArgs = enableOrNameAndArgs ?? 'help [command]';\n    const [, helpName, helpArgs] = enableOrNameAndArgs.match(/([^ ]+) *(.*)/);\n    const helpDescription = description ?? 'display help for command';\n\n    const helpCommand = this.createCommand(helpName);\n    helpCommand.helpOption(false);\n    if (helpArgs) helpCommand.arguments(helpArgs);\n    if (helpDescription) helpCommand.description(helpDescription);\n\n    this._addImplicitHelpCommand = true;\n    this._helpCommand = helpCommand;\n\n    return this;\n  }\n\n  /**\n   * Add prepared custom help command.\n   *\n   * @param {(Command|string|boolean)} helpCommand - custom help command, or deprecated enableOrNameAndArgs as for `.helpCommand()`\n   * @param {string} [deprecatedDescription] - deprecated custom description used with custom name only\n   * @return {Command} `this` command for chaining\n   */\n  addHelpCommand(helpCommand, deprecatedDescription) {\n    // If not passed an object, call through to helpCommand for backwards compatibility,\n    // as addHelpCommand was originally used like helpCommand is now.\n    if (typeof helpCommand !== 'object') {\n      this.helpCommand(helpCommand, deprecatedDescription);\n      return this;\n    }\n\n    this._addImplicitHelpCommand = true;\n    this._helpCommand = helpCommand;\n    return this;\n  }\n\n  /**\n   * Lazy create help command.\n   *\n   * @return {(Command|null)}\n   * @package\n   */\n  _getHelpCommand() {\n    const hasImplicitHelpCommand =\n      this._addImplicitHelpCommand ??\n      (this.commands.length &&\n        !this._actionHandler &&\n        !this._findCommand('help'));\n\n    if (hasImplicitHelpCommand) {\n      if (this._helpCommand === undefined) {\n        this.helpCommand(undefined, undefined); // use default name and description\n      }\n      return this._helpCommand;\n    }\n    return null;\n  }\n\n  /**\n   * Add hook for life cycle event.\n   *\n   * @param {string} event\n   * @param {Function} listener\n   * @return {Command} `this` command for chaining\n   */\n\n  hook(event, listener) {\n    const allowedValues = ['preSubcommand', 'preAction', 'postAction'];\n    if (!allowedValues.includes(event)) {\n      throw new Error(`Unexpected value for event passed to hook : '${event}'.\nExpecting one of '${allowedValues.join(\"', '\")}'`);\n    }\n    if (this._lifeCycleHooks[event]) {\n      this._lifeCycleHooks[event].push(listener);\n    } else {\n      this._lifeCycleHooks[event] = [listener];\n    }\n    return this;\n  }\n\n  /**\n   * Register callback to use as replacement for calling process.exit.\n   *\n   * @param {Function} [fn] optional callback which will be passed a CommanderError, defaults to throwing\n   * @return {Command} `this` command for chaining\n   */\n\n  exitOverride(fn) {\n    if (fn) {\n      this._exitCallback = fn;\n    } else {\n      this._exitCallback = (err) => {\n        if (err.code !== 'commander.executeSubCommandAsync') {\n          throw err;\n        } else {\n          // Async callback from spawn events, not useful to throw.\n        }\n      };\n    }\n    return this;\n  }\n\n  /**\n   * Call process.exit, and _exitCallback if defined.\n   *\n   * @param {number} exitCode exit code for using with process.exit\n   * @param {string} code an id string representing the error\n   * @param {string} message human-readable description of the error\n   * @return never\n   * @private\n   */\n\n  _exit(exitCode, code, message) {\n    if (this._exitCallback) {\n      this._exitCallback(new CommanderError(exitCode, code, message));\n      // Expecting this line is not reached.\n    }\n    process.exit(exitCode);\n  }\n\n  /**\n   * Register callback `fn` for the command.\n   *\n   * @example\n   * program\n   *   .command('serve')\n   *   .description('start service')\n   *   .action(function() {\n   *      // do work here\n   *   });\n   *\n   * @param {Function} fn\n   * @return {Command} `this` command for chaining\n   */\n\n  action(fn) {\n    const listener = (args) => {\n      // The .action callback takes an extra parameter which is the command or options.\n      const expectedArgsCount = this.registeredArguments.length;\n      const actionArgs = args.slice(0, expectedArgsCount);\n      if (this._storeOptionsAsProperties) {\n        actionArgs[expectedArgsCount] = this; // backwards compatible \"options\"\n      } else {\n        actionArgs[expectedArgsCount] = this.opts();\n      }\n      actionArgs.push(this);\n\n      return fn.apply(this, actionArgs);\n    };\n    this._actionHandler = listener;\n    return this;\n  }\n\n  /**\n   * Factory routine to create a new unattached option.\n   *\n   * See .option() for creating an attached option, which uses this routine to\n   * create the option. You can override createOption to return a custom option.\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   * @return {Option} new option\n   */\n\n  createOption(flags, description) {\n    return new Option(flags, description);\n  }\n\n  /**\n   * Wrap parseArgs to catch 'commander.invalidArgument'.\n   *\n   * @param {(Option | Argument)} target\n   * @param {string} value\n   * @param {*} previous\n   * @param {string} invalidArgumentMessage\n   * @private\n   */\n\n  _callParseArg(target, value, previous, invalidArgumentMessage) {\n    try {\n      return target.parseArg(value, previous);\n    } catch (err) {\n      if (err.code === 'commander.invalidArgument') {\n        const message = `${invalidArgumentMessage} ${err.message}`;\n        this.error(message, { exitCode: err.exitCode, code: err.code });\n      }\n      throw err;\n    }\n  }\n\n  /**\n   * Check for option flag conflicts.\n   * Register option if no conflicts found, or throw on conflict.\n   *\n   * @param {Option} option\n   * @private\n   */\n\n  _registerOption(option) {\n    const matchingOption =\n      (option.short && this._findOption(option.short)) ||\n      (option.long && this._findOption(option.long));\n    if (matchingOption) {\n      const matchingFlag =\n        option.long && this._findOption(option.long)\n          ? option.long\n          : option.short;\n      throw new Error(`Cannot add option '${option.flags}'${this._name && ` to command '${this._name}'`} due to conflicting flag '${matchingFlag}'\n-  already used by option '${matchingOption.flags}'`);\n    }\n\n    this.options.push(option);\n  }\n\n  /**\n   * Check for command name and alias conflicts with existing commands.\n   * Register command if no conflicts found, or throw on conflict.\n   *\n   * @param {Command} command\n   * @private\n   */\n\n  _registerCommand(command) {\n    const knownBy = (cmd) => {\n      return [cmd.name()].concat(cmd.aliases());\n    };\n\n    const alreadyUsed = knownBy(command).find((name) =>\n      this._findCommand(name),\n    );\n    if (alreadyUsed) {\n      const existingCmd = knownBy(this._findCommand(alreadyUsed)).join('|');\n      const newCmd = knownBy(command).join('|');\n      throw new Error(\n        `cannot add command '${newCmd}' as already have command '${existingCmd}'`,\n      );\n    }\n\n    this.commands.push(command);\n  }\n\n  /**\n   * Add an option.\n   *\n   * @param {Option} option\n   * @return {Command} `this` command for chaining\n   */\n  addOption(option) {\n    this._registerOption(option);\n\n    const oname = option.name();\n    const name = option.attributeName();\n\n    // store default value\n    if (option.negate) {\n      // --no-foo is special and defaults foo to true, unless a --foo option is already defined\n      const positiveLongFlag = option.long.replace(/^--no-/, '--');\n      if (!this._findOption(positiveLongFlag)) {\n        this.setOptionValueWithSource(\n          name,\n          option.defaultValue === undefined ? true : option.defaultValue,\n          'default',\n        );\n      }\n    } else if (option.defaultValue !== undefined) {\n      this.setOptionValueWithSource(name, option.defaultValue, 'default');\n    }\n\n    // handler for cli and env supplied values\n    const handleOptionValue = (val, invalidValueMessage, valueSource) => {\n      // val is null for optional option used without an optional-argument.\n      // val is undefined for boolean and negated option.\n      if (val == null && option.presetArg !== undefined) {\n        val = option.presetArg;\n      }\n\n      // custom processing\n      const oldValue = this.getOptionValue(name);\n      if (val !== null && option.parseArg) {\n        val = this._callParseArg(option, val, oldValue, invalidValueMessage);\n      } else if (val !== null && option.variadic) {\n        val = option._concatValue(val, oldValue);\n      }\n\n      // Fill-in appropriate missing values. Long winded but easy to follow.\n      if (val == null) {\n        if (option.negate) {\n          val = false;\n        } else if (option.isBoolean() || option.optional) {\n          val = true;\n        } else {\n          val = ''; // not normal, parseArg might have failed or be a mock function for testing\n        }\n      }\n      this.setOptionValueWithSource(name, val, valueSource);\n    };\n\n    this.on('option:' + oname, (val) => {\n      const invalidValueMessage = `error: option '${option.flags}' argument '${val}' is invalid.`;\n      handleOptionValue(val, invalidValueMessage, 'cli');\n    });\n\n    if (option.envVar) {\n      this.on('optionEnv:' + oname, (val) => {\n        const invalidValueMessage = `error: option '${option.flags}' value '${val}' from env '${option.envVar}' is invalid.`;\n        handleOptionValue(val, invalidValueMessage, 'env');\n      });\n    }\n\n    return this;\n  }\n\n  /**\n   * Internal implementation shared by .option() and .requiredOption()\n   *\n   * @return {Command} `this` command for chaining\n   * @private\n   */\n  _optionEx(config, flags, description, fn, defaultValue) {\n    if (typeof flags === 'object' && flags instanceof Option) {\n      throw new Error(\n        'To add an Option object use addOption() instead of option() or requiredOption()',\n      );\n    }\n    const option = this.createOption(flags, description);\n    option.makeOptionMandatory(!!config.mandatory);\n    if (typeof fn === 'function') {\n      option.default(defaultValue).argParser(fn);\n    } else if (fn instanceof RegExp) {\n      // deprecated\n      const regex = fn;\n      fn = (val, def) => {\n        const m = regex.exec(val);\n        return m ? m[0] : def;\n      };\n      option.default(defaultValue).argParser(fn);\n    } else {\n      option.default(fn);\n    }\n\n    return this.addOption(option);\n  }\n\n  /**\n   * Define option with `flags`, `description`, and optional argument parsing function or `defaultValue` or both.\n   *\n   * The `flags` string contains the short and/or long flags, separated by comma, a pipe or space. A required\n   * option-argument is indicated by `<>` and an optional option-argument by `[]`.\n   *\n   * See the README for more details, and see also addOption() and requiredOption().\n   *\n   * @example\n   * program\n   *     .option('-p, --pepper', 'add pepper')\n   *     .option('-p, --pizza-type <TYPE>', 'type of pizza') // required option-argument\n   *     .option('-c, --cheese [CHEESE]', 'add extra cheese', 'mozzarella') // optional option-argument with default\n   *     .option('-t, --tip <VALUE>', 'add tip to purchase cost', parseFloat) // custom parse function\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   * @param {(Function|*)} [parseArg] - custom option processing function or default value\n   * @param {*} [defaultValue]\n   * @return {Command} `this` command for chaining\n   */\n\n  option(flags, description, parseArg, defaultValue) {\n    return this._optionEx({}, flags, description, parseArg, defaultValue);\n  }\n\n  /**\n   * Add a required option which must have a value after parsing. This usually means\n   * the option must be specified on the command line. (Otherwise the same as .option().)\n   *\n   * The `flags` string contains the short and/or long flags, separated by comma, a pipe or space.\n   *\n   * @param {string} flags\n   * @param {string} [description]\n   * @param {(Function|*)} [parseArg] - custom option processing function or default value\n   * @param {*} [defaultValue]\n   * @return {Command} `this` command for chaining\n   */\n\n  requiredOption(flags, description, parseArg, defaultValue) {\n    return this._optionEx(\n      { mandatory: true },\n      flags,\n      description,\n      parseArg,\n      defaultValue,\n    );\n  }\n\n  /**\n   * Alter parsing of short flags with optional values.\n   *\n   * @example\n   * // for `.option('-f,--flag [value]'):\n   * program.combineFlagAndOptionalValue(true);  // `-f80` is treated like `--flag=80`, this is the default behaviour\n   * program.combineFlagAndOptionalValue(false) // `-fb` is treated like `-f -b`\n   *\n   * @param {boolean} [combine] - if `true` or omitted, an optional value can be specified directly after the flag.\n   * @return {Command} `this` command for chaining\n   */\n  combineFlagAndOptionalValue(combine = true) {\n    this._combineFlagAndOptionalValue = !!combine;\n    return this;\n  }\n\n  /**\n   * Allow unknown options on the command line.\n   *\n   * @param {boolean} [allowUnknown] - if `true` or omitted, no error will be thrown for unknown options.\n   * @return {Command} `this` command for chaining\n   */\n  allowUnknownOption(allowUnknown = true) {\n    this._allowUnknownOption = !!allowUnknown;\n    return this;\n  }\n\n  /**\n   * Allow excess command-arguments on the command line. Pass false to make excess arguments an error.\n   *\n   * @param {boolean} [allowExcess] - if `true` or omitted, no error will be thrown for excess arguments.\n   * @return {Command} `this` command for chaining\n   */\n  allowExcessArguments(allowExcess = true) {\n    this._allowExcessArguments = !!allowExcess;\n    return this;\n  }\n\n  /**\n   * Enable positional options. Positional means global options are specified before subcommands which lets\n   * subcommands reuse the same option names, and also enables subcommands to turn on passThroughOptions.\n   * The default behaviour is non-positional and global options may appear anywhere on the command line.\n   *\n   * @param {boolean} [positional]\n   * @return {Command} `this` command for chaining\n   */\n  enablePositionalOptions(positional = true) {\n    this._enablePositionalOptions = !!positional;\n    return this;\n  }\n\n  /**\n   * Pass through options that come after command-arguments rather than treat them as command-options,\n   * so actual command-options come before command-arguments. Turning this on for a subcommand requires\n   * positional options to have been enabled on the program (parent commands).\n   * The default behaviour is non-positional and options may appear before or after command-arguments.\n   *\n   * @param {boolean} [passThrough] for unknown options.\n   * @return {Command} `this` command for chaining\n   */\n  passThroughOptions(passThrough = true) {\n    this._passThroughOptions = !!passThrough;\n    this._checkForBrokenPassThrough();\n    return this;\n  }\n\n  /**\n   * @private\n   */\n\n  _checkForBrokenPassThrough() {\n    if (\n      this.parent &&\n      this._passThroughOptions &&\n      !this.parent._enablePositionalOptions\n    ) {\n      throw new Error(\n        `passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`,\n      );\n    }\n  }\n\n  /**\n   * Whether to store option values as properties on command object,\n   * or store separately (specify false). In both cases the option values can be accessed using .opts().\n   *\n   * @param {boolean} [storeAsProperties=true]\n   * @return {Command} `this` command for chaining\n   */\n\n  storeOptionsAsProperties(storeAsProperties = true) {\n    if (this.options.length) {\n      throw new Error('call .storeOptionsAsProperties() before adding options');\n    }\n    if (Object.keys(this._optionValues).length) {\n      throw new Error(\n        'call .storeOptionsAsProperties() before setting option values',\n      );\n    }\n    this._storeOptionsAsProperties = !!storeAsProperties;\n    return this;\n  }\n\n  /**\n   * Retrieve option value.\n   *\n   * @param {string} key\n   * @return {object} value\n   */\n\n  getOptionValue(key) {\n    if (this._storeOptionsAsProperties) {\n      return this[key];\n    }\n    return this._optionValues[key];\n  }\n\n  /**\n   * Store option value.\n   *\n   * @param {string} key\n   * @param {object} value\n   * @return {Command} `this` command for chaining\n   */\n\n  setOptionValue(key, value) {\n    return this.setOptionValueWithSource(key, value, undefined);\n  }\n\n  /**\n   * Store option value and where the value came from.\n   *\n   * @param {string} key\n   * @param {object} value\n   * @param {string} source - expected values are default/config/env/cli/implied\n   * @return {Command} `this` command for chaining\n   */\n\n  setOptionValueWithSource(key, value, source) {\n    if (this._storeOptionsAsProperties) {\n      this[key] = value;\n    } else {\n      this._optionValues[key] = value;\n    }\n    this._optionValueSources[key] = source;\n    return this;\n  }\n\n  /**\n   * Get source of option value.\n   * Expected values are default | config | env | cli | implied\n   *\n   * @param {string} key\n   * @return {string}\n   */\n\n  getOptionValueSource(key) {\n    return this._optionValueSources[key];\n  }\n\n  /**\n   * Get source of option value. See also .optsWithGlobals().\n   * Expected values are default | config | env | cli | implied\n   *\n   * @param {string} key\n   * @return {string}\n   */\n\n  getOptionValueSourceWithGlobals(key) {\n    // global overwrites local, like optsWithGlobals\n    let source;\n    this._getCommandAndAncestors().forEach((cmd) => {\n      if (cmd.getOptionValueSource(key) !== undefined) {\n        source = cmd.getOptionValueSource(key);\n      }\n    });\n    return source;\n  }\n\n  /**\n   * Get user arguments from implied or explicit arguments.\n   * Side-effects: set _scriptPath if args included script. Used for default program name, and subcommand searches.\n   *\n   * @private\n   */\n\n  _prepareUserArgs(argv, parseOptions) {\n    if (argv !== undefined && !Array.isArray(argv)) {\n      throw new Error('first parameter to parse must be array or undefined');\n    }\n    parseOptions = parseOptions || {};\n\n    // auto-detect argument conventions if nothing supplied\n    if (argv === undefined && parseOptions.from === undefined) {\n      if (process.versions?.electron) {\n        parseOptions.from = 'electron';\n      }\n      // check node specific options for scenarios where user CLI args follow executable without scriptname\n      const execArgv = process.execArgv ?? [];\n      if (\n        execArgv.includes('-e') ||\n        execArgv.includes('--eval') ||\n        execArgv.includes('-p') ||\n        execArgv.includes('--print')\n      ) {\n        parseOptions.from = 'eval'; // internal usage, not documented\n      }\n    }\n\n    // default to using process.argv\n    if (argv === undefined) {\n      argv = process.argv;\n    }\n    this.rawArgs = argv.slice();\n\n    // extract the user args and scriptPath\n    let userArgs;\n    switch (parseOptions.from) {\n      case undefined:\n      case 'node':\n        this._scriptPath = argv[1];\n        userArgs = argv.slice(2);\n        break;\n      case 'electron':\n        // @ts-ignore: because defaultApp is an unknown property\n        if (process.defaultApp) {\n          this._scriptPath = argv[1];\n          userArgs = argv.slice(2);\n        } else {\n          userArgs = argv.slice(1);\n        }\n        break;\n      case 'user':\n        userArgs = argv.slice(0);\n        break;\n      case 'eval':\n        userArgs = argv.slice(1);\n        break;\n      default:\n        throw new Error(\n          `unexpected parse option { from: '${parseOptions.from}' }`,\n        );\n    }\n\n    // Find default name for program from arguments.\n    if (!this._name && this._scriptPath)\n      this.nameFromFilename(this._scriptPath);\n    this._name = this._name || 'program';\n\n    return userArgs;\n  }\n\n  /**\n   * Parse `argv`, setting options and invoking commands when defined.\n   *\n   * Use parseAsync instead of parse if any of your action handlers are async.\n   *\n   * Call with no parameters to parse `process.argv`. Detects Electron and special node options like `node --eval`. Easy mode!\n   *\n   * Or call with an array of strings to parse, and optionally where the user arguments start by specifying where the arguments are `from`:\n   * - `'node'`: default, `argv[0]` is the application and `argv[1]` is the script being run, with user arguments after that\n   * - `'electron'`: `argv[0]` is the application and `argv[1]` varies depending on whether the electron application is packaged\n   * - `'user'`: just user arguments\n   *\n   * @example\n   * program.parse(); // parse process.argv and auto-detect electron and special node flags\n   * program.parse(process.argv); // assume argv[0] is app and argv[1] is script\n   * program.parse(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]\n   *\n   * @param {string[]} [argv] - optional, defaults to process.argv\n   * @param {object} [parseOptions] - optionally specify style of options with from: node/user/electron\n   * @param {string} [parseOptions.from] - where the args are from: 'node', 'user', 'electron'\n   * @return {Command} `this` command for chaining\n   */\n\n  parse(argv, parseOptions) {\n    const userArgs = this._prepareUserArgs(argv, parseOptions);\n    this._parseCommand([], userArgs);\n\n    return this;\n  }\n\n  /**\n   * Parse `argv`, setting options and invoking commands when defined.\n   *\n   * Call with no parameters to parse `process.argv`. Detects Electron and special node options like `node --eval`. Easy mode!\n   *\n   * Or call with an array of strings to parse, and optionally where the user arguments start by specifying where the arguments are `from`:\n   * - `'node'`: default, `argv[0]` is the application and `argv[1]` is the script being run, with user arguments after that\n   * - `'electron'`: `argv[0]` is the application and `argv[1]` varies depending on whether the electron application is packaged\n   * - `'user'`: just user arguments\n   *\n   * @example\n   * await program.parseAsync(); // parse process.argv and auto-detect electron and special node flags\n   * await program.parseAsync(process.argv); // assume argv[0] is app and argv[1] is script\n   * await program.parseAsync(my-args, { from: 'user' }); // just user supplied arguments, nothing special about argv[0]\n   *\n   * @param {string[]} [argv]\n   * @param {object} [parseOptions]\n   * @param {string} parseOptions.from - where the args are from: 'node', 'user', 'electron'\n   * @return {Promise}\n   */\n\n  async parseAsync(argv, parseOptions) {\n    const userArgs = this._prepareUserArgs(argv, parseOptions);\n    await this._parseCommand([], userArgs);\n\n    return this;\n  }\n\n  /**\n   * Execute a sub-command executable.\n   *\n   * @private\n   */\n\n  _executeSubCommand(subcommand, args) {\n    args = args.slice();\n    let launchWithNode = false; // Use node for source targets so do not need to get permissions correct, and on Windows.\n    const sourceExt = ['.js', '.ts', '.tsx', '.mjs', '.cjs'];\n\n    function findFile(baseDir, baseName) {\n      // Look for specified file\n      const localBin = path.resolve(baseDir, baseName);\n      if (fs.existsSync(localBin)) return localBin;\n\n      // Stop looking if candidate already has an expected extension.\n      if (sourceExt.includes(path.extname(baseName))) return undefined;\n\n      // Try all the extensions.\n      const foundExt = sourceExt.find((ext) =>\n        fs.existsSync(`${localBin}${ext}`),\n      );\n      if (foundExt) return `${localBin}${foundExt}`;\n\n      return undefined;\n    }\n\n    // Not checking for help first. Unlikely to have mandatory and executable, and can't robustly test for help flags in external command.\n    this._checkForMissingMandatoryOptions();\n    this._checkForConflictingOptions();\n\n    // executableFile and executableDir might be full path, or just a name\n    let executableFile =\n      subcommand._executableFile || `${this._name}-${subcommand._name}`;\n    let executableDir = this._executableDir || '';\n    if (this._scriptPath) {\n      let resolvedScriptPath; // resolve possible symlink for installed npm binary\n      try {\n        resolvedScriptPath = fs.realpathSync(this._scriptPath);\n      } catch (err) {\n        resolvedScriptPath = this._scriptPath;\n      }\n      executableDir = path.resolve(\n        path.dirname(resolvedScriptPath),\n        executableDir,\n      );\n    }\n\n    // Look for a local file in preference to a command in PATH.\n    if (executableDir) {\n      let localFile = findFile(executableDir, executableFile);\n\n      // Legacy search using prefix of script name instead of command name\n      if (!localFile && !subcommand._executableFile && this._scriptPath) {\n        const legacyName = path.basename(\n          this._scriptPath,\n          path.extname(this._scriptPath),\n        );\n        if (legacyName !== this._name) {\n          localFile = findFile(\n            executableDir,\n            `${legacyName}-${subcommand._name}`,\n          );\n        }\n      }\n      executableFile = localFile || executableFile;\n    }\n\n    launchWithNode = sourceExt.includes(path.extname(executableFile));\n\n    let proc;\n    if (process.platform !== 'win32') {\n      if (launchWithNode) {\n        args.unshift(executableFile);\n        // add executable arguments to spawn\n        args = incrementNodeInspectorPort(process.execArgv).concat(args);\n\n        proc = childProcess.spawn(process.argv[0], args, { stdio: 'inherit' });\n      } else {\n        proc = childProcess.spawn(executableFile, args, { stdio: 'inherit' });\n      }\n    } else {\n      args.unshift(executableFile);\n      // add executable arguments to spawn\n      args = incrementNodeInspectorPort(process.execArgv).concat(args);\n      proc = childProcess.spawn(process.execPath, args, { stdio: 'inherit' });\n    }\n\n    if (!proc.killed) {\n      // testing mainly to avoid leak warnings during unit tests with mocked spawn\n      const signals = ['SIGUSR1', 'SIGUSR2', 'SIGTERM', 'SIGINT', 'SIGHUP'];\n      signals.forEach((signal) => {\n        process.on(signal, () => {\n          if (proc.killed === false && proc.exitCode === null) {\n            // @ts-ignore because signals not typed to known strings\n            proc.kill(signal);\n          }\n        });\n      });\n    }\n\n    // By default terminate process when spawned process terminates.\n    const exitCallback = this._exitCallback;\n    proc.on('close', (code) => {\n      code = code ?? 1; // code is null if spawned process terminated due to a signal\n      if (!exitCallback) {\n        process.exit(code);\n      } else {\n        exitCallback(\n          new CommanderError(\n            code,\n            'commander.executeSubCommandAsync',\n            '(close)',\n          ),\n        );\n      }\n    });\n    proc.on('error', (err) => {\n      // @ts-ignore: because err.code is an unknown property\n      if (err.code === 'ENOENT') {\n        const executableDirMessage = executableDir\n          ? `searched for local subcommand relative to directory '${executableDir}'`\n          : 'no directory for search for local subcommand, use .executableDir() to supply a custom directory';\n        const executableMissing = `'${executableFile}' does not exist\n - if '${subcommand._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${executableDirMessage}`;\n        throw new Error(executableMissing);\n        // @ts-ignore: because err.code is an unknown property\n      } else if (err.code === 'EACCES') {\n        throw new Error(`'${executableFile}' not executable`);\n      }\n      if (!exitCallback) {\n        process.exit(1);\n      } else {\n        const wrappedError = new CommanderError(\n          1,\n          'commander.executeSubCommandAsync',\n          '(error)',\n        );\n        wrappedError.nestedError = err;\n        exitCallback(wrappedError);\n      }\n    });\n\n    // Store the reference to the child process\n    this.runningCommand = proc;\n  }\n\n  /**\n   * @private\n   */\n\n  _dispatchSubcommand(commandName, operands, unknown) {\n    const subCommand = this._findCommand(commandName);\n    if (!subCommand) this.help({ error: true });\n\n    let promiseChain;\n    promiseChain = this._chainOrCallSubCommandHook(\n      promiseChain,\n      subCommand,\n      'preSubcommand',\n    );\n    promiseChain = this._chainOrCall(promiseChain, () => {\n      if (subCommand._executableHandler) {\n        this._executeSubCommand(subCommand, operands.concat(unknown));\n      } else {\n        return subCommand._parseCommand(operands, unknown);\n      }\n    });\n    return promiseChain;\n  }\n\n  /**\n   * Invoke help directly if possible, or dispatch if necessary.\n   * e.g. help foo\n   *\n   * @private\n   */\n\n  _dispatchHelpCommand(subcommandName) {\n    if (!subcommandName) {\n      this.help();\n    }\n    const subCommand = this._findCommand(subcommandName);\n    if (subCommand && !subCommand._executableHandler) {\n      subCommand.help();\n    }\n\n    // Fallback to parsing the help flag to invoke the help.\n    return this._dispatchSubcommand(\n      subcommandName,\n      [],\n      [this._getHelpOption()?.long ?? this._getHelpOption()?.short ?? '--help'],\n    );\n  }\n\n  /**\n   * Check this.args against expected this.registeredArguments.\n   *\n   * @private\n   */\n\n  _checkNumberOfArguments() {\n    // too few\n    this.registeredArguments.forEach((arg, i) => {\n      if (arg.required && this.args[i] == null) {\n        this.missingArgument(arg.name());\n      }\n    });\n    // too many\n    if (\n      this.registeredArguments.length > 0 &&\n      this.registeredArguments[this.registeredArguments.length - 1].variadic\n    ) {\n      return;\n    }\n    if (this.args.length > this.registeredArguments.length) {\n      this._excessArguments(this.args);\n    }\n  }\n\n  /**\n   * Process this.args using this.registeredArguments and save as this.processedArgs!\n   *\n   * @private\n   */\n\n  _processArguments() {\n    const myParseArg = (argument, value, previous) => {\n      // Extra processing for nice error message on parsing failure.\n      let parsedValue = value;\n      if (value !== null && argument.parseArg) {\n        const invalidValueMessage = `error: command-argument value '${value}' is invalid for argument '${argument.name()}'.`;\n        parsedValue = this._callParseArg(\n          argument,\n          value,\n          previous,\n          invalidValueMessage,\n        );\n      }\n      return parsedValue;\n    };\n\n    this._checkNumberOfArguments();\n\n    const processedArgs = [];\n    this.registeredArguments.forEach((declaredArg, index) => {\n      let value = declaredArg.defaultValue;\n      if (declaredArg.variadic) {\n        // Collect together remaining arguments for passing together as an array.\n        if (index < this.args.length) {\n          value = this.args.slice(index);\n          if (declaredArg.parseArg) {\n            value = value.reduce((processed, v) => {\n              return myParseArg(declaredArg, v, processed);\n            }, declaredArg.defaultValue);\n          }\n        } else if (value === undefined) {\n          value = [];\n        }\n      } else if (index < this.args.length) {\n        value = this.args[index];\n        if (declaredArg.parseArg) {\n          value = myParseArg(declaredArg, value, declaredArg.defaultValue);\n        }\n      }\n      processedArgs[index] = value;\n    });\n    this.processedArgs = processedArgs;\n  }\n\n  /**\n   * Once we have a promise we chain, but call synchronously until then.\n   *\n   * @param {(Promise|undefined)} promise\n   * @param {Function} fn\n   * @return {(Promise|undefined)}\n   * @private\n   */\n\n  _chainOrCall(promise, fn) {\n    // thenable\n    if (promise && promise.then && typeof promise.then === 'function') {\n      // already have a promise, chain callback\n      return promise.then(() => fn());\n    }\n    // callback might return a promise\n    return fn();\n  }\n\n  /**\n   *\n   * @param {(Promise|undefined)} promise\n   * @param {string} event\n   * @return {(Promise|undefined)}\n   * @private\n   */\n\n  _chainOrCallHooks(promise, event) {\n    let result = promise;\n    const hooks = [];\n    this._getCommandAndAncestors()\n      .reverse()\n      .filter((cmd) => cmd._lifeCycleHooks[event] !== undefined)\n      .forEach((hookedCommand) => {\n        hookedCommand._lifeCycleHooks[event].forEach((callback) => {\n          hooks.push({ hookedCommand, callback });\n        });\n      });\n    if (event === 'postAction') {\n      hooks.reverse();\n    }\n\n    hooks.forEach((hookDetail) => {\n      result = this._chainOrCall(result, () => {\n        return hookDetail.callback(hookDetail.hookedCommand, this);\n      });\n    });\n    return result;\n  }\n\n  /**\n   *\n   * @param {(Promise|undefined)} promise\n   * @param {Command} subCommand\n   * @param {string} event\n   * @return {(Promise|undefined)}\n   * @private\n   */\n\n  _chainOrCallSubCommandHook(promise, subCommand, event) {\n    let result = promise;\n    if (this._lifeCycleHooks[event] !== undefined) {\n      this._lifeCycleHooks[event].forEach((hook) => {\n        result = this._chainOrCall(result, () => {\n          return hook(this, subCommand);\n        });\n      });\n    }\n    return result;\n  }\n\n  /**\n   * Process arguments in context of this command.\n   * Returns action result, in case it is a promise.\n   *\n   * @private\n   */\n\n  _parseCommand(operands, unknown) {\n    const parsed = this.parseOptions(unknown);\n    this._parseOptionsEnv(); // after cli, so parseArg not called on both cli and env\n    this._parseOptionsImplied();\n    operands = operands.concat(parsed.operands);\n    unknown = parsed.unknown;\n    this.args = operands.concat(unknown);\n\n    if (operands && this._findCommand(operands[0])) {\n      return this._dispatchSubcommand(operands[0], operands.slice(1), unknown);\n    }\n    if (\n      this._getHelpCommand() &&\n      operands[0] === this._getHelpCommand().name()\n    ) {\n      return this._dispatchHelpCommand(operands[1]);\n    }\n    if (this._defaultCommandName) {\n      this._outputHelpIfRequested(unknown); // Run the help for default command from parent rather than passing to default command\n      return this._dispatchSubcommand(\n        this._defaultCommandName,\n        operands,\n        unknown,\n      );\n    }\n    if (\n      this.commands.length &&\n      this.args.length === 0 &&\n      !this._actionHandler &&\n      !this._defaultCommandName\n    ) {\n      // probably missing subcommand and no handler, user needs help (and exit)\n      this.help({ error: true });\n    }\n\n    this._outputHelpIfRequested(parsed.unknown);\n    this._checkForMissingMandatoryOptions();\n    this._checkForConflictingOptions();\n\n    // We do not always call this check to avoid masking a \"better\" error, like unknown command.\n    const checkForUnknownOptions = () => {\n      if (parsed.unknown.length > 0) {\n        this.unknownOption(parsed.unknown[0]);\n      }\n    };\n\n    const commandEvent = `command:${this.name()}`;\n    if (this._actionHandler) {\n      checkForUnknownOptions();\n      this._processArguments();\n\n      let promiseChain;\n      promiseChain = this._chainOrCallHooks(promiseChain, 'preAction');\n      promiseChain = this._chainOrCall(promiseChain, () =>\n        this._actionHandler(this.processedArgs),\n      );\n      if (this.parent) {\n        promiseChain = this._chainOrCall(promiseChain, () => {\n          this.parent.emit(commandEvent, operands, unknown); // legacy\n        });\n      }\n      promiseChain = this._chainOrCallHooks(promiseChain, 'postAction');\n      return promiseChain;\n    }\n    if (this.parent && this.parent.listenerCount(commandEvent)) {\n      checkForUnknownOptions();\n      this._processArguments();\n      this.parent.emit(commandEvent, operands, unknown); // legacy\n    } else if (operands.length) {\n      if (this._findCommand('*')) {\n        // legacy default command\n        return this._dispatchSubcommand('*', operands, unknown);\n      }\n      if (this.listenerCount('command:*')) {\n        // skip option check, emit event for possible misspelling suggestion\n        this.emit('command:*', operands, unknown);\n      } else if (this.commands.length) {\n        this.unknownCommand();\n      } else {\n        checkForUnknownOptions();\n        this._processArguments();\n      }\n    } else if (this.commands.length) {\n      checkForUnknownOptions();\n      // This command has subcommands and nothing hooked up at this level, so display help (and exit).\n      this.help({ error: true });\n    } else {\n      checkForUnknownOptions();\n      this._processArguments();\n      // fall through for caller to handle after calling .parse()\n    }\n  }\n\n  /**\n   * Find matching command.\n   *\n   * @private\n   * @return {Command | undefined}\n   */\n  _findCommand(name) {\n    if (!name) return undefined;\n    return this.commands.find(\n      (cmd) => cmd._name === name || cmd._aliases.includes(name),\n    );\n  }\n\n  /**\n   * Return an option matching `arg` if any.\n   *\n   * @param {string} arg\n   * @return {Option}\n   * @package\n   */\n\n  _findOption(arg) {\n    return this.options.find((option) => option.is(arg));\n  }\n\n  /**\n   * Display an error message if a mandatory option does not have a value.\n   * Called after checking for help flags in leaf subcommand.\n   *\n   * @private\n   */\n\n  _checkForMissingMandatoryOptions() {\n    // Walk up hierarchy so can call in subcommand after checking for displaying help.\n    this._getCommandAndAncestors().forEach((cmd) => {\n      cmd.options.forEach((anOption) => {\n        if (\n          anOption.mandatory &&\n          cmd.getOptionValue(anOption.attributeName()) === undefined\n        ) {\n          cmd.missingMandatoryOptionValue(anOption);\n        }\n      });\n    });\n  }\n\n  /**\n   * Display an error message if conflicting options are used together in this.\n   *\n   * @private\n   */\n  _checkForConflictingLocalOptions() {\n    const definedNonDefaultOptions = this.options.filter((option) => {\n      const optionKey = option.attributeName();\n      if (this.getOptionValue(optionKey) === undefined) {\n        return false;\n      }\n      return this.getOptionValueSource(optionKey) !== 'default';\n    });\n\n    const optionsWithConflicting = definedNonDefaultOptions.filter(\n      (option) => option.conflictsWith.length > 0,\n    );\n\n    optionsWithConflicting.forEach((option) => {\n      const conflictingAndDefined = definedNonDefaultOptions.find((defined) =>\n        option.conflictsWith.includes(defined.attributeName()),\n      );\n      if (conflictingAndDefined) {\n        this._conflictingOption(option, conflictingAndDefined);\n      }\n    });\n  }\n\n  /**\n   * Display an error message if conflicting options are used together.\n   * Called after checking for help flags in leaf subcommand.\n   *\n   * @private\n   */\n  _checkForConflictingOptions() {\n    // Walk up hierarchy so can call in subcommand after checking for displaying help.\n    this._getCommandAndAncestors().forEach((cmd) => {\n      cmd._checkForConflictingLocalOptions();\n    });\n  }\n\n  /**\n   * Parse options from `argv` removing known options,\n   * and return argv split into operands and unknown arguments.\n   *\n   * Examples:\n   *\n   *     argv => operands, unknown\n   *     --known kkk op => [op], []\n   *     op --known kkk => [op], []\n   *     sub --unknown uuu op => [sub], [--unknown uuu op]\n   *     sub -- --unknown uuu op => [sub --unknown uuu op], []\n   *\n   * @param {string[]} argv\n   * @return {{operands: string[], unknown: string[]}}\n   */\n\n  parseOptions(argv) {\n    const operands = []; // operands, not options or values\n    const unknown = []; // first unknown option and remaining unknown args\n    let dest = operands;\n    const args = argv.slice();\n\n    function maybeOption(arg) {\n      return arg.length > 1 && arg[0] === '-';\n    }\n\n    // parse options\n    let activeVariadicOption = null;\n    while (args.length) {\n      const arg = args.shift();\n\n      // literal\n      if (arg === '--') {\n        if (dest === unknown) dest.push(arg);\n        dest.push(...args);\n        break;\n      }\n\n      if (activeVariadicOption && !maybeOption(arg)) {\n        this.emit(`option:${activeVariadicOption.name()}`, arg);\n        continue;\n      }\n      activeVariadicOption = null;\n\n      if (maybeOption(arg)) {\n        const option = this._findOption(arg);\n        // recognised option, call listener to assign value with possible custom processing\n        if (option) {\n          if (option.required) {\n            const value = args.shift();\n            if (value === undefined) this.optionMissingArgument(option);\n            this.emit(`option:${option.name()}`, value);\n          } else if (option.optional) {\n            let value = null;\n            // historical behaviour is optional value is following arg unless an option\n            if (args.length > 0 && !maybeOption(args[0])) {\n              value = args.shift();\n            }\n            this.emit(`option:${option.name()}`, value);\n          } else {\n            // boolean flag\n            this.emit(`option:${option.name()}`);\n          }\n          activeVariadicOption = option.variadic ? option : null;\n          continue;\n        }\n      }\n\n      // Look for combo options following single dash, eat first one if known.\n      if (arg.length > 2 && arg[0] === '-' && arg[1] !== '-') {\n        const option = this._findOption(`-${arg[1]}`);\n        if (option) {\n          if (\n            option.required ||\n            (option.optional && this._combineFlagAndOptionalValue)\n          ) {\n            // option with value following in same argument\n            this.emit(`option:${option.name()}`, arg.slice(2));\n          } else {\n            // boolean option, emit and put back remainder of arg for further processing\n            this.emit(`option:${option.name()}`);\n            args.unshift(`-${arg.slice(2)}`);\n          }\n          continue;\n        }\n      }\n\n      // Look for known long flag with value, like --foo=bar\n      if (/^--[^=]+=/.test(arg)) {\n        const index = arg.indexOf('=');\n        const option = this._findOption(arg.slice(0, index));\n        if (option && (option.required || option.optional)) {\n          this.emit(`option:${option.name()}`, arg.slice(index + 1));\n          continue;\n        }\n      }\n\n      // Not a recognised option by this command.\n      // Might be a command-argument, or subcommand option, or unknown option, or help command or option.\n\n      // An unknown option means further arguments also classified as unknown so can be reprocessed by subcommands.\n      if (maybeOption(arg)) {\n        dest = unknown;\n      }\n\n      // If using positionalOptions, stop processing our options at subcommand.\n      if (\n        (this._enablePositionalOptions || this._passThroughOptions) &&\n        operands.length === 0 &&\n        unknown.length === 0\n      ) {\n        if (this._findCommand(arg)) {\n          operands.push(arg);\n          if (args.length > 0) unknown.push(...args);\n          break;\n        } else if (\n          this._getHelpCommand() &&\n          arg === this._getHelpCommand().name()\n        ) {\n          operands.push(arg);\n          if (args.length > 0) operands.push(...args);\n          break;\n        } else if (this._defaultCommandName) {\n          unknown.push(arg);\n          if (args.length > 0) unknown.push(...args);\n          break;\n        }\n      }\n\n      // If using passThroughOptions, stop processing options at first command-argument.\n      if (this._passThroughOptions) {\n        dest.push(arg);\n        if (args.length > 0) dest.push(...args);\n        break;\n      }\n\n      // add arg\n      dest.push(arg);\n    }\n\n    return { operands, unknown };\n  }\n\n  /**\n   * Return an object containing local option values as key-value pairs.\n   *\n   * @return {object}\n   */\n  opts() {\n    if (this._storeOptionsAsProperties) {\n      // Preserve original behaviour so backwards compatible when still using properties\n      const result = {};\n      const len = this.options.length;\n\n      for (let i = 0; i < len; i++) {\n        const key = this.options[i].attributeName();\n        result[key] =\n          key === this._versionOptionName ? this._version : this[key];\n      }\n      return result;\n    }\n\n    return this._optionValues;\n  }\n\n  /**\n   * Return an object containing merged local and global option values as key-value pairs.\n   *\n   * @return {object}\n   */\n  optsWithGlobals() {\n    // globals overwrite locals\n    return this._getCommandAndAncestors().reduce(\n      (combinedOptions, cmd) => Object.assign(combinedOptions, cmd.opts()),\n      {},\n    );\n  }\n\n  /**\n   * Display error message and exit (or call exitOverride).\n   *\n   * @param {string} message\n   * @param {object} [errorOptions]\n   * @param {string} [errorOptions.code] - an id string representing the error\n   * @param {number} [errorOptions.exitCode] - used with process.exit\n   */\n  error(message, errorOptions) {\n    // output handling\n    this._outputConfiguration.outputError(\n      `${message}\\n`,\n      this._outputConfiguration.writeErr,\n    );\n    if (typeof this._showHelpAfterError === 'string') {\n      this._outputConfiguration.writeErr(`${this._showHelpAfterError}\\n`);\n    } else if (this._showHelpAfterError) {\n      this._outputConfiguration.writeErr('\\n');\n      this.outputHelp({ error: true });\n    }\n\n    // exit handling\n    const config = errorOptions || {};\n    const exitCode = config.exitCode || 1;\n    const code = config.code || 'commander.error';\n    this._exit(exitCode, code, message);\n  }\n\n  /**\n   * Apply any option related environment variables, if option does\n   * not have a value from cli or client code.\n   *\n   * @private\n   */\n  _parseOptionsEnv() {\n    this.options.forEach((option) => {\n      if (option.envVar && option.envVar in process.env) {\n        const optionKey = option.attributeName();\n        // Priority check. Do not overwrite cli or options from unknown source (client-code).\n        if (\n          this.getOptionValue(optionKey) === undefined ||\n          ['default', 'config', 'env'].includes(\n            this.getOptionValueSource(optionKey),\n          )\n        ) {\n          if (option.required || option.optional) {\n            // option can take a value\n            // keep very simple, optional always takes value\n            this.emit(`optionEnv:${option.name()}`, process.env[option.envVar]);\n          } else {\n            // boolean\n            // keep very simple, only care that envVar defined and not the value\n            this.emit(`optionEnv:${option.name()}`);\n          }\n        }\n      }\n    });\n  }\n\n  /**\n   * Apply any implied option values, if option is undefined or default value.\n   *\n   * @private\n   */\n  _parseOptionsImplied() {\n    const dualHelper = new DualOptions(this.options);\n    const hasCustomOptionValue = (optionKey) => {\n      return (\n        this.getOptionValue(optionKey) !== undefined &&\n        !['default', 'implied'].includes(this.getOptionValueSource(optionKey))\n      );\n    };\n    this.options\n      .filter(\n        (option) =>\n          option.implied !== undefined &&\n          hasCustomOptionValue(option.attributeName()) &&\n          dualHelper.valueFromOption(\n            this.getOptionValue(option.attributeName()),\n            option,\n          ),\n      )\n      .forEach((option) => {\n        Object.keys(option.implied)\n          .filter((impliedKey) => !hasCustomOptionValue(impliedKey))\n          .forEach((impliedKey) => {\n            this.setOptionValueWithSource(\n              impliedKey,\n              option.implied[impliedKey],\n              'implied',\n            );\n          });\n      });\n  }\n\n  /**\n   * Argument `name` is missing.\n   *\n   * @param {string} name\n   * @private\n   */\n\n  missingArgument(name) {\n    const message = `error: missing required argument '${name}'`;\n    this.error(message, { code: 'commander.missingArgument' });\n  }\n\n  /**\n   * `Option` is missing an argument.\n   *\n   * @param {Option} option\n   * @private\n   */\n\n  optionMissingArgument(option) {\n    const message = `error: option '${option.flags}' argument missing`;\n    this.error(message, { code: 'commander.optionMissingArgument' });\n  }\n\n  /**\n   * `Option` does not have a value, and is a mandatory option.\n   *\n   * @param {Option} option\n   * @private\n   */\n\n  missingMandatoryOptionValue(option) {\n    const message = `error: required option '${option.flags}' not specified`;\n    this.error(message, { code: 'commander.missingMandatoryOptionValue' });\n  }\n\n  /**\n   * `Option` conflicts with another option.\n   *\n   * @param {Option} option\n   * @param {Option} conflictingOption\n   * @private\n   */\n  _conflictingOption(option, conflictingOption) {\n    // The calling code does not know whether a negated option is the source of the\n    // value, so do some work to take an educated guess.\n    const findBestOptionFromValue = (option) => {\n      const optionKey = option.attributeName();\n      const optionValue = this.getOptionValue(optionKey);\n      const negativeOption = this.options.find(\n        (target) => target.negate && optionKey === target.attributeName(),\n      );\n      const positiveOption = this.options.find(\n        (target) => !target.negate && optionKey === target.attributeName(),\n      );\n      if (\n        negativeOption &&\n        ((negativeOption.presetArg === undefined && optionValue === false) ||\n          (negativeOption.presetArg !== undefined &&\n            optionValue === negativeOption.presetArg))\n      ) {\n        return negativeOption;\n      }\n      return positiveOption || option;\n    };\n\n    const getErrorMessage = (option) => {\n      const bestOption = findBestOptionFromValue(option);\n      const optionKey = bestOption.attributeName();\n      const source = this.getOptionValueSource(optionKey);\n      if (source === 'env') {\n        return `environment variable '${bestOption.envVar}'`;\n      }\n      return `option '${bestOption.flags}'`;\n    };\n\n    const message = `error: ${getErrorMessage(option)} cannot be used with ${getErrorMessage(conflictingOption)}`;\n    this.error(message, { code: 'commander.conflictingOption' });\n  }\n\n  /**\n   * Unknown option `flag`.\n   *\n   * @param {string} flag\n   * @private\n   */\n\n  unknownOption(flag) {\n    if (this._allowUnknownOption) return;\n    let suggestion = '';\n\n    if (flag.startsWith('--') && this._showSuggestionAfterError) {\n      // Looping to pick up the global options too\n      let candidateFlags = [];\n      // eslint-disable-next-line @typescript-eslint/no-this-alias\n      let command = this;\n      do {\n        const moreFlags = command\n          .createHelp()\n          .visibleOptions(command)\n          .filter((option) => option.long)\n          .map((option) => option.long);\n        candidateFlags = candidateFlags.concat(moreFlags);\n        command = command.parent;\n      } while (command && !command._enablePositionalOptions);\n      suggestion = suggestSimilar(flag, candidateFlags);\n    }\n\n    const message = `error: unknown option '${flag}'${suggestion}`;\n    this.error(message, { code: 'commander.unknownOption' });\n  }\n\n  /**\n   * Excess arguments, more than expected.\n   *\n   * @param {string[]} receivedArgs\n   * @private\n   */\n\n  _excessArguments(receivedArgs) {\n    if (this._allowExcessArguments) return;\n\n    const expected = this.registeredArguments.length;\n    const s = expected === 1 ? '' : 's';\n    const forSubcommand = this.parent ? ` for '${this.name()}'` : '';\n    const message = `error: too many arguments${forSubcommand}. Expected ${expected} argument${s} but got ${receivedArgs.length}.`;\n    this.error(message, { code: 'commander.excessArguments' });\n  }\n\n  /**\n   * Unknown command.\n   *\n   * @private\n   */\n\n  unknownCommand() {\n    const unknownName = this.args[0];\n    let suggestion = '';\n\n    if (this._showSuggestionAfterError) {\n      const candidateNames = [];\n      this.createHelp()\n        .visibleCommands(this)\n        .forEach((command) => {\n          candidateNames.push(command.name());\n          // just visible alias\n          if (command.alias()) candidateNames.push(command.alias());\n        });\n      suggestion = suggestSimilar(unknownName, candidateNames);\n    }\n\n    const message = `error: unknown command '${unknownName}'${suggestion}`;\n    this.error(message, { code: 'commander.unknownCommand' });\n  }\n\n  /**\n   * Get or set the program version.\n   *\n   * This method auto-registers the \"-V, --version\" option which will print the version number.\n   *\n   * You can optionally supply the flags and description to override the defaults.\n   *\n   * @param {string} [str]\n   * @param {string} [flags]\n   * @param {string} [description]\n   * @return {(this | string | undefined)} `this` command for chaining, or version string if no arguments\n   */\n\n  version(str, flags, description) {\n    if (str === undefined) return this._version;\n    this._version = str;\n    flags = flags || '-V, --version';\n    description = description || 'output the version number';\n    const versionOption = this.createOption(flags, description);\n    this._versionOptionName = versionOption.attributeName();\n    this._registerOption(versionOption);\n\n    this.on('option:' + versionOption.name(), () => {\n      this._outputConfiguration.writeOut(`${str}\\n`);\n      this._exit(0, 'commander.version', str);\n    });\n    return this;\n  }\n\n  /**\n   * Set the description.\n   *\n   * @param {string} [str]\n   * @param {object} [argsDescription]\n   * @return {(string|Command)}\n   */\n  description(str, argsDescription) {\n    if (str === undefined && argsDescription === undefined)\n      return this._description;\n    this._description = str;\n    if (argsDescription) {\n      this._argsDescription = argsDescription;\n    }\n    return this;\n  }\n\n  /**\n   * Set the summary. Used when listed as subcommand of parent.\n   *\n   * @param {string} [str]\n   * @return {(string|Command)}\n   */\n  summary(str) {\n    if (str === undefined) return this._summary;\n    this._summary = str;\n    return this;\n  }\n\n  /**\n   * Set an alias for the command.\n   *\n   * You may call more than once to add multiple aliases. Only the first alias is shown in the auto-generated help.\n   *\n   * @param {string} [alias]\n   * @return {(string|Command)}\n   */\n\n  alias(alias) {\n    if (alias === undefined) return this._aliases[0]; // just return first, for backwards compatibility\n\n    /** @type {Command} */\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    let command = this;\n    if (\n      this.commands.length !== 0 &&\n      this.commands[this.commands.length - 1]._executableHandler\n    ) {\n      // assume adding alias for last added executable subcommand, rather than this\n      command = this.commands[this.commands.length - 1];\n    }\n\n    if (alias === command._name)\n      throw new Error(\"Command alias can't be the same as its name\");\n    const matchingCommand = this.parent?._findCommand(alias);\n    if (matchingCommand) {\n      // c.f. _registerCommand\n      const existingCmd = [matchingCommand.name()]\n        .concat(matchingCommand.aliases())\n        .join('|');\n      throw new Error(\n        `cannot add alias '${alias}' to command '${this.name()}' as already have command '${existingCmd}'`,\n      );\n    }\n\n    command._aliases.push(alias);\n    return this;\n  }\n\n  /**\n   * Set aliases for the command.\n   *\n   * Only the first alias is shown in the auto-generated help.\n   *\n   * @param {string[]} [aliases]\n   * @return {(string[]|Command)}\n   */\n\n  aliases(aliases) {\n    // Getter for the array of aliases is the main reason for having aliases() in addition to alias().\n    if (aliases === undefined) return this._aliases;\n\n    aliases.forEach((alias) => this.alias(alias));\n    return this;\n  }\n\n  /**\n   * Set / get the command usage `str`.\n   *\n   * @param {string} [str]\n   * @return {(string|Command)}\n   */\n\n  usage(str) {\n    if (str === undefined) {\n      if (this._usage) return this._usage;\n\n      const args = this.registeredArguments.map((arg) => {\n        return humanReadableArgName(arg);\n      });\n      return []\n        .concat(\n          this.options.length || this._helpOption !== null ? '[options]' : [],\n          this.commands.length ? '[command]' : [],\n          this.registeredArguments.length ? args : [],\n        )\n        .join(' ');\n    }\n\n    this._usage = str;\n    return this;\n  }\n\n  /**\n   * Get or set the name of the command.\n   *\n   * @param {string} [str]\n   * @return {(string|Command)}\n   */\n\n  name(str) {\n    if (str === undefined) return this._name;\n    this._name = str;\n    return this;\n  }\n\n  /**\n   * Set the name of the command from script filename, such as process.argv[1],\n   * or require.main.filename, or __filename.\n   *\n   * (Used internally and public although not documented in README.)\n   *\n   * @example\n   * program.nameFromFilename(require.main.filename);\n   *\n   * @param {string} filename\n   * @return {Command}\n   */\n\n  nameFromFilename(filename) {\n    this._name = path.basename(filename, path.extname(filename));\n\n    return this;\n  }\n\n  /**\n   * Get or set the directory for searching for executable subcommands of this command.\n   *\n   * @example\n   * program.executableDir(__dirname);\n   * // or\n   * program.executableDir('subcommands');\n   *\n   * @param {string} [path]\n   * @return {(string|null|Command)}\n   */\n\n  executableDir(path) {\n    if (path === undefined) return this._executableDir;\n    this._executableDir = path;\n    return this;\n  }\n\n  /**\n   * Return program help documentation.\n   *\n   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to wrap for stderr instead of stdout\n   * @return {string}\n   */\n\n  helpInformation(contextOptions) {\n    const helper = this.createHelp();\n    if (helper.helpWidth === undefined) {\n      helper.helpWidth =\n        contextOptions && contextOptions.error\n          ? this._outputConfiguration.getErrHelpWidth()\n          : this._outputConfiguration.getOutHelpWidth();\n    }\n    return helper.formatHelp(this, helper);\n  }\n\n  /**\n   * @private\n   */\n\n  _getHelpContext(contextOptions) {\n    contextOptions = contextOptions || {};\n    const context = { error: !!contextOptions.error };\n    let write;\n    if (context.error) {\n      write = (arg) => this._outputConfiguration.writeErr(arg);\n    } else {\n      write = (arg) => this._outputConfiguration.writeOut(arg);\n    }\n    context.write = contextOptions.write || write;\n    context.command = this;\n    return context;\n  }\n\n  /**\n   * Output help information for this command.\n   *\n   * Outputs built-in help, and custom text added using `.addHelpText()`.\n   *\n   * @param {{ error: boolean } | Function} [contextOptions] - pass {error:true} to write to stderr instead of stdout\n   */\n\n  outputHelp(contextOptions) {\n    let deprecatedCallback;\n    if (typeof contextOptions === 'function') {\n      deprecatedCallback = contextOptions;\n      contextOptions = undefined;\n    }\n    const context = this._getHelpContext(contextOptions);\n\n    this._getCommandAndAncestors()\n      .reverse()\n      .forEach((command) => command.emit('beforeAllHelp', context));\n    this.emit('beforeHelp', context);\n\n    let helpInformation = this.helpInformation(context);\n    if (deprecatedCallback) {\n      helpInformation = deprecatedCallback(helpInformation);\n      if (\n        typeof helpInformation !== 'string' &&\n        !Buffer.isBuffer(helpInformation)\n      ) {\n        throw new Error('outputHelp callback must return a string or a Buffer');\n      }\n    }\n    context.write(helpInformation);\n\n    if (this._getHelpOption()?.long) {\n      this.emit(this._getHelpOption().long); // deprecated\n    }\n    this.emit('afterHelp', context);\n    this._getCommandAndAncestors().forEach((command) =>\n      command.emit('afterAllHelp', context),\n    );\n  }\n\n  /**\n   * You can pass in flags and a description to customise the built-in help option.\n   * Pass in false to disable the built-in help option.\n   *\n   * @example\n   * program.helpOption('-?, --help' 'show help'); // customise\n   * program.helpOption(false); // disable\n   *\n   * @param {(string | boolean)} flags\n   * @param {string} [description]\n   * @return {Command} `this` command for chaining\n   */\n\n  helpOption(flags, description) {\n    // Support disabling built-in help option.\n    if (typeof flags === 'boolean') {\n      if (flags) {\n        this._helpOption = this._helpOption ?? undefined; // preserve existing option\n      } else {\n        this._helpOption = null; // disable\n      }\n      return this;\n    }\n\n    // Customise flags and description.\n    flags = flags ?? '-h, --help';\n    description = description ?? 'display help for command';\n    this._helpOption = this.createOption(flags, description);\n\n    return this;\n  }\n\n  /**\n   * Lazy create help option.\n   * Returns null if has been disabled with .helpOption(false).\n   *\n   * @returns {(Option | null)} the help option\n   * @package\n   */\n  _getHelpOption() {\n    // Lazy create help option on demand.\n    if (this._helpOption === undefined) {\n      this.helpOption(undefined, undefined);\n    }\n    return this._helpOption;\n  }\n\n  /**\n   * Supply your own option to use for the built-in help option.\n   * This is an alternative to using helpOption() to customise the flags and description etc.\n   *\n   * @param {Option} option\n   * @return {Command} `this` command for chaining\n   */\n  addHelpOption(option) {\n    this._helpOption = option;\n    return this;\n  }\n\n  /**\n   * Output help information and exit.\n   *\n   * Outputs built-in help, and custom text added using `.addHelpText()`.\n   *\n   * @param {{ error: boolean }} [contextOptions] - pass {error:true} to write to stderr instead of stdout\n   */\n\n  help(contextOptions) {\n    this.outputHelp(contextOptions);\n    let exitCode = process.exitCode || 0;\n    if (\n      exitCode === 0 &&\n      contextOptions &&\n      typeof contextOptions !== 'function' &&\n      contextOptions.error\n    ) {\n      exitCode = 1;\n    }\n    // message: do not have all displayed text available so only passing placeholder.\n    this._exit(exitCode, 'commander.help', '(outputHelp)');\n  }\n\n  /**\n   * Add additional text to be displayed with the built-in help.\n   *\n   * Position is 'before' or 'after' to affect just this command,\n   * and 'beforeAll' or 'afterAll' to affect this command and all its subcommands.\n   *\n   * @param {string} position - before or after built-in help\n   * @param {(string | Function)} text - string to add, or a function returning a string\n   * @return {Command} `this` command for chaining\n   */\n  addHelpText(position, text) {\n    const allowedValues = ['beforeAll', 'before', 'after', 'afterAll'];\n    if (!allowedValues.includes(position)) {\n      throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${allowedValues.join(\"', '\")}'`);\n    }\n    const helpEvent = `${position}Help`;\n    this.on(helpEvent, (context) => {\n      let helpStr;\n      if (typeof text === 'function') {\n        helpStr = text({ error: context.error, command: context.command });\n      } else {\n        helpStr = text;\n      }\n      // Ignore falsy value when nothing to output.\n      if (helpStr) {\n        context.write(`${helpStr}\\n`);\n      }\n    });\n    return this;\n  }\n\n  /**\n   * Output help information if help flags specified\n   *\n   * @param {Array} args - array of options to search for help flags\n   * @private\n   */\n\n  _outputHelpIfRequested(args) {\n    const helpOption = this._getHelpOption();\n    const helpRequested = helpOption && args.find((arg) => helpOption.is(arg));\n    if (helpRequested) {\n      this.outputHelp();\n      // (Do not have all displayed text available so only passing placeholder.)\n      this._exit(0, 'commander.helpDisplayed', '(outputHelp)');\n    }\n  }\n}\n\n/**\n * Scan arguments and increment port number for inspect calls (to avoid conflicts when spawning new command).\n *\n * @param {string[]} args - array of arguments from node.execArgv\n * @returns {string[]}\n * @private\n */\n\nfunction incrementNodeInspectorPort(args) {\n  // Testing for these options:\n  //  --inspect[=[host:]port]\n  //  --inspect-brk[=[host:]port]\n  //  --inspect-port=[host:]port\n  return args.map((arg) => {\n    if (!arg.startsWith('--inspect')) {\n      return arg;\n    }\n    let debugOption;\n    let debugHost = '127.0.0.1';\n    let debugPort = '9229';\n    let match;\n    if ((match = arg.match(/^(--inspect(-brk)?)$/)) !== null) {\n      // e.g. --inspect\n      debugOption = match[1];\n    } else if (\n      (match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+)$/)) !== null\n    ) {\n      debugOption = match[1];\n      if (/^\\d+$/.test(match[3])) {\n        // e.g. --inspect=1234\n        debugPort = match[3];\n      } else {\n        // e.g. --inspect=localhost\n        debugHost = match[3];\n      }\n    } else if (\n      (match = arg.match(/^(--inspect(-brk|-port)?)=([^:]+):(\\d+)$/)) !== null\n    ) {\n      // e.g. --inspect=localhost:1234\n      debugOption = match[1];\n      debugHost = match[3];\n      debugPort = match[4];\n    }\n\n    if (debugOption && debugPort !== '0') {\n      return `${debugOption}=${debugHost}:${parseInt(debugPort) + 1}`;\n    }\n    return arg;\n  });\n}\n\nexports.Command = Command;\n","const { Argument } = require('./lib/argument.js');\nconst { Command } = require('./lib/command.js');\nconst { CommanderError, InvalidArgumentError } = require('./lib/error.js');\nconst { Help } = require('./lib/help.js');\nconst { Option } = require('./lib/option.js');\n\nexports.program = new Command();\n\nexports.createCommand = (name) => new Command(name);\nexports.createOption = (flags, description) => new Option(flags, description);\nexports.createArgument = (name, description) => new Argument(name, description);\n\n/**\n * Expose classes\n */\n\nexports.Command = Command;\nexports.Option = Option;\nexports.Argument = Argument;\nexports.Help = Help;\n\nexports.CommanderError = CommanderError;\nexports.InvalidArgumentError = InvalidArgumentError;\nexports.InvalidOptionArgumentError = InvalidArgumentError; // Deprecated\n","import commander from './index.js';\n\n// wrapper to provide named exports for ESM.\nexport const {\n  program,\n  createCommand,\n  createArgument,\n  createOption,\n  CommanderError,\n  InvalidArgumentError,\n  InvalidOptionArgumentError, // deprecated old name\n  Command,\n  Argument,\n  Option,\n  Help,\n} = commander;\n","const fs = require('fs')\nconst path = require('path')\nconst os = require('os')\nconst crypto = require('crypto')\nconst packageJson = require('../package.json')\n\nconst version = packageJson.version\n\nconst LINE = /(?:^|^)\\s*(?:export\\s+)?([\\w.-]+)(?:\\s*=\\s*?|:\\s+?)(\\s*'(?:\\\\'|[^'])*'|\\s*\"(?:\\\\\"|[^\"])*\"|\\s*`(?:\\\\`|[^`])*`|[^#\\r\\n]+)?\\s*(?:#.*)?(?:$|$)/mg\n\n// Parse src into an Object\nfunction parse (src) {\n  const obj = {}\n\n  // Convert buffer to string\n  let lines = src.toString()\n\n  // Convert line breaks to same format\n  lines = lines.replace(/\\r\\n?/mg, '\\n')\n\n  let match\n  while ((match = LINE.exec(lines)) != null) {\n    const key = match[1]\n\n    // Default undefined or null to empty string\n    let value = (match[2] || '')\n\n    // Remove whitespace\n    value = value.trim()\n\n    // Check if double quoted\n    const maybeQuote = value[0]\n\n    // Remove surrounding quotes\n    value = value.replace(/^(['\"`])([\\s\\S]*)\\1$/mg, '$2')\n\n    // Expand newlines if double quoted\n    if (maybeQuote === '\"') {\n      value = value.replace(/\\\\n/g, '\\n')\n      value = value.replace(/\\\\r/g, '\\r')\n    }\n\n    // Add to object\n    obj[key] = value\n  }\n\n  return obj\n}\n\nfunction _parseVault (options) {\n  options = options || {}\n\n  const vaultPath = _vaultPath(options)\n  options.path = vaultPath // parse .env.vault\n  const result = DotenvModule.configDotenv(options)\n  if (!result.parsed) {\n    const err = new Error(`MISSING_DATA: Cannot parse ${vaultPath} for an unknown reason`)\n    err.code = 'MISSING_DATA'\n    throw err\n  }\n\n  // handle scenario for comma separated keys - for use with key rotation\n  // example: DOTENV_KEY=\"dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=prod,dotenv://:key_7890@dotenvx.com/vault/.env.vault?environment=prod\"\n  const keys = _dotenvKey(options).split(',')\n  const length = keys.length\n\n  let decrypted\n  for (let i = 0; i < length; i++) {\n    try {\n      // Get full key\n      const key = keys[i].trim()\n\n      // Get instructions for decrypt\n      const attrs = _instructions(result, key)\n\n      // Decrypt\n      decrypted = DotenvModule.decrypt(attrs.ciphertext, attrs.key)\n\n      break\n    } catch (error) {\n      // last key\n      if (i + 1 >= length) {\n        throw error\n      }\n      // try next key\n    }\n  }\n\n  // Parse decrypted .env string\n  return DotenvModule.parse(decrypted)\n}\n\nfunction _warn (message) {\n  console.log(`[dotenv@${version}][WARN] ${message}`)\n}\n\nfunction _debug (message) {\n  console.log(`[dotenv@${version}][DEBUG] ${message}`)\n}\n\nfunction _log (message) {\n  console.log(`[dotenv@${version}] ${message}`)\n}\n\nfunction _dotenvKey (options) {\n  // prioritize developer directly setting options.DOTENV_KEY\n  if (options && options.DOTENV_KEY && options.DOTENV_KEY.length > 0) {\n    return options.DOTENV_KEY\n  }\n\n  // secondary infra already contains a DOTENV_KEY environment variable\n  if (process.env.DOTENV_KEY && process.env.DOTENV_KEY.length > 0) {\n    return process.env.DOTENV_KEY\n  }\n\n  // fallback to empty string\n  return ''\n}\n\nfunction _instructions (result, dotenvKey) {\n  // Parse DOTENV_KEY. Format is a URI\n  let uri\n  try {\n    uri = new URL(dotenvKey)\n  } catch (error) {\n    if (error.code === 'ERR_INVALID_URL') {\n      const err = new Error('INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development')\n      err.code = 'INVALID_DOTENV_KEY'\n      throw err\n    }\n\n    throw error\n  }\n\n  // Get decrypt key\n  const key = uri.password\n  if (!key) {\n    const err = new Error('INVALID_DOTENV_KEY: Missing key part')\n    err.code = 'INVALID_DOTENV_KEY'\n    throw err\n  }\n\n  // Get environment\n  const environment = uri.searchParams.get('environment')\n  if (!environment) {\n    const err = new Error('INVALID_DOTENV_KEY: Missing environment part')\n    err.code = 'INVALID_DOTENV_KEY'\n    throw err\n  }\n\n  // Get ciphertext payload\n  const environmentKey = `DOTENV_VAULT_${environment.toUpperCase()}`\n  const ciphertext = result.parsed[environmentKey] // DOTENV_VAULT_PRODUCTION\n  if (!ciphertext) {\n    const err = new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${environmentKey} in your .env.vault file.`)\n    err.code = 'NOT_FOUND_DOTENV_ENVIRONMENT'\n    throw err\n  }\n\n  return { ciphertext, key }\n}\n\nfunction _vaultPath (options) {\n  let possibleVaultPath = null\n\n  if (options && options.path && options.path.length > 0) {\n    if (Array.isArray(options.path)) {\n      for (const filepath of options.path) {\n        if (fs.existsSync(filepath)) {\n          possibleVaultPath = filepath.endsWith('.vault') ? filepath : `${filepath}.vault`\n        }\n      }\n    } else {\n      possibleVaultPath = options.path.endsWith('.vault') ? options.path : `${options.path}.vault`\n    }\n  } else {\n    possibleVaultPath = path.resolve(process.cwd(), '.env.vault')\n  }\n\n  if (fs.existsSync(possibleVaultPath)) {\n    return possibleVaultPath\n  }\n\n  return null\n}\n\nfunction _resolveHome (envPath) {\n  return envPath[0] === '~' ? path.join(os.homedir(), envPath.slice(1)) : envPath\n}\n\nfunction _configVault (options) {\n  const debug = Boolean(options && options.debug)\n  const quiet = options && 'quiet' in options ? options.quiet : true\n\n  if (debug || !quiet) {\n    _log('Loading env from encrypted .env.vault')\n  }\n\n  const parsed = DotenvModule._parseVault(options)\n\n  let processEnv = process.env\n  if (options && options.processEnv != null) {\n    processEnv = options.processEnv\n  }\n\n  DotenvModule.populate(processEnv, parsed, options)\n\n  return { parsed }\n}\n\nfunction configDotenv (options) {\n  const dotenvPath = path.resolve(process.cwd(), '.env')\n  let encoding = 'utf8'\n  const debug = Boolean(options && options.debug)\n  const quiet = options && 'quiet' in options ? options.quiet : true\n\n  if (options && options.encoding) {\n    encoding = options.encoding\n  } else {\n    if (debug) {\n      _debug('No encoding is specified. UTF-8 is used by default')\n    }\n  }\n\n  let optionPaths = [dotenvPath] // default, look for .env\n  if (options && options.path) {\n    if (!Array.isArray(options.path)) {\n      optionPaths = [_resolveHome(options.path)]\n    } else {\n      optionPaths = [] // reset default\n      for (const filepath of options.path) {\n        optionPaths.push(_resolveHome(filepath))\n      }\n    }\n  }\n\n  // Build the parsed data in a temporary object (because we need to return it).  Once we have the final\n  // parsed data, we will combine it with process.env (or options.processEnv if provided).\n  let lastError\n  const parsedAll = {}\n  for (const path of optionPaths) {\n    try {\n      // Specifying an encoding returns a string instead of a buffer\n      const parsed = DotenvModule.parse(fs.readFileSync(path, { encoding }))\n\n      DotenvModule.populate(parsedAll, parsed, options)\n    } catch (e) {\n      if (debug) {\n        _debug(`Failed to load ${path} ${e.message}`)\n      }\n      lastError = e\n    }\n  }\n\n  let processEnv = process.env\n  if (options && options.processEnv != null) {\n    processEnv = options.processEnv\n  }\n\n  DotenvModule.populate(processEnv, parsedAll, options)\n\n  if (debug || !quiet) {\n    const keysCount = Object.keys(parsedAll).length\n    const shortPaths = []\n    for (const filePath of optionPaths) {\n      try {\n        const relative = path.relative(process.cwd(), filePath)\n        shortPaths.push(relative)\n      } catch (e) {\n        if (debug) {\n          _debug(`Failed to load ${filePath} ${e.message}`)\n        }\n        lastError = e\n      }\n    }\n\n    _log(`injecting env (${keysCount}) from ${shortPaths.join(',')}`)\n  }\n\n  if (lastError) {\n    return { parsed: parsedAll, error: lastError }\n  } else {\n    return { parsed: parsedAll }\n  }\n}\n\n// Populates process.env from .env file\nfunction config (options) {\n  // fallback to original dotenv if DOTENV_KEY is not set\n  if (_dotenvKey(options).length === 0) {\n    return DotenvModule.configDotenv(options)\n  }\n\n  const vaultPath = _vaultPath(options)\n\n  // dotenvKey exists but .env.vault file does not exist\n  if (!vaultPath) {\n    _warn(`You set DOTENV_KEY but you are missing a .env.vault file at ${vaultPath}. Did you forget to build it?`)\n\n    return DotenvModule.configDotenv(options)\n  }\n\n  return DotenvModule._configVault(options)\n}\n\nfunction decrypt (encrypted, keyStr) {\n  const key = Buffer.from(keyStr.slice(-64), 'hex')\n  let ciphertext = Buffer.from(encrypted, 'base64')\n\n  const nonce = ciphertext.subarray(0, 12)\n  const authTag = ciphertext.subarray(-16)\n  ciphertext = ciphertext.subarray(12, -16)\n\n  try {\n    const aesgcm = crypto.createDecipheriv('aes-256-gcm', key, nonce)\n    aesgcm.setAuthTag(authTag)\n    return `${aesgcm.update(ciphertext)}${aesgcm.final()}`\n  } catch (error) {\n    const isRange = error instanceof RangeError\n    const invalidKeyLength = error.message === 'Invalid key length'\n    const decryptionFailed = error.message === 'Unsupported state or unable to authenticate data'\n\n    if (isRange || invalidKeyLength) {\n      const err = new Error('INVALID_DOTENV_KEY: It must be 64 characters long (or more)')\n      err.code = 'INVALID_DOTENV_KEY'\n      throw err\n    } else if (decryptionFailed) {\n      const err = new Error('DECRYPTION_FAILED: Please check your DOTENV_KEY')\n      err.code = 'DECRYPTION_FAILED'\n      throw err\n    } else {\n      throw error\n    }\n  }\n}\n\n// Populate process.env with parsed values\nfunction populate (processEnv, parsed, options = {}) {\n  const debug = Boolean(options && options.debug)\n  const override = Boolean(options && options.override)\n\n  if (typeof parsed !== 'object') {\n    const err = new Error('OBJECT_REQUIRED: Please check the processEnv argument being passed to populate')\n    err.code = 'OBJECT_REQUIRED'\n    throw err\n  }\n\n  // Set process.env\n  for (const key of Object.keys(parsed)) {\n    if (Object.prototype.hasOwnProperty.call(processEnv, key)) {\n      if (override === true) {\n        processEnv[key] = parsed[key]\n      }\n\n      if (debug) {\n        if (override === true) {\n          _debug(`\"${key}\" is already defined and WAS overwritten`)\n        } else {\n          _debug(`\"${key}\" is already defined and was NOT overwritten`)\n        }\n      }\n    } else {\n      processEnv[key] = parsed[key]\n    }\n  }\n}\n\nconst DotenvModule = {\n  configDotenv,\n  _configVault,\n  _parseVault,\n  config,\n  decrypt,\n  parse,\n  populate\n}\n\nmodule.exports.configDotenv = DotenvModule.configDotenv\nmodule.exports._configVault = DotenvModule._configVault\nmodule.exports._parseVault = DotenvModule._parseVault\nmodule.exports.config = DotenvModule.config\nmodule.exports.decrypt = DotenvModule.decrypt\nmodule.exports.parse = DotenvModule.parse\nmodule.exports.populate = DotenvModule.populate\n\nmodule.exports = DotenvModule\n","import { Logger } from '@/types'\nimport type { FormatterPlugin, InputPlugin, OutputPlugin, Plugin } from '@/types/plugins'\nimport { logger } from '@/utils/logger'\nimport fs from 'node:fs/promises'\nimport path from 'node:path'\nimport { fileURLToPath, pathToFileURL } from 'node:url'\nimport type { z } from 'zod/v4'\n\nconst pluginFileExtensions = new Set(['.ts', '.tsx', '.js', '.mjs', '.cjs'])\n\ntype AnyPlugin = Plugin<z.ZodTypeAny>\n\ntype PluginModule = { default?: AnyPlugin }\n\nconst pluginCapabilities = ['input', 'formatter', 'output'] as const\ntype PluginCapability = (typeof pluginCapabilities)[number]\n\ntype PluginEntry = {\n  capabilities: PluginCapability[]\n  plugin: AnyPlugin\n}\n\nexport class PluginRegistry {\n  private plugins = new Map<string, PluginEntry>()\n\n  constructor(private logger: Logger) {}\n  async init() {\n    await this.loadPlugins()\n  }\n\n  private isPluginLike(maybe: unknown): maybe is AnyPlugin {\n    if (!maybe || typeof maybe !== 'object') {\n      return false\n    }\n    return (\n      typeof (maybe as Partial<AnyPlugin>).name === 'string' &&\n      Boolean((maybe as Partial<AnyPlugin>).configSchema) &&\n      typeof (maybe as Partial<AnyPlugin>).parseConfig === 'function'\n    )\n  }\n\n  private async loadPlugins(): Promise<Record<string, PluginEntry>> {\n    const baseDir = path.resolve(path.dirname(fileURLToPath(import.meta.url)))\n\n    const collectPluginFiles = async (dir: string): Promise<string[]> => {\n      const entries = await fs.readdir(dir, { withFileTypes: true })\n      const files: string[] = []\n\n      for (const entry of entries) {\n        const fullPath = path.join(dir, entry.name)\n        if (entry.isDirectory()) {\n          files.push(...(await collectPluginFiles(fullPath)))\n          continue\n        }\n        if (pluginFileExtensions.has(path.extname(entry.name))) {\n          files.push(fullPath)\n        }\n      }\n\n      return files\n    }\n\n    this.logger.info(`Loading plugins from filesystem: ${baseDir}`)\n    const files = await collectPluginFiles(baseDir)\n    const registry: Record<string, PluginEntry> = {}\n\n    for (const file of files) {\n      const mod = (await import(pathToFileURL(file).href)) as PluginModule\n      const plugin = mod?.default\n      if (this.isPluginLike(plugin)) {\n        const pluginEntry: PluginEntry = this.register(plugin)\n\n        this.logger.info(\n          `Loaded plugin: ${pluginEntry.plugin.name}, capabilities: ${pluginEntry.capabilities.join(', ')}`,\n        )\n      }\n    }\n\n    return registry\n  }\n\n  private getPluginCapabilities(plugin: AnyPlugin): PluginCapability[] {\n    const capabilities: PluginCapability[] = []\n    if (plugin.retrieve) {\n      capabilities.push('input' as const)\n    }\n    if (plugin.format) {\n      capabilities.push('formatter' as const)\n    }\n    if (plugin.output) {\n      capabilities.push('output' as const)\n    }\n    return capabilities\n  }\n  register(plugin: AnyPlugin): PluginEntry {\n    if (this.plugins.has(plugin.name)) {\n      throw new Error(`Plugin already registered: ${plugin.name}`)\n    }\n\n    const entry: PluginEntry = {\n      capabilities: this.getPluginCapabilities(plugin),\n      plugin,\n    }\n    this.plugins.set(plugin.name, entry)\n    return entry\n  }\n\n  checkHaveCapability(name: string, capability: PluginCapability): boolean {\n    const entry = this.plugins.get(name)\n    if (!entry) {\n      throw new Error(`Unknown plugin: ${name}`)\n    }\n    return entry.capabilities.includes(capability)\n  }\n\n  get(name: string): AnyPlugin {\n    const plugin = this.plugins.get(name)\n\n    if (!plugin) {\n      throw new Error(`Unknown plugin: ${name}`)\n    }\n    return plugin.plugin\n  }\n}\n\n/** Singleton instance */\nlet registryInstance: PluginRegistry | null = null\nexport const getPluginRegistry = async (): Promise<PluginRegistry> => {\n  if (registryInstance) {\n    return registryInstance\n  }\n\n  const registry = new PluginRegistry(logger)\n  await registry.init()\n  registryInstance = registry\n  return registry\n}\n\nexport const isInputPlugin = (plugin: unknown): plugin is InputPlugin => {\n  return (\n    !!plugin &&\n    typeof plugin === 'object' &&\n    typeof (plugin as Partial<{ retrieve: unknown }>).retrieve === 'function'\n  )\n}\n\nexport const isFormatterPlugin = (plugin: unknown): plugin is FormatterPlugin => {\n  return (\n    !!plugin &&\n    typeof plugin === 'object' &&\n    typeof (plugin as Partial<{ format: unknown }>).format === 'function'\n  )\n}\n\nexport const isOutputPlugin = (plugin: unknown): plugin is OutputPlugin => {\n  return (\n    !!plugin &&\n    typeof plugin === 'object' &&\n    typeof (plugin as Partial<{ output: unknown }>).output === 'function'\n  )\n}\n","// src/errors/ai-sdk-error.ts\nvar marker = \"vercel.ai.error\";\nvar symbol = Symbol.for(marker);\nvar _a, _b;\nvar AISDKError = class _AISDKError extends (_b = Error, _a = symbol, _b) {\n  /**\n   * Creates an AI SDK Error.\n   *\n   * @param {Object} params - The parameters for creating the error.\n   * @param {string} params.name - The name of the error.\n   * @param {string} params.message - The error message.\n   * @param {unknown} [params.cause] - The underlying cause of the error.\n   */\n  constructor({\n    name: name14,\n    message,\n    cause\n  }) {\n    super(message);\n    this[_a] = true;\n    this.name = name14;\n    this.cause = cause;\n  }\n  /**\n   * Checks if the given error is an AI SDK Error.\n   * @param {unknown} error - The error to check.\n   * @returns {boolean} True if the error is an AI SDK Error, false otherwise.\n   */\n  static isInstance(error) {\n    return _AISDKError.hasMarker(error, marker);\n  }\n  static hasMarker(error, marker15) {\n    const markerSymbol = Symbol.for(marker15);\n    return error != null && typeof error === \"object\" && markerSymbol in error && typeof error[markerSymbol] === \"boolean\" && error[markerSymbol] === true;\n  }\n};\n\n// src/errors/api-call-error.ts\nvar name = \"AI_APICallError\";\nvar marker2 = `vercel.ai.error.${name}`;\nvar symbol2 = Symbol.for(marker2);\nvar _a2, _b2;\nvar APICallError = class extends (_b2 = AISDKError, _a2 = symbol2, _b2) {\n  constructor({\n    message,\n    url,\n    requestBodyValues,\n    statusCode,\n    responseHeaders,\n    responseBody,\n    cause,\n    isRetryable = statusCode != null && (statusCode === 408 || // request timeout\n    statusCode === 409 || // conflict\n    statusCode === 429 || // too many requests\n    statusCode >= 500),\n    // server error\n    data\n  }) {\n    super({ name, message, cause });\n    this[_a2] = true;\n    this.url = url;\n    this.requestBodyValues = requestBodyValues;\n    this.statusCode = statusCode;\n    this.responseHeaders = responseHeaders;\n    this.responseBody = responseBody;\n    this.isRetryable = isRetryable;\n    this.data = data;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker2);\n  }\n};\n\n// src/errors/empty-response-body-error.ts\nvar name2 = \"AI_EmptyResponseBodyError\";\nvar marker3 = `vercel.ai.error.${name2}`;\nvar symbol3 = Symbol.for(marker3);\nvar _a3, _b3;\nvar EmptyResponseBodyError = class extends (_b3 = AISDKError, _a3 = symbol3, _b3) {\n  // used in isInstance\n  constructor({ message = \"Empty response body\" } = {}) {\n    super({ name: name2, message });\n    this[_a3] = true;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker3);\n  }\n};\n\n// src/errors/get-error-message.ts\nfunction getErrorMessage(error) {\n  if (error == null) {\n    return \"unknown error\";\n  }\n  if (typeof error === \"string\") {\n    return error;\n  }\n  if (error instanceof Error) {\n    return error.message;\n  }\n  return JSON.stringify(error);\n}\n\n// src/errors/invalid-argument-error.ts\nvar name3 = \"AI_InvalidArgumentError\";\nvar marker4 = `vercel.ai.error.${name3}`;\nvar symbol4 = Symbol.for(marker4);\nvar _a4, _b4;\nvar InvalidArgumentError = class extends (_b4 = AISDKError, _a4 = symbol4, _b4) {\n  constructor({\n    message,\n    cause,\n    argument\n  }) {\n    super({ name: name3, message, cause });\n    this[_a4] = true;\n    this.argument = argument;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker4);\n  }\n};\n\n// src/errors/invalid-prompt-error.ts\nvar name4 = \"AI_InvalidPromptError\";\nvar marker5 = `vercel.ai.error.${name4}`;\nvar symbol5 = Symbol.for(marker5);\nvar _a5, _b5;\nvar InvalidPromptError = class extends (_b5 = AISDKError, _a5 = symbol5, _b5) {\n  constructor({\n    prompt,\n    message,\n    cause\n  }) {\n    super({ name: name4, message: `Invalid prompt: ${message}`, cause });\n    this[_a5] = true;\n    this.prompt = prompt;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker5);\n  }\n};\n\n// src/errors/invalid-response-data-error.ts\nvar name5 = \"AI_InvalidResponseDataError\";\nvar marker6 = `vercel.ai.error.${name5}`;\nvar symbol6 = Symbol.for(marker6);\nvar _a6, _b6;\nvar InvalidResponseDataError = class extends (_b6 = AISDKError, _a6 = symbol6, _b6) {\n  constructor({\n    data,\n    message = `Invalid response data: ${JSON.stringify(data)}.`\n  }) {\n    super({ name: name5, message });\n    this[_a6] = true;\n    this.data = data;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker6);\n  }\n};\n\n// src/errors/json-parse-error.ts\nvar name6 = \"AI_JSONParseError\";\nvar marker7 = `vercel.ai.error.${name6}`;\nvar symbol7 = Symbol.for(marker7);\nvar _a7, _b7;\nvar JSONParseError = class extends (_b7 = AISDKError, _a7 = symbol7, _b7) {\n  constructor({ text, cause }) {\n    super({\n      name: name6,\n      message: `JSON parsing failed: Text: ${text}.\nError message: ${getErrorMessage(cause)}`,\n      cause\n    });\n    this[_a7] = true;\n    this.text = text;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker7);\n  }\n};\n\n// src/errors/load-api-key-error.ts\nvar name7 = \"AI_LoadAPIKeyError\";\nvar marker8 = `vercel.ai.error.${name7}`;\nvar symbol8 = Symbol.for(marker8);\nvar _a8, _b8;\nvar LoadAPIKeyError = class extends (_b8 = AISDKError, _a8 = symbol8, _b8) {\n  // used in isInstance\n  constructor({ message }) {\n    super({ name: name7, message });\n    this[_a8] = true;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker8);\n  }\n};\n\n// src/errors/load-setting-error.ts\nvar name8 = \"AI_LoadSettingError\";\nvar marker9 = `vercel.ai.error.${name8}`;\nvar symbol9 = Symbol.for(marker9);\nvar _a9, _b9;\nvar LoadSettingError = class extends (_b9 = AISDKError, _a9 = symbol9, _b9) {\n  // used in isInstance\n  constructor({ message }) {\n    super({ name: name8, message });\n    this[_a9] = true;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker9);\n  }\n};\n\n// src/errors/no-content-generated-error.ts\nvar name9 = \"AI_NoContentGeneratedError\";\nvar marker10 = `vercel.ai.error.${name9}`;\nvar symbol10 = Symbol.for(marker10);\nvar _a10, _b10;\nvar NoContentGeneratedError = class extends (_b10 = AISDKError, _a10 = symbol10, _b10) {\n  // used in isInstance\n  constructor({\n    message = \"No content generated.\"\n  } = {}) {\n    super({ name: name9, message });\n    this[_a10] = true;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker10);\n  }\n};\n\n// src/errors/no-such-model-error.ts\nvar name10 = \"AI_NoSuchModelError\";\nvar marker11 = `vercel.ai.error.${name10}`;\nvar symbol11 = Symbol.for(marker11);\nvar _a11, _b11;\nvar NoSuchModelError = class extends (_b11 = AISDKError, _a11 = symbol11, _b11) {\n  constructor({\n    errorName = name10,\n    modelId,\n    modelType,\n    message = `No such ${modelType}: ${modelId}`\n  }) {\n    super({ name: errorName, message });\n    this[_a11] = true;\n    this.modelId = modelId;\n    this.modelType = modelType;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker11);\n  }\n};\n\n// src/errors/too-many-embedding-values-for-call-error.ts\nvar name11 = \"AI_TooManyEmbeddingValuesForCallError\";\nvar marker12 = `vercel.ai.error.${name11}`;\nvar symbol12 = Symbol.for(marker12);\nvar _a12, _b12;\nvar TooManyEmbeddingValuesForCallError = class extends (_b12 = AISDKError, _a12 = symbol12, _b12) {\n  constructor(options) {\n    super({\n      name: name11,\n      message: `Too many values for a single embedding call. The ${options.provider} model \"${options.modelId}\" can only embed up to ${options.maxEmbeddingsPerCall} values per call, but ${options.values.length} values were provided.`\n    });\n    this[_a12] = true;\n    this.provider = options.provider;\n    this.modelId = options.modelId;\n    this.maxEmbeddingsPerCall = options.maxEmbeddingsPerCall;\n    this.values = options.values;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker12);\n  }\n};\n\n// src/errors/type-validation-error.ts\nvar name12 = \"AI_TypeValidationError\";\nvar marker13 = `vercel.ai.error.${name12}`;\nvar symbol13 = Symbol.for(marker13);\nvar _a13, _b13;\nvar TypeValidationError = class _TypeValidationError extends (_b13 = AISDKError, _a13 = symbol13, _b13) {\n  constructor({ value, cause }) {\n    super({\n      name: name12,\n      message: `Type validation failed: Value: ${JSON.stringify(value)}.\nError message: ${getErrorMessage(cause)}`,\n      cause\n    });\n    this[_a13] = true;\n    this.value = value;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker13);\n  }\n  /**\n   * Wraps an error into a TypeValidationError.\n   * If the cause is already a TypeValidationError with the same value, it returns the cause.\n   * Otherwise, it creates a new TypeValidationError.\n   *\n   * @param {Object} params - The parameters for wrapping the error.\n   * @param {unknown} params.value - The value that failed validation.\n   * @param {unknown} params.cause - The original error or cause of the validation failure.\n   * @returns {TypeValidationError} A TypeValidationError instance.\n   */\n  static wrap({\n    value,\n    cause\n  }) {\n    return _TypeValidationError.isInstance(cause) && cause.value === value ? cause : new _TypeValidationError({ value, cause });\n  }\n};\n\n// src/errors/unsupported-functionality-error.ts\nvar name13 = \"AI_UnsupportedFunctionalityError\";\nvar marker14 = `vercel.ai.error.${name13}`;\nvar symbol14 = Symbol.for(marker14);\nvar _a14, _b14;\nvar UnsupportedFunctionalityError = class extends (_b14 = AISDKError, _a14 = symbol14, _b14) {\n  constructor({\n    functionality,\n    message = `'${functionality}' functionality not supported.`\n  }) {\n    super({ name: name13, message });\n    this[_a14] = true;\n    this.functionality = functionality;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker14);\n  }\n};\n\n// src/json-value/is-json.ts\nfunction isJSONValue(value) {\n  if (value === null || typeof value === \"string\" || typeof value === \"number\" || typeof value === \"boolean\") {\n    return true;\n  }\n  if (Array.isArray(value)) {\n    return value.every(isJSONValue);\n  }\n  if (typeof value === \"object\") {\n    return Object.entries(value).every(\n      ([key, val]) => typeof key === \"string\" && (val === void 0 || isJSONValue(val))\n    );\n  }\n  return false;\n}\nfunction isJSONArray(value) {\n  return Array.isArray(value) && value.every(isJSONValue);\n}\nfunction isJSONObject(value) {\n  return value != null && typeof value === \"object\" && Object.entries(value).every(\n    ([key, val]) => typeof key === \"string\" && (val === void 0 || isJSONValue(val))\n  );\n}\nexport {\n  AISDKError,\n  APICallError,\n  EmptyResponseBodyError,\n  InvalidArgumentError,\n  InvalidPromptError,\n  InvalidResponseDataError,\n  JSONParseError,\n  LoadAPIKeyError,\n  LoadSettingError,\n  NoContentGeneratedError,\n  NoSuchModelError,\n  TooManyEmbeddingValuesForCallError,\n  TypeValidationError,\n  UnsupportedFunctionalityError,\n  getErrorMessage,\n  isJSONArray,\n  isJSONObject,\n  isJSONValue\n};\n//# sourceMappingURL=index.mjs.map","/** A special constant with type `never` */\nexport const NEVER = Object.freeze({\n    status: \"aborted\",\n});\nexport /*@__NO_SIDE_EFFECTS__*/ function $constructor(name, initializer, params) {\n    function init(inst, def) {\n        if (!inst._zod) {\n            Object.defineProperty(inst, \"_zod\", {\n                value: {\n                    def,\n                    constr: _,\n                    traits: new Set(),\n                },\n                enumerable: false,\n            });\n        }\n        if (inst._zod.traits.has(name)) {\n            return;\n        }\n        inst._zod.traits.add(name);\n        initializer(inst, def);\n        // support prototype modifications\n        const proto = _.prototype;\n        const keys = Object.keys(proto);\n        for (let i = 0; i < keys.length; i++) {\n            const k = keys[i];\n            if (!(k in inst)) {\n                inst[k] = proto[k].bind(inst);\n            }\n        }\n    }\n    // doesn't work if Parent has a constructor with arguments\n    const Parent = params?.Parent ?? Object;\n    class Definition extends Parent {\n    }\n    Object.defineProperty(Definition, \"name\", { value: name });\n    function _(def) {\n        var _a;\n        const inst = params?.Parent ? new Definition() : this;\n        init(inst, def);\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        for (const fn of inst._zod.deferred) {\n            fn();\n        }\n        return inst;\n    }\n    Object.defineProperty(_, \"init\", { value: init });\n    Object.defineProperty(_, Symbol.hasInstance, {\n        value: (inst) => {\n            if (params?.Parent && inst instanceof params.Parent)\n                return true;\n            return inst?._zod?.traits?.has(name);\n        },\n    });\n    Object.defineProperty(_, \"name\", { value: name });\n    return _;\n}\n//////////////////////////////   UTILITIES   ///////////////////////////////////////\nexport const $brand = Symbol(\"zod_brand\");\nexport class $ZodAsyncError extends Error {\n    constructor() {\n        super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);\n    }\n}\nexport class $ZodEncodeError extends Error {\n    constructor(name) {\n        super(`Encountered unidirectional transform during encode: ${name}`);\n        this.name = \"ZodEncodeError\";\n    }\n}\nexport const globalConfig = {};\nexport function config(newConfig) {\n    if (newConfig)\n        Object.assign(globalConfig, newConfig);\n    return globalConfig;\n}\n","// functions\nexport function assertEqual(val) {\n    return val;\n}\nexport function assertNotEqual(val) {\n    return val;\n}\nexport function assertIs(_arg) { }\nexport function assertNever(_x) {\n    throw new Error(\"Unexpected value in exhaustive check\");\n}\nexport function assert(_) { }\nexport function getEnumValues(entries) {\n    const numericValues = Object.values(entries).filter((v) => typeof v === \"number\");\n    const values = Object.entries(entries)\n        .filter(([k, _]) => numericValues.indexOf(+k) === -1)\n        .map(([_, v]) => v);\n    return values;\n}\nexport function joinValues(array, separator = \"|\") {\n    return array.map((val) => stringifyPrimitive(val)).join(separator);\n}\nexport function jsonStringifyReplacer(_, value) {\n    if (typeof value === \"bigint\")\n        return value.toString();\n    return value;\n}\nexport function cached(getter) {\n    const set = false;\n    return {\n        get value() {\n            if (!set) {\n                const value = getter();\n                Object.defineProperty(this, \"value\", { value });\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n    };\n}\nexport function nullish(input) {\n    return input === null || input === undefined;\n}\nexport function cleanRegex(source) {\n    const start = source.startsWith(\"^\") ? 1 : 0;\n    const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n    return source.slice(start, end);\n}\nexport function floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepString = step.toString();\n    let stepDecCount = (stepString.split(\".\")[1] || \"\").length;\n    if (stepDecCount === 0 && /\\d?e-\\d?/.test(stepString)) {\n        const match = stepString.match(/\\d?e-(\\d?)/);\n        if (match?.[1]) {\n            stepDecCount = Number.parseInt(match[1]);\n        }\n    }\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nconst EVALUATING = Symbol(\"evaluating\");\nexport function defineLazy(object, key, getter) {\n    let value = undefined;\n    Object.defineProperty(object, key, {\n        get() {\n            if (value === EVALUATING) {\n                // Circular reference detected, return undefined to break the cycle\n                return undefined;\n            }\n            if (value === undefined) {\n                value = EVALUATING;\n                value = getter();\n            }\n            return value;\n        },\n        set(v) {\n            Object.defineProperty(object, key, {\n                value: v,\n                // configurable: true,\n            });\n            // object[key] = v;\n        },\n        configurable: true,\n    });\n}\nexport function objectClone(obj) {\n    return Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));\n}\nexport function assignProp(target, prop, value) {\n    Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n    });\n}\nexport function mergeDefs(...defs) {\n    const mergedDescriptors = {};\n    for (const def of defs) {\n        const descriptors = Object.getOwnPropertyDescriptors(def);\n        Object.assign(mergedDescriptors, descriptors);\n    }\n    return Object.defineProperties({}, mergedDescriptors);\n}\nexport function cloneDef(schema) {\n    return mergeDefs(schema._zod.def);\n}\nexport function getElementAtPath(obj, path) {\n    if (!path)\n        return obj;\n    return path.reduce((acc, key) => acc?.[key], obj);\n}\nexport function promiseAllObject(promisesObj) {\n    const keys = Object.keys(promisesObj);\n    const promises = keys.map((key) => promisesObj[key]);\n    return Promise.all(promises).then((results) => {\n        const resolvedObj = {};\n        for (let i = 0; i < keys.length; i++) {\n            resolvedObj[keys[i]] = results[i];\n        }\n        return resolvedObj;\n    });\n}\nexport function randomString(length = 10) {\n    const chars = \"abcdefghijklmnopqrstuvwxyz\";\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\nexport function esc(str) {\n    return JSON.stringify(str);\n}\nexport function slugify(input) {\n    return input\n        .toLowerCase()\n        .trim()\n        .replace(/[^\\w\\s-]/g, \"\")\n        .replace(/[\\s_-]+/g, \"-\")\n        .replace(/^-+|-+$/g, \"\");\n}\nexport const captureStackTrace = (\"captureStackTrace\" in Error ? Error.captureStackTrace : (..._args) => { });\nexport function isObject(data) {\n    return typeof data === \"object\" && data !== null && !Array.isArray(data);\n}\nexport const allowsEval = cached(() => {\n    // @ts-ignore\n    if (typeof navigator !== \"undefined\" && navigator?.userAgent?.includes(\"Cloudflare\")) {\n        return false;\n    }\n    try {\n        const F = Function;\n        new F(\"\");\n        return true;\n    }\n    catch (_) {\n        return false;\n    }\n});\nexport function isPlainObject(o) {\n    if (isObject(o) === false)\n        return false;\n    // modified constructor\n    const ctor = o.constructor;\n    if (ctor === undefined)\n        return true;\n    if (typeof ctor !== \"function\")\n        return true;\n    // modified prototype\n    const prot = ctor.prototype;\n    if (isObject(prot) === false)\n        return false;\n    // ctor doesn't have static `isPrototypeOf`\n    if (Object.prototype.hasOwnProperty.call(prot, \"isPrototypeOf\") === false) {\n        return false;\n    }\n    return true;\n}\nexport function shallowClone(o) {\n    if (isPlainObject(o))\n        return { ...o };\n    if (Array.isArray(o))\n        return [...o];\n    return o;\n}\nexport function numKeys(data) {\n    let keyCount = 0;\n    for (const key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n            keyCount++;\n        }\n    }\n    return keyCount;\n}\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return \"undefined\";\n        case \"string\":\n            return \"string\";\n        case \"number\":\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        case \"boolean\":\n            return \"boolean\";\n        case \"function\":\n            return \"function\";\n        case \"bigint\":\n            return \"bigint\";\n        case \"symbol\":\n            return \"symbol\";\n        case \"object\":\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return \"promise\";\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return \"map\";\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return \"set\";\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return \"date\";\n            }\n            // @ts-ignore\n            if (typeof File !== \"undefined\" && data instanceof File) {\n                return \"file\";\n            }\n            return \"object\";\n        default:\n            throw new Error(`Unknown data type: ${t}`);\n    }\n};\nexport const propertyKeyTypes = new Set([\"string\", \"number\", \"symbol\"]);\nexport const primitiveTypes = new Set([\"string\", \"number\", \"bigint\", \"boolean\", \"symbol\", \"undefined\"]);\nexport function escapeRegex(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n// zod-specific utils\nexport function clone(inst, def, params) {\n    const cl = new inst._zod.constr(def ?? inst._zod.def);\n    if (!def || params?.parent)\n        cl._zod.parent = inst;\n    return cl;\n}\nexport function normalizeParams(_params) {\n    const params = _params;\n    if (!params)\n        return {};\n    if (typeof params === \"string\")\n        return { error: () => params };\n    if (params?.message !== undefined) {\n        if (params?.error !== undefined)\n            throw new Error(\"Cannot specify both `message` and `error` params\");\n        params.error = params.message;\n    }\n    delete params.message;\n    if (typeof params.error === \"string\")\n        return { ...params, error: () => params.error };\n    return params;\n}\nexport function createTransparentProxy(getter) {\n    let target;\n    return new Proxy({}, {\n        get(_, prop, receiver) {\n            target ?? (target = getter());\n            return Reflect.get(target, prop, receiver);\n        },\n        set(_, prop, value, receiver) {\n            target ?? (target = getter());\n            return Reflect.set(target, prop, value, receiver);\n        },\n        has(_, prop) {\n            target ?? (target = getter());\n            return Reflect.has(target, prop);\n        },\n        deleteProperty(_, prop) {\n            target ?? (target = getter());\n            return Reflect.deleteProperty(target, prop);\n        },\n        ownKeys(_) {\n            target ?? (target = getter());\n            return Reflect.ownKeys(target);\n        },\n        getOwnPropertyDescriptor(_, prop) {\n            target ?? (target = getter());\n            return Reflect.getOwnPropertyDescriptor(target, prop);\n        },\n        defineProperty(_, prop, descriptor) {\n            target ?? (target = getter());\n            return Reflect.defineProperty(target, prop, descriptor);\n        },\n    });\n}\nexport function stringifyPrimitive(value) {\n    if (typeof value === \"bigint\")\n        return value.toString() + \"n\";\n    if (typeof value === \"string\")\n        return `\"${value}\"`;\n    return `${value}`;\n}\nexport function optionalKeys(shape) {\n    return Object.keys(shape).filter((k) => {\n        return shape[k]._zod.optin === \"optional\" && shape[k]._zod.optout === \"optional\";\n    });\n}\nexport const NUMBER_FORMAT_RANGES = {\n    safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],\n    int32: [-2147483648, 2147483647],\n    uint32: [0, 4294967295],\n    float32: [-3.4028234663852886e38, 3.4028234663852886e38],\n    float64: [-Number.MAX_VALUE, Number.MAX_VALUE],\n};\nexport const BIGINT_FORMAT_RANGES = {\n    int64: [/* @__PURE__*/ BigInt(\"-9223372036854775808\"), /* @__PURE__*/ BigInt(\"9223372036854775807\")],\n    uint64: [/* @__PURE__*/ BigInt(0), /* @__PURE__*/ BigInt(\"18446744073709551615\")],\n};\nexport function pick(schema, mask) {\n    const currDef = schema._zod.def;\n    const checks = currDef.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        throw new Error(\".pick() cannot be used on object schemas containing refinements\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = {};\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                newShape[key] = currDef.shape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function omit(schema, mask) {\n    const currDef = schema._zod.def;\n    const checks = currDef.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        throw new Error(\".omit() cannot be used on object schemas containing refinements\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = { ...schema._zod.def.shape };\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                delete newShape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function extend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to extend: expected a plain object\");\n    }\n    const checks = schema._zod.def.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        // Only throw if new shape overlaps with existing shape\n        // Use getOwnPropertyDescriptor to check key existence without accessing values\n        const existingShape = schema._zod.def.shape;\n        for (const key in shape) {\n            if (Object.getOwnPropertyDescriptor(existingShape, key) !== undefined) {\n                throw new Error(\"Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.\");\n            }\n        }\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n    });\n    return clone(schema, def);\n}\nexport function safeExtend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to safeExtend: expected a plain object\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n    });\n    return clone(schema, def);\n}\nexport function merge(a, b) {\n    const def = mergeDefs(a._zod.def, {\n        get shape() {\n            const _shape = { ...a._zod.def.shape, ...b._zod.def.shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        get catchall() {\n            return b._zod.def.catchall;\n        },\n        checks: [], // delete existing checks\n    });\n    return clone(a, def);\n}\nexport function partial(Class, schema, mask) {\n    const currDef = schema._zod.def;\n    const checks = currDef.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        throw new Error(\".partial() cannot be used on object schemas containing refinements\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in oldShape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function required(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in shape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n    });\n    return clone(schema, def);\n}\n// invalid_type | too_big | too_small | invalid_format | not_multiple_of | unrecognized_keys | invalid_union | invalid_key | invalid_element | invalid_value | custom\nexport function aborted(x, startIndex = 0) {\n    if (x.aborted === true)\n        return true;\n    for (let i = startIndex; i < x.issues.length; i++) {\n        if (x.issues[i]?.continue !== true) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function prefixIssues(path, issues) {\n    return issues.map((iss) => {\n        var _a;\n        (_a = iss).path ?? (_a.path = []);\n        iss.path.unshift(path);\n        return iss;\n    });\n}\nexport function unwrapMessage(message) {\n    return typeof message === \"string\" ? message : message?.message;\n}\nexport function finalizeIssue(iss, ctx, config) {\n    const full = { ...iss, path: iss.path ?? [] };\n    // for backwards compatibility\n    if (!iss.message) {\n        const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ??\n            unwrapMessage(ctx?.error?.(iss)) ??\n            unwrapMessage(config.customError?.(iss)) ??\n            unwrapMessage(config.localeError?.(iss)) ??\n            \"Invalid input\";\n        full.message = message;\n    }\n    // delete (full as any).def;\n    delete full.inst;\n    delete full.continue;\n    if (!ctx?.reportInput) {\n        delete full.input;\n    }\n    return full;\n}\nexport function getSizableOrigin(input) {\n    if (input instanceof Set)\n        return \"set\";\n    if (input instanceof Map)\n        return \"map\";\n    // @ts-ignore\n    if (input instanceof File)\n        return \"file\";\n    return \"unknown\";\n}\nexport function getLengthableOrigin(input) {\n    if (Array.isArray(input))\n        return \"array\";\n    if (typeof input === \"string\")\n        return \"string\";\n    return \"unknown\";\n}\nexport function parsedType(data) {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        }\n        case \"object\": {\n            if (data === null) {\n                return \"null\";\n            }\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            const obj = data;\n            if (obj && Object.getPrototypeOf(obj) !== Object.prototype && \"constructor\" in obj && obj.constructor) {\n                return obj.constructor.name;\n            }\n        }\n    }\n    return t;\n}\nexport function issue(...args) {\n    const [iss, input, inst] = args;\n    if (typeof iss === \"string\") {\n        return {\n            message: iss,\n            code: \"custom\",\n            input,\n            inst,\n        };\n    }\n    return { ...iss };\n}\nexport function cleanEnum(obj) {\n    return Object.entries(obj)\n        .filter(([k, _]) => {\n        // return true if NaN, meaning it's not a number, thus a string key\n        return Number.isNaN(Number.parseInt(k, 10));\n    })\n        .map((el) => el[1]);\n}\n// Codec utility functions\nexport function base64ToUint8Array(base64) {\n    const binaryString = atob(base64);\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes;\n}\nexport function uint8ArrayToBase64(bytes) {\n    let binaryString = \"\";\n    for (let i = 0; i < bytes.length; i++) {\n        binaryString += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binaryString);\n}\nexport function base64urlToUint8Array(base64url) {\n    const base64 = base64url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const padding = \"=\".repeat((4 - (base64.length % 4)) % 4);\n    return base64ToUint8Array(base64 + padding);\n}\nexport function uint8ArrayToBase64url(bytes) {\n    return uint8ArrayToBase64(bytes).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n}\nexport function hexToUint8Array(hex) {\n    const cleanHex = hex.replace(/^0x/, \"\");\n    if (cleanHex.length % 2 !== 0) {\n        throw new Error(\"Invalid hex string length\");\n    }\n    const bytes = new Uint8Array(cleanHex.length / 2);\n    for (let i = 0; i < cleanHex.length; i += 2) {\n        bytes[i / 2] = Number.parseInt(cleanHex.slice(i, i + 2), 16);\n    }\n    return bytes;\n}\nexport function uint8ArrayToHex(bytes) {\n    return Array.from(bytes)\n        .map((b) => b.toString(16).padStart(2, \"0\"))\n        .join(\"\");\n}\n// instanceof\nexport class Class {\n    constructor(..._args) { }\n}\n","import { $constructor } from \"./core.js\";\nimport * as util from \"./util.js\";\nconst initializer = (inst, def) => {\n    inst.name = \"$ZodError\";\n    Object.defineProperty(inst, \"_zod\", {\n        value: inst._zod,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"issues\", {\n        value: def,\n        enumerable: false,\n    });\n    inst.message = JSON.stringify(def, util.jsonStringifyReplacer, 2);\n    Object.defineProperty(inst, \"toString\", {\n        value: () => inst.message,\n        enumerable: false,\n    });\n};\nexport const $ZodError = $constructor(\"$ZodError\", initializer);\nexport const $ZodRealError = $constructor(\"$ZodError\", initializer, { Parent: Error });\nexport function flattenError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of error.issues) {\n        if (sub.path.length > 0) {\n            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n            fieldErrors[sub.path[0]].push(mapper(sub));\n        }\n        else {\n            formErrors.push(mapper(sub));\n        }\n    }\n    return { formErrors, fieldErrors };\n}\nexport function formatError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = { _errors: [] };\n    const processError = (error) => {\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                issue.errors.map((issues) => processError({ issues }));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.path.length === 0) {\n                fieldErrors._errors.push(mapper(issue));\n            }\n            else {\n                let curr = fieldErrors;\n                let i = 0;\n                while (i < issue.path.length) {\n                    const el = issue.path[i];\n                    const terminal = i === issue.path.length - 1;\n                    if (!terminal) {\n                        curr[el] = curr[el] || { _errors: [] };\n                    }\n                    else {\n                        curr[el] = curr[el] || { _errors: [] };\n                        curr[el]._errors.push(mapper(issue));\n                    }\n                    curr = curr[el];\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return fieldErrors;\n}\nexport function treeifyError(error, mapper = (issue) => issue.message) {\n    const result = { errors: [] };\n    const processError = (error, path = []) => {\n        var _a, _b;\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                // regular union error\n                issue.errors.map((issues) => processError({ issues }, issue.path));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else {\n                const fullpath = [...path, ...issue.path];\n                if (fullpath.length === 0) {\n                    result.errors.push(mapper(issue));\n                    continue;\n                }\n                let curr = result;\n                let i = 0;\n                while (i < fullpath.length) {\n                    const el = fullpath[i];\n                    const terminal = i === fullpath.length - 1;\n                    if (typeof el === \"string\") {\n                        curr.properties ?? (curr.properties = {});\n                        (_a = curr.properties)[el] ?? (_a[el] = { errors: [] });\n                        curr = curr.properties[el];\n                    }\n                    else {\n                        curr.items ?? (curr.items = []);\n                        (_b = curr.items)[el] ?? (_b[el] = { errors: [] });\n                        curr = curr.items[el];\n                    }\n                    if (terminal) {\n                        curr.errors.push(mapper(issue));\n                    }\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return result;\n}\n/** Format a ZodError as a human-readable string in the following form.\n *\n * From\n *\n * ```ts\n * ZodError {\n *   issues: [\n *     {\n *       expected: 'string',\n *       code: 'invalid_type',\n *       path: [ 'username' ],\n *       message: 'Invalid input: expected string'\n *     },\n *     {\n *       expected: 'number',\n *       code: 'invalid_type',\n *       path: [ 'favoriteNumbers', 1 ],\n *       message: 'Invalid input: expected number'\n *     }\n *   ];\n * }\n * ```\n *\n * to\n *\n * ```\n * username\n *   ‚úñ Expected number, received string at \"username\n * favoriteNumbers[0]\n *   ‚úñ Invalid input: expected number\n * ```\n */\nexport function toDotPath(_path) {\n    const segs = [];\n    const path = _path.map((seg) => (typeof seg === \"object\" ? seg.key : seg));\n    for (const seg of path) {\n        if (typeof seg === \"number\")\n            segs.push(`[${seg}]`);\n        else if (typeof seg === \"symbol\")\n            segs.push(`[${JSON.stringify(String(seg))}]`);\n        else if (/[^\\w$]/.test(seg))\n            segs.push(`[${JSON.stringify(seg)}]`);\n        else {\n            if (segs.length)\n                segs.push(\".\");\n            segs.push(seg);\n        }\n    }\n    return segs.join(\"\");\n}\nexport function prettifyError(error) {\n    const lines = [];\n    // sort by path length\n    const issues = [...error.issues].sort((a, b) => (a.path ?? []).length - (b.path ?? []).length);\n    // Process each issue\n    for (const issue of issues) {\n        lines.push(`‚úñ ${issue.message}`);\n        if (issue.path?.length)\n            lines.push(`  ‚Üí at ${toDotPath(issue.path)}`);\n    }\n    // Convert Map to formatted string\n    return lines.join(\"\\n\");\n}\n","import * as core from \"./core.js\";\nimport * as errors from \"./errors.js\";\nimport * as util from \"./util.js\";\nexport const _parse = (_Err) => (schema, value, _ctx, _params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    if (result.issues.length) {\n        const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, _params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parse = /* @__PURE__*/ _parse(errors.$ZodRealError);\nexport const _parseAsync = (_Err) => async (schema, value, _ctx, params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    if (result.issues.length) {\n        const e = new (params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parseAsync = /* @__PURE__*/ _parseAsync(errors.$ZodRealError);\nexport const _safeParse = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? { ..._ctx, async: false } : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    return result.issues.length\n        ? {\n            success: false,\n            error: new (_Err ?? errors.$ZodError)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParse = /* @__PURE__*/ _safeParse(errors.$ZodRealError);\nexport const _safeParseAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    return result.issues.length\n        ? {\n            success: false,\n            error: new _Err(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParseAsync = /* @__PURE__*/ _safeParseAsync(errors.$ZodRealError);\nexport const _encode = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _parse(_Err)(schema, value, ctx);\n};\nexport const encode = /* @__PURE__*/ _encode(errors.$ZodRealError);\nexport const _decode = (_Err) => (schema, value, _ctx) => {\n    return _parse(_Err)(schema, value, _ctx);\n};\nexport const decode = /* @__PURE__*/ _decode(errors.$ZodRealError);\nexport const _encodeAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _parseAsync(_Err)(schema, value, ctx);\n};\nexport const encodeAsync = /* @__PURE__*/ _encodeAsync(errors.$ZodRealError);\nexport const _decodeAsync = (_Err) => async (schema, value, _ctx) => {\n    return _parseAsync(_Err)(schema, value, _ctx);\n};\nexport const decodeAsync = /* @__PURE__*/ _decodeAsync(errors.$ZodRealError);\nexport const _safeEncode = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _safeParse(_Err)(schema, value, ctx);\n};\nexport const safeEncode = /* @__PURE__*/ _safeEncode(errors.$ZodRealError);\nexport const _safeDecode = (_Err) => (schema, value, _ctx) => {\n    return _safeParse(_Err)(schema, value, _ctx);\n};\nexport const safeDecode = /* @__PURE__*/ _safeDecode(errors.$ZodRealError);\nexport const _safeEncodeAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _safeParseAsync(_Err)(schema, value, ctx);\n};\nexport const safeEncodeAsync = /* @__PURE__*/ _safeEncodeAsync(errors.$ZodRealError);\nexport const _safeDecodeAsync = (_Err) => async (schema, value, _ctx) => {\n    return _safeParseAsync(_Err)(schema, value, _ctx);\n};\nexport const safeDecodeAsync = /* @__PURE__*/ _safeDecodeAsync(errors.$ZodRealError);\n","import * as util from \"./util.js\";\nexport const cuid = /^[cC][^\\s-]{8,}$/;\nexport const cuid2 = /^[0-9a-z]+$/;\nexport const ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;\nexport const xid = /^[0-9a-vA-V]{20}$/;\nexport const ksuid = /^[A-Za-z0-9]{27}$/;\nexport const nanoid = /^[a-zA-Z0-9_-]{21}$/;\n/** ISO 8601-1 duration regex. Does not support the 8601-2 extensions like negative durations or fractional/negative components. */\nexport const duration = /^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/;\n/** Implements ISO 8601-2 extensions like explicit +- prefixes, mixing weeks with other units, and fractional/negative components. */\nexport const extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n/** A regex for any UUID-like identifier: 8-4-4-4-12 hex pattern */\nexport const guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;\n/** Returns a regex for validating an RFC 9562/4122 UUID.\n *\n * @param version Optionally specify a version 1-8. If no version is specified, all versions are supported. */\nexport const uuid = (version) => {\n    if (!version)\n        return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;\n    return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);\n};\nexport const uuid4 = /*@__PURE__*/ uuid(4);\nexport const uuid6 = /*@__PURE__*/ uuid(6);\nexport const uuid7 = /*@__PURE__*/ uuid(7);\n/** Practical email validation */\nexport const email = /^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/;\n/** Equivalent to the HTML5 input[type=email] validation implemented by browsers. Source: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email */\nexport const html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n/** The classic emailregex.com regex for RFC 5322-compliant emails */\nexport const rfc5322Email = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/** A loose regex that allows Unicode characters, enforces length limits, and that's about it. */\nexport const unicodeEmail = /^[^\\s@\"]{1,64}@[^\\s@]{1,255}$/u;\nexport const idnEmail = unicodeEmail;\nexport const browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emoji = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nexport function emoji() {\n    return new RegExp(_emoji, \"u\");\n}\nexport const ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nexport const ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;\nexport const mac = (delimiter) => {\n    const escapedDelim = util.escapeRegex(delimiter ?? \":\");\n    return new RegExp(`^(?:[0-9A-F]{2}${escapedDelim}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${escapedDelim}){5}[0-9a-f]{2}$`);\n};\nexport const cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/;\nexport const cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nexport const base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;\nexport const base64url = /^[A-Za-z0-9_-]*$/;\n// based on https://stackoverflow.com/questions/106179/regular-expression-to-match-dns-hostname-or-ip-address\n// export const hostname: RegExp = /^([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+$/;\nexport const hostname = /^(?=.{1,253}\\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\\.?$/;\nexport const domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/;\n// https://blog.stevenlevithan.com/archives/validate-phone-number#r4-3 (regex sans spaces)\n// E.164: leading digit must be 1-9; total digits (excluding '+') between 7-15\nexport const e164 = /^\\+[1-9]\\d{6,14}$/;\n// const dateSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateSource = `(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))`;\nexport const date = /*@__PURE__*/ new RegExp(`^${dateSource}$`);\nfunction timeSource(args) {\n    const hhmm = `(?:[01]\\\\d|2[0-3]):[0-5]\\\\d`;\n    const regex = typeof args.precision === \"number\"\n        ? args.precision === -1\n            ? `${hhmm}`\n            : args.precision === 0\n                ? `${hhmm}:[0-5]\\\\d`\n                : `${hhmm}:[0-5]\\\\d\\\\.\\\\d{${args.precision}}`\n        : `${hhmm}(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?`;\n    return regex;\n}\nexport function time(args) {\n    return new RegExp(`^${timeSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetime(args) {\n    const time = timeSource({ precision: args.precision });\n    const opts = [\"Z\"];\n    if (args.local)\n        opts.push(\"\");\n    // if (args.offset) opts.push(`([+-]\\\\d{2}:\\\\d{2})`);\n    if (args.offset)\n        opts.push(`([+-](?:[01]\\\\d|2[0-3]):[0-5]\\\\d)`);\n    const timeRegex = `${time}(?:${opts.join(\"|\")})`;\n    return new RegExp(`^${dateSource}T(?:${timeRegex})$`);\n}\nexport const string = (params) => {\n    const regex = params ? `[\\\\s\\\\S]{${params?.minimum ?? 0},${params?.maximum ?? \"\"}}` : `[\\\\s\\\\S]*`;\n    return new RegExp(`^${regex}$`);\n};\nexport const bigint = /^-?\\d+n?$/;\nexport const integer = /^-?\\d+$/;\nexport const number = /^-?\\d+(?:\\.\\d+)?$/;\nexport const boolean = /^(?:true|false)$/i;\nconst _null = /^null$/i;\nexport { _null as null };\nconst _undefined = /^undefined$/i;\nexport { _undefined as undefined };\n// regex for string with no uppercase letters\nexport const lowercase = /^[^A-Z]*$/;\n// regex for string with no lowercase letters\nexport const uppercase = /^[^a-z]*$/;\n// regex for hexadecimal strings (any length)\nexport const hex = /^[0-9a-fA-F]*$/;\n// Hash regexes for different algorithms and encodings\n// Helper function to create base64 regex with exact length and padding\nfunction fixedBase64(bodyLength, padding) {\n    return new RegExp(`^[A-Za-z0-9+/]{${bodyLength}}${padding}$`);\n}\n// Helper function to create base64url regex with exact length (no padding)\nfunction fixedBase64url(length) {\n    return new RegExp(`^[A-Za-z0-9_-]{${length}}$`);\n}\n// MD5 (16 bytes): base64 = 24 chars total (22 + \"==\")\nexport const md5_hex = /^[0-9a-fA-F]{32}$/;\nexport const md5_base64 = /*@__PURE__*/ fixedBase64(22, \"==\");\nexport const md5_base64url = /*@__PURE__*/ fixedBase64url(22);\n// SHA1 (20 bytes): base64 = 28 chars total (27 + \"=\")\nexport const sha1_hex = /^[0-9a-fA-F]{40}$/;\nexport const sha1_base64 = /*@__PURE__*/ fixedBase64(27, \"=\");\nexport const sha1_base64url = /*@__PURE__*/ fixedBase64url(27);\n// SHA256 (32 bytes): base64 = 44 chars total (43 + \"=\")\nexport const sha256_hex = /^[0-9a-fA-F]{64}$/;\nexport const sha256_base64 = /*@__PURE__*/ fixedBase64(43, \"=\");\nexport const sha256_base64url = /*@__PURE__*/ fixedBase64url(43);\n// SHA384 (48 bytes): base64 = 64 chars total (no padding)\nexport const sha384_hex = /^[0-9a-fA-F]{96}$/;\nexport const sha384_base64 = /*@__PURE__*/ fixedBase64(64, \"\");\nexport const sha384_base64url = /*@__PURE__*/ fixedBase64url(64);\n// SHA512 (64 bytes): base64 = 88 chars total (86 + \"==\")\nexport const sha512_hex = /^[0-9a-fA-F]{128}$/;\nexport const sha512_base64 = /*@__PURE__*/ fixedBase64(86, \"==\");\nexport const sha512_base64url = /*@__PURE__*/ fixedBase64url(86);\n","// import { $ZodType } from \"./schemas.js\";\nimport * as core from \"./core.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nexport const $ZodCheck = /*@__PURE__*/ core.$constructor(\"$ZodCheck\", (inst, def) => {\n    var _a;\n    inst._zod ?? (inst._zod = {});\n    inst._zod.def = def;\n    (_a = inst._zod).onattach ?? (_a.onattach = []);\n});\nconst numericOriginMap = {\n    number: \"number\",\n    bigint: \"bigint\",\n    object: \"date\",\n};\nexport const $ZodCheckLessThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckLessThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;\n        if (def.value < curr) {\n            if (def.inclusive)\n                bag.maximum = def.value;\n            else\n                bag.exclusiveMaximum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: typeof def.value === \"object\" ? def.value.getTime() : def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckGreaterThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckGreaterThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;\n        if (def.value > curr) {\n            if (def.inclusive)\n                bag.minimum = def.value;\n            else\n                bag.exclusiveMinimum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: typeof def.value === \"object\" ? def.value.getTime() : def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMultipleOf = \n/*@__PURE__*/ core.$constructor(\"$ZodCheckMultipleOf\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        var _a;\n        (_a = inst._zod.bag).multipleOf ?? (_a.multipleOf = def.value);\n    });\n    inst._zod.check = (payload) => {\n        if (typeof payload.value !== typeof def.value)\n            throw new Error(\"Cannot mix number and bigint in multiple_of check.\");\n        const isMultiple = typeof payload.value === \"bigint\"\n            ? payload.value % def.value === BigInt(0)\n            : util.floatSafeRemainder(payload.value, def.value) === 0;\n        if (isMultiple)\n            return;\n        payload.issues.push({\n            origin: typeof payload.value,\n            code: \"not_multiple_of\",\n            divisor: def.value,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckNumberFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    def.format = def.format || \"float64\";\n    const isInt = def.format?.includes(\"int\");\n    const origin = isInt ? \"int\" : \"number\";\n    const [minimum, maximum] = util.NUMBER_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n        if (isInt)\n            bag.pattern = regexes.integer;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (isInt) {\n            if (!Number.isInteger(input)) {\n                // invalid_format issue\n                // payload.issues.push({\n                //   expected: def.format,\n                //   format: def.format,\n                //   code: \"invalid_format\",\n                //   input,\n                //   inst,\n                // });\n                // invalid_type issue\n                payload.issues.push({\n                    expected: origin,\n                    format: def.format,\n                    code: \"invalid_type\",\n                    continue: false,\n                    input,\n                    inst,\n                });\n                return;\n                // not_multiple_of issue\n                // payload.issues.push({\n                //   code: \"not_multiple_of\",\n                //   origin: \"number\",\n                //   input,\n                //   inst,\n                //   divisor: 1,\n                // });\n            }\n            if (!Number.isSafeInteger(input)) {\n                if (input > 0) {\n                    // too_big\n                    payload.issues.push({\n                        input,\n                        code: \"too_big\",\n                        maximum: Number.MAX_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        inclusive: true,\n                        continue: !def.abort,\n                    });\n                }\n                else {\n                    // too_small\n                    payload.issues.push({\n                        input,\n                        code: \"too_small\",\n                        minimum: Number.MIN_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        inclusive: true,\n                        continue: !def.abort,\n                    });\n                }\n                return;\n            }\n        }\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_small\",\n                minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodCheckBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckBigIntFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    const [minimum, maximum] = util.BIGINT_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_small\",\n                minimum: minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodCheckMaxSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size <= def.maximum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size >= def.minimum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckSizeEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckSizeEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.size;\n        bag.maximum = def.size;\n        bag.size = def.size;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size === def.size)\n            return;\n        const tooBig = size > def.size;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            ...(tooBig ? { code: \"too_big\", maximum: def.size } : { code: \"too_small\", minimum: def.size }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMaxLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length <= def.maximum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length >= def.minimum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLengthEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckLengthEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.length;\n        bag.maximum = def.length;\n        bag.length = def.length;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length === def.length)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        const tooBig = length > def.length;\n        payload.issues.push({\n            origin,\n            ...(tooBig ? { code: \"too_big\", maximum: def.length } : { code: \"too_small\", minimum: def.length }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckStringFormat\", (inst, def) => {\n    var _a, _b;\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        if (def.pattern) {\n            bag.patterns ?? (bag.patterns = new Set());\n            bag.patterns.add(def.pattern);\n        }\n    });\n    if (def.pattern)\n        (_a = inst._zod).check ?? (_a.check = (payload) => {\n            def.pattern.lastIndex = 0;\n            if (def.pattern.test(payload.value))\n                return;\n            payload.issues.push({\n                origin: \"string\",\n                code: \"invalid_format\",\n                format: def.format,\n                input: payload.value,\n                ...(def.pattern ? { pattern: def.pattern.toString() } : {}),\n                inst,\n                continue: !def.abort,\n            });\n        });\n    else\n        (_b = inst._zod).check ?? (_b.check = () => { });\n});\nexport const $ZodCheckRegex = /*@__PURE__*/ core.$constructor(\"$ZodCheckRegex\", (inst, def) => {\n    $ZodCheckStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        def.pattern.lastIndex = 0;\n        if (def.pattern.test(payload.value))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"regex\",\n            input: payload.value,\n            pattern: def.pattern.toString(),\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLowerCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckLowerCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.lowercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckUpperCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckUpperCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.uppercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckIncludes = /*@__PURE__*/ core.$constructor(\"$ZodCheckIncludes\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const escapedRegex = util.escapeRegex(def.includes);\n    const pattern = new RegExp(typeof def.position === \"number\" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);\n    def.pattern = pattern;\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.includes(def.includes, def.position))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"includes\",\n            includes: def.includes,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStartsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckStartsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`^${util.escapeRegex(def.prefix)}.*`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.startsWith(def.prefix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"starts_with\",\n            prefix: def.prefix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckEndsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckEndsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`.*${util.escapeRegex(def.suffix)}$`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.endsWith(def.suffix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"ends_with\",\n            suffix: def.suffix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n///////////////////////////////////\n/////    $ZodCheckProperty    /////\n///////////////////////////////////\nfunction handleCheckPropertyResult(result, payload, property) {\n    if (result.issues.length) {\n        payload.issues.push(...util.prefixIssues(property, result.issues));\n    }\n}\nexport const $ZodCheckProperty = /*@__PURE__*/ core.$constructor(\"$ZodCheckProperty\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        const result = def.schema._zod.run({\n            value: payload.value[def.property],\n            issues: [],\n        }, {});\n        if (result instanceof Promise) {\n            return result.then((result) => handleCheckPropertyResult(result, payload, def.property));\n        }\n        handleCheckPropertyResult(result, payload, def.property);\n        return;\n    };\n});\nexport const $ZodCheckMimeType = /*@__PURE__*/ core.$constructor(\"$ZodCheckMimeType\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const mimeSet = new Set(def.mime);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.mime = def.mime;\n    });\n    inst._zod.check = (payload) => {\n        if (mimeSet.has(payload.value.type))\n            return;\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.mime,\n            input: payload.value.type,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckOverwrite = /*@__PURE__*/ core.$constructor(\"$ZodCheckOverwrite\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        payload.value = def.tx(payload.value);\n    };\n});\n","export class Doc {\n    constructor(args = []) {\n        this.content = [];\n        this.indent = 0;\n        if (this)\n            this.args = args;\n    }\n    indented(fn) {\n        this.indent += 1;\n        fn(this);\n        this.indent -= 1;\n    }\n    write(arg) {\n        if (typeof arg === \"function\") {\n            arg(this, { execution: \"sync\" });\n            arg(this, { execution: \"async\" });\n            return;\n        }\n        const content = arg;\n        const lines = content.split(\"\\n\").filter((x) => x);\n        const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));\n        const dedented = lines.map((x) => x.slice(minIndent)).map((x) => \" \".repeat(this.indent * 2) + x);\n        for (const line of dedented) {\n            this.content.push(line);\n        }\n    }\n    compile() {\n        const F = Function;\n        const args = this?.args;\n        const content = this?.content ?? [``];\n        const lines = [...content.map((x) => `  ${x}`)];\n        // console.log(lines.join(\"\\n\"));\n        return new F(...args, lines.join(\"\\n\"));\n    }\n}\n","export const version = {\n    major: 4,\n    minor: 3,\n    patch: 5,\n};\n","import * as checks from \"./checks.js\";\nimport * as core from \"./core.js\";\nimport { Doc } from \"./doc.js\";\nimport { parse, parseAsync, safeParse, safeParseAsync } from \"./parse.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nimport { version } from \"./versions.js\";\nexport const $ZodType = /*@__PURE__*/ core.$constructor(\"$ZodType\", (inst, def) => {\n    var _a;\n    inst ?? (inst = {});\n    inst._zod.def = def; // set _def property\n    inst._zod.bag = inst._zod.bag || {}; // initialize _bag object\n    inst._zod.version = version;\n    const checks = [...(inst._zod.def.checks ?? [])];\n    // if inst is itself a checks.$ZodCheck, run it as a check\n    if (inst._zod.traits.has(\"$ZodCheck\")) {\n        checks.unshift(inst);\n    }\n    for (const ch of checks) {\n        for (const fn of ch._zod.onattach) {\n            fn(inst);\n        }\n    }\n    if (checks.length === 0) {\n        // deferred initializer\n        // inst._zod.parse is not yet defined\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        inst._zod.deferred?.push(() => {\n            inst._zod.run = inst._zod.parse;\n        });\n    }\n    else {\n        const runChecks = (payload, checks, ctx) => {\n            let isAborted = util.aborted(payload);\n            let asyncResult;\n            for (const ch of checks) {\n                if (ch._zod.def.when) {\n                    const shouldRun = ch._zod.def.when(payload);\n                    if (!shouldRun)\n                        continue;\n                }\n                else if (isAborted) {\n                    continue;\n                }\n                const currLen = payload.issues.length;\n                const _ = ch._zod.check(payload);\n                if (_ instanceof Promise && ctx?.async === false) {\n                    throw new core.$ZodAsyncError();\n                }\n                if (asyncResult || _ instanceof Promise) {\n                    asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {\n                        await _;\n                        const nextLen = payload.issues.length;\n                        if (nextLen === currLen)\n                            return;\n                        if (!isAborted)\n                            isAborted = util.aborted(payload, currLen);\n                    });\n                }\n                else {\n                    const nextLen = payload.issues.length;\n                    if (nextLen === currLen)\n                        continue;\n                    if (!isAborted)\n                        isAborted = util.aborted(payload, currLen);\n                }\n            }\n            if (asyncResult) {\n                return asyncResult.then(() => {\n                    return payload;\n                });\n            }\n            return payload;\n        };\n        const handleCanaryResult = (canary, payload, ctx) => {\n            // abort if the canary is aborted\n            if (util.aborted(canary)) {\n                canary.aborted = true;\n                return canary;\n            }\n            // run checks first, then\n            const checkResult = runChecks(payload, checks, ctx);\n            if (checkResult instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return checkResult.then((checkResult) => inst._zod.parse(checkResult, ctx));\n            }\n            return inst._zod.parse(checkResult, ctx);\n        };\n        inst._zod.run = (payload, ctx) => {\n            if (ctx.skipChecks) {\n                return inst._zod.parse(payload, ctx);\n            }\n            if (ctx.direction === \"backward\") {\n                // run canary\n                // initial pass (no checks)\n                const canary = inst._zod.parse({ value: payload.value, issues: [] }, { ...ctx, skipChecks: true });\n                if (canary instanceof Promise) {\n                    return canary.then((canary) => {\n                        return handleCanaryResult(canary, payload, ctx);\n                    });\n                }\n                return handleCanaryResult(canary, payload, ctx);\n            }\n            // forward\n            const result = inst._zod.parse(payload, ctx);\n            if (result instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return result.then((result) => runChecks(result, checks, ctx));\n            }\n            return runChecks(result, checks, ctx);\n        };\n    }\n    // Lazy initialize ~standard to avoid creating objects for every schema\n    util.defineLazy(inst, \"~standard\", () => ({\n        validate: (value) => {\n            try {\n                const r = safeParse(inst, value);\n                return r.success ? { value: r.data } : { issues: r.error?.issues };\n            }\n            catch (_) {\n                return safeParseAsync(inst, value).then((r) => (r.success ? { value: r.data } : { issues: r.error?.issues }));\n            }\n        },\n        vendor: \"zod\",\n        version: 1,\n    }));\n});\nexport { clone } from \"./util.js\";\nexport const $ZodString = /*@__PURE__*/ core.$constructor(\"$ZodString\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = [...(inst?._zod.bag?.patterns ?? [])].pop() ?? regexes.string(inst._zod.bag);\n    inst._zod.parse = (payload, _) => {\n        if (def.coerce)\n            try {\n                payload.value = String(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"string\")\n            return payload;\n        payload.issues.push({\n            expected: \"string\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodStringFormat\", (inst, def) => {\n    // check initialization must come first\n    checks.$ZodCheckStringFormat.init(inst, def);\n    $ZodString.init(inst, def);\n});\nexport const $ZodGUID = /*@__PURE__*/ core.$constructor(\"$ZodGUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.guid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodUUID = /*@__PURE__*/ core.$constructor(\"$ZodUUID\", (inst, def) => {\n    if (def.version) {\n        const versionMap = {\n            v1: 1,\n            v2: 2,\n            v3: 3,\n            v4: 4,\n            v5: 5,\n            v6: 6,\n            v7: 7,\n            v8: 8,\n        };\n        const v = versionMap[def.version];\n        if (v === undefined)\n            throw new Error(`Invalid UUID version: \"${def.version}\"`);\n        def.pattern ?? (def.pattern = regexes.uuid(v));\n    }\n    else\n        def.pattern ?? (def.pattern = regexes.uuid());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodEmail = /*@__PURE__*/ core.$constructor(\"$ZodEmail\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.email);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodURL = /*@__PURE__*/ core.$constructor(\"$ZodURL\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        try {\n            // Trim whitespace from input\n            const trimmed = payload.value.trim();\n            // @ts-ignore\n            const url = new URL(trimmed);\n            if (def.hostname) {\n                def.hostname.lastIndex = 0;\n                if (!def.hostname.test(url.hostname)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid hostname\",\n                        pattern: def.hostname.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            if (def.protocol) {\n                def.protocol.lastIndex = 0;\n                if (!def.protocol.test(url.protocol.endsWith(\":\") ? url.protocol.slice(0, -1) : url.protocol)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid protocol\",\n                        pattern: def.protocol.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            // Set the output value based on normalize flag\n            if (def.normalize) {\n                // Use normalized URL\n                payload.value = url.href;\n            }\n            else {\n                // Preserve the original input (trimmed)\n                payload.value = trimmed;\n            }\n            return;\n        }\n        catch (_) {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"url\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodEmoji = /*@__PURE__*/ core.$constructor(\"$ZodEmoji\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.emoji());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodNanoID = /*@__PURE__*/ core.$constructor(\"$ZodNanoID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.nanoid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID = /*@__PURE__*/ core.$constructor(\"$ZodCUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID2 = /*@__PURE__*/ core.$constructor(\"$ZodCUID2\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid2);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodULID = /*@__PURE__*/ core.$constructor(\"$ZodULID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ulid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodXID = /*@__PURE__*/ core.$constructor(\"$ZodXID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.xid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodKSUID = /*@__PURE__*/ core.$constructor(\"$ZodKSUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ksuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODateTime = /*@__PURE__*/ core.$constructor(\"$ZodISODateTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.datetime(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODate = /*@__PURE__*/ core.$constructor(\"$ZodISODate\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.date);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISOTime = /*@__PURE__*/ core.$constructor(\"$ZodISOTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.time(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODuration = /*@__PURE__*/ core.$constructor(\"$ZodISODuration\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.duration);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodIPv4 = /*@__PURE__*/ core.$constructor(\"$ZodIPv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv4);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.format = `ipv4`;\n});\nexport const $ZodIPv6 = /*@__PURE__*/ core.$constructor(\"$ZodIPv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv6);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.format = `ipv6`;\n    inst._zod.check = (payload) => {\n        try {\n            // @ts-ignore\n            new URL(`http://[${payload.value}]`);\n            // return;\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"ipv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodMAC = /*@__PURE__*/ core.$constructor(\"$ZodMAC\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.mac(def.delimiter));\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.format = `mac`;\n});\nexport const $ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv4);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv6); // not used for validation\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        const parts = payload.value.split(\"/\");\n        try {\n            if (parts.length !== 2)\n                throw new Error();\n            const [address, prefix] = parts;\n            if (!prefix)\n                throw new Error();\n            const prefixNum = Number(prefix);\n            if (`${prefixNum}` !== prefix)\n                throw new Error();\n            if (prefixNum < 0 || prefixNum > 128)\n                throw new Error();\n            // @ts-ignore\n            new URL(`http://[${address}]`);\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"cidrv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64(data) {\n    if (data === \"\")\n        return true;\n    if (data.length % 4 !== 0)\n        return false;\n    try {\n        // @ts-ignore\n        atob(data);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodBase64 = /*@__PURE__*/ core.$constructor(\"$ZodBase64\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.contentEncoding = \"base64\";\n    inst._zod.check = (payload) => {\n        if (isValidBase64(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64URL(data) {\n    if (!regexes.base64url.test(data))\n        return false;\n    const base64 = data.replace(/[-_]/g, (c) => (c === \"-\" ? \"+\" : \"/\"));\n    const padded = base64.padEnd(Math.ceil(base64.length / 4) * 4, \"=\");\n    return isValidBase64(padded);\n}\nexport const $ZodBase64URL = /*@__PURE__*/ core.$constructor(\"$ZodBase64URL\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64url);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.contentEncoding = \"base64url\";\n    inst._zod.check = (payload) => {\n        if (isValidBase64URL(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64url\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodE164 = /*@__PURE__*/ core.$constructor(\"$ZodE164\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.e164);\n    $ZodStringFormat.init(inst, def);\n});\n//////////////////////////////   ZodJWT   //////////////////////////////\nexport function isValidJWT(token, algorithm = null) {\n    try {\n        const tokensParts = token.split(\".\");\n        if (tokensParts.length !== 3)\n            return false;\n        const [header] = tokensParts;\n        if (!header)\n            return false;\n        // @ts-ignore\n        const parsedHeader = JSON.parse(atob(header));\n        if (\"typ\" in parsedHeader && parsedHeader?.typ !== \"JWT\")\n            return false;\n        if (!parsedHeader.alg)\n            return false;\n        if (algorithm && (!(\"alg\" in parsedHeader) || parsedHeader.alg !== algorithm))\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodJWT = /*@__PURE__*/ core.$constructor(\"$ZodJWT\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (isValidJWT(payload.value, def.alg))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"jwt\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCustomStringFormat\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (def.fn(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: def.format,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodNumber = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = inst._zod.bag.pattern ?? regexes.number;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Number(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"number\" && !Number.isNaN(input) && Number.isFinite(input)) {\n            return payload;\n        }\n        const received = typeof input === \"number\"\n            ? Number.isNaN(input)\n                ? \"NaN\"\n                : !Number.isFinite(input)\n                    ? \"Infinity\"\n                    : undefined\n            : undefined;\n        payload.issues.push({\n            expected: \"number\",\n            code: \"invalid_type\",\n            input,\n            inst,\n            ...(received ? { received } : {}),\n        });\n        return payload;\n    };\n});\nexport const $ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodNumberFormat\", (inst, def) => {\n    checks.$ZodCheckNumberFormat.init(inst, def);\n    $ZodNumber.init(inst, def); // no format checks\n});\nexport const $ZodBoolean = /*@__PURE__*/ core.$constructor(\"$ZodBoolean\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.boolean;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Boolean(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"boolean\")\n            return payload;\n        payload.issues.push({\n            expected: \"boolean\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigInt = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.bigint;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = BigInt(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"bigint\")\n            return payload;\n        payload.issues.push({\n            expected: \"bigint\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodBigIntFormat\", (inst, def) => {\n    checks.$ZodCheckBigIntFormat.init(inst, def);\n    $ZodBigInt.init(inst, def); // no format checks\n});\nexport const $ZodSymbol = /*@__PURE__*/ core.$constructor(\"$ZodSymbol\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"symbol\")\n            return payload;\n        payload.issues.push({\n            expected: \"symbol\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodUndefined = /*@__PURE__*/ core.$constructor(\"$ZodUndefined\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.undefined;\n    inst._zod.values = new Set([undefined]);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"undefined\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodNull = /*@__PURE__*/ core.$constructor(\"$ZodNull\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.null;\n    inst._zod.values = new Set([null]);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (input === null)\n            return payload;\n        payload.issues.push({\n            expected: \"null\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodAny = /*@__PURE__*/ core.$constructor(\"$ZodAny\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodUnknown = /*@__PURE__*/ core.$constructor(\"$ZodUnknown\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodNever = /*@__PURE__*/ core.$constructor(\"$ZodNever\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.issues.push({\n            expected: \"never\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodVoid = /*@__PURE__*/ core.$constructor(\"$ZodVoid\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"void\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodDate = /*@__PURE__*/ core.$constructor(\"$ZodDate\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce) {\n            try {\n                payload.value = new Date(payload.value);\n            }\n            catch (_err) { }\n        }\n        const input = payload.value;\n        const isDate = input instanceof Date;\n        const isValidDate = isDate && !Number.isNaN(input.getTime());\n        if (isValidDate)\n            return payload;\n        payload.issues.push({\n            expected: \"date\",\n            code: \"invalid_type\",\n            input,\n            ...(isDate ? { received: \"Invalid Date\" } : {}),\n            inst,\n        });\n        return payload;\n    };\n});\nfunction handleArrayResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodArray = /*@__PURE__*/ core.$constructor(\"$ZodArray\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                expected: \"array\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = Array(input.length);\n        const proms = [];\n        for (let i = 0; i < input.length; i++) {\n            const item = input[i];\n            const result = def.element._zod.run({\n                value: item,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleArrayResult(result, payload, i)));\n            }\n            else {\n                handleArrayResult(result, payload, i);\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload; //handleArrayResultsAsync(parseResults, final);\n    };\n});\nfunction handlePropertyResult(result, final, key, input, isOptionalOut) {\n    if (result.issues.length) {\n        // For optional-out schemas, ignore errors on absent keys\n        if (isOptionalOut && !(key in input)) {\n            return;\n        }\n        final.issues.push(...util.prefixIssues(key, result.issues));\n    }\n    if (result.value === undefined) {\n        if (key in input) {\n            final.value[key] = undefined;\n        }\n    }\n    else {\n        final.value[key] = result.value;\n    }\n}\nfunction normalizeDef(def) {\n    const keys = Object.keys(def.shape);\n    for (const k of keys) {\n        if (!def.shape?.[k]?._zod?.traits?.has(\"$ZodType\")) {\n            throw new Error(`Invalid element at key \"${k}\": expected a Zod schema`);\n        }\n    }\n    const okeys = util.optionalKeys(def.shape);\n    return {\n        ...def,\n        keys,\n        keySet: new Set(keys),\n        numKeys: keys.length,\n        optionalKeys: new Set(okeys),\n    };\n}\nfunction handleCatchall(proms, input, payload, ctx, def, inst) {\n    const unrecognized = [];\n    // iterate over input keys\n    const keySet = def.keySet;\n    const _catchall = def.catchall._zod;\n    const t = _catchall.def.type;\n    const isOptionalOut = _catchall.optout === \"optional\";\n    for (const key in input) {\n        if (keySet.has(key))\n            continue;\n        if (t === \"never\") {\n            unrecognized.push(key);\n            continue;\n        }\n        const r = _catchall.run({ value: input[key], issues: [] }, ctx);\n        if (r instanceof Promise) {\n            proms.push(r.then((r) => handlePropertyResult(r, payload, key, input, isOptionalOut)));\n        }\n        else {\n            handlePropertyResult(r, payload, key, input, isOptionalOut);\n        }\n    }\n    if (unrecognized.length) {\n        payload.issues.push({\n            code: \"unrecognized_keys\",\n            keys: unrecognized,\n            input,\n            inst,\n        });\n    }\n    if (!proms.length)\n        return payload;\n    return Promise.all(proms).then(() => {\n        return payload;\n    });\n}\nexport const $ZodObject = /*@__PURE__*/ core.$constructor(\"$ZodObject\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodType.init(inst, def);\n    // const sh = def.shape;\n    const desc = Object.getOwnPropertyDescriptor(def, \"shape\");\n    if (!desc?.get) {\n        const sh = def.shape;\n        Object.defineProperty(def, \"shape\", {\n            get: () => {\n                const newSh = { ...sh };\n                Object.defineProperty(def, \"shape\", {\n                    value: newSh,\n                });\n                return newSh;\n            },\n        });\n    }\n    const _normalized = util.cached(() => normalizeDef(def));\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const shape = def.shape;\n        const propValues = {};\n        for (const key in shape) {\n            const field = shape[key]._zod;\n            if (field.values) {\n                propValues[key] ?? (propValues[key] = new Set());\n                for (const v of field.values)\n                    propValues[key].add(v);\n            }\n        }\n        return propValues;\n    });\n    const isObject = util.isObject;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = {};\n        const proms = [];\n        const shape = value.shape;\n        for (const key of value.keys) {\n            const el = shape[key];\n            const isOptionalOut = el._zod.optout === \"optional\";\n            const r = el._zod.run({ value: input[key], issues: [] }, ctx);\n            if (r instanceof Promise) {\n                proms.push(r.then((r) => handlePropertyResult(r, payload, key, input, isOptionalOut)));\n            }\n            else {\n                handlePropertyResult(r, payload, key, input, isOptionalOut);\n            }\n        }\n        if (!catchall) {\n            return proms.length ? Promise.all(proms).then(() => payload) : payload;\n        }\n        return handleCatchall(proms, input, payload, ctx, _normalized.value, inst);\n    };\n});\nexport const $ZodObjectJIT = /*@__PURE__*/ core.$constructor(\"$ZodObjectJIT\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodObject.init(inst, def);\n    const superParse = inst._zod.parse;\n    const _normalized = util.cached(() => normalizeDef(def));\n    const generateFastpass = (shape) => {\n        const doc = new Doc([\"shape\", \"payload\", \"ctx\"]);\n        const normalized = _normalized.value;\n        const parseStr = (key) => {\n            const k = util.esc(key);\n            return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;\n        };\n        doc.write(`const input = payload.value;`);\n        const ids = Object.create(null);\n        let counter = 0;\n        for (const key of normalized.keys) {\n            ids[key] = `key_${counter++}`;\n        }\n        // A: preserve key order {\n        doc.write(`const newResult = {};`);\n        for (const key of normalized.keys) {\n            const id = ids[key];\n            const k = util.esc(key);\n            const schema = shape[key];\n            const isOptionalOut = schema?._zod?.optout === \"optional\";\n            doc.write(`const ${id} = ${parseStr(key)};`);\n            if (isOptionalOut) {\n                // For optional-out schemas, ignore errors on absent keys\n                doc.write(`\n        if (${id}.issues.length) {\n          if (${k} in input) {\n            payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n              ...iss,\n              path: iss.path ? [${k}, ...iss.path] : [${k}]\n            })));\n          }\n        }\n        \n        if (${id}.value === undefined) {\n          if (${k} in input) {\n            newResult[${k}] = undefined;\n          }\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n        \n      `);\n            }\n            else {\n                doc.write(`\n        if (${id}.issues.length) {\n          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${k}, ...iss.path] : [${k}]\n          })));\n        }\n        \n        if (${id}.value === undefined) {\n          if (${k} in input) {\n            newResult[${k}] = undefined;\n          }\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n        \n      `);\n            }\n        }\n        doc.write(`payload.value = newResult;`);\n        doc.write(`return payload;`);\n        const fn = doc.compile();\n        return (payload, ctx) => fn(shape, payload, ctx);\n    };\n    let fastpass;\n    const isObject = util.isObject;\n    const jit = !core.globalConfig.jitless;\n    const allowsEval = util.allowsEval;\n    const fastEnabled = jit && allowsEval.value; // && !def.catchall;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {\n            // always synchronous\n            if (!fastpass)\n                fastpass = generateFastpass(def.shape);\n            payload = fastpass(payload, ctx);\n            if (!catchall)\n                return payload;\n            return handleCatchall([], input, payload, ctx, value, inst);\n        }\n        return superParse(payload, ctx);\n    };\n});\nfunction handleUnionResults(results, final, inst, ctx) {\n    for (const result of results) {\n        if (result.issues.length === 0) {\n            final.value = result.value;\n            return final;\n        }\n    }\n    const nonaborted = results.filter((r) => !util.aborted(r));\n    if (nonaborted.length === 1) {\n        final.value = nonaborted[0].value;\n        return nonaborted[0];\n    }\n    final.issues.push({\n        code: \"invalid_union\",\n        input: final.value,\n        inst,\n        errors: results.map((result) => result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n    });\n    return final;\n}\nexport const $ZodUnion = /*@__PURE__*/ core.$constructor(\"$ZodUnion\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.options.some((o) => o._zod.optin === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"optout\", () => def.options.some((o) => o._zod.optout === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"values\", () => {\n        if (def.options.every((o) => o._zod.values)) {\n            return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));\n        }\n        return undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        if (def.options.every((o) => o._zod.pattern)) {\n            const patterns = def.options.map((o) => o._zod.pattern);\n            return new RegExp(`^(${patterns.map((p) => util.cleanRegex(p.source)).join(\"|\")})$`);\n        }\n        return undefined;\n    });\n    const single = def.options.length === 1;\n    const first = def.options[0]._zod.run;\n    inst._zod.parse = (payload, ctx) => {\n        if (single) {\n            return first(payload, ctx);\n        }\n        let async = false;\n        const results = [];\n        for (const option of def.options) {\n            const result = option._zod.run({\n                value: payload.value,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                results.push(result);\n                async = true;\n            }\n            else {\n                if (result.issues.length === 0)\n                    return result;\n                results.push(result);\n            }\n        }\n        if (!async)\n            return handleUnionResults(results, payload, inst, ctx);\n        return Promise.all(results).then((results) => {\n            return handleUnionResults(results, payload, inst, ctx);\n        });\n    };\n});\nfunction handleExclusiveUnionResults(results, final, inst, ctx) {\n    const successes = results.filter((r) => r.issues.length === 0);\n    if (successes.length === 1) {\n        final.value = successes[0].value;\n        return final;\n    }\n    if (successes.length === 0) {\n        // No matches - same as regular union\n        final.issues.push({\n            code: \"invalid_union\",\n            input: final.value,\n            inst,\n            errors: results.map((result) => result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        });\n    }\n    else {\n        // Multiple matches - exclusive union failure\n        final.issues.push({\n            code: \"invalid_union\",\n            input: final.value,\n            inst,\n            errors: [],\n            inclusive: false,\n        });\n    }\n    return final;\n}\nexport const $ZodXor = /*@__PURE__*/ core.$constructor(\"$ZodXor\", (inst, def) => {\n    $ZodUnion.init(inst, def);\n    def.inclusive = false;\n    const single = def.options.length === 1;\n    const first = def.options[0]._zod.run;\n    inst._zod.parse = (payload, ctx) => {\n        if (single) {\n            return first(payload, ctx);\n        }\n        let async = false;\n        const results = [];\n        for (const option of def.options) {\n            const result = option._zod.run({\n                value: payload.value,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                results.push(result);\n                async = true;\n            }\n            else {\n                results.push(result);\n            }\n        }\n        if (!async)\n            return handleExclusiveUnionResults(results, payload, inst, ctx);\n        return Promise.all(results).then((results) => {\n            return handleExclusiveUnionResults(results, payload, inst, ctx);\n        });\n    };\n});\nexport const $ZodDiscriminatedUnion = \n/*@__PURE__*/\ncore.$constructor(\"$ZodDiscriminatedUnion\", (inst, def) => {\n    def.inclusive = false;\n    $ZodUnion.init(inst, def);\n    const _super = inst._zod.parse;\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const propValues = {};\n        for (const option of def.options) {\n            const pv = option._zod.propValues;\n            if (!pv || Object.keys(pv).length === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(option)}\"`);\n            for (const [k, v] of Object.entries(pv)) {\n                if (!propValues[k])\n                    propValues[k] = new Set();\n                for (const val of v) {\n                    propValues[k].add(val);\n                }\n            }\n        }\n        return propValues;\n    });\n    const disc = util.cached(() => {\n        const opts = def.options;\n        const map = new Map();\n        for (const o of opts) {\n            const values = o._zod.propValues?.[def.discriminator];\n            if (!values || values.size === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(o)}\"`);\n            for (const v of values) {\n                if (map.has(v)) {\n                    throw new Error(`Duplicate discriminator value \"${String(v)}\"`);\n                }\n                map.set(v, o);\n            }\n        }\n        return map;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isObject(input)) {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"object\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const opt = disc.value.get(input?.[def.discriminator]);\n        if (opt) {\n            return opt._zod.run(payload, ctx);\n        }\n        if (def.unionFallback) {\n            return _super(payload, ctx);\n        }\n        // no matching discriminator\n        payload.issues.push({\n            code: \"invalid_union\",\n            errors: [],\n            note: \"No matching discriminator\",\n            discriminator: def.discriminator,\n            input,\n            path: [def.discriminator],\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodIntersection = /*@__PURE__*/ core.$constructor(\"$ZodIntersection\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        const left = def.left._zod.run({ value: input, issues: [] }, ctx);\n        const right = def.right._zod.run({ value: input, issues: [] }, ctx);\n        const async = left instanceof Promise || right instanceof Promise;\n        if (async) {\n            return Promise.all([left, right]).then(([left, right]) => {\n                return handleIntersectionResults(payload, left, right);\n            });\n        }\n        return handleIntersectionResults(payload, left, right);\n    };\n});\nfunction mergeValues(a, b) {\n    // const aType = parse.t(a);\n    // const bType = parse.t(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    if (a instanceof Date && b instanceof Date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    if (util.isPlainObject(a) && util.isPlainObject(b)) {\n        const bKeys = Object.keys(b);\n        const sharedKeys = Object.keys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [key, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return { valid: false, mergeErrorPath: [] };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [index, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    return { valid: false, mergeErrorPath: [] };\n}\nfunction handleIntersectionResults(result, left, right) {\n    // Track which side(s) report each key as unrecognized\n    const unrecKeys = new Map();\n    let unrecIssue;\n    for (const iss of left.issues) {\n        if (iss.code === \"unrecognized_keys\") {\n            unrecIssue ?? (unrecIssue = iss);\n            for (const k of iss.keys) {\n                if (!unrecKeys.has(k))\n                    unrecKeys.set(k, {});\n                unrecKeys.get(k).l = true;\n            }\n        }\n        else {\n            result.issues.push(iss);\n        }\n    }\n    for (const iss of right.issues) {\n        if (iss.code === \"unrecognized_keys\") {\n            for (const k of iss.keys) {\n                if (!unrecKeys.has(k))\n                    unrecKeys.set(k, {});\n                unrecKeys.get(k).r = true;\n            }\n        }\n        else {\n            result.issues.push(iss);\n        }\n    }\n    // Report only keys unrecognized by BOTH sides\n    const bothKeys = [...unrecKeys].filter(([, f]) => f.l && f.r).map(([k]) => k);\n    if (bothKeys.length && unrecIssue) {\n        result.issues.push({ ...unrecIssue, keys: bothKeys });\n    }\n    if (util.aborted(result))\n        return result;\n    const merged = mergeValues(left.value, right.value);\n    if (!merged.valid) {\n        throw new Error(`Unmergable intersection. Error path: ` + `${JSON.stringify(merged.mergeErrorPath)}`);\n    }\n    result.value = merged.data;\n    return result;\n}\nexport const $ZodTuple = /*@__PURE__*/ core.$constructor(\"$ZodTuple\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const items = def.items;\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"tuple\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        payload.value = [];\n        const proms = [];\n        const reversedIndex = [...items].reverse().findIndex((item) => item._zod.optin !== \"optional\");\n        const optStart = reversedIndex === -1 ? 0 : items.length - reversedIndex;\n        if (!def.rest) {\n            const tooBig = input.length > items.length;\n            const tooSmall = input.length < optStart - 1;\n            if (tooBig || tooSmall) {\n                payload.issues.push({\n                    ...(tooBig\n                        ? { code: \"too_big\", maximum: items.length, inclusive: true }\n                        : { code: \"too_small\", minimum: items.length }),\n                    input,\n                    inst,\n                    origin: \"array\",\n                });\n                return payload;\n            }\n        }\n        let i = -1;\n        for (const item of items) {\n            i++;\n            if (i >= input.length)\n                if (i >= optStart)\n                    continue;\n            const result = item._zod.run({\n                value: input[i],\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n            }\n            else {\n                handleTupleResult(result, payload, i);\n            }\n        }\n        if (def.rest) {\n            const rest = input.slice(items.length);\n            for (const el of rest) {\n                i++;\n                const result = def.rest._zod.run({\n                    value: el,\n                    issues: [],\n                }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n                }\n                else {\n                    handleTupleResult(result, payload, i);\n                }\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleTupleResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodRecord = /*@__PURE__*/ core.$constructor(\"$ZodRecord\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isPlainObject(input)) {\n            payload.issues.push({\n                expected: \"record\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        const values = def.keyType._zod.values;\n        if (values) {\n            payload.value = {};\n            const recordKeys = new Set();\n            for (const key of values) {\n                if (typeof key === \"string\" || typeof key === \"number\" || typeof key === \"symbol\") {\n                    recordKeys.add(typeof key === \"number\" ? key.toString() : key);\n                    const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                    if (result instanceof Promise) {\n                        proms.push(result.then((result) => {\n                            if (result.issues.length) {\n                                payload.issues.push(...util.prefixIssues(key, result.issues));\n                            }\n                            payload.value[key] = result.value;\n                        }));\n                    }\n                    else {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[key] = result.value;\n                    }\n                }\n            }\n            let unrecognized;\n            for (const key in input) {\n                if (!recordKeys.has(key)) {\n                    unrecognized = unrecognized ?? [];\n                    unrecognized.push(key);\n                }\n            }\n            if (unrecognized && unrecognized.length > 0) {\n                payload.issues.push({\n                    code: \"unrecognized_keys\",\n                    input,\n                    inst,\n                    keys: unrecognized,\n                });\n            }\n        }\n        else {\n            payload.value = {};\n            for (const key of Reflect.ownKeys(input)) {\n                if (key === \"__proto__\")\n                    continue;\n                let keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n                if (keyResult instanceof Promise) {\n                    throw new Error(\"Async schemas not supported in object keys currently\");\n                }\n                // Numeric string fallback: if key failed with \"expected number\", retry with Number(key)\n                const checkNumericKey = typeof key === \"string\" &&\n                    regexes.number.test(key) &&\n                    keyResult.issues.length &&\n                    keyResult.issues.some((iss) => iss.code === \"invalid_type\" && iss.expected === \"number\");\n                if (checkNumericKey) {\n                    const retryResult = def.keyType._zod.run({ value: Number(key), issues: [] }, ctx);\n                    if (retryResult instanceof Promise) {\n                        throw new Error(\"Async schemas not supported in object keys currently\");\n                    }\n                    if (retryResult.issues.length === 0) {\n                        keyResult = retryResult;\n                    }\n                }\n                if (keyResult.issues.length) {\n                    if (def.mode === \"loose\") {\n                        // Pass through unchanged\n                        payload.value[key] = input[key];\n                    }\n                    else {\n                        // Default \"strict\" behavior: error on invalid key\n                        payload.issues.push({\n                            code: \"invalid_key\",\n                            origin: \"record\",\n                            issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                            input: key,\n                            path: [key],\n                            inst,\n                        });\n                    }\n                    continue;\n                }\n                const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[keyResult.value] = result.value;\n                    }));\n                }\n                else {\n                    if (result.issues.length) {\n                        payload.issues.push(...util.prefixIssues(key, result.issues));\n                    }\n                    payload.value[keyResult.value] = result.value;\n                }\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload;\n    };\n});\nexport const $ZodMap = /*@__PURE__*/ core.$constructor(\"$ZodMap\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Map)) {\n            payload.issues.push({\n                expected: \"map\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Map();\n        for (const [key, value] of input) {\n            const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n            const valueResult = def.valueType._zod.run({ value: value, issues: [] }, ctx);\n            if (keyResult instanceof Promise || valueResult instanceof Promise) {\n                proms.push(Promise.all([keyResult, valueResult]).then(([keyResult, valueResult]) => {\n                    handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n                }));\n            }\n            else {\n                handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {\n    if (keyResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, keyResult.issues));\n        }\n        else {\n            final.issues.push({\n                code: \"invalid_key\",\n                origin: \"map\",\n                input,\n                inst,\n                issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    if (valueResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, valueResult.issues));\n        }\n        else {\n            final.issues.push({\n                origin: \"map\",\n                code: \"invalid_element\",\n                input,\n                inst,\n                key: key,\n                issues: valueResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    final.value.set(keyResult.value, valueResult.value);\n}\nexport const $ZodSet = /*@__PURE__*/ core.$constructor(\"$ZodSet\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Set)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"set\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Set();\n        for (const item of input) {\n            const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleSetResult(result, payload)));\n            }\n            else\n                handleSetResult(result, payload);\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleSetResult(result, final) {\n    if (result.issues.length) {\n        final.issues.push(...result.issues);\n    }\n    final.value.add(result.value);\n}\nexport const $ZodEnum = /*@__PURE__*/ core.$constructor(\"$ZodEnum\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const values = util.getEnumValues(def.entries);\n    const valuesSet = new Set(values);\n    inst._zod.values = valuesSet;\n    inst._zod.pattern = new RegExp(`^(${values\n        .filter((k) => util.propertyKeyTypes.has(typeof k))\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o.toString()))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (valuesSet.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodLiteral = /*@__PURE__*/ core.$constructor(\"$ZodLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    if (def.values.length === 0) {\n        throw new Error(\"Cannot create literal schema with no valid values\");\n    }\n    const values = new Set(def.values);\n    inst._zod.values = values;\n    inst._zod.pattern = new RegExp(`^(${def.values\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o ? util.escapeRegex(o.toString()) : String(o)))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (values.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodFile = /*@__PURE__*/ core.$constructor(\"$ZodFile\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        // @ts-ignore\n        if (input instanceof File)\n            return payload;\n        payload.issues.push({\n            expected: \"file\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodTransform = /*@__PURE__*/ core.$constructor(\"$ZodTransform\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(inst.constructor.name);\n        }\n        const _out = def.transform(payload.value, payload);\n        if (ctx.async) {\n            const output = _out instanceof Promise ? _out : Promise.resolve(_out);\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        if (_out instanceof Promise) {\n            throw new core.$ZodAsyncError();\n        }\n        payload.value = _out;\n        return payload;\n    };\n});\nfunction handleOptionalResult(result, input) {\n    if (result.issues.length && input === undefined) {\n        return { issues: [], value: undefined };\n    }\n    return result;\n}\nexport const $ZodOptional = /*@__PURE__*/ core.$constructor(\"$ZodOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, undefined]) : undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)})?$`) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (def.innerType._zod.optin === \"optional\") {\n            const result = def.innerType._zod.run(payload, ctx);\n            if (result instanceof Promise)\n                return result.then((r) => handleOptionalResult(r, payload.value));\n            return handleOptionalResult(result, payload.value);\n        }\n        if (payload.value === undefined) {\n            return payload;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodExactOptional = /*@__PURE__*/ core.$constructor(\"$ZodExactOptional\", (inst, def) => {\n    // Call parent init - inherits optin/optout = \"optional\"\n    $ZodOptional.init(inst, def);\n    // Override values/pattern to NOT add undefined\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    util.defineLazy(inst._zod, \"pattern\", () => def.innerType._zod.pattern);\n    // Override parse to just delegate (no undefined handling)\n    inst._zod.parse = (payload, ctx) => {\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNullable = /*@__PURE__*/ core.$constructor(\"$ZodNullable\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)}|null)$`) : undefined;\n    });\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, null]) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        // Forward direction (decode): allow null to pass through\n        if (payload.value === null)\n            return payload;\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodDefault = /*@__PURE__*/ core.$constructor(\"$ZodDefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // inst._zod.qin = \"true\";\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply defaults for undefined input\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n            /**\n             * $ZodDefault returns the default value immediately in forward direction.\n             * It doesn't pass the default value into the validator (\"prefault\"). There's no reason to pass the default value through validation. The validity of the default is enforced by TypeScript statically. Otherwise, it's the responsibility of the user to ensure the default is valid. In the case of pipes with divergent in/out types, you can specify the default on the `in` schema of your ZodPipe to set a \"prefault\" for the pipe.   */\n            return payload;\n        }\n        // Forward direction: continue with default handling\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleDefaultResult(result, def));\n        }\n        return handleDefaultResult(result, def);\n    };\n});\nfunction handleDefaultResult(payload, def) {\n    if (payload.value === undefined) {\n        payload.value = def.defaultValue;\n    }\n    return payload;\n}\nexport const $ZodPrefault = /*@__PURE__*/ core.$constructor(\"$ZodPrefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply prefault for undefined input\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNonOptional = /*@__PURE__*/ core.$constructor(\"$ZodNonOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => {\n        const v = def.innerType._zod.values;\n        return v ? new Set([...v].filter((x) => x !== undefined)) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleNonOptionalResult(result, inst));\n        }\n        return handleNonOptionalResult(result, inst);\n    };\n});\nfunction handleNonOptionalResult(payload, inst) {\n    if (!payload.issues.length && payload.value === undefined) {\n        payload.issues.push({\n            code: \"invalid_type\",\n            expected: \"nonoptional\",\n            input: payload.value,\n            inst,\n        });\n    }\n    return payload;\n}\nexport const $ZodSuccess = /*@__PURE__*/ core.$constructor(\"$ZodSuccess\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(\"ZodSuccess\");\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.issues.length === 0;\n                return payload;\n            });\n        }\n        payload.value = result.issues.length === 0;\n        return payload;\n    };\n});\nexport const $ZodCatch = /*@__PURE__*/ core.$constructor(\"$ZodCatch\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply catch logic\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.value;\n                if (result.issues.length) {\n                    payload.value = def.catchValue({\n                        ...payload,\n                        error: {\n                            issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        },\n                        input: payload.value,\n                    });\n                    payload.issues = [];\n                }\n                return payload;\n            });\n        }\n        payload.value = result.value;\n        if (result.issues.length) {\n            payload.value = def.catchValue({\n                ...payload,\n                error: {\n                    issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                },\n                input: payload.value,\n            });\n            payload.issues = [];\n        }\n        return payload;\n    };\n});\nexport const $ZodNaN = /*@__PURE__*/ core.$constructor(\"$ZodNaN\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"number\" || !Number.isNaN(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"nan\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPipe = /*@__PURE__*/ core.$constructor(\"$ZodPipe\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            const right = def.out._zod.run(payload, ctx);\n            if (right instanceof Promise) {\n                return right.then((right) => handlePipeResult(right, def.in, ctx));\n            }\n            return handlePipeResult(right, def.in, ctx);\n        }\n        const left = def.in._zod.run(payload, ctx);\n        if (left instanceof Promise) {\n            return left.then((left) => handlePipeResult(left, def.out, ctx));\n        }\n        return handlePipeResult(left, def.out, ctx);\n    };\n});\nfunction handlePipeResult(left, next, ctx) {\n    if (left.issues.length) {\n        // prevent further checks\n        left.aborted = true;\n        return left;\n    }\n    return next._zod.run({ value: left.value, issues: left.issues }, ctx);\n}\nexport const $ZodCodec = /*@__PURE__*/ core.$constructor(\"$ZodCodec\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        const direction = ctx.direction || \"forward\";\n        if (direction === \"forward\") {\n            const left = def.in._zod.run(payload, ctx);\n            if (left instanceof Promise) {\n                return left.then((left) => handleCodecAResult(left, def, ctx));\n            }\n            return handleCodecAResult(left, def, ctx);\n        }\n        else {\n            const right = def.out._zod.run(payload, ctx);\n            if (right instanceof Promise) {\n                return right.then((right) => handleCodecAResult(right, def, ctx));\n            }\n            return handleCodecAResult(right, def, ctx);\n        }\n    };\n});\nfunction handleCodecAResult(result, def, ctx) {\n    if (result.issues.length) {\n        // prevent further checks\n        result.aborted = true;\n        return result;\n    }\n    const direction = ctx.direction || \"forward\";\n    if (direction === \"forward\") {\n        const transformed = def.transform(result.value, result);\n        if (transformed instanceof Promise) {\n            return transformed.then((value) => handleCodecTxResult(result, value, def.out, ctx));\n        }\n        return handleCodecTxResult(result, transformed, def.out, ctx);\n    }\n    else {\n        const transformed = def.reverseTransform(result.value, result);\n        if (transformed instanceof Promise) {\n            return transformed.then((value) => handleCodecTxResult(result, value, def.in, ctx));\n        }\n        return handleCodecTxResult(result, transformed, def.in, ctx);\n    }\n}\nfunction handleCodecTxResult(left, value, nextSchema, ctx) {\n    // Check if transform added any issues\n    if (left.issues.length) {\n        left.aborted = true;\n        return left;\n    }\n    return nextSchema._zod.run({ value, issues: left.issues }, ctx);\n}\nexport const $ZodReadonly = /*@__PURE__*/ core.$constructor(\"$ZodReadonly\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"propValues\", () => def.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType?._zod?.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType?._zod?.optout);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then(handleReadonlyResult);\n        }\n        return handleReadonlyResult(result);\n    };\n});\nfunction handleReadonlyResult(payload) {\n    payload.value = Object.freeze(payload.value);\n    return payload;\n}\nexport const $ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"$ZodTemplateLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const regexParts = [];\n    for (const part of def.parts) {\n        if (typeof part === \"object\" && part !== null) {\n            // is Zod schema\n            if (!part._zod.pattern) {\n                // if (!source)\n                throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);\n            }\n            const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;\n            if (!source)\n                throw new Error(`Invalid template literal part: ${part._zod.traits}`);\n            const start = source.startsWith(\"^\") ? 1 : 0;\n            const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n            regexParts.push(source.slice(start, end));\n        }\n        else if (part === null || util.primitiveTypes.has(typeof part)) {\n            regexParts.push(util.escapeRegex(`${part}`));\n        }\n        else {\n            throw new Error(`Invalid template literal part: ${part}`);\n        }\n    }\n    inst._zod.pattern = new RegExp(`^${regexParts.join(\"\")}$`);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"string\") {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"string\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        inst._zod.pattern.lastIndex = 0;\n        if (!inst._zod.pattern.test(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                code: \"invalid_format\",\n                format: def.format ?? \"template_literal\",\n                pattern: inst._zod.pattern.source,\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodFunction = /*@__PURE__*/ core.$constructor(\"$ZodFunction\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._def = def;\n    inst._zod.def = def;\n    inst.implement = (func) => {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implement() must be called with a function\");\n        }\n        return function (...args) {\n            const parsedArgs = inst._def.input ? parse(inst._def.input, args) : args;\n            const result = Reflect.apply(func, this, parsedArgs);\n            if (inst._def.output) {\n                return parse(inst._def.output, result);\n            }\n            return result;\n        };\n    };\n    inst.implementAsync = (func) => {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implementAsync() must be called with a function\");\n        }\n        return async function (...args) {\n            const parsedArgs = inst._def.input ? await parseAsync(inst._def.input, args) : args;\n            const result = await Reflect.apply(func, this, parsedArgs);\n            if (inst._def.output) {\n                return await parseAsync(inst._def.output, result);\n            }\n            return result;\n        };\n    };\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"function\") {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"function\",\n                input: payload.value,\n                inst,\n            });\n            return payload;\n        }\n        // Check if output is a promise type to determine if we should use async implementation\n        const hasPromiseOutput = inst._def.output && inst._def.output._zod.def.type === \"promise\";\n        if (hasPromiseOutput) {\n            payload.value = inst.implementAsync(payload.value);\n        }\n        else {\n            payload.value = inst.implement(payload.value);\n        }\n        return payload;\n    };\n    inst.input = (...args) => {\n        const F = inst.constructor;\n        if (Array.isArray(args[0])) {\n            return new F({\n                type: \"function\",\n                input: new $ZodTuple({\n                    type: \"tuple\",\n                    items: args[0],\n                    rest: args[1],\n                }),\n                output: inst._def.output,\n            });\n        }\n        return new F({\n            type: \"function\",\n            input: args[0],\n            output: inst._def.output,\n        });\n    };\n    inst.output = (output) => {\n        const F = inst.constructor;\n        return new F({\n            type: \"function\",\n            input: inst._def.input,\n            output,\n        });\n    };\n    return inst;\n});\nexport const $ZodPromise = /*@__PURE__*/ core.$constructor(\"$ZodPromise\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));\n    };\n});\nexport const $ZodLazy = /*@__PURE__*/ core.$constructor(\"$ZodLazy\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // let _innerType!: any;\n    // util.defineLazy(def, \"getter\", () => {\n    //   if (!_innerType) {\n    //     _innerType = def.getter();\n    //   }\n    //   return () => _innerType;\n    // });\n    util.defineLazy(inst._zod, \"innerType\", () => def.getter());\n    util.defineLazy(inst._zod, \"pattern\", () => inst._zod.innerType?._zod?.pattern);\n    util.defineLazy(inst._zod, \"propValues\", () => inst._zod.innerType?._zod?.propValues);\n    util.defineLazy(inst._zod, \"optin\", () => inst._zod.innerType?._zod?.optin ?? undefined);\n    util.defineLazy(inst._zod, \"optout\", () => inst._zod.innerType?._zod?.optout ?? undefined);\n    inst._zod.parse = (payload, ctx) => {\n        const inner = inst._zod.innerType;\n        return inner._zod.run(payload, ctx);\n    };\n});\nexport const $ZodCustom = /*@__PURE__*/ core.$constructor(\"$ZodCustom\", (inst, def) => {\n    checks.$ZodCheck.init(inst, def);\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _) => {\n        return payload;\n    };\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const r = def.fn(input);\n        if (r instanceof Promise) {\n            return r.then((r) => handleRefineResult(r, payload, input, inst));\n        }\n        handleRefineResult(r, payload, input, inst);\n        return;\n    };\n});\nfunction handleRefineResult(result, payload, input, inst) {\n    if (!result) {\n        const _iss = {\n            code: \"custom\",\n            input,\n            inst, // incorporates params.error into issue reporting\n            path: [...(inst._zod.def.path ?? [])], // incorporates params.error into issue reporting\n            continue: !inst._zod.def.abort,\n            // params: inst._zod.def.params,\n        };\n        if (inst._zod.def.params)\n            _iss.params = inst._zod.def.params;\n        payload.issues.push(util.issue(_iss));\n    }\n}\n","var _a;\nexport const $output = Symbol(\"ZodOutput\");\nexport const $input = Symbol(\"ZodInput\");\nexport class $ZodRegistry {\n    constructor() {\n        this._map = new WeakMap();\n        this._idmap = new Map();\n    }\n    add(schema, ..._meta) {\n        const meta = _meta[0];\n        this._map.set(schema, meta);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            this._idmap.set(meta.id, schema);\n        }\n        return this;\n    }\n    clear() {\n        this._map = new WeakMap();\n        this._idmap = new Map();\n        return this;\n    }\n    remove(schema) {\n        const meta = this._map.get(schema);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            this._idmap.delete(meta.id);\n        }\n        this._map.delete(schema);\n        return this;\n    }\n    get(schema) {\n        // return this._map.get(schema) as any;\n        // inherit metadata\n        const p = schema._zod.parent;\n        if (p) {\n            const pm = { ...(this.get(p) ?? {}) };\n            delete pm.id; // do not inherit id\n            const f = { ...pm, ...this._map.get(schema) };\n            return Object.keys(f).length ? f : undefined;\n        }\n        return this._map.get(schema);\n    }\n    has(schema) {\n        return this._map.has(schema);\n    }\n}\n// registries\nexport function registry() {\n    return new $ZodRegistry();\n}\n(_a = globalThis).__zod_globalRegistry ?? (_a.__zod_globalRegistry = registry());\nexport const globalRegistry = globalThis.__zod_globalRegistry;\n","import * as checks from \"./checks.js\";\nimport * as registries from \"./registries.js\";\nimport * as schemas from \"./schemas.js\";\nimport * as util from \"./util.js\";\n// @__NO_SIDE_EFFECTS__\nexport function _string(Class, params) {\n    return new Class({\n        type: \"string\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedString(Class, params) {\n    return new Class({\n        type: \"string\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _email(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"email\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _guid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"guid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uuidv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v4\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uuidv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v6\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uuidv7(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v7\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _emoji(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"emoji\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _nanoid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"nanoid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _cuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _cuid2(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid2\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _ulid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ulid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _xid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"xid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _ksuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ksuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _ipv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _ipv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _mac(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"mac\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _cidrv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _cidrv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _base64(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _base64url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _e164(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"e164\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _jwt(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"jwt\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport const TimePrecision = {\n    Any: null,\n    Minute: -1,\n    Second: 0,\n    Millisecond: 3,\n    Microsecond: 6,\n};\n// @__NO_SIDE_EFFECTS__\nexport function _isoDateTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"datetime\",\n        check: \"string_format\",\n        offset: false,\n        local: false,\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _isoDate(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"date\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _isoTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"time\",\n        check: \"string_format\",\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _isoDuration(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"duration\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _number(Class, params) {\n    return new Class({\n        type: \"number\",\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedNumber(Class, params) {\n    return new Class({\n        type: \"number\",\n        coerce: true,\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _int(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"safeint\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _float32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float32\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _float64(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float64\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _int32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"int32\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uint32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"uint32\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _boolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedBoolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _bigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedBigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _int64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"int64\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uint64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"uint64\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _symbol(Class, params) {\n    return new Class({\n        type: \"symbol\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _undefined(Class, params) {\n    return new Class({\n        type: \"undefined\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _null(Class, params) {\n    return new Class({\n        type: \"null\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _any(Class) {\n    return new Class({\n        type: \"any\",\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _unknown(Class) {\n    return new Class({\n        type: \"unknown\",\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _never(Class, params) {\n    return new Class({\n        type: \"never\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _void(Class, params) {\n    return new Class({\n        type: \"void\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _date(Class, params) {\n    return new Class({\n        type: \"date\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedDate(Class, params) {\n    return new Class({\n        type: \"date\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _nan(Class, params) {\n    return new Class({\n        type: \"nan\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _lt(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _lte(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.lte()` instead. */\n_lte as _max, };\n// @__NO_SIDE_EFFECTS__\nexport function _gt(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _gte(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.gte()` instead. */\n_gte as _min, };\n// @__NO_SIDE_EFFECTS__\nexport function _positive(params) {\n    return _gt(0, params);\n}\n// negative\n// @__NO_SIDE_EFFECTS__\nexport function _negative(params) {\n    return _lt(0, params);\n}\n// nonpositive\n// @__NO_SIDE_EFFECTS__\nexport function _nonpositive(params) {\n    return _lte(0, params);\n}\n// nonnegative\n// @__NO_SIDE_EFFECTS__\nexport function _nonnegative(params) {\n    return _gte(0, params);\n}\n// @__NO_SIDE_EFFECTS__\nexport function _multipleOf(value, params) {\n    return new checks.$ZodCheckMultipleOf({\n        check: \"multiple_of\",\n        ...util.normalizeParams(params),\n        value,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _maxSize(maximum, params) {\n    return new checks.$ZodCheckMaxSize({\n        check: \"max_size\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _minSize(minimum, params) {\n    return new checks.$ZodCheckMinSize({\n        check: \"min_size\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _size(size, params) {\n    return new checks.$ZodCheckSizeEquals({\n        check: \"size_equals\",\n        ...util.normalizeParams(params),\n        size,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _maxLength(maximum, params) {\n    const ch = new checks.$ZodCheckMaxLength({\n        check: \"max_length\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _minLength(minimum, params) {\n    return new checks.$ZodCheckMinLength({\n        check: \"min_length\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _length(length, params) {\n    return new checks.$ZodCheckLengthEquals({\n        check: \"length_equals\",\n        ...util.normalizeParams(params),\n        length,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _regex(pattern, params) {\n    return new checks.$ZodCheckRegex({\n        check: \"string_format\",\n        format: \"regex\",\n        ...util.normalizeParams(params),\n        pattern,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _lowercase(params) {\n    return new checks.$ZodCheckLowerCase({\n        check: \"string_format\",\n        format: \"lowercase\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uppercase(params) {\n    return new checks.$ZodCheckUpperCase({\n        check: \"string_format\",\n        format: \"uppercase\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _includes(includes, params) {\n    return new checks.$ZodCheckIncludes({\n        check: \"string_format\",\n        format: \"includes\",\n        ...util.normalizeParams(params),\n        includes,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _startsWith(prefix, params) {\n    return new checks.$ZodCheckStartsWith({\n        check: \"string_format\",\n        format: \"starts_with\",\n        ...util.normalizeParams(params),\n        prefix,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _endsWith(suffix, params) {\n    return new checks.$ZodCheckEndsWith({\n        check: \"string_format\",\n        format: \"ends_with\",\n        ...util.normalizeParams(params),\n        suffix,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _property(property, schema, params) {\n    return new checks.$ZodCheckProperty({\n        check: \"property\",\n        property,\n        schema,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _mime(types, params) {\n    return new checks.$ZodCheckMimeType({\n        check: \"mime_type\",\n        mime: types,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _overwrite(tx) {\n    return new checks.$ZodCheckOverwrite({\n        check: \"overwrite\",\n        tx,\n    });\n}\n// normalize\n// @__NO_SIDE_EFFECTS__\nexport function _normalize(form) {\n    return _overwrite((input) => input.normalize(form));\n}\n// trim\n// @__NO_SIDE_EFFECTS__\nexport function _trim() {\n    return _overwrite((input) => input.trim());\n}\n// toLowerCase\n// @__NO_SIDE_EFFECTS__\nexport function _toLowerCase() {\n    return _overwrite((input) => input.toLowerCase());\n}\n// toUpperCase\n// @__NO_SIDE_EFFECTS__\nexport function _toUpperCase() {\n    return _overwrite((input) => input.toUpperCase());\n}\n// slugify\n// @__NO_SIDE_EFFECTS__\nexport function _slugify() {\n    return _overwrite((input) => util.slugify(input));\n}\n// @__NO_SIDE_EFFECTS__\nexport function _array(Class, element, params) {\n    return new Class({\n        type: \"array\",\n        element,\n        // get element() {\n        //   return element;\n        // },\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _union(Class, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _xor(Class, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        inclusive: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _discriminatedUnion(Class, discriminator, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _intersection(Class, left, right) {\n    return new Class({\n        type: \"intersection\",\n        left,\n        right,\n    });\n}\n// export function _tuple(\n//   Class: util.SchemaClass<schemas.$ZodTuple>,\n//   items: [],\n//   params?: string | $ZodTupleParams\n// ): schemas.$ZodTuple<[], null>;\n// @__NO_SIDE_EFFECTS__\nexport function _tuple(Class, items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof schemas.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new Class({\n        type: \"tuple\",\n        items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _record(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"record\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _map(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"map\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _set(Class, valueType, params) {\n    return new Class({\n        type: \"set\",\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _enum(Class, values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    // if (Array.isArray(values)) {\n    //   for (const value of values) {\n    //     entries[value] = value;\n    //   }\n    // } else {\n    //   Object.assign(entries, values);\n    // }\n    // const entries: util.EnumLike = {};\n    // for (const val of values) {\n    //   entries[val] = val;\n    // }\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function _nativeEnum(Class, entries, params) {\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _literal(Class, value, params) {\n    return new Class({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _file(Class, params) {\n    return new Class({\n        type: \"file\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _transform(Class, fn) {\n    return new Class({\n        type: \"transform\",\n        transform: fn,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _optional(Class, innerType) {\n    return new Class({\n        type: \"optional\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _nullable(Class, innerType) {\n    return new Class({\n        type: \"nullable\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _default(Class, innerType, defaultValue) {\n    return new Class({\n        type: \"default\",\n        innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _nonoptional(Class, innerType, params) {\n    return new Class({\n        type: \"nonoptional\",\n        innerType,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _success(Class, innerType) {\n    return new Class({\n        type: \"success\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _catch(Class, innerType, catchValue) {\n    return new Class({\n        type: \"catch\",\n        innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _pipe(Class, in_, out) {\n    return new Class({\n        type: \"pipe\",\n        in: in_,\n        out,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _readonly(Class, innerType) {\n    return new Class({\n        type: \"readonly\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _templateLiteral(Class, parts, params) {\n    return new Class({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _lazy(Class, getter) {\n    return new Class({\n        type: \"lazy\",\n        getter,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _promise(Class, innerType) {\n    return new Class({\n        type: \"promise\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _custom(Class, fn, _params) {\n    const norm = util.normalizeParams(_params);\n    norm.abort ?? (norm.abort = true); // default to abort:false\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...norm,\n    });\n    return schema;\n}\n// same as _custom but defaults to abort:false\n// @__NO_SIDE_EFFECTS__\nexport function _refine(Class, fn, _params) {\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...util.normalizeParams(_params),\n    });\n    return schema;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _superRefine(fn) {\n    const ch = _check((payload) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, ch._zod.def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = ch);\n                _issue.continue ?? (_issue.continue = !ch._zod.def.abort); // abort is always undefined, so this is always true...\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        return fn(payload.value, payload);\n    });\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _check(fn, params) {\n    const ch = new checks.$ZodCheck({\n        check: \"custom\",\n        ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function describe(description) {\n    const ch = new checks.$ZodCheck({ check: \"describe\" });\n    ch._zod.onattach = [\n        (inst) => {\n            const existing = registries.globalRegistry.get(inst) ?? {};\n            registries.globalRegistry.add(inst, { ...existing, description });\n        },\n    ];\n    ch._zod.check = () => { }; // no-op check\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function meta(metadata) {\n    const ch = new checks.$ZodCheck({ check: \"meta\" });\n    ch._zod.onattach = [\n        (inst) => {\n            const existing = registries.globalRegistry.get(inst) ?? {};\n            registries.globalRegistry.add(inst, { ...existing, ...metadata });\n        },\n    ];\n    ch._zod.check = () => { }; // no-op check\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _stringbool(Classes, _params) {\n    const params = util.normalizeParams(_params);\n    let truthyArray = params.truthy ?? [\"true\", \"1\", \"yes\", \"on\", \"y\", \"enabled\"];\n    let falsyArray = params.falsy ?? [\"false\", \"0\", \"no\", \"off\", \"n\", \"disabled\"];\n    if (params.case !== \"sensitive\") {\n        truthyArray = truthyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n        falsyArray = falsyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n    }\n    const truthySet = new Set(truthyArray);\n    const falsySet = new Set(falsyArray);\n    const _Codec = Classes.Codec ?? schemas.$ZodCodec;\n    const _Boolean = Classes.Boolean ?? schemas.$ZodBoolean;\n    const _String = Classes.String ?? schemas.$ZodString;\n    const stringSchema = new _String({ type: \"string\", error: params.error });\n    const booleanSchema = new _Boolean({ type: \"boolean\", error: params.error });\n    const codec = new _Codec({\n        type: \"pipe\",\n        in: stringSchema,\n        out: booleanSchema,\n        transform: ((input, payload) => {\n            let data = input;\n            if (params.case !== \"sensitive\")\n                data = data.toLowerCase();\n            if (truthySet.has(data)) {\n                return true;\n            }\n            else if (falsySet.has(data)) {\n                return false;\n            }\n            else {\n                payload.issues.push({\n                    code: \"invalid_value\",\n                    expected: \"stringbool\",\n                    values: [...truthySet, ...falsySet],\n                    input: payload.value,\n                    inst: codec,\n                    continue: false,\n                });\n                return {};\n            }\n        }),\n        reverseTransform: ((input, _payload) => {\n            if (input === true) {\n                return truthyArray[0] || \"true\";\n            }\n            else {\n                return falsyArray[0] || \"false\";\n            }\n        }),\n        error: params.error,\n    });\n    return codec;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _stringFormat(Class, format, fnOrRegex, _params = {}) {\n    const params = util.normalizeParams(_params);\n    const def = {\n        ...util.normalizeParams(_params),\n        check: \"string_format\",\n        type: \"string\",\n        format,\n        fn: typeof fnOrRegex === \"function\" ? fnOrRegex : (val) => fnOrRegex.test(val),\n        ...params,\n    };\n    if (fnOrRegex instanceof RegExp) {\n        def.pattern = fnOrRegex;\n    }\n    const inst = new Class(def);\n    return inst;\n}\n","import { globalRegistry } from \"./registries.js\";\n// function initializeContext<T extends schemas.$ZodType>(inputs: JSONSchemaGeneratorParams<T>): ToJSONSchemaContext<T> {\n//   return {\n//     processor: inputs.processor,\n//     metadataRegistry: inputs.metadata ?? globalRegistry,\n//     target: inputs.target ?? \"draft-2020-12\",\n//     unrepresentable: inputs.unrepresentable ?? \"throw\",\n//   };\n// }\nexport function initializeContext(params) {\n    // Normalize target: convert old non-hyphenated versions to hyphenated versions\n    let target = params?.target ?? \"draft-2020-12\";\n    if (target === \"draft-4\")\n        target = \"draft-04\";\n    if (target === \"draft-7\")\n        target = \"draft-07\";\n    return {\n        processors: params.processors ?? {},\n        metadataRegistry: params?.metadata ?? globalRegistry,\n        target,\n        unrepresentable: params?.unrepresentable ?? \"throw\",\n        override: params?.override ?? (() => { }),\n        io: params?.io ?? \"output\",\n        counter: 0,\n        seen: new Map(),\n        cycles: params?.cycles ?? \"ref\",\n        reused: params?.reused ?? \"inline\",\n        external: params?.external ?? undefined,\n    };\n}\nexport function process(schema, ctx, _params = { path: [], schemaPath: [] }) {\n    var _a;\n    const def = schema._zod.def;\n    // check for schema in seens\n    const seen = ctx.seen.get(schema);\n    if (seen) {\n        seen.count++;\n        // check if cycle\n        const isCycle = _params.schemaPath.includes(schema);\n        if (isCycle) {\n            seen.cycle = _params.path;\n        }\n        return seen.schema;\n    }\n    // initialize\n    const result = { schema: {}, count: 1, cycle: undefined, path: _params.path };\n    ctx.seen.set(schema, result);\n    // custom method overrides default behavior\n    const overrideSchema = schema._zod.toJSONSchema?.();\n    if (overrideSchema) {\n        result.schema = overrideSchema;\n    }\n    else {\n        const params = {\n            ..._params,\n            schemaPath: [..._params.schemaPath, schema],\n            path: _params.path,\n        };\n        if (schema._zod.processJSONSchema) {\n            schema._zod.processJSONSchema(ctx, result.schema, params);\n        }\n        else {\n            const _json = result.schema;\n            const processor = ctx.processors[def.type];\n            if (!processor) {\n                throw new Error(`[toJSONSchema]: Non-representable type encountered: ${def.type}`);\n            }\n            processor(schema, ctx, _json, params);\n        }\n        const parent = schema._zod.parent;\n        if (parent) {\n            // Also set ref if processor didn't (for inheritance)\n            if (!result.ref)\n                result.ref = parent;\n            process(parent, ctx, params);\n            ctx.seen.get(parent).isParent = true;\n        }\n    }\n    // metadata\n    const meta = ctx.metadataRegistry.get(schema);\n    if (meta)\n        Object.assign(result.schema, meta);\n    if (ctx.io === \"input\" && isTransforming(schema)) {\n        // examples/defaults only apply to output type of pipe\n        delete result.schema.examples;\n        delete result.schema.default;\n    }\n    // set prefault as default\n    if (ctx.io === \"input\" && result.schema._prefault)\n        (_a = result.schema).default ?? (_a.default = result.schema._prefault);\n    delete result.schema._prefault;\n    // pulling fresh from ctx.seen in case it was overwritten\n    const _result = ctx.seen.get(schema);\n    return _result.schema;\n}\nexport function extractDefs(ctx, schema\n// params: EmitParams\n) {\n    // iterate over seen map;\n    const root = ctx.seen.get(schema);\n    if (!root)\n        throw new Error(\"Unprocessed schema. This is a bug in Zod.\");\n    // Track ids to detect duplicates across different schemas\n    const idToSchema = new Map();\n    for (const entry of ctx.seen.entries()) {\n        const id = ctx.metadataRegistry.get(entry[0])?.id;\n        if (id) {\n            const existing = idToSchema.get(id);\n            if (existing && existing !== entry[0]) {\n                throw new Error(`Duplicate schema id \"${id}\" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);\n            }\n            idToSchema.set(id, entry[0]);\n        }\n    }\n    // returns a ref to the schema\n    // defId will be empty if the ref points to an external schema (or #)\n    const makeURI = (entry) => {\n        // comparing the seen objects because sometimes\n        // multiple schemas map to the same seen object.\n        // e.g. lazy\n        // external is configured\n        const defsSegment = ctx.target === \"draft-2020-12\" ? \"$defs\" : \"definitions\";\n        if (ctx.external) {\n            const externalId = ctx.external.registry.get(entry[0])?.id; // ?? \"__shared\";// `__schema${ctx.counter++}`;\n            // check if schema is in the external registry\n            const uriGenerator = ctx.external.uri ?? ((id) => id);\n            if (externalId) {\n                return { ref: uriGenerator(externalId) };\n            }\n            // otherwise, add to __shared\n            const id = entry[1].defId ?? entry[1].schema.id ?? `schema${ctx.counter++}`;\n            entry[1].defId = id; // set defId so it will be reused if needed\n            return { defId: id, ref: `${uriGenerator(\"__shared\")}#/${defsSegment}/${id}` };\n        }\n        if (entry[1] === root) {\n            return { ref: \"#\" };\n        }\n        // self-contained schema\n        const uriPrefix = `#`;\n        const defUriPrefix = `${uriPrefix}/${defsSegment}/`;\n        const defId = entry[1].schema.id ?? `__schema${ctx.counter++}`;\n        return { defId, ref: defUriPrefix + defId };\n    };\n    // stored cached version in `def` property\n    // remove all properties, set $ref\n    const extractToDef = (entry) => {\n        // if the schema is already a reference, do not extract it\n        if (entry[1].schema.$ref) {\n            return;\n        }\n        const seen = entry[1];\n        const { ref, defId } = makeURI(entry);\n        seen.def = { ...seen.schema };\n        // defId won't be set if the schema is a reference to an external schema\n        // or if the schema is the root schema\n        if (defId)\n            seen.defId = defId;\n        // wipe away all properties except $ref\n        const schema = seen.schema;\n        for (const key in schema) {\n            delete schema[key];\n        }\n        schema.$ref = ref;\n    };\n    // throw on cycles\n    // break cycles\n    if (ctx.cycles === \"throw\") {\n        for (const entry of ctx.seen.entries()) {\n            const seen = entry[1];\n            if (seen.cycle) {\n                throw new Error(\"Cycle detected: \" +\n                    `#/${seen.cycle?.join(\"/\")}/<root>` +\n                    '\\n\\nSet the `cycles` parameter to `\"ref\"` to resolve cyclical schemas with defs.');\n            }\n        }\n    }\n    // extract schemas into $defs\n    for (const entry of ctx.seen.entries()) {\n        const seen = entry[1];\n        // convert root schema to # $ref\n        if (schema === entry[0]) {\n            extractToDef(entry); // this has special handling for the root schema\n            continue;\n        }\n        // extract schemas that are in the external registry\n        if (ctx.external) {\n            const ext = ctx.external.registry.get(entry[0])?.id;\n            if (schema !== entry[0] && ext) {\n                extractToDef(entry);\n                continue;\n            }\n        }\n        // extract schemas with `id` meta\n        const id = ctx.metadataRegistry.get(entry[0])?.id;\n        if (id) {\n            extractToDef(entry);\n            continue;\n        }\n        // break cycles\n        if (seen.cycle) {\n            // any\n            extractToDef(entry);\n            continue;\n        }\n        // extract reused schemas\n        if (seen.count > 1) {\n            if (ctx.reused === \"ref\") {\n                extractToDef(entry);\n                // biome-ignore lint:\n                continue;\n            }\n        }\n    }\n}\nexport function finalize(ctx, schema) {\n    const root = ctx.seen.get(schema);\n    if (!root)\n        throw new Error(\"Unprocessed schema. This is a bug in Zod.\");\n    // flatten refs - inherit properties from parent schemas\n    const flattenRef = (zodSchema) => {\n        const seen = ctx.seen.get(zodSchema);\n        // already processed\n        if (seen.ref === null)\n            return;\n        const schema = seen.def ?? seen.schema;\n        const _cached = { ...schema };\n        const ref = seen.ref;\n        seen.ref = null; // prevent infinite recursion\n        if (ref) {\n            flattenRef(ref);\n            const refSeen = ctx.seen.get(ref);\n            const refSchema = refSeen.schema;\n            // merge referenced schema into current\n            if (refSchema.$ref && (ctx.target === \"draft-07\" || ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\")) {\n                // older drafts can't combine $ref with other properties\n                schema.allOf = schema.allOf ?? [];\n                schema.allOf.push(refSchema);\n            }\n            else {\n                Object.assign(schema, refSchema);\n            }\n            // restore child's own properties (child wins)\n            Object.assign(schema, _cached);\n            const isParentRef = zodSchema._zod.parent === ref;\n            // For parent chain, child is a refinement - remove parent-only properties\n            if (isParentRef) {\n                for (const key in schema) {\n                    if (key === \"$ref\" || key === \"allOf\")\n                        continue;\n                    if (!(key in _cached)) {\n                        delete schema[key];\n                    }\n                }\n            }\n            // When ref was extracted to $defs, remove properties that match the definition\n            if (refSchema.$ref) {\n                for (const key in schema) {\n                    if (key === \"$ref\" || key === \"allOf\")\n                        continue;\n                    if (key in refSeen.def && JSON.stringify(schema[key]) === JSON.stringify(refSeen.def[key])) {\n                        delete schema[key];\n                    }\n                }\n            }\n        }\n        // If parent was extracted (has $ref), propagate $ref to this schema\n        // This handles cases like: readonly().meta({id}).describe()\n        // where processor sets ref to innerType but parent should be referenced\n        const parent = zodSchema._zod.parent;\n        if (parent && parent !== ref) {\n            // Ensure parent is processed first so its def has inherited properties\n            flattenRef(parent);\n            const parentSeen = ctx.seen.get(parent);\n            if (parentSeen?.schema.$ref) {\n                schema.$ref = parentSeen.schema.$ref;\n                // De-duplicate with parent's definition\n                if (parentSeen.def) {\n                    for (const key in schema) {\n                        if (key === \"$ref\" || key === \"allOf\")\n                            continue;\n                        if (key in parentSeen.def && JSON.stringify(schema[key]) === JSON.stringify(parentSeen.def[key])) {\n                            delete schema[key];\n                        }\n                    }\n                }\n            }\n        }\n        // execute overrides\n        ctx.override({\n            zodSchema: zodSchema,\n            jsonSchema: schema,\n            path: seen.path ?? [],\n        });\n    };\n    for (const entry of [...ctx.seen.entries()].reverse()) {\n        flattenRef(entry[0]);\n    }\n    const result = {};\n    if (ctx.target === \"draft-2020-12\") {\n        result.$schema = \"https://json-schema.org/draft/2020-12/schema\";\n    }\n    else if (ctx.target === \"draft-07\") {\n        result.$schema = \"http://json-schema.org/draft-07/schema#\";\n    }\n    else if (ctx.target === \"draft-04\") {\n        result.$schema = \"http://json-schema.org/draft-04/schema#\";\n    }\n    else if (ctx.target === \"openapi-3.0\") {\n        // OpenAPI 3.0 schema objects should not include a $schema property\n    }\n    else {\n        // Arbitrary string values are allowed but won't have a $schema property set\n    }\n    if (ctx.external?.uri) {\n        const id = ctx.external.registry.get(schema)?.id;\n        if (!id)\n            throw new Error(\"Schema is missing an `id` property\");\n        result.$id = ctx.external.uri(id);\n    }\n    Object.assign(result, root.def ?? root.schema);\n    // build defs object\n    const defs = ctx.external?.defs ?? {};\n    for (const entry of ctx.seen.entries()) {\n        const seen = entry[1];\n        if (seen.def && seen.defId) {\n            defs[seen.defId] = seen.def;\n        }\n    }\n    // set definitions in result\n    if (ctx.external) {\n    }\n    else {\n        if (Object.keys(defs).length > 0) {\n            if (ctx.target === \"draft-2020-12\") {\n                result.$defs = defs;\n            }\n            else {\n                result.definitions = defs;\n            }\n        }\n    }\n    try {\n        // this \"finalizes\" this schema and ensures all cycles are removed\n        // each call to finalize() is functionally independent\n        // though the seen map is shared\n        const finalized = JSON.parse(JSON.stringify(result));\n        Object.defineProperty(finalized, \"~standard\", {\n            value: {\n                ...schema[\"~standard\"],\n                jsonSchema: {\n                    input: createStandardJSONSchemaMethod(schema, \"input\", ctx.processors),\n                    output: createStandardJSONSchemaMethod(schema, \"output\", ctx.processors),\n                },\n            },\n            enumerable: false,\n            writable: false,\n        });\n        return finalized;\n    }\n    catch (_err) {\n        throw new Error(\"Error converting schema to JSON.\");\n    }\n}\nfunction isTransforming(_schema, _ctx) {\n    const ctx = _ctx ?? { seen: new Set() };\n    if (ctx.seen.has(_schema))\n        return false;\n    ctx.seen.add(_schema);\n    const def = _schema._zod.def;\n    if (def.type === \"transform\")\n        return true;\n    if (def.type === \"array\")\n        return isTransforming(def.element, ctx);\n    if (def.type === \"set\")\n        return isTransforming(def.valueType, ctx);\n    if (def.type === \"lazy\")\n        return isTransforming(def.getter(), ctx);\n    if (def.type === \"promise\" ||\n        def.type === \"optional\" ||\n        def.type === \"nonoptional\" ||\n        def.type === \"nullable\" ||\n        def.type === \"readonly\" ||\n        def.type === \"default\" ||\n        def.type === \"prefault\") {\n        return isTransforming(def.innerType, ctx);\n    }\n    if (def.type === \"intersection\") {\n        return isTransforming(def.left, ctx) || isTransforming(def.right, ctx);\n    }\n    if (def.type === \"record\" || def.type === \"map\") {\n        return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);\n    }\n    if (def.type === \"pipe\") {\n        return isTransforming(def.in, ctx) || isTransforming(def.out, ctx);\n    }\n    if (def.type === \"object\") {\n        for (const key in def.shape) {\n            if (isTransforming(def.shape[key], ctx))\n                return true;\n        }\n        return false;\n    }\n    if (def.type === \"union\") {\n        for (const option of def.options) {\n            if (isTransforming(option, ctx))\n                return true;\n        }\n        return false;\n    }\n    if (def.type === \"tuple\") {\n        for (const item of def.items) {\n            if (isTransforming(item, ctx))\n                return true;\n        }\n        if (def.rest && isTransforming(def.rest, ctx))\n            return true;\n        return false;\n    }\n    return false;\n}\n/**\n * Creates a toJSONSchema method for a schema instance.\n * This encapsulates the logic of initializing context, processing, extracting defs, and finalizing.\n */\nexport const createToJSONSchemaMethod = (schema, processors = {}) => (params) => {\n    const ctx = initializeContext({ ...params, processors });\n    process(schema, ctx);\n    extractDefs(ctx, schema);\n    return finalize(ctx, schema);\n};\nexport const createStandardJSONSchemaMethod = (schema, io, processors = {}) => (params) => {\n    const { libraryOptions, target } = params ?? {};\n    const ctx = initializeContext({ ...(libraryOptions ?? {}), target, io, processors });\n    process(schema, ctx);\n    extractDefs(ctx, schema);\n    return finalize(ctx, schema);\n};\n","import { extractDefs, finalize, initializeContext, process, } from \"./to-json-schema.js\";\nimport { getEnumValues } from \"./util.js\";\nconst formatMap = {\n    guid: \"uuid\",\n    url: \"uri\",\n    datetime: \"date-time\",\n    json_string: \"json-string\",\n    regex: \"\", // do not set\n};\n// ==================== SIMPLE TYPE PROCESSORS ====================\nexport const stringProcessor = (schema, ctx, _json, _params) => {\n    const json = _json;\n    json.type = \"string\";\n    const { minimum, maximum, format, patterns, contentEncoding } = schema._zod\n        .bag;\n    if (typeof minimum === \"number\")\n        json.minLength = minimum;\n    if (typeof maximum === \"number\")\n        json.maxLength = maximum;\n    // custom pattern overrides format\n    if (format) {\n        json.format = formatMap[format] ?? format;\n        if (json.format === \"\")\n            delete json.format; // empty format is not valid\n        // JSON Schema format: \"time\" requires a full time with offset or Z\n        // z.iso.time() does not include timezone information, so format: \"time\" should never be used\n        if (format === \"time\") {\n            delete json.format;\n        }\n    }\n    if (contentEncoding)\n        json.contentEncoding = contentEncoding;\n    if (patterns && patterns.size > 0) {\n        const regexes = [...patterns];\n        if (regexes.length === 1)\n            json.pattern = regexes[0].source;\n        else if (regexes.length > 1) {\n            json.allOf = [\n                ...regexes.map((regex) => ({\n                    ...(ctx.target === \"draft-07\" || ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\"\n                        ? { type: \"string\" }\n                        : {}),\n                    pattern: regex.source,\n                })),\n            ];\n        }\n    }\n};\nexport const numberProcessor = (schema, ctx, _json, _params) => {\n    const json = _json;\n    const { minimum, maximum, format, multipleOf, exclusiveMaximum, exclusiveMinimum } = schema._zod.bag;\n    if (typeof format === \"string\" && format.includes(\"int\"))\n        json.type = \"integer\";\n    else\n        json.type = \"number\";\n    if (typeof exclusiveMinimum === \"number\") {\n        if (ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\") {\n            json.minimum = exclusiveMinimum;\n            json.exclusiveMinimum = true;\n        }\n        else {\n            json.exclusiveMinimum = exclusiveMinimum;\n        }\n    }\n    if (typeof minimum === \"number\") {\n        json.minimum = minimum;\n        if (typeof exclusiveMinimum === \"number\" && ctx.target !== \"draft-04\") {\n            if (exclusiveMinimum >= minimum)\n                delete json.minimum;\n            else\n                delete json.exclusiveMinimum;\n        }\n    }\n    if (typeof exclusiveMaximum === \"number\") {\n        if (ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\") {\n            json.maximum = exclusiveMaximum;\n            json.exclusiveMaximum = true;\n        }\n        else {\n            json.exclusiveMaximum = exclusiveMaximum;\n        }\n    }\n    if (typeof maximum === \"number\") {\n        json.maximum = maximum;\n        if (typeof exclusiveMaximum === \"number\" && ctx.target !== \"draft-04\") {\n            if (exclusiveMaximum <= maximum)\n                delete json.maximum;\n            else\n                delete json.exclusiveMaximum;\n        }\n    }\n    if (typeof multipleOf === \"number\")\n        json.multipleOf = multipleOf;\n};\nexport const booleanProcessor = (_schema, _ctx, json, _params) => {\n    json.type = \"boolean\";\n};\nexport const bigintProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"BigInt cannot be represented in JSON Schema\");\n    }\n};\nexport const symbolProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Symbols cannot be represented in JSON Schema\");\n    }\n};\nexport const nullProcessor = (_schema, ctx, json, _params) => {\n    if (ctx.target === \"openapi-3.0\") {\n        json.type = \"string\";\n        json.nullable = true;\n        json.enum = [null];\n    }\n    else {\n        json.type = \"null\";\n    }\n};\nexport const undefinedProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Undefined cannot be represented in JSON Schema\");\n    }\n};\nexport const voidProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Void cannot be represented in JSON Schema\");\n    }\n};\nexport const neverProcessor = (_schema, _ctx, json, _params) => {\n    json.not = {};\n};\nexport const anyProcessor = (_schema, _ctx, _json, _params) => {\n    // empty schema accepts anything\n};\nexport const unknownProcessor = (_schema, _ctx, _json, _params) => {\n    // empty schema accepts anything\n};\nexport const dateProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Date cannot be represented in JSON Schema\");\n    }\n};\nexport const enumProcessor = (schema, _ctx, json, _params) => {\n    const def = schema._zod.def;\n    const values = getEnumValues(def.entries);\n    // Number enums can have both string and number values\n    if (values.every((v) => typeof v === \"number\"))\n        json.type = \"number\";\n    if (values.every((v) => typeof v === \"string\"))\n        json.type = \"string\";\n    json.enum = values;\n};\nexport const literalProcessor = (schema, ctx, json, _params) => {\n    const def = schema._zod.def;\n    const vals = [];\n    for (const val of def.values) {\n        if (val === undefined) {\n            if (ctx.unrepresentable === \"throw\") {\n                throw new Error(\"Literal `undefined` cannot be represented in JSON Schema\");\n            }\n            else {\n                // do not add to vals\n            }\n        }\n        else if (typeof val === \"bigint\") {\n            if (ctx.unrepresentable === \"throw\") {\n                throw new Error(\"BigInt literals cannot be represented in JSON Schema\");\n            }\n            else {\n                vals.push(Number(val));\n            }\n        }\n        else {\n            vals.push(val);\n        }\n    }\n    if (vals.length === 0) {\n        // do nothing (an undefined literal was stripped)\n    }\n    else if (vals.length === 1) {\n        const val = vals[0];\n        json.type = val === null ? \"null\" : typeof val;\n        if (ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\") {\n            json.enum = [val];\n        }\n        else {\n            json.const = val;\n        }\n    }\n    else {\n        if (vals.every((v) => typeof v === \"number\"))\n            json.type = \"number\";\n        if (vals.every((v) => typeof v === \"string\"))\n            json.type = \"string\";\n        if (vals.every((v) => typeof v === \"boolean\"))\n            json.type = \"boolean\";\n        if (vals.every((v) => v === null))\n            json.type = \"null\";\n        json.enum = vals;\n    }\n};\nexport const nanProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"NaN cannot be represented in JSON Schema\");\n    }\n};\nexport const templateLiteralProcessor = (schema, _ctx, json, _params) => {\n    const _json = json;\n    const pattern = schema._zod.pattern;\n    if (!pattern)\n        throw new Error(\"Pattern not found in template literal\");\n    _json.type = \"string\";\n    _json.pattern = pattern.source;\n};\nexport const fileProcessor = (schema, _ctx, json, _params) => {\n    const _json = json;\n    const file = {\n        type: \"string\",\n        format: \"binary\",\n        contentEncoding: \"binary\",\n    };\n    const { minimum, maximum, mime } = schema._zod.bag;\n    if (minimum !== undefined)\n        file.minLength = minimum;\n    if (maximum !== undefined)\n        file.maxLength = maximum;\n    if (mime) {\n        if (mime.length === 1) {\n            file.contentMediaType = mime[0];\n            Object.assign(_json, file);\n        }\n        else {\n            Object.assign(_json, file); // shared props at root\n            _json.anyOf = mime.map((m) => ({ contentMediaType: m })); // only contentMediaType differs\n        }\n    }\n    else {\n        Object.assign(_json, file);\n    }\n};\nexport const successProcessor = (_schema, _ctx, json, _params) => {\n    json.type = \"boolean\";\n};\nexport const customProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Custom types cannot be represented in JSON Schema\");\n    }\n};\nexport const functionProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Function types cannot be represented in JSON Schema\");\n    }\n};\nexport const transformProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Transforms cannot be represented in JSON Schema\");\n    }\n};\nexport const mapProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Map cannot be represented in JSON Schema\");\n    }\n};\nexport const setProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Set cannot be represented in JSON Schema\");\n    }\n};\n// ==================== COMPOSITE TYPE PROCESSORS ====================\nexport const arrayProcessor = (schema, ctx, _json, params) => {\n    const json = _json;\n    const def = schema._zod.def;\n    const { minimum, maximum } = schema._zod.bag;\n    if (typeof minimum === \"number\")\n        json.minItems = minimum;\n    if (typeof maximum === \"number\")\n        json.maxItems = maximum;\n    json.type = \"array\";\n    json.items = process(def.element, ctx, { ...params, path: [...params.path, \"items\"] });\n};\nexport const objectProcessor = (schema, ctx, _json, params) => {\n    const json = _json;\n    const def = schema._zod.def;\n    json.type = \"object\";\n    json.properties = {};\n    const shape = def.shape;\n    for (const key in shape) {\n        json.properties[key] = process(shape[key], ctx, {\n            ...params,\n            path: [...params.path, \"properties\", key],\n        });\n    }\n    // required keys\n    const allKeys = new Set(Object.keys(shape));\n    const requiredKeys = new Set([...allKeys].filter((key) => {\n        const v = def.shape[key]._zod;\n        if (ctx.io === \"input\") {\n            return v.optin === undefined;\n        }\n        else {\n            return v.optout === undefined;\n        }\n    }));\n    if (requiredKeys.size > 0) {\n        json.required = Array.from(requiredKeys);\n    }\n    // catchall\n    if (def.catchall?._zod.def.type === \"never\") {\n        // strict\n        json.additionalProperties = false;\n    }\n    else if (!def.catchall) {\n        // regular\n        if (ctx.io === \"output\")\n            json.additionalProperties = false;\n    }\n    else if (def.catchall) {\n        json.additionalProperties = process(def.catchall, ctx, {\n            ...params,\n            path: [...params.path, \"additionalProperties\"],\n        });\n    }\n};\nexport const unionProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    // Exclusive unions (inclusive === false) use oneOf (exactly one match) instead of anyOf (one or more matches)\n    // This includes both z.xor() and discriminated unions\n    const isExclusive = def.inclusive === false;\n    const options = def.options.map((x, i) => process(x, ctx, {\n        ...params,\n        path: [...params.path, isExclusive ? \"oneOf\" : \"anyOf\", i],\n    }));\n    if (isExclusive) {\n        json.oneOf = options;\n    }\n    else {\n        json.anyOf = options;\n    }\n};\nexport const intersectionProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    const a = process(def.left, ctx, {\n        ...params,\n        path: [...params.path, \"allOf\", 0],\n    });\n    const b = process(def.right, ctx, {\n        ...params,\n        path: [...params.path, \"allOf\", 1],\n    });\n    const isSimpleIntersection = (val) => \"allOf\" in val && Object.keys(val).length === 1;\n    const allOf = [\n        ...(isSimpleIntersection(a) ? a.allOf : [a]),\n        ...(isSimpleIntersection(b) ? b.allOf : [b]),\n    ];\n    json.allOf = allOf;\n};\nexport const tupleProcessor = (schema, ctx, _json, params) => {\n    const json = _json;\n    const def = schema._zod.def;\n    json.type = \"array\";\n    const prefixPath = ctx.target === \"draft-2020-12\" ? \"prefixItems\" : \"items\";\n    const restPath = ctx.target === \"draft-2020-12\" ? \"items\" : ctx.target === \"openapi-3.0\" ? \"items\" : \"additionalItems\";\n    const prefixItems = def.items.map((x, i) => process(x, ctx, {\n        ...params,\n        path: [...params.path, prefixPath, i],\n    }));\n    const rest = def.rest\n        ? process(def.rest, ctx, {\n            ...params,\n            path: [...params.path, restPath, ...(ctx.target === \"openapi-3.0\" ? [def.items.length] : [])],\n        })\n        : null;\n    if (ctx.target === \"draft-2020-12\") {\n        json.prefixItems = prefixItems;\n        if (rest) {\n            json.items = rest;\n        }\n    }\n    else if (ctx.target === \"openapi-3.0\") {\n        json.items = {\n            anyOf: prefixItems,\n        };\n        if (rest) {\n            json.items.anyOf.push(rest);\n        }\n        json.minItems = prefixItems.length;\n        if (!rest) {\n            json.maxItems = prefixItems.length;\n        }\n    }\n    else {\n        json.items = prefixItems;\n        if (rest) {\n            json.additionalItems = rest;\n        }\n    }\n    // length\n    const { minimum, maximum } = schema._zod.bag;\n    if (typeof minimum === \"number\")\n        json.minItems = minimum;\n    if (typeof maximum === \"number\")\n        json.maxItems = maximum;\n};\nexport const recordProcessor = (schema, ctx, _json, params) => {\n    const json = _json;\n    const def = schema._zod.def;\n    json.type = \"object\";\n    // For looseRecord with regex patterns, use patternProperties\n    // This correctly represents \"only validate keys matching the pattern\" semantics\n    // and composes well with allOf (intersections)\n    const keyType = def.keyType;\n    const keyBag = keyType._zod.bag;\n    const patterns = keyBag?.patterns;\n    if (def.mode === \"loose\" && patterns && patterns.size > 0) {\n        // Use patternProperties for looseRecord with regex patterns\n        const valueSchema = process(def.valueType, ctx, {\n            ...params,\n            path: [...params.path, \"patternProperties\", \"*\"],\n        });\n        json.patternProperties = {};\n        for (const pattern of patterns) {\n            json.patternProperties[pattern.source] = valueSchema;\n        }\n    }\n    else {\n        // Default behavior: use propertyNames + additionalProperties\n        if (ctx.target === \"draft-07\" || ctx.target === \"draft-2020-12\") {\n            json.propertyNames = process(def.keyType, ctx, {\n                ...params,\n                path: [...params.path, \"propertyNames\"],\n            });\n        }\n        json.additionalProperties = process(def.valueType, ctx, {\n            ...params,\n            path: [...params.path, \"additionalProperties\"],\n        });\n    }\n    // Add required for keys with discrete values (enum, literal, etc.)\n    const keyValues = keyType._zod.values;\n    if (keyValues) {\n        const validKeyValues = [...keyValues].filter((v) => typeof v === \"string\" || typeof v === \"number\");\n        if (validKeyValues.length > 0) {\n            json.required = validKeyValues;\n        }\n    }\n};\nexport const nullableProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    const inner = process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    if (ctx.target === \"openapi-3.0\") {\n        seen.ref = def.innerType;\n        json.nullable = true;\n    }\n    else {\n        json.anyOf = [inner, { type: \"null\" }];\n    }\n};\nexport const nonoptionalProcessor = (schema, ctx, _json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n};\nexport const defaultProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n    json.default = JSON.parse(JSON.stringify(def.defaultValue));\n};\nexport const prefaultProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n    if (ctx.io === \"input\")\n        json._prefault = JSON.parse(JSON.stringify(def.defaultValue));\n};\nexport const catchProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n    let catchValue;\n    try {\n        catchValue = def.catchValue(undefined);\n    }\n    catch {\n        throw new Error(\"Dynamic catch values are not supported in JSON Schema\");\n    }\n    json.default = catchValue;\n};\nexport const pipeProcessor = (schema, ctx, _json, params) => {\n    const def = schema._zod.def;\n    const innerType = ctx.io === \"input\" ? (def.in._zod.def.type === \"transform\" ? def.out : def.in) : def.out;\n    process(innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = innerType;\n};\nexport const readonlyProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n    json.readOnly = true;\n};\nexport const promiseProcessor = (schema, ctx, _json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n};\nexport const optionalProcessor = (schema, ctx, _json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n};\nexport const lazyProcessor = (schema, ctx, _json, params) => {\n    const innerType = schema._zod.innerType;\n    process(innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = innerType;\n};\n// ==================== ALL PROCESSORS ====================\nexport const allProcessors = {\n    string: stringProcessor,\n    number: numberProcessor,\n    boolean: booleanProcessor,\n    bigint: bigintProcessor,\n    symbol: symbolProcessor,\n    null: nullProcessor,\n    undefined: undefinedProcessor,\n    void: voidProcessor,\n    never: neverProcessor,\n    any: anyProcessor,\n    unknown: unknownProcessor,\n    date: dateProcessor,\n    enum: enumProcessor,\n    literal: literalProcessor,\n    nan: nanProcessor,\n    template_literal: templateLiteralProcessor,\n    file: fileProcessor,\n    success: successProcessor,\n    custom: customProcessor,\n    function: functionProcessor,\n    transform: transformProcessor,\n    map: mapProcessor,\n    set: setProcessor,\n    array: arrayProcessor,\n    object: objectProcessor,\n    union: unionProcessor,\n    intersection: intersectionProcessor,\n    tuple: tupleProcessor,\n    record: recordProcessor,\n    nullable: nullableProcessor,\n    nonoptional: nonoptionalProcessor,\n    default: defaultProcessor,\n    prefault: prefaultProcessor,\n    catch: catchProcessor,\n    pipe: pipeProcessor,\n    readonly: readonlyProcessor,\n    promise: promiseProcessor,\n    optional: optionalProcessor,\n    lazy: lazyProcessor,\n};\nexport function toJSONSchema(input, params) {\n    if (\"_idmap\" in input) {\n        // Registry case\n        const registry = input;\n        const ctx = initializeContext({ ...params, processors: allProcessors });\n        const defs = {};\n        // First pass: process all schemas to build the seen map\n        for (const entry of registry._idmap.entries()) {\n            const [_, schema] = entry;\n            process(schema, ctx);\n        }\n        const schemas = {};\n        const external = {\n            registry,\n            uri: params?.uri,\n            defs,\n        };\n        // Update the context with external configuration\n        ctx.external = external;\n        // Second pass: emit each schema\n        for (const entry of registry._idmap.entries()) {\n            const [key, schema] = entry;\n            extractDefs(ctx, schema);\n            schemas[key] = finalize(ctx, schema);\n        }\n        if (Object.keys(defs).length > 0) {\n            const defsSegment = ctx.target === \"draft-2020-12\" ? \"$defs\" : \"definitions\";\n            schemas.__shared = {\n                [defsSegment]: defs,\n            };\n        }\n        return { schemas };\n    }\n    // Single schema case\n    const ctx = initializeContext({ ...params, processors: allProcessors });\n    process(input, ctx);\n    extractDefs(ctx, input);\n    return finalize(ctx, input);\n}\n","import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport const ZodISODateTime = /*@__PURE__*/ core.$constructor(\"ZodISODateTime\", (inst, def) => {\n    core.$ZodISODateTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function datetime(params) {\n    return core._isoDateTime(ZodISODateTime, params);\n}\nexport const ZodISODate = /*@__PURE__*/ core.$constructor(\"ZodISODate\", (inst, def) => {\n    core.$ZodISODate.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function date(params) {\n    return core._isoDate(ZodISODate, params);\n}\nexport const ZodISOTime = /*@__PURE__*/ core.$constructor(\"ZodISOTime\", (inst, def) => {\n    core.$ZodISOTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function time(params) {\n    return core._isoTime(ZodISOTime, params);\n}\nexport const ZodISODuration = /*@__PURE__*/ core.$constructor(\"ZodISODuration\", (inst, def) => {\n    core.$ZodISODuration.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function duration(params) {\n    return core._isoDuration(ZodISODuration, params);\n}\n","import * as core from \"../core/index.js\";\nimport { $ZodError } from \"../core/index.js\";\nimport * as util from \"../core/util.js\";\nconst initializer = (inst, issues) => {\n    $ZodError.init(inst, issues);\n    inst.name = \"ZodError\";\n    Object.defineProperties(inst, {\n        format: {\n            value: (mapper) => core.formatError(inst, mapper),\n            // enumerable: false,\n        },\n        flatten: {\n            value: (mapper) => core.flattenError(inst, mapper),\n            // enumerable: false,\n        },\n        addIssue: {\n            value: (issue) => {\n                inst.issues.push(issue);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        addIssues: {\n            value: (issues) => {\n                inst.issues.push(...issues);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        isEmpty: {\n            get() {\n                return inst.issues.length === 0;\n            },\n            // enumerable: false,\n        },\n    });\n    // Object.defineProperty(inst, \"isEmpty\", {\n    //   get() {\n    //     return inst.issues.length === 0;\n    //   },\n    // });\n};\nexport const ZodError = core.$constructor(\"ZodError\", initializer);\nexport const ZodRealError = core.$constructor(\"ZodError\", initializer, {\n    Parent: Error,\n});\n// /** @deprecated Use `z.core.$ZodErrorMapCtx` instead. */\n// export type ErrorMapCtx = core.$ZodErrorMapCtx;\n","import * as core from \"../core/index.js\";\nimport { ZodRealError } from \"./errors.js\";\nexport const parse = /* @__PURE__ */ core._parse(ZodRealError);\nexport const parseAsync = /* @__PURE__ */ core._parseAsync(ZodRealError);\nexport const safeParse = /* @__PURE__ */ core._safeParse(ZodRealError);\nexport const safeParseAsync = /* @__PURE__ */ core._safeParseAsync(ZodRealError);\n// Codec functions\nexport const encode = /* @__PURE__ */ core._encode(ZodRealError);\nexport const decode = /* @__PURE__ */ core._decode(ZodRealError);\nexport const encodeAsync = /* @__PURE__ */ core._encodeAsync(ZodRealError);\nexport const decodeAsync = /* @__PURE__ */ core._decodeAsync(ZodRealError);\nexport const safeEncode = /* @__PURE__ */ core._safeEncode(ZodRealError);\nexport const safeDecode = /* @__PURE__ */ core._safeDecode(ZodRealError);\nexport const safeEncodeAsync = /* @__PURE__ */ core._safeEncodeAsync(ZodRealError);\nexport const safeDecodeAsync = /* @__PURE__ */ core._safeDecodeAsync(ZodRealError);\n","import * as core from \"../core/index.js\";\nimport { util } from \"../core/index.js\";\nimport * as processors from \"../core/json-schema-processors.js\";\nimport { createStandardJSONSchemaMethod, createToJSONSchemaMethod } from \"../core/to-json-schema.js\";\nimport * as checks from \"./checks.js\";\nimport * as iso from \"./iso.js\";\nimport * as parse from \"./parse.js\";\nexport const ZodType = /*@__PURE__*/ core.$constructor(\"ZodType\", (inst, def) => {\n    core.$ZodType.init(inst, def);\n    Object.assign(inst[\"~standard\"], {\n        jsonSchema: {\n            input: createStandardJSONSchemaMethod(inst, \"input\"),\n            output: createStandardJSONSchemaMethod(inst, \"output\"),\n        },\n    });\n    inst.toJSONSchema = createToJSONSchemaMethod(inst, {});\n    inst.def = def;\n    inst.type = def.type;\n    Object.defineProperty(inst, \"_def\", { value: def });\n    // base methods\n    inst.check = (...checks) => {\n        return inst.clone(util.mergeDefs(def, {\n            checks: [\n                ...(def.checks ?? []),\n                ...checks.map((ch) => typeof ch === \"function\" ? { _zod: { check: ch, def: { check: \"custom\" }, onattach: [] } } : ch),\n            ],\n        }), {\n            parent: true,\n        });\n    };\n    inst.with = inst.check;\n    inst.clone = (def, params) => core.clone(inst, def, params);\n    inst.brand = () => inst;\n    inst.register = ((reg, meta) => {\n        reg.add(inst, meta);\n        return inst;\n    });\n    // parsing\n    inst.parse = (data, params) => parse.parse(inst, data, params, { callee: inst.parse });\n    inst.safeParse = (data, params) => parse.safeParse(inst, data, params);\n    inst.parseAsync = async (data, params) => parse.parseAsync(inst, data, params, { callee: inst.parseAsync });\n    inst.safeParseAsync = async (data, params) => parse.safeParseAsync(inst, data, params);\n    inst.spa = inst.safeParseAsync;\n    // encoding/decoding\n    inst.encode = (data, params) => parse.encode(inst, data, params);\n    inst.decode = (data, params) => parse.decode(inst, data, params);\n    inst.encodeAsync = async (data, params) => parse.encodeAsync(inst, data, params);\n    inst.decodeAsync = async (data, params) => parse.decodeAsync(inst, data, params);\n    inst.safeEncode = (data, params) => parse.safeEncode(inst, data, params);\n    inst.safeDecode = (data, params) => parse.safeDecode(inst, data, params);\n    inst.safeEncodeAsync = async (data, params) => parse.safeEncodeAsync(inst, data, params);\n    inst.safeDecodeAsync = async (data, params) => parse.safeDecodeAsync(inst, data, params);\n    // refinements\n    inst.refine = (check, params) => inst.check(refine(check, params));\n    inst.superRefine = (refinement) => inst.check(superRefine(refinement));\n    inst.overwrite = (fn) => inst.check(checks.overwrite(fn));\n    // wrappers\n    inst.optional = () => optional(inst);\n    inst.exactOptional = () => exactOptional(inst);\n    inst.nullable = () => nullable(inst);\n    inst.nullish = () => optional(nullable(inst));\n    inst.nonoptional = (params) => nonoptional(inst, params);\n    inst.array = () => array(inst);\n    inst.or = (arg) => union([inst, arg]);\n    inst.and = (arg) => intersection(inst, arg);\n    inst.transform = (tx) => pipe(inst, transform(tx));\n    inst.default = (def) => _default(inst, def);\n    inst.prefault = (def) => prefault(inst, def);\n    // inst.coalesce = (def, params) => coalesce(inst, def, params);\n    inst.catch = (params) => _catch(inst, params);\n    inst.pipe = (target) => pipe(inst, target);\n    inst.readonly = () => readonly(inst);\n    // meta\n    inst.describe = (description) => {\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, { description });\n        return cl;\n    };\n    Object.defineProperty(inst, \"description\", {\n        get() {\n            return core.globalRegistry.get(inst)?.description;\n        },\n        configurable: true,\n    });\n    inst.meta = (...args) => {\n        if (args.length === 0) {\n            return core.globalRegistry.get(inst);\n        }\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, args[0]);\n        return cl;\n    };\n    // helpers\n    inst.isOptional = () => inst.safeParse(undefined).success;\n    inst.isNullable = () => inst.safeParse(null).success;\n    inst.apply = (fn) => fn(inst);\n    return inst;\n});\n/** @internal */\nexport const _ZodString = /*@__PURE__*/ core.$constructor(\"_ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.stringProcessor(inst, ctx, json, params);\n    const bag = inst._zod.bag;\n    inst.format = bag.format ?? null;\n    inst.minLength = bag.minimum ?? null;\n    inst.maxLength = bag.maximum ?? null;\n    // validations\n    inst.regex = (...args) => inst.check(checks.regex(...args));\n    inst.includes = (...args) => inst.check(checks.includes(...args));\n    inst.startsWith = (...args) => inst.check(checks.startsWith(...args));\n    inst.endsWith = (...args) => inst.check(checks.endsWith(...args));\n    inst.min = (...args) => inst.check(checks.minLength(...args));\n    inst.max = (...args) => inst.check(checks.maxLength(...args));\n    inst.length = (...args) => inst.check(checks.length(...args));\n    inst.nonempty = (...args) => inst.check(checks.minLength(1, ...args));\n    inst.lowercase = (params) => inst.check(checks.lowercase(params));\n    inst.uppercase = (params) => inst.check(checks.uppercase(params));\n    // transforms\n    inst.trim = () => inst.check(checks.trim());\n    inst.normalize = (...args) => inst.check(checks.normalize(...args));\n    inst.toLowerCase = () => inst.check(checks.toLowerCase());\n    inst.toUpperCase = () => inst.check(checks.toUpperCase());\n    inst.slugify = () => inst.check(checks.slugify());\n});\nexport const ZodString = /*@__PURE__*/ core.$constructor(\"ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    _ZodString.init(inst, def);\n    inst.email = (params) => inst.check(core._email(ZodEmail, params));\n    inst.url = (params) => inst.check(core._url(ZodURL, params));\n    inst.jwt = (params) => inst.check(core._jwt(ZodJWT, params));\n    inst.emoji = (params) => inst.check(core._emoji(ZodEmoji, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.uuid = (params) => inst.check(core._uuid(ZodUUID, params));\n    inst.uuidv4 = (params) => inst.check(core._uuidv4(ZodUUID, params));\n    inst.uuidv6 = (params) => inst.check(core._uuidv6(ZodUUID, params));\n    inst.uuidv7 = (params) => inst.check(core._uuidv7(ZodUUID, params));\n    inst.nanoid = (params) => inst.check(core._nanoid(ZodNanoID, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.cuid = (params) => inst.check(core._cuid(ZodCUID, params));\n    inst.cuid2 = (params) => inst.check(core._cuid2(ZodCUID2, params));\n    inst.ulid = (params) => inst.check(core._ulid(ZodULID, params));\n    inst.base64 = (params) => inst.check(core._base64(ZodBase64, params));\n    inst.base64url = (params) => inst.check(core._base64url(ZodBase64URL, params));\n    inst.xid = (params) => inst.check(core._xid(ZodXID, params));\n    inst.ksuid = (params) => inst.check(core._ksuid(ZodKSUID, params));\n    inst.ipv4 = (params) => inst.check(core._ipv4(ZodIPv4, params));\n    inst.ipv6 = (params) => inst.check(core._ipv6(ZodIPv6, params));\n    inst.cidrv4 = (params) => inst.check(core._cidrv4(ZodCIDRv4, params));\n    inst.cidrv6 = (params) => inst.check(core._cidrv6(ZodCIDRv6, params));\n    inst.e164 = (params) => inst.check(core._e164(ZodE164, params));\n    // iso\n    inst.datetime = (params) => inst.check(iso.datetime(params));\n    inst.date = (params) => inst.check(iso.date(params));\n    inst.time = (params) => inst.check(iso.time(params));\n    inst.duration = (params) => inst.check(iso.duration(params));\n});\nexport function string(params) {\n    return core._string(ZodString, params);\n}\nexport const ZodStringFormat = /*@__PURE__*/ core.$constructor(\"ZodStringFormat\", (inst, def) => {\n    core.$ZodStringFormat.init(inst, def);\n    _ZodString.init(inst, def);\n});\nexport const ZodEmail = /*@__PURE__*/ core.$constructor(\"ZodEmail\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmail.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function email(params) {\n    return core._email(ZodEmail, params);\n}\nexport const ZodGUID = /*@__PURE__*/ core.$constructor(\"ZodGUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodGUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function guid(params) {\n    return core._guid(ZodGUID, params);\n}\nexport const ZodUUID = /*@__PURE__*/ core.$constructor(\"ZodUUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodUUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function uuid(params) {\n    return core._uuid(ZodUUID, params);\n}\nexport function uuidv4(params) {\n    return core._uuidv4(ZodUUID, params);\n}\n// ZodUUIDv6\nexport function uuidv6(params) {\n    return core._uuidv6(ZodUUID, params);\n}\n// ZodUUIDv7\nexport function uuidv7(params) {\n    return core._uuidv7(ZodUUID, params);\n}\nexport const ZodURL = /*@__PURE__*/ core.$constructor(\"ZodURL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodURL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function url(params) {\n    return core._url(ZodURL, params);\n}\nexport function httpUrl(params) {\n    return core._url(ZodURL, {\n        protocol: /^https?$/,\n        hostname: core.regexes.domain,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEmoji = /*@__PURE__*/ core.$constructor(\"ZodEmoji\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmoji.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function emoji(params) {\n    return core._emoji(ZodEmoji, params);\n}\nexport const ZodNanoID = /*@__PURE__*/ core.$constructor(\"ZodNanoID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodNanoID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function nanoid(params) {\n    return core._nanoid(ZodNanoID, params);\n}\nexport const ZodCUID = /*@__PURE__*/ core.$constructor(\"ZodCUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid(params) {\n    return core._cuid(ZodCUID, params);\n}\nexport const ZodCUID2 = /*@__PURE__*/ core.$constructor(\"ZodCUID2\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID2.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid2(params) {\n    return core._cuid2(ZodCUID2, params);\n}\nexport const ZodULID = /*@__PURE__*/ core.$constructor(\"ZodULID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodULID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ulid(params) {\n    return core._ulid(ZodULID, params);\n}\nexport const ZodXID = /*@__PURE__*/ core.$constructor(\"ZodXID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodXID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function xid(params) {\n    return core._xid(ZodXID, params);\n}\nexport const ZodKSUID = /*@__PURE__*/ core.$constructor(\"ZodKSUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodKSUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ksuid(params) {\n    return core._ksuid(ZodKSUID, params);\n}\nexport const ZodIPv4 = /*@__PURE__*/ core.$constructor(\"ZodIPv4\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv4(params) {\n    return core._ipv4(ZodIPv4, params);\n}\nexport const ZodMAC = /*@__PURE__*/ core.$constructor(\"ZodMAC\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodMAC.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function mac(params) {\n    return core._mac(ZodMAC, params);\n}\nexport const ZodIPv6 = /*@__PURE__*/ core.$constructor(\"ZodIPv6\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv6(params) {\n    return core._ipv6(ZodIPv6, params);\n}\nexport const ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv4\", (inst, def) => {\n    core.$ZodCIDRv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv4(params) {\n    return core._cidrv4(ZodCIDRv4, params);\n}\nexport const ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv6\", (inst, def) => {\n    core.$ZodCIDRv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv6(params) {\n    return core._cidrv6(ZodCIDRv6, params);\n}\nexport const ZodBase64 = /*@__PURE__*/ core.$constructor(\"ZodBase64\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64(params) {\n    return core._base64(ZodBase64, params);\n}\nexport const ZodBase64URL = /*@__PURE__*/ core.$constructor(\"ZodBase64URL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64URL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64url(params) {\n    return core._base64url(ZodBase64URL, params);\n}\nexport const ZodE164 = /*@__PURE__*/ core.$constructor(\"ZodE164\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodE164.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function e164(params) {\n    return core._e164(ZodE164, params);\n}\nexport const ZodJWT = /*@__PURE__*/ core.$constructor(\"ZodJWT\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodJWT.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function jwt(params) {\n    return core._jwt(ZodJWT, params);\n}\nexport const ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"ZodCustomStringFormat\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCustomStringFormat.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function stringFormat(format, fnOrRegex, _params = {}) {\n    return core._stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);\n}\nexport function hostname(_params) {\n    return core._stringFormat(ZodCustomStringFormat, \"hostname\", core.regexes.hostname, _params);\n}\nexport function hex(_params) {\n    return core._stringFormat(ZodCustomStringFormat, \"hex\", core.regexes.hex, _params);\n}\nexport function hash(alg, params) {\n    const enc = params?.enc ?? \"hex\";\n    const format = `${alg}_${enc}`;\n    const regex = core.regexes[format];\n    if (!regex)\n        throw new Error(`Unrecognized hash format: ${format}`);\n    return core._stringFormat(ZodCustomStringFormat, format, regex, params);\n}\nexport const ZodNumber = /*@__PURE__*/ core.$constructor(\"ZodNumber\", (inst, def) => {\n    core.$ZodNumber.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.numberProcessor(inst, ctx, json, params);\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.int = (params) => inst.check(int(params));\n    inst.safe = (params) => inst.check(int(params));\n    inst.positive = (params) => inst.check(checks.gt(0, params));\n    inst.nonnegative = (params) => inst.check(checks.gte(0, params));\n    inst.negative = (params) => inst.check(checks.lt(0, params));\n    inst.nonpositive = (params) => inst.check(checks.lte(0, params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    inst.step = (value, params) => inst.check(checks.multipleOf(value, params));\n    // inst.finite = (params) => inst.check(core.finite(params));\n    inst.finite = () => inst;\n    const bag = inst._zod.bag;\n    inst.minValue =\n        Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;\n    inst.maxValue =\n        Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;\n    inst.isInt = (bag.format ?? \"\").includes(\"int\") || Number.isSafeInteger(bag.multipleOf ?? 0.5);\n    inst.isFinite = true;\n    inst.format = bag.format ?? null;\n});\nexport function number(params) {\n    return core._number(ZodNumber, params);\n}\nexport const ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"ZodNumberFormat\", (inst, def) => {\n    core.$ZodNumberFormat.init(inst, def);\n    ZodNumber.init(inst, def);\n});\nexport function int(params) {\n    return core._int(ZodNumberFormat, params);\n}\nexport function float32(params) {\n    return core._float32(ZodNumberFormat, params);\n}\nexport function float64(params) {\n    return core._float64(ZodNumberFormat, params);\n}\nexport function int32(params) {\n    return core._int32(ZodNumberFormat, params);\n}\nexport function uint32(params) {\n    return core._uint32(ZodNumberFormat, params);\n}\nexport const ZodBoolean = /*@__PURE__*/ core.$constructor(\"ZodBoolean\", (inst, def) => {\n    core.$ZodBoolean.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.booleanProcessor(inst, ctx, json, params);\n});\nexport function boolean(params) {\n    return core._boolean(ZodBoolean, params);\n}\nexport const ZodBigInt = /*@__PURE__*/ core.$constructor(\"ZodBigInt\", (inst, def) => {\n    core.$ZodBigInt.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.bigintProcessor(inst, ctx, json, params);\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.positive = (params) => inst.check(checks.gt(BigInt(0), params));\n    inst.negative = (params) => inst.check(checks.lt(BigInt(0), params));\n    inst.nonpositive = (params) => inst.check(checks.lte(BigInt(0), params));\n    inst.nonnegative = (params) => inst.check(checks.gte(BigInt(0), params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    const bag = inst._zod.bag;\n    inst.minValue = bag.minimum ?? null;\n    inst.maxValue = bag.maximum ?? null;\n    inst.format = bag.format ?? null;\n});\nexport function bigint(params) {\n    return core._bigint(ZodBigInt, params);\n}\nexport const ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"ZodBigIntFormat\", (inst, def) => {\n    core.$ZodBigIntFormat.init(inst, def);\n    ZodBigInt.init(inst, def);\n});\n// int64\nexport function int64(params) {\n    return core._int64(ZodBigIntFormat, params);\n}\n// uint64\nexport function uint64(params) {\n    return core._uint64(ZodBigIntFormat, params);\n}\nexport const ZodSymbol = /*@__PURE__*/ core.$constructor(\"ZodSymbol\", (inst, def) => {\n    core.$ZodSymbol.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.symbolProcessor(inst, ctx, json, params);\n});\nexport function symbol(params) {\n    return core._symbol(ZodSymbol, params);\n}\nexport const ZodUndefined = /*@__PURE__*/ core.$constructor(\"ZodUndefined\", (inst, def) => {\n    core.$ZodUndefined.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.undefinedProcessor(inst, ctx, json, params);\n});\nfunction _undefined(params) {\n    return core._undefined(ZodUndefined, params);\n}\nexport { _undefined as undefined };\nexport const ZodNull = /*@__PURE__*/ core.$constructor(\"ZodNull\", (inst, def) => {\n    core.$ZodNull.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.nullProcessor(inst, ctx, json, params);\n});\nfunction _null(params) {\n    return core._null(ZodNull, params);\n}\nexport { _null as null };\nexport const ZodAny = /*@__PURE__*/ core.$constructor(\"ZodAny\", (inst, def) => {\n    core.$ZodAny.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.anyProcessor(inst, ctx, json, params);\n});\nexport function any() {\n    return core._any(ZodAny);\n}\nexport const ZodUnknown = /*@__PURE__*/ core.$constructor(\"ZodUnknown\", (inst, def) => {\n    core.$ZodUnknown.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.unknownProcessor(inst, ctx, json, params);\n});\nexport function unknown() {\n    return core._unknown(ZodUnknown);\n}\nexport const ZodNever = /*@__PURE__*/ core.$constructor(\"ZodNever\", (inst, def) => {\n    core.$ZodNever.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.neverProcessor(inst, ctx, json, params);\n});\nexport function never(params) {\n    return core._never(ZodNever, params);\n}\nexport const ZodVoid = /*@__PURE__*/ core.$constructor(\"ZodVoid\", (inst, def) => {\n    core.$ZodVoid.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.voidProcessor(inst, ctx, json, params);\n});\nfunction _void(params) {\n    return core._void(ZodVoid, params);\n}\nexport { _void as void };\nexport const ZodDate = /*@__PURE__*/ core.$constructor(\"ZodDate\", (inst, def) => {\n    core.$ZodDate.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.dateProcessor(inst, ctx, json, params);\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    const c = inst._zod.bag;\n    inst.minDate = c.minimum ? new Date(c.minimum) : null;\n    inst.maxDate = c.maximum ? new Date(c.maximum) : null;\n});\nexport function date(params) {\n    return core._date(ZodDate, params);\n}\nexport const ZodArray = /*@__PURE__*/ core.$constructor(\"ZodArray\", (inst, def) => {\n    core.$ZodArray.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.arrayProcessor(inst, ctx, json, params);\n    inst.element = def.element;\n    inst.min = (minLength, params) => inst.check(checks.minLength(minLength, params));\n    inst.nonempty = (params) => inst.check(checks.minLength(1, params));\n    inst.max = (maxLength, params) => inst.check(checks.maxLength(maxLength, params));\n    inst.length = (len, params) => inst.check(checks.length(len, params));\n    inst.unwrap = () => inst.element;\n});\nexport function array(element, params) {\n    return core._array(ZodArray, element, params);\n}\n// .keyof\nexport function keyof(schema) {\n    const shape = schema._zod.def.shape;\n    return _enum(Object.keys(shape));\n}\nexport const ZodObject = /*@__PURE__*/ core.$constructor(\"ZodObject\", (inst, def) => {\n    core.$ZodObjectJIT.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.objectProcessor(inst, ctx, json, params);\n    util.defineLazy(inst, \"shape\", () => {\n        return def.shape;\n    });\n    inst.keyof = () => _enum(Object.keys(inst._zod.def.shape));\n    inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall: catchall });\n    inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });\n    inst.strip = () => inst.clone({ ...inst._zod.def, catchall: undefined });\n    inst.extend = (incoming) => {\n        return util.extend(inst, incoming);\n    };\n    inst.safeExtend = (incoming) => {\n        return util.safeExtend(inst, incoming);\n    };\n    inst.merge = (other) => util.merge(inst, other);\n    inst.pick = (mask) => util.pick(inst, mask);\n    inst.omit = (mask) => util.omit(inst, mask);\n    inst.partial = (...args) => util.partial(ZodOptional, inst, args[0]);\n    inst.required = (...args) => util.required(ZodNonOptional, inst, args[0]);\n});\nexport function object(shape, params) {\n    const def = {\n        type: \"object\",\n        shape: shape ?? {},\n        ...util.normalizeParams(params),\n    };\n    return new ZodObject(def);\n}\n// strictObject\nexport function strictObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        shape,\n        catchall: never(),\n        ...util.normalizeParams(params),\n    });\n}\n// looseObject\nexport function looseObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        shape,\n        catchall: unknown(),\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodUnion = /*@__PURE__*/ core.$constructor(\"ZodUnion\", (inst, def) => {\n    core.$ZodUnion.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.unionProcessor(inst, ctx, json, params);\n    inst.options = def.options;\n});\nexport function union(options, params) {\n    return new ZodUnion({\n        type: \"union\",\n        options: options,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodXor = /*@__PURE__*/ core.$constructor(\"ZodXor\", (inst, def) => {\n    ZodUnion.init(inst, def);\n    core.$ZodXor.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.unionProcessor(inst, ctx, json, params);\n    inst.options = def.options;\n});\n/** Creates an exclusive union (XOR) where exactly one option must match.\n * Unlike regular unions that succeed when any option matches, xor fails if\n * zero or more than one option matches the input. */\nexport function xor(options, params) {\n    return new ZodXor({\n        type: \"union\",\n        options: options,\n        inclusive: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodDiscriminatedUnion = /*@__PURE__*/ core.$constructor(\"ZodDiscriminatedUnion\", (inst, def) => {\n    ZodUnion.init(inst, def);\n    core.$ZodDiscriminatedUnion.init(inst, def);\n});\nexport function discriminatedUnion(discriminator, options, params) {\n    // const [options, params] = args;\n    return new ZodDiscriminatedUnion({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodIntersection = /*@__PURE__*/ core.$constructor(\"ZodIntersection\", (inst, def) => {\n    core.$ZodIntersection.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.intersectionProcessor(inst, ctx, json, params);\n});\nexport function intersection(left, right) {\n    return new ZodIntersection({\n        type: \"intersection\",\n        left: left,\n        right: right,\n    });\n}\nexport const ZodTuple = /*@__PURE__*/ core.$constructor(\"ZodTuple\", (inst, def) => {\n    core.$ZodTuple.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.tupleProcessor(inst, ctx, json, params);\n    inst.rest = (rest) => inst.clone({\n        ...inst._zod.def,\n        rest: rest,\n    });\n});\nexport function tuple(items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof core.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new ZodTuple({\n        type: \"tuple\",\n        items: items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodRecord = /*@__PURE__*/ core.$constructor(\"ZodRecord\", (inst, def) => {\n    core.$ZodRecord.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.recordProcessor(inst, ctx, json, params);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function record(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// type alksjf = core.output<core.$ZodRecordKey>;\nexport function partialRecord(keyType, valueType, params) {\n    const k = core.clone(keyType);\n    k._zod.values = undefined;\n    return new ZodRecord({\n        type: \"record\",\n        keyType: k,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function looseRecord(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType,\n        valueType: valueType,\n        mode: \"loose\",\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodMap = /*@__PURE__*/ core.$constructor(\"ZodMap\", (inst, def) => {\n    core.$ZodMap.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.mapProcessor(inst, ctx, json, params);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n    inst.min = (...args) => inst.check(core._minSize(...args));\n    inst.nonempty = (params) => inst.check(core._minSize(1, params));\n    inst.max = (...args) => inst.check(core._maxSize(...args));\n    inst.size = (...args) => inst.check(core._size(...args));\n});\nexport function map(keyType, valueType, params) {\n    return new ZodMap({\n        type: \"map\",\n        keyType: keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSet = /*@__PURE__*/ core.$constructor(\"ZodSet\", (inst, def) => {\n    core.$ZodSet.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.setProcessor(inst, ctx, json, params);\n    inst.min = (...args) => inst.check(core._minSize(...args));\n    inst.nonempty = (params) => inst.check(core._minSize(1, params));\n    inst.max = (...args) => inst.check(core._maxSize(...args));\n    inst.size = (...args) => inst.check(core._size(...args));\n});\nexport function set(valueType, params) {\n    return new ZodSet({\n        type: \"set\",\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEnum = /*@__PURE__*/ core.$constructor(\"ZodEnum\", (inst, def) => {\n    core.$ZodEnum.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.enumProcessor(inst, ctx, json, params);\n    inst.enum = def.entries;\n    inst.options = Object.values(def.entries);\n    const keys = new Set(Object.keys(def.entries));\n    inst.extract = (values, params) => {\n        const newEntries = {};\n        for (const value of values) {\n            if (keys.has(value)) {\n                newEntries[value] = def.entries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n    inst.exclude = (values, params) => {\n        const newEntries = { ...def.entries };\n        for (const value of values) {\n            if (keys.has(value)) {\n                delete newEntries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n});\nfunction _enum(values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport { _enum as enum };\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function nativeEnum(entries, params) {\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLiteral = /*@__PURE__*/ core.$constructor(\"ZodLiteral\", (inst, def) => {\n    core.$ZodLiteral.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.literalProcessor(inst, ctx, json, params);\n    inst.values = new Set(def.values);\n    Object.defineProperty(inst, \"value\", {\n        get() {\n            if (def.values.length > 1) {\n                throw new Error(\"This schema contains multiple valid literal values. Use `.values` instead.\");\n            }\n            return def.values[0];\n        },\n    });\n});\nexport function literal(value, params) {\n    return new ZodLiteral({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodFile = /*@__PURE__*/ core.$constructor(\"ZodFile\", (inst, def) => {\n    core.$ZodFile.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.fileProcessor(inst, ctx, json, params);\n    inst.min = (size, params) => inst.check(core._minSize(size, params));\n    inst.max = (size, params) => inst.check(core._maxSize(size, params));\n    inst.mime = (types, params) => inst.check(core._mime(Array.isArray(types) ? types : [types], params));\n});\nexport function file(params) {\n    return core._file(ZodFile, params);\n}\nexport const ZodTransform = /*@__PURE__*/ core.$constructor(\"ZodTransform\", (inst, def) => {\n    core.$ZodTransform.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.transformProcessor(inst, ctx, json, params);\n    inst._zod.parse = (payload, _ctx) => {\n        if (_ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(inst.constructor.name);\n        }\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = inst);\n                // _issue.continue ??= true;\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        const output = def.transform(payload.value, payload);\n        if (output instanceof Promise) {\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        payload.value = output;\n        return payload;\n    };\n});\nexport function transform(fn) {\n    return new ZodTransform({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport const ZodOptional = /*@__PURE__*/ core.$constructor(\"ZodOptional\", (inst, def) => {\n    core.$ZodOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.optionalProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function optional(innerType) {\n    return new ZodOptional({\n        type: \"optional\",\n        innerType: innerType,\n    });\n}\nexport const ZodExactOptional = /*@__PURE__*/ core.$constructor(\"ZodExactOptional\", (inst, def) => {\n    core.$ZodExactOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.optionalProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function exactOptional(innerType) {\n    return new ZodExactOptional({\n        type: \"optional\",\n        innerType: innerType,\n    });\n}\nexport const ZodNullable = /*@__PURE__*/ core.$constructor(\"ZodNullable\", (inst, def) => {\n    core.$ZodNullable.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.nullableProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nullable(innerType) {\n    return new ZodNullable({\n        type: \"nullable\",\n        innerType: innerType,\n    });\n}\n// nullish\nexport function nullish(innerType) {\n    return optional(nullable(innerType));\n}\nexport const ZodDefault = /*@__PURE__*/ core.$constructor(\"ZodDefault\", (inst, def) => {\n    core.$ZodDefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.defaultProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeDefault = inst.unwrap;\n});\nexport function _default(innerType, defaultValue) {\n    return new ZodDefault({\n        type: \"default\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport const ZodPrefault = /*@__PURE__*/ core.$constructor(\"ZodPrefault\", (inst, def) => {\n    core.$ZodPrefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.prefaultProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function prefault(innerType, defaultValue) {\n    return new ZodPrefault({\n        type: \"prefault\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport const ZodNonOptional = /*@__PURE__*/ core.$constructor(\"ZodNonOptional\", (inst, def) => {\n    core.$ZodNonOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.nonoptionalProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nonoptional(innerType, params) {\n    return new ZodNonOptional({\n        type: \"nonoptional\",\n        innerType: innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSuccess = /*@__PURE__*/ core.$constructor(\"ZodSuccess\", (inst, def) => {\n    core.$ZodSuccess.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.successProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function success(innerType) {\n    return new ZodSuccess({\n        type: \"success\",\n        innerType: innerType,\n    });\n}\nexport const ZodCatch = /*@__PURE__*/ core.$constructor(\"ZodCatch\", (inst, def) => {\n    core.$ZodCatch.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.catchProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeCatch = inst.unwrap;\n});\nfunction _catch(innerType, catchValue) {\n    return new ZodCatch({\n        type: \"catch\",\n        innerType: innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport { _catch as catch };\nexport const ZodNaN = /*@__PURE__*/ core.$constructor(\"ZodNaN\", (inst, def) => {\n    core.$ZodNaN.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.nanProcessor(inst, ctx, json, params);\n});\nexport function nan(params) {\n    return core._nan(ZodNaN, params);\n}\nexport const ZodPipe = /*@__PURE__*/ core.$constructor(\"ZodPipe\", (inst, def) => {\n    core.$ZodPipe.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.pipeProcessor(inst, ctx, json, params);\n    inst.in = def.in;\n    inst.out = def.out;\n});\nexport function pipe(in_, out) {\n    return new ZodPipe({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        // ...util.normalizeParams(params),\n    });\n}\nexport const ZodCodec = /*@__PURE__*/ core.$constructor(\"ZodCodec\", (inst, def) => {\n    ZodPipe.init(inst, def);\n    core.$ZodCodec.init(inst, def);\n});\nexport function codec(in_, out, params) {\n    return new ZodCodec({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        transform: params.decode,\n        reverseTransform: params.encode,\n    });\n}\nexport const ZodReadonly = /*@__PURE__*/ core.$constructor(\"ZodReadonly\", (inst, def) => {\n    core.$ZodReadonly.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.readonlyProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function readonly(innerType) {\n    return new ZodReadonly({\n        type: \"readonly\",\n        innerType: innerType,\n    });\n}\nexport const ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"ZodTemplateLiteral\", (inst, def) => {\n    core.$ZodTemplateLiteral.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.templateLiteralProcessor(inst, ctx, json, params);\n});\nexport function templateLiteral(parts, params) {\n    return new ZodTemplateLiteral({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLazy = /*@__PURE__*/ core.$constructor(\"ZodLazy\", (inst, def) => {\n    core.$ZodLazy.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.lazyProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.getter();\n});\nexport function lazy(getter) {\n    return new ZodLazy({\n        type: \"lazy\",\n        getter: getter,\n    });\n}\nexport const ZodPromise = /*@__PURE__*/ core.$constructor(\"ZodPromise\", (inst, def) => {\n    core.$ZodPromise.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.promiseProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function promise(innerType) {\n    return new ZodPromise({\n        type: \"promise\",\n        innerType: innerType,\n    });\n}\nexport const ZodFunction = /*@__PURE__*/ core.$constructor(\"ZodFunction\", (inst, def) => {\n    core.$ZodFunction.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.functionProcessor(inst, ctx, json, params);\n});\nexport function _function(params) {\n    return new ZodFunction({\n        type: \"function\",\n        input: Array.isArray(params?.input) ? tuple(params?.input) : (params?.input ?? array(unknown())),\n        output: params?.output ?? unknown(),\n    });\n}\nexport { _function as function };\nexport const ZodCustom = /*@__PURE__*/ core.$constructor(\"ZodCustom\", (inst, def) => {\n    core.$ZodCustom.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.customProcessor(inst, ctx, json, params);\n});\n// custom checks\nexport function check(fn) {\n    const ch = new core.$ZodCheck({\n        check: \"custom\",\n        // ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function custom(fn, _params) {\n    return core._custom(ZodCustom, fn ?? (() => true), _params);\n}\nexport function refine(fn, _params = {}) {\n    return core._refine(ZodCustom, fn, _params);\n}\n// superRefine\nexport function superRefine(fn) {\n    return core._superRefine(fn);\n}\n// Re-export describe and meta from core\nexport const describe = core.describe;\nexport const meta = core.meta;\nfunction _instanceof(cls, params = {}) {\n    const inst = new ZodCustom({\n        type: \"custom\",\n        check: \"custom\",\n        fn: (data) => data instanceof cls,\n        abort: true,\n        ...util.normalizeParams(params),\n    });\n    inst._zod.bag.Class = cls;\n    // Override check to emit invalid_type instead of custom\n    inst._zod.check = (payload) => {\n        if (!(payload.value instanceof cls)) {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: cls.name,\n                input: payload.value,\n                inst,\n                path: [...(inst._zod.def.path ?? [])],\n            });\n        }\n    };\n    return inst;\n}\nexport { _instanceof as instanceof };\n// stringbool\nexport const stringbool = (...args) => core._stringbool({\n    Codec: ZodCodec,\n    Boolean: ZodBoolean,\n    String: ZodString,\n}, ...args);\nexport function json(params) {\n    const jsonSchema = lazy(() => {\n        return union([string(params), number(), boolean(), _null(), array(jsonSchema), record(string(), jsonSchema)]);\n    });\n    return jsonSchema;\n}\n// preprocess\n// /** @deprecated Use `z.pipe()` and `z.transform()` instead. */\nexport function preprocess(fn, schema) {\n    return pipe(transform(fn), schema);\n}\n","import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport function string(params) {\n    return core._coercedString(schemas.ZodString, params);\n}\nexport function number(params) {\n    return core._coercedNumber(schemas.ZodNumber, params);\n}\nexport function boolean(params) {\n    return core._coercedBoolean(schemas.ZodBoolean, params);\n}\nexport function bigint(params) {\n    return core._coercedBigint(schemas.ZodBigInt, params);\n}\nexport function date(params) {\n    return core._coercedDate(schemas.ZodDate, params);\n}\n","export var util;\n(function (util) {\n    util.assertEqual = (_) => { };\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && Number.isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array.map((val) => (typeof val === \"string\" ? `'${val}'` : val)).join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nexport var objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nexport const ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return Number.isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n","import { util } from \"./helpers/util.js\";\nexport const ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nexport const quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nexport class ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = Object.create(null);\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                const firstEl = sub.path[0];\n                fieldErrors[firstEl] = fieldErrors[firstEl] || [];\n                fieldErrors[firstEl].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n","export var errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    // biome-ignore lint:\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message?.message;\n})(errorUtil || (errorUtil = {}));\n","import { ZodError, ZodIssueCode, } from \"./ZodError.js\";\nimport { defaultErrorMap, getErrorMap } from \"./errors.js\";\nimport { errorUtil } from \"./helpers/errorUtil.js\";\nimport { DIRTY, INVALID, OK, ParseStatus, addIssueToContext, isAborted, isAsync, isDirty, isValid, makeIssue, } from \"./helpers/parseUtil.js\";\nimport { util, ZodParsedType, getParsedType } from \"./helpers/util.js\";\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (Array.isArray(this._key)) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message ?? ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: message ?? required_error ?? ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: message ?? invalid_type_error ?? ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nexport class ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: params?.async ?? false,\n                contextualErrorMap: params?.errorMap,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if (err?.message?.toLowerCase()?.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params?.errorMap,\n                async: true,\n            },\n            path: params?.path || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult) ? maybeAsyncResult : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\" ? refinementData(val, ctx) : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&‚Äô*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    let secondsRegexSource = `[0-5]\\\\d`;\n    if (args.precision) {\n        secondsRegexSource = `${secondsRegexSource}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        secondsRegexSource = `${secondsRegexSource}(\\\\.\\\\d+)?`;\n    }\n    const secondsQuantifier = args.precision ? \"+\" : \"?\"; // require seconds if precision is nonzero\n    return `([01]\\\\d|2[0-3]):[0-5]\\\\d(:${secondsRegexSource})${secondsQuantifier}`;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        if (!header)\n            return false;\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        // @ts-ignore\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (\"typ\" in decoded && decoded?.typ !== \"JWT\")\n            return false;\n        if (!decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nexport class ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    // @ts-ignore\n                    new URL(input.data);\n                }\n                catch {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            offset: options?.offset ?? false,\n            local: options?.local ?? false,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof options?.precision === \"undefined\" ? null : options?.precision,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options?.position,\n            ...errorUtil.errToObj(options?.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nexport class ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" || (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null;\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" || ch.kind === \"int\" || ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive ? input.data < check.value : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive ? input.data > check.value : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: params?.coerce ?? false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: params?.coerce || false,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (Number.isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: params?.coerce || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nexport class ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        this._cached = { shape, keys };\n        return this._cached;\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever && this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") {\n            }\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        const defaultError = this._def.errorMap?.(issue, ctx).message ?? ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: errorUtil.errToObj(message).message ?? defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(mask)) {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        for (const key of util.objectKeys(this.shape)) {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        }\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nexport class ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util.objectKeys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date && bType === ZodParsedType.date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nexport class ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\n// type ZodTupleItems = [ZodTypeAny, ...ZodTypeAny[]];\nexport class ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nexport class ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [ctx.common.contextualErrorMap, ctx.schemaErrorMap, getErrorMap(), defaultErrorMap].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args.parseAsync(args, params).catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args ? args : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nexport class ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nexport class ZodEnum extends ZodType {\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(this._def.values);\n        }\n        if (!this._cache.has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\nZodEnum.create = createZodEnum;\nexport class ZodNativeEnum extends ZodType {\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string && ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!this._cache) {\n            this._cache = new Set(util.getValidEnumValues(this._def.values));\n        }\n        if (!this._cache.has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise && ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise ? ctx.data : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return INVALID;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx }).then((base) => {\n                    if (!isValid(base))\n                        return INVALID;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({\n                        status: status.value,\n                        value: result,\n                    }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nexport { ZodEffects as ZodTransformer };\nexport class ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\" ? params.default : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nexport class ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nexport const BRAND = Symbol(\"zod_brand\");\nexport class ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nexport class ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nexport class ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result) ? result.then((data) => freeze(data)) : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\n////////////////////////////////////////\n////////////////////////////////////////\n//////////                    //////////\n//////////      z.custom      //////////\n//////////                    //////////\n////////////////////////////////////////\n////////////////////////////////////////\nfunction cleanParams(params, data) {\n    const p = typeof params === \"function\" ? params(data) : typeof params === \"string\" ? { message: params } : params;\n    const p2 = typeof p === \"string\" ? { message: p } : p;\n    return p2;\n}\nexport function custom(check, _params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            const r = check(data);\n            if (r instanceof Promise) {\n                return r.then((r) => {\n                    if (!r) {\n                        const params = cleanParams(_params, data);\n                        const _fatal = params.fatal ?? fatal ?? true;\n                        ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n                    }\n                });\n            }\n            if (!r) {\n                const params = cleanParams(_params, data);\n                const _fatal = params.fatal ?? fatal ?? true;\n                ctx.addIssue({ code: \"custom\", ...params, fatal: _fatal });\n            }\n            return;\n        });\n    return ZodAny.create();\n}\nexport { ZodType as Schema, ZodType as ZodSchema };\nexport const late = {\n    object: ZodObject.lazycreate,\n};\nexport var ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\n// requires TS 4.4+\nclass Class {\n    constructor(..._) { }\n}\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nexport const coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nexport { anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, dateType as date, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, instanceOfType as instanceof, intersectionType as intersection, lazyType as lazy, literalType as literal, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, recordType as record, setType as set, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, voidType as void, };\nexport const NEVER = INVALID;\n","class ParseError extends Error {\n  constructor(message, options) {\n    super(message), this.name = \"ParseError\", this.type = options.type, this.field = options.field, this.value = options.value, this.line = options.line;\n  }\n}\nfunction noop(_arg) {\n}\nfunction createParser(callbacks) {\n  if (typeof callbacks == \"function\")\n    throw new TypeError(\n      \"`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?\"\n    );\n  const { onEvent = noop, onError = noop, onRetry = noop, onComment } = callbacks;\n  let incompleteLine = \"\", isFirstChunk = !0, id, data = \"\", eventType = \"\";\n  function feed(newChunk) {\n    const chunk = isFirstChunk ? newChunk.replace(/^\\xEF\\xBB\\xBF/, \"\") : newChunk, [complete, incomplete] = splitLines(`${incompleteLine}${chunk}`);\n    for (const line of complete)\n      parseLine(line);\n    incompleteLine = incomplete, isFirstChunk = !1;\n  }\n  function parseLine(line) {\n    if (line === \"\") {\n      dispatchEvent();\n      return;\n    }\n    if (line.startsWith(\":\")) {\n      onComment && onComment(line.slice(line.startsWith(\": \") ? 2 : 1));\n      return;\n    }\n    const fieldSeparatorIndex = line.indexOf(\":\");\n    if (fieldSeparatorIndex !== -1) {\n      const field = line.slice(0, fieldSeparatorIndex), offset = line[fieldSeparatorIndex + 1] === \" \" ? 2 : 1, value = line.slice(fieldSeparatorIndex + offset);\n      processField(field, value, line);\n      return;\n    }\n    processField(line, \"\", line);\n  }\n  function processField(field, value, line) {\n    switch (field) {\n      case \"event\":\n        eventType = value;\n        break;\n      case \"data\":\n        data = `${data}${value}\n`;\n        break;\n      case \"id\":\n        id = value.includes(\"\\0\") ? void 0 : value;\n        break;\n      case \"retry\":\n        /^\\d+$/.test(value) ? onRetry(parseInt(value, 10)) : onError(\n          new ParseError(`Invalid \\`retry\\` value: \"${value}\"`, {\n            type: \"invalid-retry\",\n            value,\n            line\n          })\n        );\n        break;\n      default:\n        onError(\n          new ParseError(\n            `Unknown field \"${field.length > 20 ? `${field.slice(0, 20)}\\u2026` : field}\"`,\n            { type: \"unknown-field\", field, value, line }\n          )\n        );\n        break;\n    }\n  }\n  function dispatchEvent() {\n    data.length > 0 && onEvent({\n      id,\n      event: eventType || void 0,\n      // If the data buffer's last character is a U+000A LINE FEED (LF) character,\n      // then remove the last character from the data buffer.\n      data: data.endsWith(`\n`) ? data.slice(0, -1) : data\n    }), id = void 0, data = \"\", eventType = \"\";\n  }\n  function reset(options = {}) {\n    incompleteLine && options.consume && parseLine(incompleteLine), isFirstChunk = !0, id = void 0, data = \"\", eventType = \"\", incompleteLine = \"\";\n  }\n  return { feed, reset };\n}\nfunction splitLines(chunk) {\n  const lines = [];\n  let incompleteLine = \"\", searchIndex = 0;\n  for (; searchIndex < chunk.length; ) {\n    const crIndex = chunk.indexOf(\"\\r\", searchIndex), lfIndex = chunk.indexOf(`\n`, searchIndex);\n    let lineEnd = -1;\n    if (crIndex !== -1 && lfIndex !== -1 ? lineEnd = Math.min(crIndex, lfIndex) : crIndex !== -1 ? crIndex === chunk.length - 1 ? lineEnd = -1 : lineEnd = crIndex : lfIndex !== -1 && (lineEnd = lfIndex), lineEnd === -1) {\n      incompleteLine = chunk.slice(searchIndex);\n      break;\n    } else {\n      const line = chunk.slice(searchIndex, lineEnd);\n      lines.push(line), searchIndex = lineEnd + 1, chunk[searchIndex - 1] === \"\\r\" && chunk[searchIndex] === `\n` && searchIndex++;\n    }\n  }\n  return [lines, incompleteLine];\n}\nexport {\n  ParseError,\n  createParser\n};\n//# sourceMappingURL=index.js.map\n","import { createParser } from \"./index.js\";\nimport { ParseError } from \"./index.js\";\nclass EventSourceParserStream extends TransformStream {\n  constructor({ onError, onRetry, onComment } = {}) {\n    let parser;\n    super({\n      start(controller) {\n        parser = createParser({\n          onEvent: (event) => {\n            controller.enqueue(event);\n          },\n          onError(error) {\n            onError === \"terminate\" ? controller.error(error) : typeof onError == \"function\" && onError(error);\n          },\n          onRetry,\n          onComment\n        });\n      },\n      transform(chunk) {\n        parser.feed(chunk);\n      }\n    });\n  }\n}\nexport {\n  EventSourceParserStream,\n  ParseError\n};\n//# sourceMappingURL=stream.js.map\n","// src/combine-headers.ts\nfunction combineHeaders(...headers) {\n  return headers.reduce(\n    (combinedHeaders, currentHeaders) => ({\n      ...combinedHeaders,\n      ...currentHeaders != null ? currentHeaders : {}\n    }),\n    {}\n  );\n}\n\n// src/convert-async-iterator-to-readable-stream.ts\nfunction convertAsyncIteratorToReadableStream(iterator) {\n  let cancelled = false;\n  return new ReadableStream({\n    /**\n     * Called when the consumer wants to pull more data from the stream.\n     *\n     * @param {ReadableStreamDefaultController<T>} controller - The controller to enqueue data into the stream.\n     * @returns {Promise<void>}\n     */\n    async pull(controller) {\n      if (cancelled) return;\n      try {\n        const { value, done } = await iterator.next();\n        if (done) {\n          controller.close();\n        } else {\n          controller.enqueue(value);\n        }\n      } catch (error) {\n        controller.error(error);\n      }\n    },\n    /**\n     * Called when the consumer cancels the stream.\n     */\n    async cancel(reason) {\n      cancelled = true;\n      if (iterator.return) {\n        try {\n          await iterator.return(reason);\n        } catch (e) {\n        }\n      }\n    }\n  });\n}\n\n// src/create-tool-name-mapping.ts\nfunction createToolNameMapping({\n  tools = [],\n  providerToolNames\n}) {\n  const customToolNameToProviderToolName = {};\n  const providerToolNameToCustomToolName = {};\n  for (const tool2 of tools) {\n    if (tool2.type === \"provider\" && tool2.id in providerToolNames) {\n      const providerToolName = providerToolNames[tool2.id];\n      customToolNameToProviderToolName[tool2.name] = providerToolName;\n      providerToolNameToCustomToolName[providerToolName] = tool2.name;\n    }\n  }\n  return {\n    toProviderToolName: (customToolName) => {\n      var _a2;\n      return (_a2 = customToolNameToProviderToolName[customToolName]) != null ? _a2 : customToolName;\n    },\n    toCustomToolName: (providerToolName) => {\n      var _a2;\n      return (_a2 = providerToolNameToCustomToolName[providerToolName]) != null ? _a2 : providerToolName;\n    }\n  };\n}\n\n// src/delay.ts\nasync function delay(delayInMs, options) {\n  if (delayInMs == null) {\n    return Promise.resolve();\n  }\n  const signal = options == null ? void 0 : options.abortSignal;\n  return new Promise((resolve2, reject) => {\n    if (signal == null ? void 0 : signal.aborted) {\n      reject(createAbortError());\n      return;\n    }\n    const timeoutId = setTimeout(() => {\n      cleanup();\n      resolve2();\n    }, delayInMs);\n    const cleanup = () => {\n      clearTimeout(timeoutId);\n      signal == null ? void 0 : signal.removeEventListener(\"abort\", onAbort);\n    };\n    const onAbort = () => {\n      cleanup();\n      reject(createAbortError());\n    };\n    signal == null ? void 0 : signal.addEventListener(\"abort\", onAbort);\n  });\n}\nfunction createAbortError() {\n  return new DOMException(\"Delay was aborted\", \"AbortError\");\n}\n\n// src/delayed-promise.ts\nvar DelayedPromise = class {\n  constructor() {\n    this.status = { type: \"pending\" };\n    this._resolve = void 0;\n    this._reject = void 0;\n  }\n  get promise() {\n    if (this._promise) {\n      return this._promise;\n    }\n    this._promise = new Promise((resolve2, reject) => {\n      if (this.status.type === \"resolved\") {\n        resolve2(this.status.value);\n      } else if (this.status.type === \"rejected\") {\n        reject(this.status.error);\n      }\n      this._resolve = resolve2;\n      this._reject = reject;\n    });\n    return this._promise;\n  }\n  resolve(value) {\n    var _a2;\n    this.status = { type: \"resolved\", value };\n    if (this._promise) {\n      (_a2 = this._resolve) == null ? void 0 : _a2.call(this, value);\n    }\n  }\n  reject(error) {\n    var _a2;\n    this.status = { type: \"rejected\", error };\n    if (this._promise) {\n      (_a2 = this._reject) == null ? void 0 : _a2.call(this, error);\n    }\n  }\n  isResolved() {\n    return this.status.type === \"resolved\";\n  }\n  isRejected() {\n    return this.status.type === \"rejected\";\n  }\n  isPending() {\n    return this.status.type === \"pending\";\n  }\n};\n\n// src/extract-response-headers.ts\nfunction extractResponseHeaders(response) {\n  return Object.fromEntries([...response.headers]);\n}\n\n// src/uint8-utils.ts\nvar { btoa, atob } = globalThis;\nfunction convertBase64ToUint8Array(base64String) {\n  const base64Url = base64String.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const latin1string = atob(base64Url);\n  return Uint8Array.from(latin1string, (byte) => byte.codePointAt(0));\n}\nfunction convertUint8ArrayToBase64(array) {\n  let latin1string = \"\";\n  for (let i = 0; i < array.length; i++) {\n    latin1string += String.fromCodePoint(array[i]);\n  }\n  return btoa(latin1string);\n}\nfunction convertToBase64(value) {\n  return value instanceof Uint8Array ? convertUint8ArrayToBase64(value) : value;\n}\n\n// src/convert-image-model-file-to-data-uri.ts\nfunction convertImageModelFileToDataUri(file) {\n  if (file.type === \"url\") return file.url;\n  return `data:${file.mediaType};base64,${typeof file.data === \"string\" ? file.data : convertUint8ArrayToBase64(file.data)}`;\n}\n\n// src/convert-to-form-data.ts\nfunction convertToFormData(input, options = {}) {\n  const { useArrayBrackets = true } = options;\n  const formData = new FormData();\n  for (const [key, value] of Object.entries(input)) {\n    if (value == null) {\n      continue;\n    }\n    if (Array.isArray(value)) {\n      if (value.length === 1) {\n        formData.append(key, value[0]);\n        continue;\n      }\n      const arrayKey = useArrayBrackets ? `${key}[]` : key;\n      for (const item of value) {\n        formData.append(arrayKey, item);\n      }\n      continue;\n    }\n    formData.append(key, value);\n  }\n  return formData;\n}\n\n// src/download-error.ts\nimport { AISDKError } from \"@ai-sdk/provider\";\nvar name = \"AI_DownloadError\";\nvar marker = `vercel.ai.error.${name}`;\nvar symbol = Symbol.for(marker);\nvar _a, _b;\nvar DownloadError = class extends (_b = AISDKError, _a = symbol, _b) {\n  constructor({\n    url,\n    statusCode,\n    statusText,\n    cause,\n    message = cause == null ? `Failed to download ${url}: ${statusCode} ${statusText}` : `Failed to download ${url}: ${cause}`\n  }) {\n    super({ name, message, cause });\n    this[_a] = true;\n    this.url = url;\n    this.statusCode = statusCode;\n    this.statusText = statusText;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker);\n  }\n};\n\n// src/download-blob.ts\nasync function downloadBlob(url) {\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new DownloadError({\n        url,\n        statusCode: response.status,\n        statusText: response.statusText\n      });\n    }\n    return await response.blob();\n  } catch (error) {\n    if (DownloadError.isInstance(error)) {\n      throw error;\n    }\n    throw new DownloadError({ url, cause: error });\n  }\n}\n\n// src/generate-id.ts\nimport { InvalidArgumentError } from \"@ai-sdk/provider\";\nvar createIdGenerator = ({\n  prefix,\n  size = 16,\n  alphabet = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\",\n  separator = \"-\"\n} = {}) => {\n  const generator = () => {\n    const alphabetLength = alphabet.length;\n    const chars = new Array(size);\n    for (let i = 0; i < size; i++) {\n      chars[i] = alphabet[Math.random() * alphabetLength | 0];\n    }\n    return chars.join(\"\");\n  };\n  if (prefix == null) {\n    return generator;\n  }\n  if (alphabet.includes(separator)) {\n    throw new InvalidArgumentError({\n      argument: \"separator\",\n      message: `The separator \"${separator}\" must not be part of the alphabet \"${alphabet}\".`\n    });\n  }\n  return () => `${prefix}${separator}${generator()}`;\n};\nvar generateId = createIdGenerator();\n\n// src/get-error-message.ts\nfunction getErrorMessage(error) {\n  if (error == null) {\n    return \"unknown error\";\n  }\n  if (typeof error === \"string\") {\n    return error;\n  }\n  if (error instanceof Error) {\n    return error.message;\n  }\n  return JSON.stringify(error);\n}\n\n// src/get-from-api.ts\nimport { APICallError as APICallError2 } from \"@ai-sdk/provider\";\n\n// src/handle-fetch-error.ts\nimport { APICallError } from \"@ai-sdk/provider\";\n\n// src/is-abort-error.ts\nfunction isAbortError(error) {\n  return (error instanceof Error || error instanceof DOMException) && (error.name === \"AbortError\" || error.name === \"ResponseAborted\" || // Next.js\n  error.name === \"TimeoutError\");\n}\n\n// src/handle-fetch-error.ts\nvar FETCH_FAILED_ERROR_MESSAGES = [\"fetch failed\", \"failed to fetch\"];\nfunction handleFetchError({\n  error,\n  url,\n  requestBodyValues\n}) {\n  if (isAbortError(error)) {\n    return error;\n  }\n  if (error instanceof TypeError && FETCH_FAILED_ERROR_MESSAGES.includes(error.message.toLowerCase())) {\n    const cause = error.cause;\n    if (cause != null) {\n      return new APICallError({\n        message: `Cannot connect to API: ${cause.message}`,\n        cause,\n        url,\n        requestBodyValues,\n        isRetryable: true\n        // retry when network error\n      });\n    }\n  }\n  return error;\n}\n\n// src/get-runtime-environment-user-agent.ts\nfunction getRuntimeEnvironmentUserAgent(globalThisAny = globalThis) {\n  var _a2, _b2, _c;\n  if (globalThisAny.window) {\n    return `runtime/browser`;\n  }\n  if ((_a2 = globalThisAny.navigator) == null ? void 0 : _a2.userAgent) {\n    return `runtime/${globalThisAny.navigator.userAgent.toLowerCase()}`;\n  }\n  if ((_c = (_b2 = globalThisAny.process) == null ? void 0 : _b2.versions) == null ? void 0 : _c.node) {\n    return `runtime/node.js/${globalThisAny.process.version.substring(0)}`;\n  }\n  if (globalThisAny.EdgeRuntime) {\n    return `runtime/vercel-edge`;\n  }\n  return \"runtime/unknown\";\n}\n\n// src/normalize-headers.ts\nfunction normalizeHeaders(headers) {\n  if (headers == null) {\n    return {};\n  }\n  const normalized = {};\n  if (headers instanceof Headers) {\n    headers.forEach((value, key) => {\n      normalized[key.toLowerCase()] = value;\n    });\n  } else {\n    if (!Array.isArray(headers)) {\n      headers = Object.entries(headers);\n    }\n    for (const [key, value] of headers) {\n      if (value != null) {\n        normalized[key.toLowerCase()] = value;\n      }\n    }\n  }\n  return normalized;\n}\n\n// src/with-user-agent-suffix.ts\nfunction withUserAgentSuffix(headers, ...userAgentSuffixParts) {\n  const normalizedHeaders = new Headers(normalizeHeaders(headers));\n  const currentUserAgentHeader = normalizedHeaders.get(\"user-agent\") || \"\";\n  normalizedHeaders.set(\n    \"user-agent\",\n    [currentUserAgentHeader, ...userAgentSuffixParts].filter(Boolean).join(\" \")\n  );\n  return Object.fromEntries(normalizedHeaders.entries());\n}\n\n// src/version.ts\nvar VERSION = true ? \"4.0.6\" : \"0.0.0-test\";\n\n// src/get-from-api.ts\nvar getOriginalFetch = () => globalThis.fetch;\nvar getFromApi = async ({\n  url,\n  headers = {},\n  successfulResponseHandler,\n  failedResponseHandler,\n  abortSignal,\n  fetch: fetch2 = getOriginalFetch()\n}) => {\n  try {\n    const response = await fetch2(url, {\n      method: \"GET\",\n      headers: withUserAgentSuffix(\n        headers,\n        `ai-sdk/provider-utils/${VERSION}`,\n        getRuntimeEnvironmentUserAgent()\n      ),\n      signal: abortSignal\n    });\n    const responseHeaders = extractResponseHeaders(response);\n    if (!response.ok) {\n      let errorInformation;\n      try {\n        errorInformation = await failedResponseHandler({\n          response,\n          url,\n          requestBodyValues: {}\n        });\n      } catch (error) {\n        if (isAbortError(error) || APICallError2.isInstance(error)) {\n          throw error;\n        }\n        throw new APICallError2({\n          message: \"Failed to process error response\",\n          cause: error,\n          statusCode: response.status,\n          url,\n          responseHeaders,\n          requestBodyValues: {}\n        });\n      }\n      throw errorInformation.value;\n    }\n    try {\n      return await successfulResponseHandler({\n        response,\n        url,\n        requestBodyValues: {}\n      });\n    } catch (error) {\n      if (error instanceof Error) {\n        if (isAbortError(error) || APICallError2.isInstance(error)) {\n          throw error;\n        }\n      }\n      throw new APICallError2({\n        message: \"Failed to process successful response\",\n        cause: error,\n        statusCode: response.status,\n        url,\n        responseHeaders,\n        requestBodyValues: {}\n      });\n    }\n  } catch (error) {\n    throw handleFetchError({ error, url, requestBodyValues: {} });\n  }\n};\n\n// src/inject-json-instruction.ts\nvar DEFAULT_SCHEMA_PREFIX = \"JSON schema:\";\nvar DEFAULT_SCHEMA_SUFFIX = \"You MUST answer with a JSON object that matches the JSON schema above.\";\nvar DEFAULT_GENERIC_SUFFIX = \"You MUST answer with JSON.\";\nfunction injectJsonInstruction({\n  prompt,\n  schema,\n  schemaPrefix = schema != null ? DEFAULT_SCHEMA_PREFIX : void 0,\n  schemaSuffix = schema != null ? DEFAULT_SCHEMA_SUFFIX : DEFAULT_GENERIC_SUFFIX\n}) {\n  return [\n    prompt != null && prompt.length > 0 ? prompt : void 0,\n    prompt != null && prompt.length > 0 ? \"\" : void 0,\n    // add a newline if prompt is not null\n    schemaPrefix,\n    schema != null ? JSON.stringify(schema) : void 0,\n    schemaSuffix\n  ].filter((line) => line != null).join(\"\\n\");\n}\nfunction injectJsonInstructionIntoMessages({\n  messages,\n  schema,\n  schemaPrefix,\n  schemaSuffix\n}) {\n  var _a2, _b2;\n  const systemMessage = ((_a2 = messages[0]) == null ? void 0 : _a2.role) === \"system\" ? { ...messages[0] } : { role: \"system\", content: \"\" };\n  systemMessage.content = injectJsonInstruction({\n    prompt: systemMessage.content,\n    schema,\n    schemaPrefix,\n    schemaSuffix\n  });\n  return [\n    systemMessage,\n    ...((_b2 = messages[0]) == null ? void 0 : _b2.role) === \"system\" ? messages.slice(1) : messages\n  ];\n}\n\n// src/is-non-nullable.ts\nfunction isNonNullable(value) {\n  return value != null;\n}\n\n// src/is-url-supported.ts\nfunction isUrlSupported({\n  mediaType,\n  url,\n  supportedUrls\n}) {\n  url = url.toLowerCase();\n  mediaType = mediaType.toLowerCase();\n  return Object.entries(supportedUrls).map(([key, value]) => {\n    const mediaType2 = key.toLowerCase();\n    return mediaType2 === \"*\" || mediaType2 === \"*/*\" ? { mediaTypePrefix: \"\", regexes: value } : { mediaTypePrefix: mediaType2.replace(/\\*/, \"\"), regexes: value };\n  }).filter(({ mediaTypePrefix }) => mediaType.startsWith(mediaTypePrefix)).flatMap(({ regexes }) => regexes).some((pattern) => pattern.test(url));\n}\n\n// src/load-api-key.ts\nimport { LoadAPIKeyError } from \"@ai-sdk/provider\";\nfunction loadApiKey({\n  apiKey,\n  environmentVariableName,\n  apiKeyParameterName = \"apiKey\",\n  description\n}) {\n  if (typeof apiKey === \"string\") {\n    return apiKey;\n  }\n  if (apiKey != null) {\n    throw new LoadAPIKeyError({\n      message: `${description} API key must be a string.`\n    });\n  }\n  if (typeof process === \"undefined\") {\n    throw new LoadAPIKeyError({\n      message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter. Environment variables is not supported in this environment.`\n    });\n  }\n  apiKey = process.env[environmentVariableName];\n  if (apiKey == null) {\n    throw new LoadAPIKeyError({\n      message: `${description} API key is missing. Pass it using the '${apiKeyParameterName}' parameter or the ${environmentVariableName} environment variable.`\n    });\n  }\n  if (typeof apiKey !== \"string\") {\n    throw new LoadAPIKeyError({\n      message: `${description} API key must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n    });\n  }\n  return apiKey;\n}\n\n// src/load-optional-setting.ts\nfunction loadOptionalSetting({\n  settingValue,\n  environmentVariableName\n}) {\n  if (typeof settingValue === \"string\") {\n    return settingValue;\n  }\n  if (settingValue != null || typeof process === \"undefined\") {\n    return void 0;\n  }\n  settingValue = process.env[environmentVariableName];\n  if (settingValue == null || typeof settingValue !== \"string\") {\n    return void 0;\n  }\n  return settingValue;\n}\n\n// src/load-setting.ts\nimport { LoadSettingError } from \"@ai-sdk/provider\";\nfunction loadSetting({\n  settingValue,\n  environmentVariableName,\n  settingName,\n  description\n}) {\n  if (typeof settingValue === \"string\") {\n    return settingValue;\n  }\n  if (settingValue != null) {\n    throw new LoadSettingError({\n      message: `${description} setting must be a string.`\n    });\n  }\n  if (typeof process === \"undefined\") {\n    throw new LoadSettingError({\n      message: `${description} setting is missing. Pass it using the '${settingName}' parameter. Environment variables is not supported in this environment.`\n    });\n  }\n  settingValue = process.env[environmentVariableName];\n  if (settingValue == null) {\n    throw new LoadSettingError({\n      message: `${description} setting is missing. Pass it using the '${settingName}' parameter or the ${environmentVariableName} environment variable.`\n    });\n  }\n  if (typeof settingValue !== \"string\") {\n    throw new LoadSettingError({\n      message: `${description} setting must be a string. The value of the ${environmentVariableName} environment variable is not a string.`\n    });\n  }\n  return settingValue;\n}\n\n// src/media-type-to-extension.ts\nfunction mediaTypeToExtension(mediaType) {\n  var _a2;\n  const [_type, subtype = \"\"] = mediaType.toLowerCase().split(\"/\");\n  return (_a2 = {\n    mpeg: \"mp3\",\n    \"x-wav\": \"wav\",\n    opus: \"ogg\",\n    mp4: \"m4a\",\n    \"x-m4a\": \"m4a\"\n  }[subtype]) != null ? _a2 : subtype;\n}\n\n// src/parse-json.ts\nimport {\n  JSONParseError,\n  TypeValidationError as TypeValidationError3\n} from \"@ai-sdk/provider\";\n\n// src/secure-json-parse.ts\nvar suspectProtoRx = /\"__proto__\"\\s*:/;\nvar suspectConstructorRx = /\"constructor\"\\s*:/;\nfunction _parse(text) {\n  const obj = JSON.parse(text);\n  if (obj === null || typeof obj !== \"object\") {\n    return obj;\n  }\n  if (suspectProtoRx.test(text) === false && suspectConstructorRx.test(text) === false) {\n    return obj;\n  }\n  return filter(obj);\n}\nfunction filter(obj) {\n  let next = [obj];\n  while (next.length) {\n    const nodes = next;\n    next = [];\n    for (const node of nodes) {\n      if (Object.prototype.hasOwnProperty.call(node, \"__proto__\")) {\n        throw new SyntaxError(\"Object contains forbidden prototype property\");\n      }\n      if (Object.prototype.hasOwnProperty.call(node, \"constructor\") && Object.prototype.hasOwnProperty.call(node.constructor, \"prototype\")) {\n        throw new SyntaxError(\"Object contains forbidden prototype property\");\n      }\n      for (const key in node) {\n        const value = node[key];\n        if (value && typeof value === \"object\") {\n          next.push(value);\n        }\n      }\n    }\n  }\n  return obj;\n}\nfunction secureJsonParse(text) {\n  const { stackTraceLimit } = Error;\n  try {\n    Error.stackTraceLimit = 0;\n  } catch (e) {\n    return _parse(text);\n  }\n  try {\n    return _parse(text);\n  } finally {\n    Error.stackTraceLimit = stackTraceLimit;\n  }\n}\n\n// src/validate-types.ts\nimport { TypeValidationError as TypeValidationError2 } from \"@ai-sdk/provider\";\n\n// src/schema.ts\nimport { TypeValidationError } from \"@ai-sdk/provider\";\nimport * as z4 from \"zod/v4\";\n\n// src/add-additional-properties-to-json-schema.ts\nfunction addAdditionalPropertiesToJsonSchema(jsonSchema2) {\n  if (jsonSchema2.type === \"object\" || Array.isArray(jsonSchema2.type) && jsonSchema2.type.includes(\"object\")) {\n    jsonSchema2.additionalProperties = false;\n    const { properties } = jsonSchema2;\n    if (properties != null) {\n      for (const key of Object.keys(properties)) {\n        properties[key] = visit(properties[key]);\n      }\n    }\n  }\n  if (jsonSchema2.items != null) {\n    jsonSchema2.items = Array.isArray(jsonSchema2.items) ? jsonSchema2.items.map(visit) : visit(jsonSchema2.items);\n  }\n  if (jsonSchema2.anyOf != null) {\n    jsonSchema2.anyOf = jsonSchema2.anyOf.map(visit);\n  }\n  if (jsonSchema2.allOf != null) {\n    jsonSchema2.allOf = jsonSchema2.allOf.map(visit);\n  }\n  if (jsonSchema2.oneOf != null) {\n    jsonSchema2.oneOf = jsonSchema2.oneOf.map(visit);\n  }\n  const { definitions } = jsonSchema2;\n  if (definitions != null) {\n    for (const key of Object.keys(definitions)) {\n      definitions[key] = visit(definitions[key]);\n    }\n  }\n  return jsonSchema2;\n}\nfunction visit(def) {\n  if (typeof def === \"boolean\") return def;\n  return addAdditionalPropertiesToJsonSchema(def);\n}\n\n// src/to-json-schema/zod3-to-json-schema/options.ts\nvar ignoreOverride = Symbol(\n  \"Let zodToJsonSchema decide on which parser to use\"\n);\nvar defaultOptions = {\n  name: void 0,\n  $refStrategy: \"root\",\n  basePath: [\"#\"],\n  effectStrategy: \"input\",\n  pipeStrategy: \"all\",\n  dateStrategy: \"format:date-time\",\n  mapStrategy: \"entries\",\n  removeAdditionalStrategy: \"passthrough\",\n  allowedAdditionalProperties: true,\n  rejectedAdditionalProperties: false,\n  definitionPath: \"definitions\",\n  strictUnions: false,\n  definitions: {},\n  errorMessages: false,\n  patternStrategy: \"escape\",\n  applyRegexFlags: false,\n  emailStrategy: \"format:email\",\n  base64Strategy: \"contentEncoding:base64\",\n  nameStrategy: \"ref\"\n};\nvar getDefaultOptions = (options) => typeof options === \"string\" ? {\n  ...defaultOptions,\n  name: options\n} : {\n  ...defaultOptions,\n  ...options\n};\n\n// src/to-json-schema/zod3-to-json-schema/select-parser.ts\nimport { ZodFirstPartyTypeKind as ZodFirstPartyTypeKind3 } from \"zod/v3\";\n\n// src/to-json-schema/zod3-to-json-schema/parsers/any.ts\nfunction parseAnyDef() {\n  return {};\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/array.ts\nimport { ZodFirstPartyTypeKind } from \"zod/v3\";\nfunction parseArrayDef(def, refs) {\n  var _a2, _b2, _c;\n  const res = {\n    type: \"array\"\n  };\n  if (((_a2 = def.type) == null ? void 0 : _a2._def) && ((_c = (_b2 = def.type) == null ? void 0 : _b2._def) == null ? void 0 : _c.typeName) !== ZodFirstPartyTypeKind.ZodAny) {\n    res.items = parseDef(def.type._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"items\"]\n    });\n  }\n  if (def.minLength) {\n    res.minItems = def.minLength.value;\n  }\n  if (def.maxLength) {\n    res.maxItems = def.maxLength.value;\n  }\n  if (def.exactLength) {\n    res.minItems = def.exactLength.value;\n    res.maxItems = def.exactLength.value;\n  }\n  return res;\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/bigint.ts\nfunction parseBigintDef(def) {\n  const res = {\n    type: \"integer\",\n    format: \"int64\"\n  };\n  if (!def.checks) return res;\n  for (const check of def.checks) {\n    switch (check.kind) {\n      case \"min\":\n        if (check.inclusive) {\n          res.minimum = check.value;\n        } else {\n          res.exclusiveMinimum = check.value;\n        }\n        break;\n      case \"max\":\n        if (check.inclusive) {\n          res.maximum = check.value;\n        } else {\n          res.exclusiveMaximum = check.value;\n        }\n        break;\n      case \"multipleOf\":\n        res.multipleOf = check.value;\n        break;\n    }\n  }\n  return res;\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/boolean.ts\nfunction parseBooleanDef() {\n  return { type: \"boolean\" };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/branded.ts\nfunction parseBrandedDef(_def, refs) {\n  return parseDef(_def.type._def, refs);\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/catch.ts\nvar parseCatchDef = (def, refs) => {\n  return parseDef(def.innerType._def, refs);\n};\n\n// src/to-json-schema/zod3-to-json-schema/parsers/date.ts\nfunction parseDateDef(def, refs, overrideDateStrategy) {\n  const strategy = overrideDateStrategy != null ? overrideDateStrategy : refs.dateStrategy;\n  if (Array.isArray(strategy)) {\n    return {\n      anyOf: strategy.map((item, i) => parseDateDef(def, refs, item))\n    };\n  }\n  switch (strategy) {\n    case \"string\":\n    case \"format:date-time\":\n      return {\n        type: \"string\",\n        format: \"date-time\"\n      };\n    case \"format:date\":\n      return {\n        type: \"string\",\n        format: \"date\"\n      };\n    case \"integer\":\n      return integerDateParser(def);\n  }\n}\nvar integerDateParser = (def) => {\n  const res = {\n    type: \"integer\",\n    format: \"unix-time\"\n  };\n  for (const check of def.checks) {\n    switch (check.kind) {\n      case \"min\":\n        res.minimum = check.value;\n        break;\n      case \"max\":\n        res.maximum = check.value;\n        break;\n    }\n  }\n  return res;\n};\n\n// src/to-json-schema/zod3-to-json-schema/parsers/default.ts\nfunction parseDefaultDef(_def, refs) {\n  return {\n    ...parseDef(_def.innerType._def, refs),\n    default: _def.defaultValue()\n  };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/effects.ts\nfunction parseEffectsDef(_def, refs) {\n  return refs.effectStrategy === \"input\" ? parseDef(_def.schema._def, refs) : parseAnyDef();\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/enum.ts\nfunction parseEnumDef(def) {\n  return {\n    type: \"string\",\n    enum: Array.from(def.values)\n  };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/intersection.ts\nvar isJsonSchema7AllOfType = (type) => {\n  if (\"type\" in type && type.type === \"string\") return false;\n  return \"allOf\" in type;\n};\nfunction parseIntersectionDef(def, refs) {\n  const allOf = [\n    parseDef(def.left._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"allOf\", \"0\"]\n    }),\n    parseDef(def.right._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"allOf\", \"1\"]\n    })\n  ].filter((x) => !!x);\n  const mergedAllOf = [];\n  allOf.forEach((schema) => {\n    if (isJsonSchema7AllOfType(schema)) {\n      mergedAllOf.push(...schema.allOf);\n    } else {\n      let nestedSchema = schema;\n      if (\"additionalProperties\" in schema && schema.additionalProperties === false) {\n        const { additionalProperties, ...rest } = schema;\n        nestedSchema = rest;\n      }\n      mergedAllOf.push(nestedSchema);\n    }\n  });\n  return mergedAllOf.length ? { allOf: mergedAllOf } : void 0;\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/literal.ts\nfunction parseLiteralDef(def) {\n  const parsedType = typeof def.value;\n  if (parsedType !== \"bigint\" && parsedType !== \"number\" && parsedType !== \"boolean\" && parsedType !== \"string\") {\n    return {\n      type: Array.isArray(def.value) ? \"array\" : \"object\"\n    };\n  }\n  return {\n    type: parsedType === \"bigint\" ? \"integer\" : parsedType,\n    const: def.value\n  };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/record.ts\nimport {\n  ZodFirstPartyTypeKind as ZodFirstPartyTypeKind2\n} from \"zod/v3\";\n\n// src/to-json-schema/zod3-to-json-schema/parsers/string.ts\nvar emojiRegex = void 0;\nvar zodPatterns = {\n  /**\n   * `c` was changed to `[cC]` to replicate /i flag\n   */\n  cuid: /^[cC][^\\s-]{8,}$/,\n  cuid2: /^[0-9a-z]+$/,\n  ulid: /^[0-9A-HJKMNP-TV-Z]{26}$/,\n  /**\n   * `a-z` was added to replicate /i flag\n   */\n  email: /^(?!\\.)(?!.*\\.\\.)([a-zA-Z0-9_'+\\-\\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\\-]*\\.)+[a-zA-Z]{2,}$/,\n  /**\n   * Constructed a valid Unicode RegExp\n   *\n   * Lazily instantiate since this type of regex isn't supported\n   * in all envs (e.g. React Native).\n   *\n   * See:\n   * https://github.com/colinhacks/zod/issues/2433\n   * Fix in Zod:\n   * https://github.com/colinhacks/zod/commit/9340fd51e48576a75adc919bff65dbc4a5d4c99b\n   */\n  emoji: () => {\n    if (emojiRegex === void 0) {\n      emojiRegex = RegExp(\n        \"^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\",\n        \"u\"\n      );\n    }\n    return emojiRegex;\n  },\n  /**\n   * Unused\n   */\n  uuid: /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/,\n  /**\n   * Unused\n   */\n  ipv4: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,\n  ipv4Cidr: /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,\n  /**\n   * Unused\n   */\n  ipv6: /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,\n  ipv6Cidr: /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,\n  base64: /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,\n  base64url: /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,\n  nanoid: /^[a-zA-Z0-9_-]{21}$/,\n  jwt: /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/\n};\nfunction parseStringDef(def, refs) {\n  const res = {\n    type: \"string\"\n  };\n  if (def.checks) {\n    for (const check of def.checks) {\n      switch (check.kind) {\n        case \"min\":\n          res.minLength = typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value;\n          break;\n        case \"max\":\n          res.maxLength = typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value;\n          break;\n        case \"email\":\n          switch (refs.emailStrategy) {\n            case \"format:email\":\n              addFormat(res, \"email\", check.message, refs);\n              break;\n            case \"format:idn-email\":\n              addFormat(res, \"idn-email\", check.message, refs);\n              break;\n            case \"pattern:zod\":\n              addPattern(res, zodPatterns.email, check.message, refs);\n              break;\n          }\n          break;\n        case \"url\":\n          addFormat(res, \"uri\", check.message, refs);\n          break;\n        case \"uuid\":\n          addFormat(res, \"uuid\", check.message, refs);\n          break;\n        case \"regex\":\n          addPattern(res, check.regex, check.message, refs);\n          break;\n        case \"cuid\":\n          addPattern(res, zodPatterns.cuid, check.message, refs);\n          break;\n        case \"cuid2\":\n          addPattern(res, zodPatterns.cuid2, check.message, refs);\n          break;\n        case \"startsWith\":\n          addPattern(\n            res,\n            RegExp(`^${escapeLiteralCheckValue(check.value, refs)}`),\n            check.message,\n            refs\n          );\n          break;\n        case \"endsWith\":\n          addPattern(\n            res,\n            RegExp(`${escapeLiteralCheckValue(check.value, refs)}$`),\n            check.message,\n            refs\n          );\n          break;\n        case \"datetime\":\n          addFormat(res, \"date-time\", check.message, refs);\n          break;\n        case \"date\":\n          addFormat(res, \"date\", check.message, refs);\n          break;\n        case \"time\":\n          addFormat(res, \"time\", check.message, refs);\n          break;\n        case \"duration\":\n          addFormat(res, \"duration\", check.message, refs);\n          break;\n        case \"length\":\n          res.minLength = typeof res.minLength === \"number\" ? Math.max(res.minLength, check.value) : check.value;\n          res.maxLength = typeof res.maxLength === \"number\" ? Math.min(res.maxLength, check.value) : check.value;\n          break;\n        case \"includes\": {\n          addPattern(\n            res,\n            RegExp(escapeLiteralCheckValue(check.value, refs)),\n            check.message,\n            refs\n          );\n          break;\n        }\n        case \"ip\": {\n          if (check.version !== \"v6\") {\n            addFormat(res, \"ipv4\", check.message, refs);\n          }\n          if (check.version !== \"v4\") {\n            addFormat(res, \"ipv6\", check.message, refs);\n          }\n          break;\n        }\n        case \"base64url\":\n          addPattern(res, zodPatterns.base64url, check.message, refs);\n          break;\n        case \"jwt\":\n          addPattern(res, zodPatterns.jwt, check.message, refs);\n          break;\n        case \"cidr\": {\n          if (check.version !== \"v6\") {\n            addPattern(res, zodPatterns.ipv4Cidr, check.message, refs);\n          }\n          if (check.version !== \"v4\") {\n            addPattern(res, zodPatterns.ipv6Cidr, check.message, refs);\n          }\n          break;\n        }\n        case \"emoji\":\n          addPattern(res, zodPatterns.emoji(), check.message, refs);\n          break;\n        case \"ulid\": {\n          addPattern(res, zodPatterns.ulid, check.message, refs);\n          break;\n        }\n        case \"base64\": {\n          switch (refs.base64Strategy) {\n            case \"format:binary\": {\n              addFormat(res, \"binary\", check.message, refs);\n              break;\n            }\n            case \"contentEncoding:base64\": {\n              res.contentEncoding = \"base64\";\n              break;\n            }\n            case \"pattern:zod\": {\n              addPattern(res, zodPatterns.base64, check.message, refs);\n              break;\n            }\n          }\n          break;\n        }\n        case \"nanoid\": {\n          addPattern(res, zodPatterns.nanoid, check.message, refs);\n        }\n        case \"toLowerCase\":\n        case \"toUpperCase\":\n        case \"trim\":\n          break;\n        default:\n          /* @__PURE__ */ ((_) => {\n          })(check);\n      }\n    }\n  }\n  return res;\n}\nfunction escapeLiteralCheckValue(literal, refs) {\n  return refs.patternStrategy === \"escape\" ? escapeNonAlphaNumeric(literal) : literal;\n}\nvar ALPHA_NUMERIC = new Set(\n  \"ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789\"\n);\nfunction escapeNonAlphaNumeric(source) {\n  let result = \"\";\n  for (let i = 0; i < source.length; i++) {\n    if (!ALPHA_NUMERIC.has(source[i])) {\n      result += \"\\\\\";\n    }\n    result += source[i];\n  }\n  return result;\n}\nfunction addFormat(schema, value, message, refs) {\n  var _a2;\n  if (schema.format || ((_a2 = schema.anyOf) == null ? void 0 : _a2.some((x) => x.format))) {\n    if (!schema.anyOf) {\n      schema.anyOf = [];\n    }\n    if (schema.format) {\n      schema.anyOf.push({\n        format: schema.format\n      });\n      delete schema.format;\n    }\n    schema.anyOf.push({\n      format: value,\n      ...message && refs.errorMessages && { errorMessage: { format: message } }\n    });\n  } else {\n    schema.format = value;\n  }\n}\nfunction addPattern(schema, regex, message, refs) {\n  var _a2;\n  if (schema.pattern || ((_a2 = schema.allOf) == null ? void 0 : _a2.some((x) => x.pattern))) {\n    if (!schema.allOf) {\n      schema.allOf = [];\n    }\n    if (schema.pattern) {\n      schema.allOf.push({\n        pattern: schema.pattern\n      });\n      delete schema.pattern;\n    }\n    schema.allOf.push({\n      pattern: stringifyRegExpWithFlags(regex, refs),\n      ...message && refs.errorMessages && { errorMessage: { pattern: message } }\n    });\n  } else {\n    schema.pattern = stringifyRegExpWithFlags(regex, refs);\n  }\n}\nfunction stringifyRegExpWithFlags(regex, refs) {\n  var _a2;\n  if (!refs.applyRegexFlags || !regex.flags) {\n    return regex.source;\n  }\n  const flags = {\n    i: regex.flags.includes(\"i\"),\n    // Case-insensitive\n    m: regex.flags.includes(\"m\"),\n    // `^` and `$` matches adjacent to newline characters\n    s: regex.flags.includes(\"s\")\n    // `.` matches newlines\n  };\n  const source = flags.i ? regex.source.toLowerCase() : regex.source;\n  let pattern = \"\";\n  let isEscaped = false;\n  let inCharGroup = false;\n  let inCharRange = false;\n  for (let i = 0; i < source.length; i++) {\n    if (isEscaped) {\n      pattern += source[i];\n      isEscaped = false;\n      continue;\n    }\n    if (flags.i) {\n      if (inCharGroup) {\n        if (source[i].match(/[a-z]/)) {\n          if (inCharRange) {\n            pattern += source[i];\n            pattern += `${source[i - 2]}-${source[i]}`.toUpperCase();\n            inCharRange = false;\n          } else if (source[i + 1] === \"-\" && ((_a2 = source[i + 2]) == null ? void 0 : _a2.match(/[a-z]/))) {\n            pattern += source[i];\n            inCharRange = true;\n          } else {\n            pattern += `${source[i]}${source[i].toUpperCase()}`;\n          }\n          continue;\n        }\n      } else if (source[i].match(/[a-z]/)) {\n        pattern += `[${source[i]}${source[i].toUpperCase()}]`;\n        continue;\n      }\n    }\n    if (flags.m) {\n      if (source[i] === \"^\") {\n        pattern += `(^|(?<=[\\r\n]))`;\n        continue;\n      } else if (source[i] === \"$\") {\n        pattern += `($|(?=[\\r\n]))`;\n        continue;\n      }\n    }\n    if (flags.s && source[i] === \".\") {\n      pattern += inCharGroup ? `${source[i]}\\r\n` : `[${source[i]}\\r\n]`;\n      continue;\n    }\n    pattern += source[i];\n    if (source[i] === \"\\\\\") {\n      isEscaped = true;\n    } else if (inCharGroup && source[i] === \"]\") {\n      inCharGroup = false;\n    } else if (!inCharGroup && source[i] === \"[\") {\n      inCharGroup = true;\n    }\n  }\n  try {\n    new RegExp(pattern);\n  } catch (e) {\n    console.warn(\n      `Could not convert regex pattern at ${refs.currentPath.join(\n        \"/\"\n      )} to a flag-independent form! Falling back to the flag-ignorant source`\n    );\n    return regex.source;\n  }\n  return pattern;\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/record.ts\nfunction parseRecordDef(def, refs) {\n  var _a2, _b2, _c, _d, _e, _f;\n  const schema = {\n    type: \"object\",\n    additionalProperties: (_a2 = parseDef(def.valueType._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    })) != null ? _a2 : refs.allowedAdditionalProperties\n  };\n  if (((_b2 = def.keyType) == null ? void 0 : _b2._def.typeName) === ZodFirstPartyTypeKind2.ZodString && ((_c = def.keyType._def.checks) == null ? void 0 : _c.length)) {\n    const { type, ...keyType } = parseStringDef(def.keyType._def, refs);\n    return {\n      ...schema,\n      propertyNames: keyType\n    };\n  } else if (((_d = def.keyType) == null ? void 0 : _d._def.typeName) === ZodFirstPartyTypeKind2.ZodEnum) {\n    return {\n      ...schema,\n      propertyNames: {\n        enum: def.keyType._def.values\n      }\n    };\n  } else if (((_e = def.keyType) == null ? void 0 : _e._def.typeName) === ZodFirstPartyTypeKind2.ZodBranded && def.keyType._def.type._def.typeName === ZodFirstPartyTypeKind2.ZodString && ((_f = def.keyType._def.type._def.checks) == null ? void 0 : _f.length)) {\n    const { type, ...keyType } = parseBrandedDef(\n      def.keyType._def,\n      refs\n    );\n    return {\n      ...schema,\n      propertyNames: keyType\n    };\n  }\n  return schema;\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/map.ts\nfunction parseMapDef(def, refs) {\n  if (refs.mapStrategy === \"record\") {\n    return parseRecordDef(def, refs);\n  }\n  const keys = parseDef(def.keyType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, \"items\", \"items\", \"0\"]\n  }) || parseAnyDef();\n  const values = parseDef(def.valueType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, \"items\", \"items\", \"1\"]\n  }) || parseAnyDef();\n  return {\n    type: \"array\",\n    maxItems: 125,\n    items: {\n      type: \"array\",\n      items: [keys, values],\n      minItems: 2,\n      maxItems: 2\n    }\n  };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/native-enum.ts\nfunction parseNativeEnumDef(def) {\n  const object = def.values;\n  const actualKeys = Object.keys(def.values).filter((key) => {\n    return typeof object[object[key]] !== \"number\";\n  });\n  const actualValues = actualKeys.map((key) => object[key]);\n  const parsedTypes = Array.from(\n    new Set(actualValues.map((values) => typeof values))\n  );\n  return {\n    type: parsedTypes.length === 1 ? parsedTypes[0] === \"string\" ? \"string\" : \"number\" : [\"string\", \"number\"],\n    enum: actualValues\n  };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/never.ts\nfunction parseNeverDef() {\n  return { not: parseAnyDef() };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/null.ts\nfunction parseNullDef() {\n  return {\n    type: \"null\"\n  };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/union.ts\nvar primitiveMappings = {\n  ZodString: \"string\",\n  ZodNumber: \"number\",\n  ZodBigInt: \"integer\",\n  ZodBoolean: \"boolean\",\n  ZodNull: \"null\"\n};\nfunction parseUnionDef(def, refs) {\n  const options = def.options instanceof Map ? Array.from(def.options.values()) : def.options;\n  if (options.every(\n    (x) => x._def.typeName in primitiveMappings && (!x._def.checks || !x._def.checks.length)\n  )) {\n    const types = options.reduce((types2, x) => {\n      const type = primitiveMappings[x._def.typeName];\n      return type && !types2.includes(type) ? [...types2, type] : types2;\n    }, []);\n    return {\n      type: types.length > 1 ? types : types[0]\n    };\n  } else if (options.every((x) => x._def.typeName === \"ZodLiteral\" && !x.description)) {\n    const types = options.reduce(\n      (acc, x) => {\n        const type = typeof x._def.value;\n        switch (type) {\n          case \"string\":\n          case \"number\":\n          case \"boolean\":\n            return [...acc, type];\n          case \"bigint\":\n            return [...acc, \"integer\"];\n          case \"object\":\n            if (x._def.value === null) return [...acc, \"null\"];\n          case \"symbol\":\n          case \"undefined\":\n          case \"function\":\n          default:\n            return acc;\n        }\n      },\n      []\n    );\n    if (types.length === options.length) {\n      const uniqueTypes = types.filter((x, i, a) => a.indexOf(x) === i);\n      return {\n        type: uniqueTypes.length > 1 ? uniqueTypes : uniqueTypes[0],\n        enum: options.reduce(\n          (acc, x) => {\n            return acc.includes(x._def.value) ? acc : [...acc, x._def.value];\n          },\n          []\n        )\n      };\n    }\n  } else if (options.every((x) => x._def.typeName === \"ZodEnum\")) {\n    return {\n      type: \"string\",\n      enum: options.reduce(\n        (acc, x) => [\n          ...acc,\n          ...x._def.values.filter((x2) => !acc.includes(x2))\n        ],\n        []\n      )\n    };\n  }\n  return asAnyOf(def, refs);\n}\nvar asAnyOf = (def, refs) => {\n  const anyOf = (def.options instanceof Map ? Array.from(def.options.values()) : def.options).map(\n    (x, i) => parseDef(x._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"anyOf\", `${i}`]\n    })\n  ).filter(\n    (x) => !!x && (!refs.strictUnions || typeof x === \"object\" && Object.keys(x).length > 0)\n  );\n  return anyOf.length ? { anyOf } : void 0;\n};\n\n// src/to-json-schema/zod3-to-json-schema/parsers/nullable.ts\nfunction parseNullableDef(def, refs) {\n  if ([\"ZodString\", \"ZodNumber\", \"ZodBigInt\", \"ZodBoolean\", \"ZodNull\"].includes(\n    def.innerType._def.typeName\n  ) && (!def.innerType._def.checks || !def.innerType._def.checks.length)) {\n    return {\n      type: [\n        primitiveMappings[def.innerType._def.typeName],\n        \"null\"\n      ]\n    };\n  }\n  const base = parseDef(def.innerType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, \"anyOf\", \"0\"]\n  });\n  return base && { anyOf: [base, { type: \"null\" }] };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/number.ts\nfunction parseNumberDef(def) {\n  const res = {\n    type: \"number\"\n  };\n  if (!def.checks) return res;\n  for (const check of def.checks) {\n    switch (check.kind) {\n      case \"int\":\n        res.type = \"integer\";\n        break;\n      case \"min\":\n        if (check.inclusive) {\n          res.minimum = check.value;\n        } else {\n          res.exclusiveMinimum = check.value;\n        }\n        break;\n      case \"max\":\n        if (check.inclusive) {\n          res.maximum = check.value;\n        } else {\n          res.exclusiveMaximum = check.value;\n        }\n        break;\n      case \"multipleOf\":\n        res.multipleOf = check.value;\n        break;\n    }\n  }\n  return res;\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/object.ts\nfunction parseObjectDef(def, refs) {\n  const result = {\n    type: \"object\",\n    properties: {}\n  };\n  const required = [];\n  const shape = def.shape();\n  for (const propName in shape) {\n    let propDef = shape[propName];\n    if (propDef === void 0 || propDef._def === void 0) {\n      continue;\n    }\n    const propOptional = safeIsOptional(propDef);\n    const parsedDef = parseDef(propDef._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"properties\", propName],\n      propertyPath: [...refs.currentPath, \"properties\", propName]\n    });\n    if (parsedDef === void 0) {\n      continue;\n    }\n    result.properties[propName] = parsedDef;\n    if (!propOptional) {\n      required.push(propName);\n    }\n  }\n  if (required.length) {\n    result.required = required;\n  }\n  const additionalProperties = decideAdditionalProperties(def, refs);\n  if (additionalProperties !== void 0) {\n    result.additionalProperties = additionalProperties;\n  }\n  return result;\n}\nfunction decideAdditionalProperties(def, refs) {\n  if (def.catchall._def.typeName !== \"ZodNever\") {\n    return parseDef(def.catchall._def, {\n      ...refs,\n      currentPath: [...refs.currentPath, \"additionalProperties\"]\n    });\n  }\n  switch (def.unknownKeys) {\n    case \"passthrough\":\n      return refs.allowedAdditionalProperties;\n    case \"strict\":\n      return refs.rejectedAdditionalProperties;\n    case \"strip\":\n      return refs.removeAdditionalStrategy === \"strict\" ? refs.allowedAdditionalProperties : refs.rejectedAdditionalProperties;\n  }\n}\nfunction safeIsOptional(schema) {\n  try {\n    return schema.isOptional();\n  } catch (e) {\n    return true;\n  }\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/optional.ts\nvar parseOptionalDef = (def, refs) => {\n  var _a2;\n  if (refs.currentPath.toString() === ((_a2 = refs.propertyPath) == null ? void 0 : _a2.toString())) {\n    return parseDef(def.innerType._def, refs);\n  }\n  const innerSchema = parseDef(def.innerType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, \"anyOf\", \"1\"]\n  });\n  return innerSchema ? { anyOf: [{ not: parseAnyDef() }, innerSchema] } : parseAnyDef();\n};\n\n// src/to-json-schema/zod3-to-json-schema/parsers/pipeline.ts\nvar parsePipelineDef = (def, refs) => {\n  if (refs.pipeStrategy === \"input\") {\n    return parseDef(def.in._def, refs);\n  } else if (refs.pipeStrategy === \"output\") {\n    return parseDef(def.out._def, refs);\n  }\n  const a = parseDef(def.in._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, \"allOf\", \"0\"]\n  });\n  const b = parseDef(def.out._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, \"allOf\", a ? \"1\" : \"0\"]\n  });\n  return {\n    allOf: [a, b].filter((x) => x !== void 0)\n  };\n};\n\n// src/to-json-schema/zod3-to-json-schema/parsers/promise.ts\nfunction parsePromiseDef(def, refs) {\n  return parseDef(def.type._def, refs);\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/set.ts\nfunction parseSetDef(def, refs) {\n  const items = parseDef(def.valueType._def, {\n    ...refs,\n    currentPath: [...refs.currentPath, \"items\"]\n  });\n  const schema = {\n    type: \"array\",\n    uniqueItems: true,\n    items\n  };\n  if (def.minSize) {\n    schema.minItems = def.minSize.value;\n  }\n  if (def.maxSize) {\n    schema.maxItems = def.maxSize.value;\n  }\n  return schema;\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/tuple.ts\nfunction parseTupleDef(def, refs) {\n  if (def.rest) {\n    return {\n      type: \"array\",\n      minItems: def.items.length,\n      items: def.items.map(\n        (x, i) => parseDef(x._def, {\n          ...refs,\n          currentPath: [...refs.currentPath, \"items\", `${i}`]\n        })\n      ).reduce(\n        (acc, x) => x === void 0 ? acc : [...acc, x],\n        []\n      ),\n      additionalItems: parseDef(def.rest._def, {\n        ...refs,\n        currentPath: [...refs.currentPath, \"additionalItems\"]\n      })\n    };\n  } else {\n    return {\n      type: \"array\",\n      minItems: def.items.length,\n      maxItems: def.items.length,\n      items: def.items.map(\n        (x, i) => parseDef(x._def, {\n          ...refs,\n          currentPath: [...refs.currentPath, \"items\", `${i}`]\n        })\n      ).reduce(\n        (acc, x) => x === void 0 ? acc : [...acc, x],\n        []\n      )\n    };\n  }\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/undefined.ts\nfunction parseUndefinedDef() {\n  return {\n    not: parseAnyDef()\n  };\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/unknown.ts\nfunction parseUnknownDef() {\n  return parseAnyDef();\n}\n\n// src/to-json-schema/zod3-to-json-schema/parsers/readonly.ts\nvar parseReadonlyDef = (def, refs) => {\n  return parseDef(def.innerType._def, refs);\n};\n\n// src/to-json-schema/zod3-to-json-schema/select-parser.ts\nvar selectParser = (def, typeName, refs) => {\n  switch (typeName) {\n    case ZodFirstPartyTypeKind3.ZodString:\n      return parseStringDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodNumber:\n      return parseNumberDef(def);\n    case ZodFirstPartyTypeKind3.ZodObject:\n      return parseObjectDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodBigInt:\n      return parseBigintDef(def);\n    case ZodFirstPartyTypeKind3.ZodBoolean:\n      return parseBooleanDef();\n    case ZodFirstPartyTypeKind3.ZodDate:\n      return parseDateDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodUndefined:\n      return parseUndefinedDef();\n    case ZodFirstPartyTypeKind3.ZodNull:\n      return parseNullDef();\n    case ZodFirstPartyTypeKind3.ZodArray:\n      return parseArrayDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodUnion:\n    case ZodFirstPartyTypeKind3.ZodDiscriminatedUnion:\n      return parseUnionDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodIntersection:\n      return parseIntersectionDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodTuple:\n      return parseTupleDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodRecord:\n      return parseRecordDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodLiteral:\n      return parseLiteralDef(def);\n    case ZodFirstPartyTypeKind3.ZodEnum:\n      return parseEnumDef(def);\n    case ZodFirstPartyTypeKind3.ZodNativeEnum:\n      return parseNativeEnumDef(def);\n    case ZodFirstPartyTypeKind3.ZodNullable:\n      return parseNullableDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodOptional:\n      return parseOptionalDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodMap:\n      return parseMapDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodSet:\n      return parseSetDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodLazy:\n      return () => def.getter()._def;\n    case ZodFirstPartyTypeKind3.ZodPromise:\n      return parsePromiseDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodNaN:\n    case ZodFirstPartyTypeKind3.ZodNever:\n      return parseNeverDef();\n    case ZodFirstPartyTypeKind3.ZodEffects:\n      return parseEffectsDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodAny:\n      return parseAnyDef();\n    case ZodFirstPartyTypeKind3.ZodUnknown:\n      return parseUnknownDef();\n    case ZodFirstPartyTypeKind3.ZodDefault:\n      return parseDefaultDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodBranded:\n      return parseBrandedDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodReadonly:\n      return parseReadonlyDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodCatch:\n      return parseCatchDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodPipeline:\n      return parsePipelineDef(def, refs);\n    case ZodFirstPartyTypeKind3.ZodFunction:\n    case ZodFirstPartyTypeKind3.ZodVoid:\n    case ZodFirstPartyTypeKind3.ZodSymbol:\n      return void 0;\n    default:\n      return /* @__PURE__ */ ((_) => void 0)(typeName);\n  }\n};\n\n// src/to-json-schema/zod3-to-json-schema/get-relative-path.ts\nvar getRelativePath = (pathA, pathB) => {\n  let i = 0;\n  for (; i < pathA.length && i < pathB.length; i++) {\n    if (pathA[i] !== pathB[i]) break;\n  }\n  return [(pathA.length - i).toString(), ...pathB.slice(i)].join(\"/\");\n};\n\n// src/to-json-schema/zod3-to-json-schema/parse-def.ts\nfunction parseDef(def, refs, forceResolution = false) {\n  var _a2;\n  const seenItem = refs.seen.get(def);\n  if (refs.override) {\n    const overrideResult = (_a2 = refs.override) == null ? void 0 : _a2.call(\n      refs,\n      def,\n      refs,\n      seenItem,\n      forceResolution\n    );\n    if (overrideResult !== ignoreOverride) {\n      return overrideResult;\n    }\n  }\n  if (seenItem && !forceResolution) {\n    const seenSchema = get$ref(seenItem, refs);\n    if (seenSchema !== void 0) {\n      return seenSchema;\n    }\n  }\n  const newItem = { def, path: refs.currentPath, jsonSchema: void 0 };\n  refs.seen.set(def, newItem);\n  const jsonSchemaOrGetter = selectParser(def, def.typeName, refs);\n  const jsonSchema2 = typeof jsonSchemaOrGetter === \"function\" ? parseDef(jsonSchemaOrGetter(), refs) : jsonSchemaOrGetter;\n  if (jsonSchema2) {\n    addMeta(def, refs, jsonSchema2);\n  }\n  if (refs.postProcess) {\n    const postProcessResult = refs.postProcess(jsonSchema2, def, refs);\n    newItem.jsonSchema = jsonSchema2;\n    return postProcessResult;\n  }\n  newItem.jsonSchema = jsonSchema2;\n  return jsonSchema2;\n}\nvar get$ref = (item, refs) => {\n  switch (refs.$refStrategy) {\n    case \"root\":\n      return { $ref: item.path.join(\"/\") };\n    case \"relative\":\n      return { $ref: getRelativePath(refs.currentPath, item.path) };\n    case \"none\":\n    case \"seen\": {\n      if (item.path.length < refs.currentPath.length && item.path.every((value, index) => refs.currentPath[index] === value)) {\n        console.warn(\n          `Recursive reference detected at ${refs.currentPath.join(\n            \"/\"\n          )}! Defaulting to any`\n        );\n        return parseAnyDef();\n      }\n      return refs.$refStrategy === \"seen\" ? parseAnyDef() : void 0;\n    }\n  }\n};\nvar addMeta = (def, refs, jsonSchema2) => {\n  if (def.description) {\n    jsonSchema2.description = def.description;\n  }\n  return jsonSchema2;\n};\n\n// src/to-json-schema/zod3-to-json-schema/refs.ts\nvar getRefs = (options) => {\n  const _options = getDefaultOptions(options);\n  const currentPath = _options.name !== void 0 ? [..._options.basePath, _options.definitionPath, _options.name] : _options.basePath;\n  return {\n    ..._options,\n    currentPath,\n    propertyPath: void 0,\n    seen: new Map(\n      Object.entries(_options.definitions).map(([name2, def]) => [\n        def._def,\n        {\n          def: def._def,\n          path: [..._options.basePath, _options.definitionPath, name2],\n          // Resolution of references will be forced even though seen, so it's ok that the schema is undefined here for now.\n          jsonSchema: void 0\n        }\n      ])\n    )\n  };\n};\n\n// src/to-json-schema/zod3-to-json-schema/zod3-to-json-schema.ts\nvar zod3ToJsonSchema = (schema, options) => {\n  var _a2;\n  const refs = getRefs(options);\n  let definitions = typeof options === \"object\" && options.definitions ? Object.entries(options.definitions).reduce(\n    (acc, [name3, schema2]) => {\n      var _a3;\n      return {\n        ...acc,\n        [name3]: (_a3 = parseDef(\n          schema2._def,\n          {\n            ...refs,\n            currentPath: [...refs.basePath, refs.definitionPath, name3]\n          },\n          true\n        )) != null ? _a3 : parseAnyDef()\n      };\n    },\n    {}\n  ) : void 0;\n  const name2 = typeof options === \"string\" ? options : (options == null ? void 0 : options.nameStrategy) === \"title\" ? void 0 : options == null ? void 0 : options.name;\n  const main = (_a2 = parseDef(\n    schema._def,\n    name2 === void 0 ? refs : {\n      ...refs,\n      currentPath: [...refs.basePath, refs.definitionPath, name2]\n    },\n    false\n  )) != null ? _a2 : parseAnyDef();\n  const title = typeof options === \"object\" && options.name !== void 0 && options.nameStrategy === \"title\" ? options.name : void 0;\n  if (title !== void 0) {\n    main.title = title;\n  }\n  const combined = name2 === void 0 ? definitions ? {\n    ...main,\n    [refs.definitionPath]: definitions\n  } : main : {\n    $ref: [\n      ...refs.$refStrategy === \"relative\" ? [] : refs.basePath,\n      refs.definitionPath,\n      name2\n    ].join(\"/\"),\n    [refs.definitionPath]: {\n      ...definitions,\n      [name2]: main\n    }\n  };\n  combined.$schema = \"http://json-schema.org/draft-07/schema#\";\n  return combined;\n};\n\n// src/schema.ts\nvar schemaSymbol = Symbol.for(\"vercel.ai.schema\");\nfunction lazySchema(createSchema) {\n  let schema;\n  return () => {\n    if (schema == null) {\n      schema = createSchema();\n    }\n    return schema;\n  };\n}\nfunction jsonSchema(jsonSchema2, {\n  validate\n} = {}) {\n  return {\n    [schemaSymbol]: true,\n    _type: void 0,\n    // should never be used directly\n    get jsonSchema() {\n      if (typeof jsonSchema2 === \"function\") {\n        jsonSchema2 = jsonSchema2();\n      }\n      return jsonSchema2;\n    },\n    validate\n  };\n}\nfunction isSchema(value) {\n  return typeof value === \"object\" && value !== null && schemaSymbol in value && value[schemaSymbol] === true && \"jsonSchema\" in value && \"validate\" in value;\n}\nfunction asSchema(schema) {\n  return schema == null ? jsonSchema({ properties: {}, additionalProperties: false }) : isSchema(schema) ? schema : \"~standard\" in schema ? schema[\"~standard\"].vendor === \"zod\" ? zodSchema(schema) : standardSchema(schema) : schema();\n}\nfunction standardSchema(standardSchema2) {\n  return jsonSchema(\n    () => addAdditionalPropertiesToJsonSchema(\n      standardSchema2[\"~standard\"].jsonSchema.input({\n        target: \"draft-07\"\n      })\n    ),\n    {\n      validate: async (value) => {\n        const result = await standardSchema2[\"~standard\"].validate(value);\n        return \"value\" in result ? { success: true, value: result.value } : {\n          success: false,\n          error: new TypeValidationError({\n            value,\n            cause: result.issues\n          })\n        };\n      }\n    }\n  );\n}\nfunction zod3Schema(zodSchema2, options) {\n  var _a2;\n  const useReferences = (_a2 = options == null ? void 0 : options.useReferences) != null ? _a2 : false;\n  return jsonSchema(\n    // defer json schema creation to avoid unnecessary computation when only validation is needed\n    () => zod3ToJsonSchema(zodSchema2, {\n      $refStrategy: useReferences ? \"root\" : \"none\"\n    }),\n    {\n      validate: async (value) => {\n        const result = await zodSchema2.safeParseAsync(value);\n        return result.success ? { success: true, value: result.data } : { success: false, error: result.error };\n      }\n    }\n  );\n}\nfunction zod4Schema(zodSchema2, options) {\n  var _a2;\n  const useReferences = (_a2 = options == null ? void 0 : options.useReferences) != null ? _a2 : false;\n  return jsonSchema(\n    // defer json schema creation to avoid unnecessary computation when only validation is needed\n    () => addAdditionalPropertiesToJsonSchema(\n      z4.toJSONSchema(zodSchema2, {\n        target: \"draft-7\",\n        io: \"input\",\n        reused: useReferences ? \"ref\" : \"inline\"\n      })\n    ),\n    {\n      validate: async (value) => {\n        const result = await z4.safeParseAsync(zodSchema2, value);\n        return result.success ? { success: true, value: result.data } : { success: false, error: result.error };\n      }\n    }\n  );\n}\nfunction isZod4Schema(zodSchema2) {\n  return \"_zod\" in zodSchema2;\n}\nfunction zodSchema(zodSchema2, options) {\n  if (isZod4Schema(zodSchema2)) {\n    return zod4Schema(zodSchema2, options);\n  } else {\n    return zod3Schema(zodSchema2, options);\n  }\n}\n\n// src/validate-types.ts\nasync function validateTypes({\n  value,\n  schema\n}) {\n  const result = await safeValidateTypes({ value, schema });\n  if (!result.success) {\n    throw TypeValidationError2.wrap({ value, cause: result.error });\n  }\n  return result.value;\n}\nasync function safeValidateTypes({\n  value,\n  schema\n}) {\n  const actualSchema = asSchema(schema);\n  try {\n    if (actualSchema.validate == null) {\n      return { success: true, value, rawValue: value };\n    }\n    const result = await actualSchema.validate(value);\n    if (result.success) {\n      return { success: true, value: result.value, rawValue: value };\n    }\n    return {\n      success: false,\n      error: TypeValidationError2.wrap({ value, cause: result.error }),\n      rawValue: value\n    };\n  } catch (error) {\n    return {\n      success: false,\n      error: TypeValidationError2.wrap({ value, cause: error }),\n      rawValue: value\n    };\n  }\n}\n\n// src/parse-json.ts\nasync function parseJSON({\n  text,\n  schema\n}) {\n  try {\n    const value = secureJsonParse(text);\n    if (schema == null) {\n      return value;\n    }\n    return validateTypes({ value, schema });\n  } catch (error) {\n    if (JSONParseError.isInstance(error) || TypeValidationError3.isInstance(error)) {\n      throw error;\n    }\n    throw new JSONParseError({ text, cause: error });\n  }\n}\nasync function safeParseJSON({\n  text,\n  schema\n}) {\n  try {\n    const value = secureJsonParse(text);\n    if (schema == null) {\n      return { success: true, value, rawValue: value };\n    }\n    return await safeValidateTypes({ value, schema });\n  } catch (error) {\n    return {\n      success: false,\n      error: JSONParseError.isInstance(error) ? error : new JSONParseError({ text, cause: error }),\n      rawValue: void 0\n    };\n  }\n}\nfunction isParsableJson(input) {\n  try {\n    secureJsonParse(input);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\n// src/parse-json-event-stream.ts\nimport {\n  EventSourceParserStream\n} from \"eventsource-parser/stream\";\nfunction parseJsonEventStream({\n  stream,\n  schema\n}) {\n  return stream.pipeThrough(new TextDecoderStream()).pipeThrough(new EventSourceParserStream()).pipeThrough(\n    new TransformStream({\n      async transform({ data }, controller) {\n        if (data === \"[DONE]\") {\n          return;\n        }\n        controller.enqueue(await safeParseJSON({ text: data, schema }));\n      }\n    })\n  );\n}\n\n// src/parse-provider-options.ts\nimport { InvalidArgumentError as InvalidArgumentError2 } from \"@ai-sdk/provider\";\nasync function parseProviderOptions({\n  provider,\n  providerOptions,\n  schema\n}) {\n  if ((providerOptions == null ? void 0 : providerOptions[provider]) == null) {\n    return void 0;\n  }\n  const parsedProviderOptions = await safeValidateTypes({\n    value: providerOptions[provider],\n    schema\n  });\n  if (!parsedProviderOptions.success) {\n    throw new InvalidArgumentError2({\n      argument: \"providerOptions\",\n      message: `invalid ${provider} provider options`,\n      cause: parsedProviderOptions.error\n    });\n  }\n  return parsedProviderOptions.value;\n}\n\n// src/post-to-api.ts\nimport { APICallError as APICallError3 } from \"@ai-sdk/provider\";\nvar getOriginalFetch2 = () => globalThis.fetch;\nvar postJsonToApi = async ({\n  url,\n  headers,\n  body,\n  failedResponseHandler,\n  successfulResponseHandler,\n  abortSignal,\n  fetch: fetch2\n}) => postToApi({\n  url,\n  headers: {\n    \"Content-Type\": \"application/json\",\n    ...headers\n  },\n  body: {\n    content: JSON.stringify(body),\n    values: body\n  },\n  failedResponseHandler,\n  successfulResponseHandler,\n  abortSignal,\n  fetch: fetch2\n});\nvar postFormDataToApi = async ({\n  url,\n  headers,\n  formData,\n  failedResponseHandler,\n  successfulResponseHandler,\n  abortSignal,\n  fetch: fetch2\n}) => postToApi({\n  url,\n  headers,\n  body: {\n    content: formData,\n    values: Object.fromEntries(formData.entries())\n  },\n  failedResponseHandler,\n  successfulResponseHandler,\n  abortSignal,\n  fetch: fetch2\n});\nvar postToApi = async ({\n  url,\n  headers = {},\n  body,\n  successfulResponseHandler,\n  failedResponseHandler,\n  abortSignal,\n  fetch: fetch2 = getOriginalFetch2()\n}) => {\n  try {\n    const response = await fetch2(url, {\n      method: \"POST\",\n      headers: withUserAgentSuffix(\n        headers,\n        `ai-sdk/provider-utils/${VERSION}`,\n        getRuntimeEnvironmentUserAgent()\n      ),\n      body: body.content,\n      signal: abortSignal\n    });\n    const responseHeaders = extractResponseHeaders(response);\n    if (!response.ok) {\n      let errorInformation;\n      try {\n        errorInformation = await failedResponseHandler({\n          response,\n          url,\n          requestBodyValues: body.values\n        });\n      } catch (error) {\n        if (isAbortError(error) || APICallError3.isInstance(error)) {\n          throw error;\n        }\n        throw new APICallError3({\n          message: \"Failed to process error response\",\n          cause: error,\n          statusCode: response.status,\n          url,\n          responseHeaders,\n          requestBodyValues: body.values\n        });\n      }\n      throw errorInformation.value;\n    }\n    try {\n      return await successfulResponseHandler({\n        response,\n        url,\n        requestBodyValues: body.values\n      });\n    } catch (error) {\n      if (error instanceof Error) {\n        if (isAbortError(error) || APICallError3.isInstance(error)) {\n          throw error;\n        }\n      }\n      throw new APICallError3({\n        message: \"Failed to process successful response\",\n        cause: error,\n        statusCode: response.status,\n        url,\n        responseHeaders,\n        requestBodyValues: body.values\n      });\n    }\n  } catch (error) {\n    throw handleFetchError({ error, url, requestBodyValues: body.values });\n  }\n};\n\n// src/types/tool.ts\nfunction tool(tool2) {\n  return tool2;\n}\nfunction dynamicTool(tool2) {\n  return { ...tool2, type: \"dynamic\" };\n}\n\n// src/provider-tool-factory.ts\nfunction createProviderToolFactory({\n  id,\n  inputSchema\n}) {\n  return ({\n    execute,\n    outputSchema,\n    needsApproval,\n    toModelOutput,\n    onInputStart,\n    onInputDelta,\n    onInputAvailable,\n    ...args\n  }) => tool({\n    type: \"provider\",\n    id,\n    args,\n    inputSchema,\n    outputSchema,\n    execute,\n    needsApproval,\n    toModelOutput,\n    onInputStart,\n    onInputDelta,\n    onInputAvailable\n  });\n}\nfunction createProviderToolFactoryWithOutputSchema({\n  id,\n  inputSchema,\n  outputSchema,\n  supportsDeferredResults\n}) {\n  return ({\n    execute,\n    needsApproval,\n    toModelOutput,\n    onInputStart,\n    onInputDelta,\n    onInputAvailable,\n    ...args\n  }) => tool({\n    type: \"provider\",\n    id,\n    args,\n    inputSchema,\n    outputSchema,\n    execute,\n    needsApproval,\n    toModelOutput,\n    onInputStart,\n    onInputDelta,\n    onInputAvailable,\n    supportsDeferredResults\n  });\n}\n\n// src/remove-undefined-entries.ts\nfunction removeUndefinedEntries(record) {\n  return Object.fromEntries(\n    Object.entries(record).filter(([_key, value]) => value != null)\n  );\n}\n\n// src/resolve.ts\nasync function resolve(value) {\n  if (typeof value === \"function\") {\n    value = value();\n  }\n  return Promise.resolve(value);\n}\n\n// src/response-handler.ts\nimport { APICallError as APICallError4, EmptyResponseBodyError } from \"@ai-sdk/provider\";\nvar createJsonErrorResponseHandler = ({\n  errorSchema,\n  errorToMessage,\n  isRetryable\n}) => async ({ response, url, requestBodyValues }) => {\n  const responseBody = await response.text();\n  const responseHeaders = extractResponseHeaders(response);\n  if (responseBody.trim() === \"\") {\n    return {\n      responseHeaders,\n      value: new APICallError4({\n        message: response.statusText,\n        url,\n        requestBodyValues,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody,\n        isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n      })\n    };\n  }\n  try {\n    const parsedError = await parseJSON({\n      text: responseBody,\n      schema: errorSchema\n    });\n    return {\n      responseHeaders,\n      value: new APICallError4({\n        message: errorToMessage(parsedError),\n        url,\n        requestBodyValues,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody,\n        data: parsedError,\n        isRetryable: isRetryable == null ? void 0 : isRetryable(response, parsedError)\n      })\n    };\n  } catch (parseError) {\n    return {\n      responseHeaders,\n      value: new APICallError4({\n        message: response.statusText,\n        url,\n        requestBodyValues,\n        statusCode: response.status,\n        responseHeaders,\n        responseBody,\n        isRetryable: isRetryable == null ? void 0 : isRetryable(response)\n      })\n    };\n  }\n};\nvar createEventSourceResponseHandler = (chunkSchema) => async ({ response }) => {\n  const responseHeaders = extractResponseHeaders(response);\n  if (response.body == null) {\n    throw new EmptyResponseBodyError({});\n  }\n  return {\n    responseHeaders,\n    value: parseJsonEventStream({\n      stream: response.body,\n      schema: chunkSchema\n    })\n  };\n};\nvar createJsonResponseHandler = (responseSchema) => async ({ response, url, requestBodyValues }) => {\n  const responseBody = await response.text();\n  const parsedResult = await safeParseJSON({\n    text: responseBody,\n    schema: responseSchema\n  });\n  const responseHeaders = extractResponseHeaders(response);\n  if (!parsedResult.success) {\n    throw new APICallError4({\n      message: \"Invalid JSON response\",\n      cause: parsedResult.error,\n      statusCode: response.status,\n      responseHeaders,\n      responseBody,\n      url,\n      requestBodyValues\n    });\n  }\n  return {\n    responseHeaders,\n    value: parsedResult.value,\n    rawValue: parsedResult.rawValue\n  };\n};\nvar createBinaryResponseHandler = () => async ({ response, url, requestBodyValues }) => {\n  const responseHeaders = extractResponseHeaders(response);\n  if (!response.body) {\n    throw new APICallError4({\n      message: \"Response body is empty\",\n      url,\n      requestBodyValues,\n      statusCode: response.status,\n      responseHeaders,\n      responseBody: void 0\n    });\n  }\n  try {\n    const buffer = await response.arrayBuffer();\n    return {\n      responseHeaders,\n      value: new Uint8Array(buffer)\n    };\n  } catch (error) {\n    throw new APICallError4({\n      message: \"Failed to read response as array buffer\",\n      url,\n      requestBodyValues,\n      statusCode: response.status,\n      responseHeaders,\n      responseBody: void 0,\n      cause: error\n    });\n  }\n};\nvar createStatusCodeErrorResponseHandler = () => async ({ response, url, requestBodyValues }) => {\n  const responseHeaders = extractResponseHeaders(response);\n  const responseBody = await response.text();\n  return {\n    responseHeaders,\n    value: new APICallError4({\n      message: response.statusText,\n      url,\n      requestBodyValues,\n      statusCode: response.status,\n      responseHeaders,\n      responseBody\n    })\n  };\n};\n\n// src/without-trailing-slash.ts\nfunction withoutTrailingSlash(url) {\n  return url == null ? void 0 : url.replace(/\\/$/, \"\");\n}\n\n// src/is-async-iterable.ts\nfunction isAsyncIterable(obj) {\n  return obj != null && typeof obj[Symbol.asyncIterator] === \"function\";\n}\n\n// src/types/execute-tool.ts\nasync function* executeTool({\n  execute,\n  input,\n  options\n}) {\n  const result = execute(input, options);\n  if (isAsyncIterable(result)) {\n    let lastOutput;\n    for await (const output of result) {\n      lastOutput = output;\n      yield { type: \"preliminary\", output };\n    }\n    yield { type: \"final\", output: lastOutput };\n  } else {\n    yield { type: \"final\", output: await result };\n  }\n}\n\n// src/index.ts\nexport * from \"@standard-schema/spec\";\nimport {\n  EventSourceParserStream as EventSourceParserStream2\n} from \"eventsource-parser/stream\";\nexport {\n  DelayedPromise,\n  DownloadError,\n  EventSourceParserStream2 as EventSourceParserStream,\n  VERSION,\n  asSchema,\n  combineHeaders,\n  convertAsyncIteratorToReadableStream,\n  convertBase64ToUint8Array,\n  convertImageModelFileToDataUri,\n  convertToBase64,\n  convertToFormData,\n  convertUint8ArrayToBase64,\n  createBinaryResponseHandler,\n  createEventSourceResponseHandler,\n  createIdGenerator,\n  createJsonErrorResponseHandler,\n  createJsonResponseHandler,\n  createProviderToolFactory,\n  createProviderToolFactoryWithOutputSchema,\n  createStatusCodeErrorResponseHandler,\n  createToolNameMapping,\n  delay,\n  downloadBlob,\n  dynamicTool,\n  executeTool,\n  extractResponseHeaders,\n  generateId,\n  getErrorMessage,\n  getFromApi,\n  getRuntimeEnvironmentUserAgent,\n  injectJsonInstructionIntoMessages,\n  isAbortError,\n  isNonNullable,\n  isParsableJson,\n  isUrlSupported,\n  jsonSchema,\n  lazySchema,\n  loadApiKey,\n  loadOptionalSetting,\n  loadSetting,\n  mediaTypeToExtension,\n  normalizeHeaders,\n  parseJSON,\n  parseJsonEventStream,\n  parseProviderOptions,\n  postFormDataToApi,\n  postJsonToApi,\n  postToApi,\n  removeUndefinedEntries,\n  resolve,\n  safeParseJSON,\n  safeValidateTypes,\n  tool,\n  validateTypes,\n  withUserAgentSuffix,\n  withoutTrailingSlash,\n  zodSchema\n};\n//# sourceMappingURL=index.mjs.map","// src/anthropic-provider.ts\nimport {\n  NoSuchModelError\n} from \"@ai-sdk/provider\";\nimport {\n  generateId as generateId2,\n  loadApiKey,\n  loadOptionalSetting,\n  withoutTrailingSlash,\n  withUserAgentSuffix\n} from \"@ai-sdk/provider-utils\";\n\n// src/version.ts\nvar VERSION = true ? \"3.0.13\" : \"0.0.0-test\";\n\n// src/anthropic-messages-language-model.ts\nimport {\n  APICallError\n} from \"@ai-sdk/provider\";\nimport {\n  combineHeaders,\n  createEventSourceResponseHandler,\n  createJsonResponseHandler,\n  createToolNameMapping,\n  generateId,\n  parseProviderOptions as parseProviderOptions2,\n  postJsonToApi,\n  resolve\n} from \"@ai-sdk/provider-utils\";\n\n// src/anthropic-error.ts\nimport {\n  createJsonErrorResponseHandler,\n  lazySchema,\n  zodSchema\n} from \"@ai-sdk/provider-utils\";\nimport { z } from \"zod/v4\";\nvar anthropicErrorDataSchema = lazySchema(\n  () => zodSchema(\n    z.object({\n      type: z.literal(\"error\"),\n      error: z.object({\n        type: z.string(),\n        message: z.string()\n      })\n    })\n  )\n);\nvar anthropicFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: anthropicErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\n\n// src/anthropic-messages-api.ts\nimport { lazySchema as lazySchema2, zodSchema as zodSchema2 } from \"@ai-sdk/provider-utils\";\nimport { z as z2 } from \"zod/v4\";\nvar anthropicMessagesResponseSchema = lazySchema2(\n  () => zodSchema2(\n    z2.object({\n      type: z2.literal(\"message\"),\n      id: z2.string().nullish(),\n      model: z2.string().nullish(),\n      content: z2.array(\n        z2.discriminatedUnion(\"type\", [\n          z2.object({\n            type: z2.literal(\"text\"),\n            text: z2.string(),\n            citations: z2.array(\n              z2.discriminatedUnion(\"type\", [\n                z2.object({\n                  type: z2.literal(\"web_search_result_location\"),\n                  cited_text: z2.string(),\n                  url: z2.string(),\n                  title: z2.string(),\n                  encrypted_index: z2.string()\n                }),\n                z2.object({\n                  type: z2.literal(\"page_location\"),\n                  cited_text: z2.string(),\n                  document_index: z2.number(),\n                  document_title: z2.string().nullable(),\n                  start_page_number: z2.number(),\n                  end_page_number: z2.number()\n                }),\n                z2.object({\n                  type: z2.literal(\"char_location\"),\n                  cited_text: z2.string(),\n                  document_index: z2.number(),\n                  document_title: z2.string().nullable(),\n                  start_char_index: z2.number(),\n                  end_char_index: z2.number()\n                })\n              ])\n            ).optional()\n          }),\n          z2.object({\n            type: z2.literal(\"thinking\"),\n            thinking: z2.string(),\n            signature: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"redacted_thinking\"),\n            data: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"tool_use\"),\n            id: z2.string(),\n            name: z2.string(),\n            input: z2.unknown(),\n            // Programmatic tool calling: caller info when triggered from code execution\n            caller: z2.union([\n              z2.object({\n                type: z2.literal(\"code_execution_20250825\"),\n                tool_id: z2.string()\n              }),\n              z2.object({\n                type: z2.literal(\"direct\")\n              })\n            ]).optional()\n          }),\n          z2.object({\n            type: z2.literal(\"server_tool_use\"),\n            id: z2.string(),\n            name: z2.string(),\n            input: z2.record(z2.string(), z2.unknown()).nullish()\n          }),\n          z2.object({\n            type: z2.literal(\"mcp_tool_use\"),\n            id: z2.string(),\n            name: z2.string(),\n            input: z2.unknown(),\n            server_name: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"mcp_tool_result\"),\n            tool_use_id: z2.string(),\n            is_error: z2.boolean(),\n            content: z2.array(\n              z2.union([\n                z2.string(),\n                z2.object({ type: z2.literal(\"text\"), text: z2.string() })\n              ])\n            )\n          }),\n          z2.object({\n            type: z2.literal(\"web_fetch_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.union([\n              z2.object({\n                type: z2.literal(\"web_fetch_result\"),\n                url: z2.string(),\n                retrieved_at: z2.string(),\n                content: z2.object({\n                  type: z2.literal(\"document\"),\n                  title: z2.string().nullable(),\n                  citations: z2.object({ enabled: z2.boolean() }).optional(),\n                  source: z2.union([\n                    z2.object({\n                      type: z2.literal(\"base64\"),\n                      media_type: z2.literal(\"application/pdf\"),\n                      data: z2.string()\n                    }),\n                    z2.object({\n                      type: z2.literal(\"text\"),\n                      media_type: z2.literal(\"text/plain\"),\n                      data: z2.string()\n                    })\n                  ])\n                })\n              }),\n              z2.object({\n                type: z2.literal(\"web_fetch_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          }),\n          z2.object({\n            type: z2.literal(\"web_search_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.union([\n              z2.array(\n                z2.object({\n                  type: z2.literal(\"web_search_result\"),\n                  url: z2.string(),\n                  title: z2.string(),\n                  encrypted_content: z2.string(),\n                  page_age: z2.string().nullish()\n                })\n              ),\n              z2.object({\n                type: z2.literal(\"web_search_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          }),\n          // code execution results for code_execution_20250522 tool:\n          z2.object({\n            type: z2.literal(\"code_execution_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.union([\n              z2.object({\n                type: z2.literal(\"code_execution_result\"),\n                stdout: z2.string(),\n                stderr: z2.string(),\n                return_code: z2.number(),\n                content: z2.array(\n                  z2.object({\n                    type: z2.literal(\"code_execution_output\"),\n                    file_id: z2.string()\n                  })\n                ).optional().default([])\n              }),\n              z2.object({\n                type: z2.literal(\"code_execution_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          }),\n          // bash code execution results for code_execution_20250825 tool:\n          z2.object({\n            type: z2.literal(\"bash_code_execution_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.discriminatedUnion(\"type\", [\n              z2.object({\n                type: z2.literal(\"bash_code_execution_result\"),\n                content: z2.array(\n                  z2.object({\n                    type: z2.literal(\"bash_code_execution_output\"),\n                    file_id: z2.string()\n                  })\n                ),\n                stdout: z2.string(),\n                stderr: z2.string(),\n                return_code: z2.number()\n              }),\n              z2.object({\n                type: z2.literal(\"bash_code_execution_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          }),\n          // text editor code execution results for code_execution_20250825 tool:\n          z2.object({\n            type: z2.literal(\"text_editor_code_execution_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.discriminatedUnion(\"type\", [\n              z2.object({\n                type: z2.literal(\"text_editor_code_execution_tool_result_error\"),\n                error_code: z2.string()\n              }),\n              z2.object({\n                type: z2.literal(\"text_editor_code_execution_view_result\"),\n                content: z2.string(),\n                file_type: z2.string(),\n                num_lines: z2.number().nullable(),\n                start_line: z2.number().nullable(),\n                total_lines: z2.number().nullable()\n              }),\n              z2.object({\n                type: z2.literal(\"text_editor_code_execution_create_result\"),\n                is_file_update: z2.boolean()\n              }),\n              z2.object({\n                type: z2.literal(\n                  \"text_editor_code_execution_str_replace_result\"\n                ),\n                lines: z2.array(z2.string()).nullable(),\n                new_lines: z2.number().nullable(),\n                new_start: z2.number().nullable(),\n                old_lines: z2.number().nullable(),\n                old_start: z2.number().nullable()\n              })\n            ])\n          }),\n          // tool search tool results for tool_search_tool_regex_20251119 and tool_search_tool_bm25_20251119:\n          z2.object({\n            type: z2.literal(\"tool_search_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.union([\n              z2.object({\n                type: z2.literal(\"tool_search_tool_search_result\"),\n                tool_references: z2.array(\n                  z2.object({\n                    type: z2.literal(\"tool_reference\"),\n                    tool_name: z2.string()\n                  })\n                )\n              }),\n              z2.object({\n                type: z2.literal(\"tool_search_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          })\n        ])\n      ),\n      stop_reason: z2.string().nullish(),\n      stop_sequence: z2.string().nullish(),\n      usage: z2.looseObject({\n        input_tokens: z2.number(),\n        output_tokens: z2.number(),\n        cache_creation_input_tokens: z2.number().nullish(),\n        cache_read_input_tokens: z2.number().nullish()\n      }),\n      container: z2.object({\n        expires_at: z2.string(),\n        id: z2.string(),\n        skills: z2.array(\n          z2.object({\n            type: z2.union([z2.literal(\"anthropic\"), z2.literal(\"custom\")]),\n            skill_id: z2.string(),\n            version: z2.string()\n          })\n        ).nullish()\n      }).nullish(),\n      context_management: z2.object({\n        applied_edits: z2.array(\n          z2.union([\n            z2.object({\n              type: z2.literal(\"clear_tool_uses_20250919\"),\n              cleared_tool_uses: z2.number(),\n              cleared_input_tokens: z2.number()\n            }),\n            z2.object({\n              type: z2.literal(\"clear_thinking_20251015\"),\n              cleared_thinking_turns: z2.number(),\n              cleared_input_tokens: z2.number()\n            })\n          ])\n        )\n      }).nullish()\n    })\n  )\n);\nvar anthropicMessagesChunkSchema = lazySchema2(\n  () => zodSchema2(\n    z2.discriminatedUnion(\"type\", [\n      z2.object({\n        type: z2.literal(\"message_start\"),\n        message: z2.object({\n          id: z2.string().nullish(),\n          model: z2.string().nullish(),\n          role: z2.string().nullish(),\n          usage: z2.looseObject({\n            input_tokens: z2.number(),\n            cache_creation_input_tokens: z2.number().nullish(),\n            cache_read_input_tokens: z2.number().nullish()\n          }),\n          // Programmatic tool calling: content may be pre-populated for deferred tool calls\n          content: z2.array(\n            z2.discriminatedUnion(\"type\", [\n              z2.object({\n                type: z2.literal(\"tool_use\"),\n                id: z2.string(),\n                name: z2.string(),\n                input: z2.unknown(),\n                caller: z2.union([\n                  z2.object({\n                    type: z2.literal(\"code_execution_20250825\"),\n                    tool_id: z2.string()\n                  }),\n                  z2.object({\n                    type: z2.literal(\"direct\")\n                  })\n                ]).optional()\n              })\n            ])\n          ).nullish(),\n          stop_reason: z2.string().nullish(),\n          container: z2.object({\n            expires_at: z2.string(),\n            id: z2.string()\n          }).nullish()\n        })\n      }),\n      z2.object({\n        type: z2.literal(\"content_block_start\"),\n        index: z2.number(),\n        content_block: z2.discriminatedUnion(\"type\", [\n          z2.object({\n            type: z2.literal(\"text\"),\n            text: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"thinking\"),\n            thinking: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"tool_use\"),\n            id: z2.string(),\n            name: z2.string(),\n            // Programmatic tool calling: input may be present directly for deferred tool calls\n            input: z2.record(z2.string(), z2.unknown()).optional(),\n            // Programmatic tool calling: caller info when triggered from code execution\n            caller: z2.union([\n              z2.object({\n                type: z2.literal(\"code_execution_20250825\"),\n                tool_id: z2.string()\n              }),\n              z2.object({\n                type: z2.literal(\"direct\")\n              })\n            ]).optional()\n          }),\n          z2.object({\n            type: z2.literal(\"redacted_thinking\"),\n            data: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"server_tool_use\"),\n            id: z2.string(),\n            name: z2.string(),\n            input: z2.record(z2.string(), z2.unknown()).nullish()\n          }),\n          z2.object({\n            type: z2.literal(\"mcp_tool_use\"),\n            id: z2.string(),\n            name: z2.string(),\n            input: z2.unknown(),\n            server_name: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"mcp_tool_result\"),\n            tool_use_id: z2.string(),\n            is_error: z2.boolean(),\n            content: z2.array(\n              z2.union([\n                z2.string(),\n                z2.object({ type: z2.literal(\"text\"), text: z2.string() })\n              ])\n            )\n          }),\n          z2.object({\n            type: z2.literal(\"web_fetch_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.union([\n              z2.object({\n                type: z2.literal(\"web_fetch_result\"),\n                url: z2.string(),\n                retrieved_at: z2.string(),\n                content: z2.object({\n                  type: z2.literal(\"document\"),\n                  title: z2.string().nullable(),\n                  citations: z2.object({ enabled: z2.boolean() }).optional(),\n                  source: z2.union([\n                    z2.object({\n                      type: z2.literal(\"base64\"),\n                      media_type: z2.literal(\"application/pdf\"),\n                      data: z2.string()\n                    }),\n                    z2.object({\n                      type: z2.literal(\"text\"),\n                      media_type: z2.literal(\"text/plain\"),\n                      data: z2.string()\n                    })\n                  ])\n                })\n              }),\n              z2.object({\n                type: z2.literal(\"web_fetch_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          }),\n          z2.object({\n            type: z2.literal(\"web_search_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.union([\n              z2.array(\n                z2.object({\n                  type: z2.literal(\"web_search_result\"),\n                  url: z2.string(),\n                  title: z2.string(),\n                  encrypted_content: z2.string(),\n                  page_age: z2.string().nullish()\n                })\n              ),\n              z2.object({\n                type: z2.literal(\"web_search_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          }),\n          // code execution results for code_execution_20250522 tool:\n          z2.object({\n            type: z2.literal(\"code_execution_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.union([\n              z2.object({\n                type: z2.literal(\"code_execution_result\"),\n                stdout: z2.string(),\n                stderr: z2.string(),\n                return_code: z2.number(),\n                content: z2.array(\n                  z2.object({\n                    type: z2.literal(\"code_execution_output\"),\n                    file_id: z2.string()\n                  })\n                ).optional().default([])\n              }),\n              z2.object({\n                type: z2.literal(\"code_execution_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          }),\n          // bash code execution results for code_execution_20250825 tool:\n          z2.object({\n            type: z2.literal(\"bash_code_execution_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.discriminatedUnion(\"type\", [\n              z2.object({\n                type: z2.literal(\"bash_code_execution_result\"),\n                content: z2.array(\n                  z2.object({\n                    type: z2.literal(\"bash_code_execution_output\"),\n                    file_id: z2.string()\n                  })\n                ),\n                stdout: z2.string(),\n                stderr: z2.string(),\n                return_code: z2.number()\n              }),\n              z2.object({\n                type: z2.literal(\"bash_code_execution_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          }),\n          // text editor code execution results for code_execution_20250825 tool:\n          z2.object({\n            type: z2.literal(\"text_editor_code_execution_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.discriminatedUnion(\"type\", [\n              z2.object({\n                type: z2.literal(\"text_editor_code_execution_tool_result_error\"),\n                error_code: z2.string()\n              }),\n              z2.object({\n                type: z2.literal(\"text_editor_code_execution_view_result\"),\n                content: z2.string(),\n                file_type: z2.string(),\n                num_lines: z2.number().nullable(),\n                start_line: z2.number().nullable(),\n                total_lines: z2.number().nullable()\n              }),\n              z2.object({\n                type: z2.literal(\"text_editor_code_execution_create_result\"),\n                is_file_update: z2.boolean()\n              }),\n              z2.object({\n                type: z2.literal(\n                  \"text_editor_code_execution_str_replace_result\"\n                ),\n                lines: z2.array(z2.string()).nullable(),\n                new_lines: z2.number().nullable(),\n                new_start: z2.number().nullable(),\n                old_lines: z2.number().nullable(),\n                old_start: z2.number().nullable()\n              })\n            ])\n          }),\n          // tool search tool results for tool_search_tool_regex_20251119 and tool_search_tool_bm25_20251119:\n          z2.object({\n            type: z2.literal(\"tool_search_tool_result\"),\n            tool_use_id: z2.string(),\n            content: z2.union([\n              z2.object({\n                type: z2.literal(\"tool_search_tool_search_result\"),\n                tool_references: z2.array(\n                  z2.object({\n                    type: z2.literal(\"tool_reference\"),\n                    tool_name: z2.string()\n                  })\n                )\n              }),\n              z2.object({\n                type: z2.literal(\"tool_search_tool_result_error\"),\n                error_code: z2.string()\n              })\n            ])\n          })\n        ])\n      }),\n      z2.object({\n        type: z2.literal(\"content_block_delta\"),\n        index: z2.number(),\n        delta: z2.discriminatedUnion(\"type\", [\n          z2.object({\n            type: z2.literal(\"input_json_delta\"),\n            partial_json: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"text_delta\"),\n            text: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"thinking_delta\"),\n            thinking: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"signature_delta\"),\n            signature: z2.string()\n          }),\n          z2.object({\n            type: z2.literal(\"citations_delta\"),\n            citation: z2.discriminatedUnion(\"type\", [\n              z2.object({\n                type: z2.literal(\"web_search_result_location\"),\n                cited_text: z2.string(),\n                url: z2.string(),\n                title: z2.string(),\n                encrypted_index: z2.string()\n              }),\n              z2.object({\n                type: z2.literal(\"page_location\"),\n                cited_text: z2.string(),\n                document_index: z2.number(),\n                document_title: z2.string().nullable(),\n                start_page_number: z2.number(),\n                end_page_number: z2.number()\n              }),\n              z2.object({\n                type: z2.literal(\"char_location\"),\n                cited_text: z2.string(),\n                document_index: z2.number(),\n                document_title: z2.string().nullable(),\n                start_char_index: z2.number(),\n                end_char_index: z2.number()\n              })\n            ])\n          })\n        ])\n      }),\n      z2.object({\n        type: z2.literal(\"content_block_stop\"),\n        index: z2.number()\n      }),\n      z2.object({\n        type: z2.literal(\"error\"),\n        error: z2.object({\n          type: z2.string(),\n          message: z2.string()\n        })\n      }),\n      z2.object({\n        type: z2.literal(\"message_delta\"),\n        delta: z2.object({\n          stop_reason: z2.string().nullish(),\n          stop_sequence: z2.string().nullish(),\n          container: z2.object({\n            expires_at: z2.string(),\n            id: z2.string(),\n            skills: z2.array(\n              z2.object({\n                type: z2.union([\n                  z2.literal(\"anthropic\"),\n                  z2.literal(\"custom\")\n                ]),\n                skill_id: z2.string(),\n                version: z2.string()\n              })\n            ).nullish()\n          }).nullish(),\n          context_management: z2.object({\n            applied_edits: z2.array(\n              z2.union([\n                z2.object({\n                  type: z2.literal(\"clear_tool_uses_20250919\"),\n                  cleared_tool_uses: z2.number(),\n                  cleared_input_tokens: z2.number()\n                }),\n                z2.object({\n                  type: z2.literal(\"clear_thinking_20251015\"),\n                  cleared_thinking_turns: z2.number(),\n                  cleared_input_tokens: z2.number()\n                })\n              ])\n            )\n          }).nullish()\n        }),\n        usage: z2.looseObject({\n          input_tokens: z2.number().nullish(),\n          output_tokens: z2.number(),\n          cache_creation_input_tokens: z2.number().nullish()\n        })\n      }),\n      z2.object({\n        type: z2.literal(\"message_stop\")\n      }),\n      z2.object({\n        type: z2.literal(\"ping\")\n      })\n    ])\n  )\n);\nvar anthropicReasoningMetadataSchema = lazySchema2(\n  () => zodSchema2(\n    z2.object({\n      signature: z2.string().optional(),\n      redactedData: z2.string().optional()\n    })\n  )\n);\n\n// src/anthropic-messages-options.ts\nimport { z as z3 } from \"zod/v4\";\nvar anthropicFilePartProviderOptions = z3.object({\n  /**\n   * Citation configuration for this document.\n   * When enabled, this document will generate citations in the response.\n   */\n  citations: z3.object({\n    /**\n     * Enable citations for this document\n     */\n    enabled: z3.boolean()\n  }).optional(),\n  /**\n   * Custom title for the document.\n   * If not provided, the filename will be used.\n   */\n  title: z3.string().optional(),\n  /**\n   * Context about the document that will be passed to the model\n   * but not used towards cited content.\n   * Useful for storing document metadata as text or stringified JSON.\n   */\n  context: z3.string().optional()\n});\nvar anthropicProviderOptions = z3.object({\n  /**\n   * Whether to send reasoning to the model.\n   *\n   * This allows you to deactivate reasoning inputs for models that do not support them.\n   */\n  sendReasoning: z3.boolean().optional(),\n  /**\n   * Determines how structured outputs are generated.\n   *\n   * - `outputFormat`: Use the `output_format` parameter to specify the structured output format.\n   * - `jsonTool`: Use a special 'json' tool to specify the structured output format.\n   * - `auto`: Use 'outputFormat' when supported, otherwise use 'jsonTool' (default).\n   */\n  structuredOutputMode: z3.enum([\"outputFormat\", \"jsonTool\", \"auto\"]).optional(),\n  /**\n   * Configuration for enabling Claude's extended thinking.\n   *\n   * When enabled, responses include thinking content blocks showing Claude's thinking process before the final answer.\n   * Requires a minimum budget of 1,024 tokens and counts towards the `max_tokens` limit.\n   */\n  thinking: z3.object({\n    type: z3.union([z3.literal(\"enabled\"), z3.literal(\"disabled\")]),\n    budgetTokens: z3.number().optional()\n  }).optional(),\n  /**\n   * Whether to disable parallel function calling during tool use. Default is false.\n   * When set to true, Claude will use at most one tool per response.\n   */\n  disableParallelToolUse: z3.boolean().optional(),\n  /**\n   * Cache control settings for this message.\n   * See https://docs.anthropic.com/en/docs/build-with-claude/prompt-caching\n   */\n  cacheControl: z3.object({\n    type: z3.literal(\"ephemeral\"),\n    ttl: z3.union([z3.literal(\"5m\"), z3.literal(\"1h\")]).optional()\n  }).optional(),\n  /**\n   * MCP servers to be utilized in this request.\n   */\n  mcpServers: z3.array(\n    z3.object({\n      type: z3.literal(\"url\"),\n      name: z3.string(),\n      url: z3.string(),\n      authorizationToken: z3.string().nullish(),\n      toolConfiguration: z3.object({\n        enabled: z3.boolean().nullish(),\n        allowedTools: z3.array(z3.string()).nullish()\n      }).nullish()\n    })\n  ).optional(),\n  /**\n   * Agent Skills configuration. Skills enable Claude to perform specialized tasks\n   * like document processing (PPTX, DOCX, PDF, XLSX) and data analysis.\n   * Requires code execution tool to be enabled.\n   */\n  container: z3.object({\n    id: z3.string().optional(),\n    skills: z3.array(\n      z3.object({\n        type: z3.union([z3.literal(\"anthropic\"), z3.literal(\"custom\")]),\n        skillId: z3.string(),\n        version: z3.string().optional()\n      })\n    ).optional()\n  }).optional(),\n  /**\n   * Whether to enable tool streaming (and structured output streaming).\n   *\n   * When set to false, the model will return all tool calls and results\n   * at once after a delay.\n   *\n   * @default true\n   */\n  toolStreaming: z3.boolean().optional(),\n  /**\n   * @default 'high'\n   */\n  effort: z3.enum([\"low\", \"medium\", \"high\"]).optional(),\n  contextManagement: z3.object({\n    edits: z3.array(\n      z3.discriminatedUnion(\"type\", [\n        z3.object({\n          type: z3.literal(\"clear_tool_uses_20250919\"),\n          trigger: z3.discriminatedUnion(\"type\", [\n            z3.object({\n              type: z3.literal(\"input_tokens\"),\n              value: z3.number()\n            }),\n            z3.object({\n              type: z3.literal(\"tool_uses\"),\n              value: z3.number()\n            })\n          ]).optional(),\n          keep: z3.object({\n            type: z3.literal(\"tool_uses\"),\n            value: z3.number()\n          }).optional(),\n          clearAtLeast: z3.object({\n            type: z3.literal(\"input_tokens\"),\n            value: z3.number()\n          }).optional(),\n          clearToolInputs: z3.boolean().optional(),\n          excludeTools: z3.array(z3.string()).optional()\n        }),\n        z3.object({\n          type: z3.literal(\"clear_thinking_20251015\"),\n          keep: z3.union([\n            z3.literal(\"all\"),\n            z3.object({\n              type: z3.literal(\"thinking_turns\"),\n              value: z3.number()\n            })\n          ]).optional()\n        })\n      ])\n    )\n  }).optional()\n});\n\n// src/anthropic-prepare-tools.ts\nimport {\n  UnsupportedFunctionalityError\n} from \"@ai-sdk/provider\";\n\n// src/get-cache-control.ts\nvar MAX_CACHE_BREAKPOINTS = 4;\nfunction getCacheControl(providerMetadata) {\n  var _a;\n  const anthropic2 = providerMetadata == null ? void 0 : providerMetadata.anthropic;\n  const cacheControlValue = (_a = anthropic2 == null ? void 0 : anthropic2.cacheControl) != null ? _a : anthropic2 == null ? void 0 : anthropic2.cache_control;\n  return cacheControlValue;\n}\nvar CacheControlValidator = class {\n  constructor() {\n    this.breakpointCount = 0;\n    this.warnings = [];\n  }\n  getCacheControl(providerMetadata, context) {\n    const cacheControlValue = getCacheControl(providerMetadata);\n    if (!cacheControlValue) {\n      return void 0;\n    }\n    if (!context.canCache) {\n      this.warnings.push({\n        type: \"unsupported\",\n        feature: \"cache_control on non-cacheable context\",\n        details: `cache_control cannot be set on ${context.type}. It will be ignored.`\n      });\n      return void 0;\n    }\n    this.breakpointCount++;\n    if (this.breakpointCount > MAX_CACHE_BREAKPOINTS) {\n      this.warnings.push({\n        type: \"unsupported\",\n        feature: \"cacheControl breakpoint limit\",\n        details: `Maximum ${MAX_CACHE_BREAKPOINTS} cache breakpoints exceeded (found ${this.breakpointCount}). This breakpoint will be ignored.`\n      });\n      return void 0;\n    }\n    return cacheControlValue;\n  }\n  getWarnings() {\n    return this.warnings;\n  }\n};\n\n// src/tool/text-editor_20250728.ts\nimport { createProviderToolFactory } from \"@ai-sdk/provider-utils\";\nimport { z as z4 } from \"zod/v4\";\nimport { lazySchema as lazySchema3, zodSchema as zodSchema3 } from \"@ai-sdk/provider-utils\";\nvar textEditor_20250728ArgsSchema = lazySchema3(\n  () => zodSchema3(\n    z4.object({\n      maxCharacters: z4.number().optional()\n    })\n  )\n);\nvar textEditor_20250728InputSchema = lazySchema3(\n  () => zodSchema3(\n    z4.object({\n      command: z4.enum([\"view\", \"create\", \"str_replace\", \"insert\"]),\n      path: z4.string(),\n      file_text: z4.string().optional(),\n      insert_line: z4.number().int().optional(),\n      new_str: z4.string().optional(),\n      old_str: z4.string().optional(),\n      view_range: z4.array(z4.number().int()).optional()\n    })\n  )\n);\nvar factory = createProviderToolFactory({\n  id: \"anthropic.text_editor_20250728\",\n  inputSchema: textEditor_20250728InputSchema\n});\nvar textEditor_20250728 = (args = {}) => {\n  return factory(args);\n};\n\n// src/tool/web-search_20250305.ts\nimport {\n  createProviderToolFactoryWithOutputSchema,\n  lazySchema as lazySchema4,\n  zodSchema as zodSchema4\n} from \"@ai-sdk/provider-utils\";\nimport { z as z5 } from \"zod/v4\";\nvar webSearch_20250305ArgsSchema = lazySchema4(\n  () => zodSchema4(\n    z5.object({\n      maxUses: z5.number().optional(),\n      allowedDomains: z5.array(z5.string()).optional(),\n      blockedDomains: z5.array(z5.string()).optional(),\n      userLocation: z5.object({\n        type: z5.literal(\"approximate\"),\n        city: z5.string().optional(),\n        region: z5.string().optional(),\n        country: z5.string().optional(),\n        timezone: z5.string().optional()\n      }).optional()\n    })\n  )\n);\nvar webSearch_20250305OutputSchema = lazySchema4(\n  () => zodSchema4(\n    z5.array(\n      z5.object({\n        url: z5.string(),\n        title: z5.string().nullable(),\n        pageAge: z5.string().nullable(),\n        encryptedContent: z5.string(),\n        type: z5.literal(\"web_search_result\")\n      })\n    )\n  )\n);\nvar webSearch_20250305InputSchema = lazySchema4(\n  () => zodSchema4(\n    z5.object({\n      query: z5.string()\n    })\n  )\n);\nvar factory2 = createProviderToolFactoryWithOutputSchema({\n  id: \"anthropic.web_search_20250305\",\n  inputSchema: webSearch_20250305InputSchema,\n  outputSchema: webSearch_20250305OutputSchema,\n  supportsDeferredResults: true\n});\nvar webSearch_20250305 = (args = {}) => {\n  return factory2(args);\n};\n\n// src/tool/web-fetch-20250910.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema2,\n  lazySchema as lazySchema5,\n  zodSchema as zodSchema5\n} from \"@ai-sdk/provider-utils\";\nimport { z as z6 } from \"zod/v4\";\nvar webFetch_20250910ArgsSchema = lazySchema5(\n  () => zodSchema5(\n    z6.object({\n      maxUses: z6.number().optional(),\n      allowedDomains: z6.array(z6.string()).optional(),\n      blockedDomains: z6.array(z6.string()).optional(),\n      citations: z6.object({ enabled: z6.boolean() }).optional(),\n      maxContentTokens: z6.number().optional()\n    })\n  )\n);\nvar webFetch_20250910OutputSchema = lazySchema5(\n  () => zodSchema5(\n    z6.object({\n      type: z6.literal(\"web_fetch_result\"),\n      url: z6.string(),\n      content: z6.object({\n        type: z6.literal(\"document\"),\n        title: z6.string().nullable(),\n        citations: z6.object({ enabled: z6.boolean() }).optional(),\n        source: z6.union([\n          z6.object({\n            type: z6.literal(\"base64\"),\n            mediaType: z6.literal(\"application/pdf\"),\n            data: z6.string()\n          }),\n          z6.object({\n            type: z6.literal(\"text\"),\n            mediaType: z6.literal(\"text/plain\"),\n            data: z6.string()\n          })\n        ])\n      }),\n      retrievedAt: z6.string().nullable()\n    })\n  )\n);\nvar webFetch_20250910InputSchema = lazySchema5(\n  () => zodSchema5(\n    z6.object({\n      url: z6.string()\n    })\n  )\n);\nvar factory3 = createProviderToolFactoryWithOutputSchema2({\n  id: \"anthropic.web_fetch_20250910\",\n  inputSchema: webFetch_20250910InputSchema,\n  outputSchema: webFetch_20250910OutputSchema,\n  supportsDeferredResults: true\n});\nvar webFetch_20250910 = (args = {}) => {\n  return factory3(args);\n};\n\n// src/anthropic-prepare-tools.ts\nimport { validateTypes } from \"@ai-sdk/provider-utils\";\nasync function prepareTools({\n  tools,\n  toolChoice,\n  disableParallelToolUse,\n  cacheControlValidator,\n  supportsStructuredOutput\n}) {\n  var _a;\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  const betas = /* @__PURE__ */ new Set();\n  const validator = cacheControlValidator || new CacheControlValidator();\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings, betas };\n  }\n  const anthropicTools2 = [];\n  for (const tool of tools) {\n    switch (tool.type) {\n      case \"function\": {\n        const cacheControl = validator.getCacheControl(tool.providerOptions, {\n          type: \"tool definition\",\n          canCache: true\n        });\n        const anthropicOptions = (_a = tool.providerOptions) == null ? void 0 : _a.anthropic;\n        const deferLoading = anthropicOptions == null ? void 0 : anthropicOptions.deferLoading;\n        const allowedCallers = anthropicOptions == null ? void 0 : anthropicOptions.allowedCallers;\n        anthropicTools2.push({\n          name: tool.name,\n          description: tool.description,\n          input_schema: tool.inputSchema,\n          cache_control: cacheControl,\n          ...supportsStructuredOutput === true && tool.strict != null ? { strict: tool.strict } : {},\n          ...deferLoading != null ? { defer_loading: deferLoading } : {},\n          ...allowedCallers != null ? { allowed_callers: allowedCallers } : {},\n          ...tool.inputExamples != null ? {\n            input_examples: tool.inputExamples.map(\n              (example) => example.input\n            )\n          } : {}\n        });\n        if (supportsStructuredOutput === true) {\n          betas.add(\"structured-outputs-2025-11-13\");\n        }\n        if (tool.inputExamples != null || allowedCallers != null) {\n          betas.add(\"advanced-tool-use-2025-11-20\");\n        }\n        break;\n      }\n      case \"provider\": {\n        switch (tool.id) {\n          case \"anthropic.code_execution_20250522\": {\n            betas.add(\"code-execution-2025-05-22\");\n            anthropicTools2.push({\n              type: \"code_execution_20250522\",\n              name: \"code_execution\",\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.code_execution_20250825\": {\n            betas.add(\"code-execution-2025-08-25\");\n            anthropicTools2.push({\n              type: \"code_execution_20250825\",\n              name: \"code_execution\"\n            });\n            break;\n          }\n          case \"anthropic.computer_20250124\": {\n            betas.add(\"computer-use-2025-01-24\");\n            anthropicTools2.push({\n              name: \"computer\",\n              type: \"computer_20250124\",\n              display_width_px: tool.args.displayWidthPx,\n              display_height_px: tool.args.displayHeightPx,\n              display_number: tool.args.displayNumber,\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.computer_20241022\": {\n            betas.add(\"computer-use-2024-10-22\");\n            anthropicTools2.push({\n              name: \"computer\",\n              type: \"computer_20241022\",\n              display_width_px: tool.args.displayWidthPx,\n              display_height_px: tool.args.displayHeightPx,\n              display_number: tool.args.displayNumber,\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.text_editor_20250124\": {\n            betas.add(\"computer-use-2025-01-24\");\n            anthropicTools2.push({\n              name: \"str_replace_editor\",\n              type: \"text_editor_20250124\",\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.text_editor_20241022\": {\n            betas.add(\"computer-use-2024-10-22\");\n            anthropicTools2.push({\n              name: \"str_replace_editor\",\n              type: \"text_editor_20241022\",\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.text_editor_20250429\": {\n            betas.add(\"computer-use-2025-01-24\");\n            anthropicTools2.push({\n              name: \"str_replace_based_edit_tool\",\n              type: \"text_editor_20250429\",\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.text_editor_20250728\": {\n            const args = await validateTypes({\n              value: tool.args,\n              schema: textEditor_20250728ArgsSchema\n            });\n            anthropicTools2.push({\n              name: \"str_replace_based_edit_tool\",\n              type: \"text_editor_20250728\",\n              max_characters: args.maxCharacters,\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.bash_20250124\": {\n            betas.add(\"computer-use-2025-01-24\");\n            anthropicTools2.push({\n              name: \"bash\",\n              type: \"bash_20250124\",\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.bash_20241022\": {\n            betas.add(\"computer-use-2024-10-22\");\n            anthropicTools2.push({\n              name: \"bash\",\n              type: \"bash_20241022\",\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.memory_20250818\": {\n            betas.add(\"context-management-2025-06-27\");\n            anthropicTools2.push({\n              name: \"memory\",\n              type: \"memory_20250818\"\n            });\n            break;\n          }\n          case \"anthropic.web_fetch_20250910\": {\n            betas.add(\"web-fetch-2025-09-10\");\n            const args = await validateTypes({\n              value: tool.args,\n              schema: webFetch_20250910ArgsSchema\n            });\n            anthropicTools2.push({\n              type: \"web_fetch_20250910\",\n              name: \"web_fetch\",\n              max_uses: args.maxUses,\n              allowed_domains: args.allowedDomains,\n              blocked_domains: args.blockedDomains,\n              citations: args.citations,\n              max_content_tokens: args.maxContentTokens,\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.web_search_20250305\": {\n            const args = await validateTypes({\n              value: tool.args,\n              schema: webSearch_20250305ArgsSchema\n            });\n            anthropicTools2.push({\n              type: \"web_search_20250305\",\n              name: \"web_search\",\n              max_uses: args.maxUses,\n              allowed_domains: args.allowedDomains,\n              blocked_domains: args.blockedDomains,\n              user_location: args.userLocation,\n              cache_control: void 0\n            });\n            break;\n          }\n          case \"anthropic.tool_search_regex_20251119\": {\n            betas.add(\"advanced-tool-use-2025-11-20\");\n            anthropicTools2.push({\n              type: \"tool_search_tool_regex_20251119\",\n              name: \"tool_search_tool_regex\"\n            });\n            break;\n          }\n          case \"anthropic.tool_search_bm25_20251119\": {\n            betas.add(\"advanced-tool-use-2025-11-20\");\n            anthropicTools2.push({\n              type: \"tool_search_tool_bm25_20251119\",\n              name: \"tool_search_tool_bm25\"\n            });\n            break;\n          }\n          default: {\n            toolWarnings.push({\n              type: \"unsupported\",\n              feature: `provider-defined tool ${tool.id}`\n            });\n            break;\n          }\n        }\n        break;\n      }\n      default: {\n        toolWarnings.push({\n          type: \"unsupported\",\n          feature: `tool ${tool}`\n        });\n        break;\n      }\n    }\n  }\n  if (toolChoice == null) {\n    return {\n      tools: anthropicTools2,\n      toolChoice: disableParallelToolUse ? { type: \"auto\", disable_parallel_tool_use: disableParallelToolUse } : void 0,\n      toolWarnings,\n      betas\n    };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n      return {\n        tools: anthropicTools2,\n        toolChoice: {\n          type: \"auto\",\n          disable_parallel_tool_use: disableParallelToolUse\n        },\n        toolWarnings,\n        betas\n      };\n    case \"required\":\n      return {\n        tools: anthropicTools2,\n        toolChoice: {\n          type: \"any\",\n          disable_parallel_tool_use: disableParallelToolUse\n        },\n        toolWarnings,\n        betas\n      };\n    case \"none\":\n      return { tools: void 0, toolChoice: void 0, toolWarnings, betas };\n    case \"tool\":\n      return {\n        tools: anthropicTools2,\n        toolChoice: {\n          type: \"tool\",\n          name: toolChoice.toolName,\n          disable_parallel_tool_use: disableParallelToolUse\n        },\n        toolWarnings,\n        betas\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new UnsupportedFunctionalityError({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\n\n// src/convert-anthropic-messages-usage.ts\nfunction convertAnthropicMessagesUsage(usage) {\n  var _a, _b;\n  const inputTokens = usage.input_tokens;\n  const outputTokens = usage.output_tokens;\n  const cacheCreationTokens = (_a = usage.cache_creation_input_tokens) != null ? _a : 0;\n  const cacheReadTokens = (_b = usage.cache_read_input_tokens) != null ? _b : 0;\n  return {\n    inputTokens: {\n      total: inputTokens + cacheCreationTokens + cacheReadTokens,\n      noCache: inputTokens,\n      cacheRead: cacheReadTokens,\n      cacheWrite: cacheCreationTokens\n    },\n    outputTokens: {\n      total: outputTokens,\n      text: void 0,\n      reasoning: void 0\n    },\n    raw: usage\n  };\n}\n\n// src/convert-to-anthropic-messages-prompt.ts\nimport {\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError2\n} from \"@ai-sdk/provider\";\nimport {\n  convertToBase64,\n  parseProviderOptions,\n  validateTypes as validateTypes2,\n  isNonNullable\n} from \"@ai-sdk/provider-utils\";\n\n// src/tool/code-execution_20250522.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema3,\n  lazySchema as lazySchema6,\n  zodSchema as zodSchema6\n} from \"@ai-sdk/provider-utils\";\nimport { z as z7 } from \"zod/v4\";\nvar codeExecution_20250522OutputSchema = lazySchema6(\n  () => zodSchema6(\n    z7.object({\n      type: z7.literal(\"code_execution_result\"),\n      stdout: z7.string(),\n      stderr: z7.string(),\n      return_code: z7.number(),\n      content: z7.array(\n        z7.object({\n          type: z7.literal(\"code_execution_output\"),\n          file_id: z7.string()\n        })\n      ).optional().default([])\n    })\n  )\n);\nvar codeExecution_20250522InputSchema = lazySchema6(\n  () => zodSchema6(\n    z7.object({\n      code: z7.string()\n    })\n  )\n);\nvar factory4 = createProviderToolFactoryWithOutputSchema3({\n  id: \"anthropic.code_execution_20250522\",\n  inputSchema: codeExecution_20250522InputSchema,\n  outputSchema: codeExecution_20250522OutputSchema\n});\nvar codeExecution_20250522 = (args = {}) => {\n  return factory4(args);\n};\n\n// src/tool/code-execution_20250825.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema4,\n  lazySchema as lazySchema7,\n  zodSchema as zodSchema7\n} from \"@ai-sdk/provider-utils\";\nimport { z as z8 } from \"zod/v4\";\nvar codeExecution_20250825OutputSchema = lazySchema7(\n  () => zodSchema7(\n    z8.discriminatedUnion(\"type\", [\n      z8.object({\n        type: z8.literal(\"code_execution_result\"),\n        stdout: z8.string(),\n        stderr: z8.string(),\n        return_code: z8.number(),\n        content: z8.array(\n          z8.object({\n            type: z8.literal(\"code_execution_output\"),\n            file_id: z8.string()\n          })\n        ).optional().default([])\n      }),\n      z8.object({\n        type: z8.literal(\"bash_code_execution_result\"),\n        content: z8.array(\n          z8.object({\n            type: z8.literal(\"bash_code_execution_output\"),\n            file_id: z8.string()\n          })\n        ),\n        stdout: z8.string(),\n        stderr: z8.string(),\n        return_code: z8.number()\n      }),\n      z8.object({\n        type: z8.literal(\"bash_code_execution_tool_result_error\"),\n        error_code: z8.string()\n      }),\n      z8.object({\n        type: z8.literal(\"text_editor_code_execution_tool_result_error\"),\n        error_code: z8.string()\n      }),\n      z8.object({\n        type: z8.literal(\"text_editor_code_execution_view_result\"),\n        content: z8.string(),\n        file_type: z8.string(),\n        num_lines: z8.number().nullable(),\n        start_line: z8.number().nullable(),\n        total_lines: z8.number().nullable()\n      }),\n      z8.object({\n        type: z8.literal(\"text_editor_code_execution_create_result\"),\n        is_file_update: z8.boolean()\n      }),\n      z8.object({\n        type: z8.literal(\"text_editor_code_execution_str_replace_result\"),\n        lines: z8.array(z8.string()).nullable(),\n        new_lines: z8.number().nullable(),\n        new_start: z8.number().nullable(),\n        old_lines: z8.number().nullable(),\n        old_start: z8.number().nullable()\n      })\n    ])\n  )\n);\nvar codeExecution_20250825InputSchema = lazySchema7(\n  () => zodSchema7(\n    z8.discriminatedUnion(\"type\", [\n      // Programmatic tool calling format (mapped from { code } by AI SDK)\n      z8.object({\n        type: z8.literal(\"programmatic-tool-call\"),\n        code: z8.string()\n      }),\n      z8.object({\n        type: z8.literal(\"bash_code_execution\"),\n        command: z8.string()\n      }),\n      z8.discriminatedUnion(\"command\", [\n        z8.object({\n          type: z8.literal(\"text_editor_code_execution\"),\n          command: z8.literal(\"view\"),\n          path: z8.string()\n        }),\n        z8.object({\n          type: z8.literal(\"text_editor_code_execution\"),\n          command: z8.literal(\"create\"),\n          path: z8.string(),\n          file_text: z8.string().nullish()\n        }),\n        z8.object({\n          type: z8.literal(\"text_editor_code_execution\"),\n          command: z8.literal(\"str_replace\"),\n          path: z8.string(),\n          old_str: z8.string(),\n          new_str: z8.string()\n        })\n      ])\n    ])\n  )\n);\nvar factory5 = createProviderToolFactoryWithOutputSchema4({\n  id: \"anthropic.code_execution_20250825\",\n  inputSchema: codeExecution_20250825InputSchema,\n  outputSchema: codeExecution_20250825OutputSchema,\n  // Programmatic tool calling: tool results may be deferred to a later turn\n  // when code execution triggers a client-executed tool that needs to be\n  // resolved before the code execution result can be returned.\n  supportsDeferredResults: true\n});\nvar codeExecution_20250825 = (args = {}) => {\n  return factory5(args);\n};\n\n// src/tool/tool-search-regex_20251119.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema5,\n  lazySchema as lazySchema8,\n  zodSchema as zodSchema8\n} from \"@ai-sdk/provider-utils\";\nimport { z as z9 } from \"zod/v4\";\nvar toolSearchRegex_20251119OutputSchema = lazySchema8(\n  () => zodSchema8(\n    z9.array(\n      z9.object({\n        type: z9.literal(\"tool_reference\"),\n        toolName: z9.string()\n      })\n    )\n  )\n);\nvar toolSearchRegex_20251119InputSchema = lazySchema8(\n  () => zodSchema8(\n    z9.object({\n      /**\n       * A regex pattern to search for tools.\n       * Uses Python re.search() syntax. Maximum 200 characters.\n       *\n       * Examples:\n       * - \"weather\" - matches tool names/descriptions containing \"weather\"\n       * - \"get_.*_data\" - matches tools like get_user_data, get_weather_data\n       * - \"database.*query|query.*database\" - OR patterns for flexibility\n       * - \"(?i)slack\" - case-insensitive search\n       */\n      pattern: z9.string(),\n      /**\n       * Maximum number of tools to return. Optional.\n       */\n      limit: z9.number().optional()\n    })\n  )\n);\nvar factory6 = createProviderToolFactoryWithOutputSchema5({\n  id: \"anthropic.tool_search_regex_20251119\",\n  inputSchema: toolSearchRegex_20251119InputSchema,\n  outputSchema: toolSearchRegex_20251119OutputSchema\n});\nvar toolSearchRegex_20251119 = (args = {}) => {\n  return factory6(args);\n};\n\n// src/convert-to-anthropic-messages-prompt.ts\nfunction convertToString(data) {\n  if (typeof data === \"string\") {\n    return Buffer.from(data, \"base64\").toString(\"utf-8\");\n  }\n  if (data instanceof Uint8Array) {\n    return new TextDecoder().decode(data);\n  }\n  if (data instanceof URL) {\n    throw new UnsupportedFunctionalityError2({\n      functionality: \"URL-based text documents are not supported for citations\"\n    });\n  }\n  throw new UnsupportedFunctionalityError2({\n    functionality: `unsupported data type for text documents: ${typeof data}`\n  });\n}\nfunction isUrlData(data) {\n  return data instanceof URL || isUrlString(data);\n}\nfunction isUrlString(data) {\n  return typeof data === \"string\" && /^https?:\\/\\//i.test(data);\n}\nfunction getUrlString(data) {\n  return data instanceof URL ? data.toString() : data;\n}\nasync function convertToAnthropicMessagesPrompt({\n  prompt,\n  sendReasoning,\n  warnings,\n  cacheControlValidator,\n  toolNameMapping\n}) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o;\n  const betas = /* @__PURE__ */ new Set();\n  const blocks = groupIntoBlocks(prompt);\n  const validator = cacheControlValidator || new CacheControlValidator();\n  let system = void 0;\n  const messages = [];\n  async function shouldEnableCitations(providerMetadata) {\n    var _a2, _b2;\n    const anthropicOptions = await parseProviderOptions({\n      provider: \"anthropic\",\n      providerOptions: providerMetadata,\n      schema: anthropicFilePartProviderOptions\n    });\n    return (_b2 = (_a2 = anthropicOptions == null ? void 0 : anthropicOptions.citations) == null ? void 0 : _a2.enabled) != null ? _b2 : false;\n  }\n  async function getDocumentMetadata(providerMetadata) {\n    const anthropicOptions = await parseProviderOptions({\n      provider: \"anthropic\",\n      providerOptions: providerMetadata,\n      schema: anthropicFilePartProviderOptions\n    });\n    return {\n      title: anthropicOptions == null ? void 0 : anthropicOptions.title,\n      context: anthropicOptions == null ? void 0 : anthropicOptions.context\n    };\n  }\n  for (let i = 0; i < blocks.length; i++) {\n    const block = blocks[i];\n    const isLastBlock = i === blocks.length - 1;\n    const type = block.type;\n    switch (type) {\n      case \"system\": {\n        if (system != null) {\n          throw new UnsupportedFunctionalityError2({\n            functionality: \"Multiple system messages that are separated by user/assistant messages\"\n          });\n        }\n        system = block.messages.map(({ content, providerOptions }) => ({\n          type: \"text\",\n          text: content,\n          cache_control: validator.getCacheControl(providerOptions, {\n            type: \"system message\",\n            canCache: true\n          })\n        }));\n        break;\n      }\n      case \"user\": {\n        const anthropicContent = [];\n        for (const message of block.messages) {\n          const { role, content } = message;\n          switch (role) {\n            case \"user\": {\n              for (let j = 0; j < content.length; j++) {\n                const part = content[j];\n                const isLastPart = j === content.length - 1;\n                const cacheControl = (_a = validator.getCacheControl(part.providerOptions, {\n                  type: \"user message part\",\n                  canCache: true\n                })) != null ? _a : isLastPart ? validator.getCacheControl(message.providerOptions, {\n                  type: \"user message\",\n                  canCache: true\n                }) : void 0;\n                switch (part.type) {\n                  case \"text\": {\n                    anthropicContent.push({\n                      type: \"text\",\n                      text: part.text,\n                      cache_control: cacheControl\n                    });\n                    break;\n                  }\n                  case \"file\": {\n                    if (part.mediaType.startsWith(\"image/\")) {\n                      anthropicContent.push({\n                        type: \"image\",\n                        source: isUrlData(part.data) ? {\n                          type: \"url\",\n                          url: getUrlString(part.data)\n                        } : {\n                          type: \"base64\",\n                          media_type: part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType,\n                          data: convertToBase64(part.data)\n                        },\n                        cache_control: cacheControl\n                      });\n                    } else if (part.mediaType === \"application/pdf\") {\n                      betas.add(\"pdfs-2024-09-25\");\n                      const enableCitations = await shouldEnableCitations(\n                        part.providerOptions\n                      );\n                      const metadata = await getDocumentMetadata(\n                        part.providerOptions\n                      );\n                      anthropicContent.push({\n                        type: \"document\",\n                        source: isUrlData(part.data) ? {\n                          type: \"url\",\n                          url: getUrlString(part.data)\n                        } : {\n                          type: \"base64\",\n                          media_type: \"application/pdf\",\n                          data: convertToBase64(part.data)\n                        },\n                        title: (_b = metadata.title) != null ? _b : part.filename,\n                        ...metadata.context && { context: metadata.context },\n                        ...enableCitations && {\n                          citations: { enabled: true }\n                        },\n                        cache_control: cacheControl\n                      });\n                    } else if (part.mediaType === \"text/plain\") {\n                      const enableCitations = await shouldEnableCitations(\n                        part.providerOptions\n                      );\n                      const metadata = await getDocumentMetadata(\n                        part.providerOptions\n                      );\n                      anthropicContent.push({\n                        type: \"document\",\n                        source: isUrlData(part.data) ? {\n                          type: \"url\",\n                          url: getUrlString(part.data)\n                        } : {\n                          type: \"text\",\n                          media_type: \"text/plain\",\n                          data: convertToString(part.data)\n                        },\n                        title: (_c = metadata.title) != null ? _c : part.filename,\n                        ...metadata.context && { context: metadata.context },\n                        ...enableCitations && {\n                          citations: { enabled: true }\n                        },\n                        cache_control: cacheControl\n                      });\n                    } else {\n                      throw new UnsupportedFunctionalityError2({\n                        functionality: `media type: ${part.mediaType}`\n                      });\n                    }\n                    break;\n                  }\n                }\n              }\n              break;\n            }\n            case \"tool\": {\n              for (let i2 = 0; i2 < content.length; i2++) {\n                const part = content[i2];\n                if (part.type === \"tool-approval-response\") {\n                  continue;\n                }\n                const isLastPart = i2 === content.length - 1;\n                const cacheControl = (_d = validator.getCacheControl(part.providerOptions, {\n                  type: \"tool result part\",\n                  canCache: true\n                })) != null ? _d : isLastPart ? validator.getCacheControl(message.providerOptions, {\n                  type: \"tool result message\",\n                  canCache: true\n                }) : void 0;\n                const output = part.output;\n                let contentValue;\n                switch (output.type) {\n                  case \"content\":\n                    contentValue = output.value.map((contentPart) => {\n                      switch (contentPart.type) {\n                        case \"text\":\n                          return {\n                            type: \"text\",\n                            text: contentPart.text\n                          };\n                        case \"image-data\": {\n                          return {\n                            type: \"image\",\n                            source: {\n                              type: \"base64\",\n                              media_type: contentPart.mediaType,\n                              data: contentPart.data\n                            }\n                          };\n                        }\n                        case \"image-url\": {\n                          return {\n                            type: \"image\",\n                            source: {\n                              type: \"url\",\n                              url: contentPart.url\n                            }\n                          };\n                        }\n                        case \"file-url\": {\n                          return {\n                            type: \"document\",\n                            source: {\n                              type: \"url\",\n                              url: contentPart.url\n                            }\n                          };\n                        }\n                        case \"file-data\": {\n                          if (contentPart.mediaType === \"application/pdf\") {\n                            betas.add(\"pdfs-2024-09-25\");\n                            return {\n                              type: \"document\",\n                              source: {\n                                type: \"base64\",\n                                media_type: contentPart.mediaType,\n                                data: contentPart.data\n                              }\n                            };\n                          }\n                          warnings.push({\n                            type: \"other\",\n                            message: `unsupported tool content part type: ${contentPart.type} with media type: ${contentPart.mediaType}`\n                          });\n                          return void 0;\n                        }\n                        default: {\n                          warnings.push({\n                            type: \"other\",\n                            message: `unsupported tool content part type: ${contentPart.type}`\n                          });\n                          return void 0;\n                        }\n                      }\n                    }).filter(isNonNullable);\n                    break;\n                  case \"text\":\n                  case \"error-text\":\n                    contentValue = output.value;\n                    break;\n                  case \"execution-denied\":\n                    contentValue = (_e = output.reason) != null ? _e : \"Tool execution denied.\";\n                    break;\n                  case \"json\":\n                  case \"error-json\":\n                  default:\n                    contentValue = JSON.stringify(output.value);\n                    break;\n                }\n                anthropicContent.push({\n                  type: \"tool_result\",\n                  tool_use_id: part.toolCallId,\n                  content: contentValue,\n                  is_error: output.type === \"error-text\" || output.type === \"error-json\" ? true : void 0,\n                  cache_control: cacheControl\n                });\n              }\n              break;\n            }\n            default: {\n              const _exhaustiveCheck = role;\n              throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n            }\n          }\n        }\n        messages.push({ role: \"user\", content: anthropicContent });\n        break;\n      }\n      case \"assistant\": {\n        const anthropicContent = [];\n        const mcpToolUseIds = /* @__PURE__ */ new Set();\n        for (let j = 0; j < block.messages.length; j++) {\n          const message = block.messages[j];\n          const isLastMessage = j === block.messages.length - 1;\n          const { content } = message;\n          for (let k = 0; k < content.length; k++) {\n            const part = content[k];\n            const isLastContentPart = k === content.length - 1;\n            const cacheControl = (_f = validator.getCacheControl(part.providerOptions, {\n              type: \"assistant message part\",\n              canCache: true\n            })) != null ? _f : isLastContentPart ? validator.getCacheControl(message.providerOptions, {\n              type: \"assistant message\",\n              canCache: true\n            }) : void 0;\n            switch (part.type) {\n              case \"text\": {\n                anthropicContent.push({\n                  type: \"text\",\n                  text: (\n                    // trim the last text part if it's the last message in the block\n                    // because Anthropic does not allow trailing whitespace\n                    // in pre-filled assistant responses\n                    isLastBlock && isLastMessage && isLastContentPart ? part.text.trim() : part.text\n                  ),\n                  cache_control: cacheControl\n                });\n                break;\n              }\n              case \"reasoning\": {\n                if (sendReasoning) {\n                  const reasoningMetadata = await parseProviderOptions({\n                    provider: \"anthropic\",\n                    providerOptions: part.providerOptions,\n                    schema: anthropicReasoningMetadataSchema\n                  });\n                  if (reasoningMetadata != null) {\n                    if (reasoningMetadata.signature != null) {\n                      validator.getCacheControl(part.providerOptions, {\n                        type: \"thinking block\",\n                        canCache: false\n                      });\n                      anthropicContent.push({\n                        type: \"thinking\",\n                        thinking: part.text,\n                        signature: reasoningMetadata.signature\n                      });\n                    } else if (reasoningMetadata.redactedData != null) {\n                      validator.getCacheControl(part.providerOptions, {\n                        type: \"redacted thinking block\",\n                        canCache: false\n                      });\n                      anthropicContent.push({\n                        type: \"redacted_thinking\",\n                        data: reasoningMetadata.redactedData\n                      });\n                    } else {\n                      warnings.push({\n                        type: \"other\",\n                        message: \"unsupported reasoning metadata\"\n                      });\n                    }\n                  } else {\n                    warnings.push({\n                      type: \"other\",\n                      message: \"unsupported reasoning metadata\"\n                    });\n                  }\n                } else {\n                  warnings.push({\n                    type: \"other\",\n                    message: \"sending reasoning content is disabled for this model\"\n                  });\n                }\n                break;\n              }\n              case \"tool-call\": {\n                if (part.providerExecuted) {\n                  const providerToolName = toolNameMapping.toProviderToolName(\n                    part.toolName\n                  );\n                  const isMcpToolUse = ((_h = (_g = part.providerOptions) == null ? void 0 : _g.anthropic) == null ? void 0 : _h.type) === \"mcp-tool-use\";\n                  if (isMcpToolUse) {\n                    mcpToolUseIds.add(part.toolCallId);\n                    const serverName = (_j = (_i = part.providerOptions) == null ? void 0 : _i.anthropic) == null ? void 0 : _j.serverName;\n                    if (serverName == null || typeof serverName !== \"string\") {\n                      warnings.push({\n                        type: \"other\",\n                        message: \"mcp tool use server name is required and must be a string\"\n                      });\n                      break;\n                    }\n                    anthropicContent.push({\n                      type: \"mcp_tool_use\",\n                      id: part.toolCallId,\n                      name: part.toolName,\n                      input: part.input,\n                      server_name: serverName,\n                      cache_control: cacheControl\n                    });\n                  } else if (\n                    // code execution 20250825:\n                    providerToolName === \"code_execution\" && part.input != null && typeof part.input === \"object\" && \"type\" in part.input && typeof part.input.type === \"string\" && (part.input.type === \"bash_code_execution\" || part.input.type === \"text_editor_code_execution\")\n                  ) {\n                    anthropicContent.push({\n                      type: \"server_tool_use\",\n                      id: part.toolCallId,\n                      name: part.input.type,\n                      // map back to subtool name\n                      input: part.input,\n                      cache_control: cacheControl\n                    });\n                  } else if (\n                    // code execution 20250825 programmatic tool calling:\n                    // Strip the fake 'programmatic-tool-call' type before sending to Anthropic\n                    providerToolName === \"code_execution\" && part.input != null && typeof part.input === \"object\" && \"type\" in part.input && part.input.type === \"programmatic-tool-call\"\n                  ) {\n                    const { type: _, ...inputWithoutType } = part.input;\n                    anthropicContent.push({\n                      type: \"server_tool_use\",\n                      id: part.toolCallId,\n                      name: \"code_execution\",\n                      input: inputWithoutType,\n                      cache_control: cacheControl\n                    });\n                  } else {\n                    if (providerToolName === \"code_execution\" || // code execution 20250522\n                    providerToolName === \"web_fetch\" || providerToolName === \"web_search\") {\n                      anthropicContent.push({\n                        type: \"server_tool_use\",\n                        id: part.toolCallId,\n                        name: providerToolName,\n                        input: part.input,\n                        cache_control: cacheControl\n                      });\n                    } else if (providerToolName === \"tool_search_tool_regex\" || providerToolName === \"tool_search_tool_bm25\") {\n                      anthropicContent.push({\n                        type: \"server_tool_use\",\n                        id: part.toolCallId,\n                        name: providerToolName,\n                        input: part.input,\n                        cache_control: cacheControl\n                      });\n                    } else {\n                      warnings.push({\n                        type: \"other\",\n                        message: `provider executed tool call for tool ${part.toolName} is not supported`\n                      });\n                    }\n                  }\n                  break;\n                }\n                const callerOptions = (_k = part.providerOptions) == null ? void 0 : _k.anthropic;\n                const caller = (callerOptions == null ? void 0 : callerOptions.caller) ? callerOptions.caller.type === \"code_execution_20250825\" && callerOptions.caller.toolId ? {\n                  type: \"code_execution_20250825\",\n                  tool_id: callerOptions.caller.toolId\n                } : callerOptions.caller.type === \"direct\" ? { type: \"direct\" } : void 0 : void 0;\n                anthropicContent.push({\n                  type: \"tool_use\",\n                  id: part.toolCallId,\n                  name: part.toolName,\n                  input: part.input,\n                  ...caller && { caller },\n                  cache_control: cacheControl\n                });\n                break;\n              }\n              case \"tool-result\": {\n                const providerToolName = toolNameMapping.toProviderToolName(\n                  part.toolName\n                );\n                if (mcpToolUseIds.has(part.toolCallId)) {\n                  const output = part.output;\n                  if (output.type !== \"json\" && output.type !== \"error-json\") {\n                    warnings.push({\n                      type: \"other\",\n                      message: `provider executed tool result output type ${output.type} for tool ${part.toolName} is not supported`\n                    });\n                    break;\n                  }\n                  anthropicContent.push({\n                    type: \"mcp_tool_result\",\n                    tool_use_id: part.toolCallId,\n                    is_error: output.type === \"error-json\",\n                    content: output.value,\n                    cache_control: cacheControl\n                  });\n                } else if (providerToolName === \"code_execution\") {\n                  const output = part.output;\n                  if (output.type === \"error-text\" || output.type === \"error-json\") {\n                    let errorInfo = {};\n                    try {\n                      if (typeof output.value === \"string\") {\n                        errorInfo = JSON.parse(output.value);\n                      } else if (typeof output.value === \"object\" && output.value !== null) {\n                        errorInfo = output.value;\n                      }\n                    } catch (e) {\n                    }\n                    if (errorInfo.type === \"code_execution_tool_result_error\") {\n                      anthropicContent.push({\n                        type: \"code_execution_tool_result\",\n                        tool_use_id: part.toolCallId,\n                        content: {\n                          type: \"code_execution_tool_result_error\",\n                          error_code: (_l = errorInfo.errorCode) != null ? _l : \"unknown\"\n                        },\n                        cache_control: cacheControl\n                      });\n                    } else {\n                      anthropicContent.push({\n                        type: \"bash_code_execution_tool_result\",\n                        tool_use_id: part.toolCallId,\n                        cache_control: cacheControl,\n                        content: {\n                          type: \"bash_code_execution_tool_result_error\",\n                          error_code: (_m = errorInfo.errorCode) != null ? _m : \"unknown\"\n                        }\n                      });\n                    }\n                    break;\n                  }\n                  if (output.type !== \"json\") {\n                    warnings.push({\n                      type: \"other\",\n                      message: `provider executed tool result output type ${output.type} for tool ${part.toolName} is not supported`\n                    });\n                    break;\n                  }\n                  if (output.value == null || typeof output.value !== \"object\" || !(\"type\" in output.value) || typeof output.value.type !== \"string\") {\n                    warnings.push({\n                      type: \"other\",\n                      message: `provider executed tool result output value is not a valid code execution result for tool ${part.toolName}`\n                    });\n                    break;\n                  }\n                  if (output.value.type === \"code_execution_result\") {\n                    const codeExecutionOutput = await validateTypes2({\n                      value: output.value,\n                      schema: codeExecution_20250522OutputSchema\n                    });\n                    anthropicContent.push({\n                      type: \"code_execution_tool_result\",\n                      tool_use_id: part.toolCallId,\n                      content: {\n                        type: codeExecutionOutput.type,\n                        stdout: codeExecutionOutput.stdout,\n                        stderr: codeExecutionOutput.stderr,\n                        return_code: codeExecutionOutput.return_code,\n                        content: (_n = codeExecutionOutput.content) != null ? _n : []\n                      },\n                      cache_control: cacheControl\n                    });\n                  } else {\n                    const codeExecutionOutput = await validateTypes2({\n                      value: output.value,\n                      schema: codeExecution_20250825OutputSchema\n                    });\n                    if (codeExecutionOutput.type === \"code_execution_result\") {\n                      anthropicContent.push({\n                        type: \"code_execution_tool_result\",\n                        tool_use_id: part.toolCallId,\n                        content: {\n                          type: codeExecutionOutput.type,\n                          stdout: codeExecutionOutput.stdout,\n                          stderr: codeExecutionOutput.stderr,\n                          return_code: codeExecutionOutput.return_code,\n                          content: (_o = codeExecutionOutput.content) != null ? _o : []\n                        },\n                        cache_control: cacheControl\n                      });\n                    } else if (codeExecutionOutput.type === \"bash_code_execution_result\" || codeExecutionOutput.type === \"bash_code_execution_tool_result_error\") {\n                      anthropicContent.push({\n                        type: \"bash_code_execution_tool_result\",\n                        tool_use_id: part.toolCallId,\n                        cache_control: cacheControl,\n                        content: codeExecutionOutput\n                      });\n                    } else {\n                      anthropicContent.push({\n                        type: \"text_editor_code_execution_tool_result\",\n                        tool_use_id: part.toolCallId,\n                        cache_control: cacheControl,\n                        content: codeExecutionOutput\n                      });\n                    }\n                  }\n                  break;\n                }\n                if (providerToolName === \"web_fetch\") {\n                  const output = part.output;\n                  if (output.type === \"error-json\") {\n                    const errorValue = JSON.parse(output.value);\n                    anthropicContent.push({\n                      type: \"web_fetch_tool_result\",\n                      tool_use_id: part.toolCallId,\n                      content: {\n                        type: \"web_fetch_tool_result_error\",\n                        error_code: errorValue.errorCode\n                      },\n                      cache_control: cacheControl\n                    });\n                    break;\n                  }\n                  if (output.type !== \"json\") {\n                    warnings.push({\n                      type: \"other\",\n                      message: `provider executed tool result output type ${output.type} for tool ${part.toolName} is not supported`\n                    });\n                    break;\n                  }\n                  const webFetchOutput = await validateTypes2({\n                    value: output.value,\n                    schema: webFetch_20250910OutputSchema\n                  });\n                  anthropicContent.push({\n                    type: \"web_fetch_tool_result\",\n                    tool_use_id: part.toolCallId,\n                    content: {\n                      type: \"web_fetch_result\",\n                      url: webFetchOutput.url,\n                      retrieved_at: webFetchOutput.retrievedAt,\n                      content: {\n                        type: \"document\",\n                        title: webFetchOutput.content.title,\n                        citations: webFetchOutput.content.citations,\n                        source: {\n                          type: webFetchOutput.content.source.type,\n                          media_type: webFetchOutput.content.source.mediaType,\n                          data: webFetchOutput.content.source.data\n                        }\n                      }\n                    },\n                    cache_control: cacheControl\n                  });\n                  break;\n                }\n                if (providerToolName === \"web_search\") {\n                  const output = part.output;\n                  if (output.type !== \"json\") {\n                    warnings.push({\n                      type: \"other\",\n                      message: `provider executed tool result output type ${output.type} for tool ${part.toolName} is not supported`\n                    });\n                    break;\n                  }\n                  const webSearchOutput = await validateTypes2({\n                    value: output.value,\n                    schema: webSearch_20250305OutputSchema\n                  });\n                  anthropicContent.push({\n                    type: \"web_search_tool_result\",\n                    tool_use_id: part.toolCallId,\n                    content: webSearchOutput.map((result) => ({\n                      url: result.url,\n                      title: result.title,\n                      page_age: result.pageAge,\n                      encrypted_content: result.encryptedContent,\n                      type: result.type\n                    })),\n                    cache_control: cacheControl\n                  });\n                  break;\n                }\n                if (providerToolName === \"tool_search_tool_regex\" || providerToolName === \"tool_search_tool_bm25\") {\n                  const output = part.output;\n                  if (output.type !== \"json\") {\n                    warnings.push({\n                      type: \"other\",\n                      message: `provider executed tool result output type ${output.type} for tool ${part.toolName} is not supported`\n                    });\n                    break;\n                  }\n                  const toolSearchOutput = await validateTypes2({\n                    value: output.value,\n                    schema: toolSearchRegex_20251119OutputSchema\n                  });\n                  const toolReferences = toolSearchOutput.map((ref) => ({\n                    type: \"tool_reference\",\n                    tool_name: ref.toolName\n                  }));\n                  anthropicContent.push({\n                    type: \"tool_search_tool_result\",\n                    tool_use_id: part.toolCallId,\n                    content: {\n                      type: \"tool_search_tool_search_result\",\n                      tool_references: toolReferences\n                    },\n                    cache_control: cacheControl\n                  });\n                  break;\n                }\n                warnings.push({\n                  type: \"other\",\n                  message: `provider executed tool result for tool ${part.toolName} is not supported`\n                });\n                break;\n              }\n            }\n          }\n        }\n        messages.push({ role: \"assistant\", content: anthropicContent });\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = type;\n        throw new Error(`content type: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return {\n    prompt: { system, messages },\n    betas\n  };\n}\nfunction groupIntoBlocks(prompt) {\n  const blocks = [];\n  let currentBlock = void 0;\n  for (const message of prompt) {\n    const { role } = message;\n    switch (role) {\n      case \"system\": {\n        if ((currentBlock == null ? void 0 : currentBlock.type) !== \"system\") {\n          currentBlock = { type: \"system\", messages: [] };\n          blocks.push(currentBlock);\n        }\n        currentBlock.messages.push(message);\n        break;\n      }\n      case \"assistant\": {\n        if ((currentBlock == null ? void 0 : currentBlock.type) !== \"assistant\") {\n          currentBlock = { type: \"assistant\", messages: [] };\n          blocks.push(currentBlock);\n        }\n        currentBlock.messages.push(message);\n        break;\n      }\n      case \"user\": {\n        if ((currentBlock == null ? void 0 : currentBlock.type) !== \"user\") {\n          currentBlock = { type: \"user\", messages: [] };\n          blocks.push(currentBlock);\n        }\n        currentBlock.messages.push(message);\n        break;\n      }\n      case \"tool\": {\n        if ((currentBlock == null ? void 0 : currentBlock.type) !== \"user\") {\n          currentBlock = { type: \"user\", messages: [] };\n          blocks.push(currentBlock);\n        }\n        currentBlock.messages.push(message);\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return blocks;\n}\n\n// src/map-anthropic-stop-reason.ts\nfunction mapAnthropicStopReason({\n  finishReason,\n  isJsonResponseFromTool\n}) {\n  switch (finishReason) {\n    case \"pause_turn\":\n    case \"end_turn\":\n    case \"stop_sequence\":\n      return \"stop\";\n    case \"refusal\":\n      return \"content-filter\";\n    case \"tool_use\":\n      return isJsonResponseFromTool ? \"stop\" : \"tool-calls\";\n    case \"max_tokens\":\n    case \"model_context_window_exceeded\":\n      return \"length\";\n    default:\n      return \"other\";\n  }\n}\n\n// src/anthropic-messages-language-model.ts\nfunction createCitationSource(citation, citationDocuments, generateId3) {\n  var _a;\n  if (citation.type !== \"page_location\" && citation.type !== \"char_location\") {\n    return;\n  }\n  const documentInfo = citationDocuments[citation.document_index];\n  if (!documentInfo) {\n    return;\n  }\n  return {\n    type: \"source\",\n    sourceType: \"document\",\n    id: generateId3(),\n    mediaType: documentInfo.mediaType,\n    title: (_a = citation.document_title) != null ? _a : documentInfo.title,\n    filename: documentInfo.filename,\n    providerMetadata: {\n      anthropic: citation.type === \"page_location\" ? {\n        citedText: citation.cited_text,\n        startPageNumber: citation.start_page_number,\n        endPageNumber: citation.end_page_number\n      } : {\n        citedText: citation.cited_text,\n        startCharIndex: citation.start_char_index,\n        endCharIndex: citation.end_char_index\n      }\n    }\n  };\n}\nvar AnthropicMessagesLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v3\";\n    var _a;\n    this.modelId = modelId;\n    this.config = config;\n    this.generateId = (_a = config.generateId) != null ? _a : generateId;\n  }\n  supportsUrl(url) {\n    return url.protocol === \"https:\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get supportedUrls() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).supportedUrls) == null ? void 0 : _b.call(_a)) != null ? _c : {};\n  }\n  async getArgs({\n    userSuppliedBetas,\n    prompt,\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    frequencyPenalty,\n    presencePenalty,\n    stopSequences,\n    responseFormat,\n    seed,\n    tools,\n    toolChoice,\n    providerOptions,\n    stream\n  }) {\n    var _a, _b, _c, _d, _e, _f;\n    const warnings = [];\n    if (frequencyPenalty != null) {\n      warnings.push({ type: \"unsupported\", feature: \"frequencyPenalty\" });\n    }\n    if (presencePenalty != null) {\n      warnings.push({ type: \"unsupported\", feature: \"presencePenalty\" });\n    }\n    if (seed != null) {\n      warnings.push({ type: \"unsupported\", feature: \"seed\" });\n    }\n    if (temperature != null && temperature > 1) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"temperature\",\n        details: `${temperature} exceeds anthropic maximum of 1.0. clamped to 1.0`\n      });\n      temperature = 1;\n    } else if (temperature != null && temperature < 0) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"temperature\",\n        details: `${temperature} is below anthropic minimum of 0. clamped to 0`\n      });\n      temperature = 0;\n    }\n    if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\") {\n      if (responseFormat.schema == null) {\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"responseFormat\",\n          details: \"JSON response format requires a schema. The response format is ignored.\"\n        });\n      }\n    }\n    const anthropicOptions = await parseProviderOptions2({\n      provider: \"anthropic\",\n      providerOptions,\n      schema: anthropicProviderOptions\n    });\n    const {\n      maxOutputTokens: maxOutputTokensForModel,\n      supportsStructuredOutput: modelSupportsStructuredOutput,\n      isKnownModel\n    } = getModelCapabilities(this.modelId);\n    const supportsStructuredOutput = ((_a = this.config.supportsNativeStructuredOutput) != null ? _a : true) && modelSupportsStructuredOutput;\n    const structureOutputMode = (_b = anthropicOptions == null ? void 0 : anthropicOptions.structuredOutputMode) != null ? _b : \"auto\";\n    const useStructuredOutput = structureOutputMode === \"outputFormat\" || structureOutputMode === \"auto\" && supportsStructuredOutput;\n    const jsonResponseTool = (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && !useStructuredOutput ? {\n      type: \"function\",\n      name: \"json\",\n      description: \"Respond with a JSON object.\",\n      inputSchema: responseFormat.schema\n    } : void 0;\n    const contextManagement = anthropicOptions == null ? void 0 : anthropicOptions.contextManagement;\n    const cacheControlValidator = new CacheControlValidator();\n    const toolNameMapping = createToolNameMapping({\n      tools,\n      providerToolNames: {\n        \"anthropic.code_execution_20250522\": \"code_execution\",\n        \"anthropic.code_execution_20250825\": \"code_execution\",\n        \"anthropic.computer_20241022\": \"computer\",\n        \"anthropic.computer_20250124\": \"computer\",\n        \"anthropic.text_editor_20241022\": \"str_replace_editor\",\n        \"anthropic.text_editor_20250124\": \"str_replace_editor\",\n        \"anthropic.text_editor_20250429\": \"str_replace_based_edit_tool\",\n        \"anthropic.text_editor_20250728\": \"str_replace_based_edit_tool\",\n        \"anthropic.bash_20241022\": \"bash\",\n        \"anthropic.bash_20250124\": \"bash\",\n        \"anthropic.memory_20250818\": \"memory\",\n        \"anthropic.web_search_20250305\": \"web_search\",\n        \"anthropic.web_fetch_20250910\": \"web_fetch\",\n        \"anthropic.tool_search_regex_20251119\": \"tool_search_tool_regex\",\n        \"anthropic.tool_search_bm25_20251119\": \"tool_search_tool_bm25\"\n      }\n    });\n    const { prompt: messagesPrompt, betas } = await convertToAnthropicMessagesPrompt({\n      prompt,\n      sendReasoning: (_c = anthropicOptions == null ? void 0 : anthropicOptions.sendReasoning) != null ? _c : true,\n      warnings,\n      cacheControlValidator,\n      toolNameMapping\n    });\n    const isThinking = ((_d = anthropicOptions == null ? void 0 : anthropicOptions.thinking) == null ? void 0 : _d.type) === \"enabled\";\n    let thinkingBudget = (_e = anthropicOptions == null ? void 0 : anthropicOptions.thinking) == null ? void 0 : _e.budgetTokens;\n    const maxTokens = maxOutputTokens != null ? maxOutputTokens : maxOutputTokensForModel;\n    const baseArgs = {\n      // model id:\n      model: this.modelId,\n      // standardized settings:\n      max_tokens: maxTokens,\n      temperature,\n      top_k: topK,\n      top_p: topP,\n      stop_sequences: stopSequences,\n      // provider specific settings:\n      ...isThinking && {\n        thinking: { type: \"enabled\", budget_tokens: thinkingBudget }\n      },\n      ...(anthropicOptions == null ? void 0 : anthropicOptions.effort) && {\n        output_config: { effort: anthropicOptions.effort }\n      },\n      // structured output:\n      ...useStructuredOutput && (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && {\n        output_format: {\n          type: \"json_schema\",\n          schema: responseFormat.schema\n        }\n      },\n      // mcp servers:\n      ...(anthropicOptions == null ? void 0 : anthropicOptions.mcpServers) && anthropicOptions.mcpServers.length > 0 && {\n        mcp_servers: anthropicOptions.mcpServers.map((server) => ({\n          type: server.type,\n          name: server.name,\n          url: server.url,\n          authorization_token: server.authorizationToken,\n          tool_configuration: server.toolConfiguration ? {\n            allowed_tools: server.toolConfiguration.allowedTools,\n            enabled: server.toolConfiguration.enabled\n          } : void 0\n        }))\n      },\n      // container: For programmatic tool calling (just an ID string) or agent skills (object with id and skills)\n      ...(anthropicOptions == null ? void 0 : anthropicOptions.container) && {\n        container: anthropicOptions.container.skills && anthropicOptions.container.skills.length > 0 ? (\n          // Object format when skills are provided (agent skills feature)\n          {\n            id: anthropicOptions.container.id,\n            skills: anthropicOptions.container.skills.map((skill) => ({\n              type: skill.type,\n              skill_id: skill.skillId,\n              version: skill.version\n            }))\n          }\n        ) : (\n          // String format for container ID only (programmatic tool calling)\n          anthropicOptions.container.id\n        )\n      },\n      // prompt:\n      system: messagesPrompt.system,\n      messages: messagesPrompt.messages,\n      ...contextManagement && {\n        context_management: {\n          edits: contextManagement.edits.map((edit) => {\n            const strategy = edit.type;\n            switch (strategy) {\n              case \"clear_tool_uses_20250919\":\n                return {\n                  type: edit.type,\n                  ...edit.trigger !== void 0 && {\n                    trigger: edit.trigger\n                  },\n                  ...edit.keep !== void 0 && { keep: edit.keep },\n                  ...edit.clearAtLeast !== void 0 && {\n                    clear_at_least: edit.clearAtLeast\n                  },\n                  ...edit.clearToolInputs !== void 0 && {\n                    clear_tool_inputs: edit.clearToolInputs\n                  },\n                  ...edit.excludeTools !== void 0 && {\n                    exclude_tools: edit.excludeTools\n                  }\n                };\n              case \"clear_thinking_20251015\":\n                return {\n                  type: edit.type,\n                  ...edit.keep !== void 0 && { keep: edit.keep }\n                };\n              default:\n                warnings.push({\n                  type: \"other\",\n                  message: `Unknown context management strategy: ${strategy}`\n                });\n                return void 0;\n            }\n          }).filter((edit) => edit !== void 0)\n        }\n      }\n    };\n    if (isThinking) {\n      if (thinkingBudget == null) {\n        warnings.push({\n          type: \"compatibility\",\n          feature: \"extended thinking\",\n          details: \"thinking budget is required when thinking is enabled. using default budget of 1024 tokens.\"\n        });\n        baseArgs.thinking = {\n          type: \"enabled\",\n          budget_tokens: 1024\n        };\n        thinkingBudget = 1024;\n      }\n      if (baseArgs.temperature != null) {\n        baseArgs.temperature = void 0;\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"temperature\",\n          details: \"temperature is not supported when thinking is enabled\"\n        });\n      }\n      if (topK != null) {\n        baseArgs.top_k = void 0;\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"topK\",\n          details: \"topK is not supported when thinking is enabled\"\n        });\n      }\n      if (topP != null) {\n        baseArgs.top_p = void 0;\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"topP\",\n          details: \"topP is not supported when thinking is enabled\"\n        });\n      }\n      baseArgs.max_tokens = maxTokens + (thinkingBudget != null ? thinkingBudget : 0);\n    } else {\n      if (topP != null && temperature != null) {\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"topP\",\n          details: `topP is not supported when temperature is set. topP is ignored.`\n        });\n        baseArgs.top_p = void 0;\n      }\n    }\n    if (isKnownModel && baseArgs.max_tokens > maxOutputTokensForModel) {\n      if (maxOutputTokens != null) {\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"maxOutputTokens\",\n          details: `${baseArgs.max_tokens} (maxOutputTokens + thinkingBudget) is greater than ${this.modelId} ${maxOutputTokensForModel} max output tokens. The max output tokens have been limited to ${maxOutputTokensForModel}.`\n        });\n      }\n      baseArgs.max_tokens = maxOutputTokensForModel;\n    }\n    if ((anthropicOptions == null ? void 0 : anthropicOptions.mcpServers) && anthropicOptions.mcpServers.length > 0) {\n      betas.add(\"mcp-client-2025-04-04\");\n    }\n    if (contextManagement) {\n      betas.add(\"context-management-2025-06-27\");\n    }\n    if ((anthropicOptions == null ? void 0 : anthropicOptions.container) && anthropicOptions.container.skills && anthropicOptions.container.skills.length > 0) {\n      betas.add(\"code-execution-2025-08-25\");\n      betas.add(\"skills-2025-10-02\");\n      betas.add(\"files-api-2025-04-14\");\n      if (!(tools == null ? void 0 : tools.some(\n        (tool) => tool.type === \"provider\" && tool.id === \"anthropic.code_execution_20250825\"\n      ))) {\n        warnings.push({\n          type: \"other\",\n          message: \"code execution tool is required when using skills\"\n        });\n      }\n    }\n    if (anthropicOptions == null ? void 0 : anthropicOptions.effort) {\n      betas.add(\"effort-2025-11-24\");\n    }\n    if (stream && ((_f = anthropicOptions == null ? void 0 : anthropicOptions.toolStreaming) != null ? _f : true)) {\n      betas.add(\"fine-grained-tool-streaming-2025-05-14\");\n    }\n    const usingNativeOutputFormat = useStructuredOutput && (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null;\n    if (usingNativeOutputFormat) {\n      betas.add(\"structured-outputs-2025-11-13\");\n    }\n    const {\n      tools: anthropicTools2,\n      toolChoice: anthropicToolChoice,\n      toolWarnings,\n      betas: toolsBetas\n    } = await prepareTools(\n      jsonResponseTool != null ? {\n        tools: [...tools != null ? tools : [], jsonResponseTool],\n        toolChoice: { type: \"required\" },\n        disableParallelToolUse: true,\n        cacheControlValidator,\n        supportsStructuredOutput\n      } : {\n        tools: tools != null ? tools : [],\n        toolChoice,\n        disableParallelToolUse: anthropicOptions == null ? void 0 : anthropicOptions.disableParallelToolUse,\n        cacheControlValidator,\n        supportsStructuredOutput\n      }\n    );\n    const cacheWarnings = cacheControlValidator.getWarnings();\n    return {\n      args: {\n        ...baseArgs,\n        tools: anthropicTools2,\n        tool_choice: anthropicToolChoice,\n        stream: stream === true ? true : void 0\n        // do not send when not streaming\n      },\n      warnings: [...warnings, ...toolWarnings, ...cacheWarnings],\n      betas: /* @__PURE__ */ new Set([...betas, ...toolsBetas, ...userSuppliedBetas]),\n      usesJsonResponseTool: jsonResponseTool != null,\n      toolNameMapping\n    };\n  }\n  async getHeaders({\n    betas,\n    headers\n  }) {\n    return combineHeaders(\n      await resolve(this.config.headers),\n      headers,\n      betas.size > 0 ? { \"anthropic-beta\": Array.from(betas).join(\",\") } : {}\n    );\n  }\n  async getBetasFromHeaders(requestHeaders) {\n    var _a, _b;\n    const configHeaders = await resolve(this.config.headers);\n    const configBetaHeader = (_a = configHeaders[\"anthropic-beta\"]) != null ? _a : \"\";\n    const requestBetaHeader = (_b = requestHeaders == null ? void 0 : requestHeaders[\"anthropic-beta\"]) != null ? _b : \"\";\n    return new Set(\n      [\n        ...configBetaHeader.toLowerCase().split(\",\"),\n        ...requestBetaHeader.toLowerCase().split(\",\")\n      ].map((beta) => beta.trim()).filter((beta) => beta !== \"\")\n    );\n  }\n  buildRequestUrl(isStreaming) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).buildRequestUrl) == null ? void 0 : _b.call(_a, this.config.baseURL, isStreaming)) != null ? _c : `${this.config.baseURL}/messages`;\n  }\n  transformRequestBody(args) {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).transformRequestBody) == null ? void 0 : _b.call(_a, args)) != null ? _c : args;\n  }\n  extractCitationDocuments(prompt) {\n    const isCitationPart = (part) => {\n      var _a, _b;\n      if (part.type !== \"file\") {\n        return false;\n      }\n      if (part.mediaType !== \"application/pdf\" && part.mediaType !== \"text/plain\") {\n        return false;\n      }\n      const anthropic2 = (_a = part.providerOptions) == null ? void 0 : _a.anthropic;\n      const citationsConfig = anthropic2 == null ? void 0 : anthropic2.citations;\n      return (_b = citationsConfig == null ? void 0 : citationsConfig.enabled) != null ? _b : false;\n    };\n    return prompt.filter((message) => message.role === \"user\").flatMap((message) => message.content).filter(isCitationPart).map((part) => {\n      var _a;\n      const filePart = part;\n      return {\n        title: (_a = filePart.filename) != null ? _a : \"Untitled Document\",\n        filename: filePart.filename,\n        mediaType: filePart.mediaType\n      };\n    });\n  }\n  async doGenerate(options) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k;\n    const { args, warnings, betas, usesJsonResponseTool, toolNameMapping } = await this.getArgs({\n      ...options,\n      stream: false,\n      userSuppliedBetas: await this.getBetasFromHeaders(options.headers)\n    });\n    const citationDocuments = this.extractCitationDocuments(options.prompt);\n    const {\n      responseHeaders,\n      value: response,\n      rawValue: rawResponse\n    } = await postJsonToApi({\n      url: this.buildRequestUrl(false),\n      headers: await this.getHeaders({ betas, headers: options.headers }),\n      body: this.transformRequestBody(args),\n      failedResponseHandler: anthropicFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler(\n        anthropicMessagesResponseSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const content = [];\n    const mcpToolCalls = {};\n    const serverToolCalls = {};\n    let isJsonResponseFromTool = false;\n    for (const part of response.content) {\n      switch (part.type) {\n        case \"text\": {\n          if (!usesJsonResponseTool) {\n            content.push({ type: \"text\", text: part.text });\n            if (part.citations) {\n              for (const citation of part.citations) {\n                const source = createCitationSource(\n                  citation,\n                  citationDocuments,\n                  this.generateId\n                );\n                if (source) {\n                  content.push(source);\n                }\n              }\n            }\n          }\n          break;\n        }\n        case \"thinking\": {\n          content.push({\n            type: \"reasoning\",\n            text: part.thinking,\n            providerMetadata: {\n              anthropic: {\n                signature: part.signature\n              }\n            }\n          });\n          break;\n        }\n        case \"redacted_thinking\": {\n          content.push({\n            type: \"reasoning\",\n            text: \"\",\n            providerMetadata: {\n              anthropic: {\n                redactedData: part.data\n              }\n            }\n          });\n          break;\n        }\n        case \"tool_use\": {\n          const isJsonResponseTool = usesJsonResponseTool && part.name === \"json\";\n          if (isJsonResponseTool) {\n            isJsonResponseFromTool = true;\n            content.push({\n              type: \"text\",\n              text: JSON.stringify(part.input)\n            });\n          } else {\n            const caller = part.caller;\n            const callerInfo = caller ? {\n              type: caller.type,\n              toolId: \"tool_id\" in caller ? caller.tool_id : void 0\n            } : void 0;\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: part.name,\n              input: JSON.stringify(part.input),\n              ...callerInfo && {\n                providerMetadata: {\n                  anthropic: {\n                    caller: callerInfo\n                  }\n                }\n              }\n            });\n          }\n          break;\n        }\n        case \"server_tool_use\": {\n          if (part.name === \"text_editor_code_execution\" || part.name === \"bash_code_execution\") {\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: toolNameMapping.toCustomToolName(\"code_execution\"),\n              input: JSON.stringify({ type: part.name, ...part.input }),\n              providerExecuted: true\n            });\n          } else if (part.name === \"web_search\" || part.name === \"code_execution\" || part.name === \"web_fetch\") {\n            const inputToSerialize = part.name === \"code_execution\" && part.input != null && typeof part.input === \"object\" && \"code\" in part.input && !(\"type\" in part.input) ? { type: \"programmatic-tool-call\", ...part.input } : part.input;\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: toolNameMapping.toCustomToolName(part.name),\n              input: JSON.stringify(inputToSerialize),\n              providerExecuted: true\n            });\n          } else if (part.name === \"tool_search_tool_regex\" || part.name === \"tool_search_tool_bm25\") {\n            serverToolCalls[part.id] = part.name;\n            content.push({\n              type: \"tool-call\",\n              toolCallId: part.id,\n              toolName: toolNameMapping.toCustomToolName(part.name),\n              input: JSON.stringify(part.input),\n              providerExecuted: true\n            });\n          }\n          break;\n        }\n        case \"mcp_tool_use\": {\n          mcpToolCalls[part.id] = {\n            type: \"tool-call\",\n            toolCallId: part.id,\n            toolName: part.name,\n            input: JSON.stringify(part.input),\n            providerExecuted: true,\n            dynamic: true,\n            providerMetadata: {\n              anthropic: {\n                type: \"mcp-tool-use\",\n                serverName: part.server_name\n              }\n            }\n          };\n          content.push(mcpToolCalls[part.id]);\n          break;\n        }\n        case \"mcp_tool_result\": {\n          content.push({\n            type: \"tool-result\",\n            toolCallId: part.tool_use_id,\n            toolName: mcpToolCalls[part.tool_use_id].toolName,\n            isError: part.is_error,\n            result: part.content,\n            dynamic: true,\n            providerMetadata: mcpToolCalls[part.tool_use_id].providerMetadata\n          });\n          break;\n        }\n        case \"web_fetch_tool_result\": {\n          if (part.content.type === \"web_fetch_result\") {\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.tool_use_id,\n              toolName: toolNameMapping.toCustomToolName(\"web_fetch\"),\n              result: {\n                type: \"web_fetch_result\",\n                url: part.content.url,\n                retrievedAt: part.content.retrieved_at,\n                content: {\n                  type: part.content.content.type,\n                  title: part.content.content.title,\n                  citations: part.content.content.citations,\n                  source: {\n                    type: part.content.content.source.type,\n                    mediaType: part.content.content.source.media_type,\n                    data: part.content.content.source.data\n                  }\n                }\n              }\n            });\n          } else if (part.content.type === \"web_fetch_tool_result_error\") {\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.tool_use_id,\n              toolName: toolNameMapping.toCustomToolName(\"web_fetch\"),\n              isError: true,\n              result: {\n                type: \"web_fetch_tool_result_error\",\n                errorCode: part.content.error_code\n              }\n            });\n          }\n          break;\n        }\n        case \"web_search_tool_result\": {\n          if (Array.isArray(part.content)) {\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.tool_use_id,\n              toolName: toolNameMapping.toCustomToolName(\"web_search\"),\n              result: part.content.map((result) => {\n                var _a2;\n                return {\n                  url: result.url,\n                  title: result.title,\n                  pageAge: (_a2 = result.page_age) != null ? _a2 : null,\n                  encryptedContent: result.encrypted_content,\n                  type: result.type\n                };\n              })\n            });\n            for (const result of part.content) {\n              content.push({\n                type: \"source\",\n                sourceType: \"url\",\n                id: this.generateId(),\n                url: result.url,\n                title: result.title,\n                providerMetadata: {\n                  anthropic: {\n                    pageAge: (_a = result.page_age) != null ? _a : null\n                  }\n                }\n              });\n            }\n          } else {\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.tool_use_id,\n              toolName: toolNameMapping.toCustomToolName(\"web_search\"),\n              isError: true,\n              result: {\n                type: \"web_search_tool_result_error\",\n                errorCode: part.content.error_code\n              }\n            });\n          }\n          break;\n        }\n        // code execution 20250522:\n        case \"code_execution_tool_result\": {\n          if (part.content.type === \"code_execution_result\") {\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.tool_use_id,\n              toolName: toolNameMapping.toCustomToolName(\"code_execution\"),\n              result: {\n                type: part.content.type,\n                stdout: part.content.stdout,\n                stderr: part.content.stderr,\n                return_code: part.content.return_code,\n                content: (_b = part.content.content) != null ? _b : []\n              }\n            });\n          } else if (part.content.type === \"code_execution_tool_result_error\") {\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.tool_use_id,\n              toolName: toolNameMapping.toCustomToolName(\"code_execution\"),\n              isError: true,\n              result: {\n                type: \"code_execution_tool_result_error\",\n                errorCode: part.content.error_code\n              }\n            });\n          }\n          break;\n        }\n        // code execution 20250825:\n        case \"bash_code_execution_tool_result\":\n        case \"text_editor_code_execution_tool_result\": {\n          content.push({\n            type: \"tool-result\",\n            toolCallId: part.tool_use_id,\n            toolName: toolNameMapping.toCustomToolName(\"code_execution\"),\n            result: part.content\n          });\n          break;\n        }\n        // tool search tool results:\n        case \"tool_search_tool_result\": {\n          const providerToolName = (_c = serverToolCalls[part.tool_use_id]) != null ? _c : \"tool_search_tool_regex\";\n          if (part.content.type === \"tool_search_tool_search_result\") {\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.tool_use_id,\n              toolName: toolNameMapping.toCustomToolName(providerToolName),\n              result: part.content.tool_references.map((ref) => ({\n                type: ref.type,\n                toolName: ref.tool_name\n              }))\n            });\n          } else {\n            content.push({\n              type: \"tool-result\",\n              toolCallId: part.tool_use_id,\n              toolName: toolNameMapping.toCustomToolName(providerToolName),\n              isError: true,\n              result: {\n                type: \"tool_search_tool_result_error\",\n                errorCode: part.content.error_code\n              }\n            });\n          }\n          break;\n        }\n      }\n    }\n    return {\n      content,\n      finishReason: {\n        unified: mapAnthropicStopReason({\n          finishReason: response.stop_reason,\n          isJsonResponseFromTool\n        }),\n        raw: (_d = response.stop_reason) != null ? _d : void 0\n      },\n      usage: convertAnthropicMessagesUsage(response.usage),\n      request: { body: args },\n      response: {\n        id: (_e = response.id) != null ? _e : void 0,\n        modelId: (_f = response.model) != null ? _f : void 0,\n        headers: responseHeaders,\n        body: rawResponse\n      },\n      warnings,\n      providerMetadata: {\n        anthropic: {\n          usage: response.usage,\n          cacheCreationInputTokens: (_g = response.usage.cache_creation_input_tokens) != null ? _g : null,\n          stopSequence: (_h = response.stop_sequence) != null ? _h : null,\n          container: response.container ? {\n            expiresAt: response.container.expires_at,\n            id: response.container.id,\n            skills: (_j = (_i = response.container.skills) == null ? void 0 : _i.map((skill) => ({\n              type: skill.type,\n              skillId: skill.skill_id,\n              version: skill.version\n            }))) != null ? _j : null\n          } : null,\n          contextManagement: (_k = mapAnthropicResponseContextManagement(\n            response.context_management\n          )) != null ? _k : null\n        }\n      }\n    };\n  }\n  async doStream(options) {\n    var _a, _b;\n    const {\n      args: body,\n      warnings,\n      betas,\n      usesJsonResponseTool,\n      toolNameMapping\n    } = await this.getArgs({\n      ...options,\n      stream: true,\n      userSuppliedBetas: await this.getBetasFromHeaders(options.headers)\n    });\n    const citationDocuments = this.extractCitationDocuments(options.prompt);\n    const url = this.buildRequestUrl(true);\n    const { responseHeaders, value: response } = await postJsonToApi({\n      url,\n      headers: await this.getHeaders({ betas, headers: options.headers }),\n      body: this.transformRequestBody(body),\n      failedResponseHandler: anthropicFailedResponseHandler,\n      successfulResponseHandler: createEventSourceResponseHandler(\n        anthropicMessagesChunkSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    let finishReason = {\n      unified: \"other\",\n      raw: void 0\n    };\n    const usage = {\n      input_tokens: 0,\n      output_tokens: 0,\n      cache_creation_input_tokens: 0,\n      cache_read_input_tokens: 0\n    };\n    const contentBlocks = {};\n    const mcpToolCalls = {};\n    const serverToolCalls = {};\n    let contextManagement = null;\n    let rawUsage = void 0;\n    let cacheCreationInputTokens = null;\n    let stopSequence = null;\n    let container = null;\n    let isJsonResponseFromTool = false;\n    let blockType = void 0;\n    const generateId3 = this.generateId;\n    const transformedStream = response.pipeThrough(\n      new TransformStream({\n        start(controller) {\n          controller.enqueue({ type: \"stream-start\", warnings });\n        },\n        transform(chunk, controller) {\n          var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n          if (options.includeRawChunks) {\n            controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n          }\n          if (!chunk.success) {\n            controller.enqueue({ type: \"error\", error: chunk.error });\n            return;\n          }\n          const value = chunk.value;\n          switch (value.type) {\n            case \"ping\": {\n              return;\n            }\n            case \"content_block_start\": {\n              const part = value.content_block;\n              const contentBlockType = part.type;\n              blockType = contentBlockType;\n              switch (contentBlockType) {\n                case \"text\": {\n                  if (usesJsonResponseTool) {\n                    return;\n                  }\n                  contentBlocks[value.index] = { type: \"text\" };\n                  controller.enqueue({\n                    type: \"text-start\",\n                    id: String(value.index)\n                  });\n                  return;\n                }\n                case \"thinking\": {\n                  contentBlocks[value.index] = { type: \"reasoning\" };\n                  controller.enqueue({\n                    type: \"reasoning-start\",\n                    id: String(value.index)\n                  });\n                  return;\n                }\n                case \"redacted_thinking\": {\n                  contentBlocks[value.index] = { type: \"reasoning\" };\n                  controller.enqueue({\n                    type: \"reasoning-start\",\n                    id: String(value.index),\n                    providerMetadata: {\n                      anthropic: {\n                        redactedData: part.data\n                      }\n                    }\n                  });\n                  return;\n                }\n                case \"tool_use\": {\n                  const isJsonResponseTool = usesJsonResponseTool && part.name === \"json\";\n                  if (isJsonResponseTool) {\n                    isJsonResponseFromTool = true;\n                    contentBlocks[value.index] = { type: \"text\" };\n                    controller.enqueue({\n                      type: \"text-start\",\n                      id: String(value.index)\n                    });\n                  } else {\n                    const caller = part.caller;\n                    const callerInfo = caller ? {\n                      type: caller.type,\n                      toolId: \"tool_id\" in caller ? caller.tool_id : void 0\n                    } : void 0;\n                    const hasNonEmptyInput = part.input && Object.keys(part.input).length > 0;\n                    const initialInput = hasNonEmptyInput ? JSON.stringify(part.input) : \"\";\n                    contentBlocks[value.index] = {\n                      type: \"tool-call\",\n                      toolCallId: part.id,\n                      toolName: part.name,\n                      input: initialInput,\n                      firstDelta: initialInput.length === 0,\n                      ...callerInfo && { caller: callerInfo }\n                    };\n                    controller.enqueue({\n                      type: \"tool-input-start\",\n                      id: part.id,\n                      toolName: part.name\n                    });\n                  }\n                  return;\n                }\n                case \"server_tool_use\": {\n                  if ([\n                    \"web_fetch\",\n                    \"web_search\",\n                    // code execution 20250825:\n                    \"code_execution\",\n                    // code execution 20250825 text editor:\n                    \"text_editor_code_execution\",\n                    // code execution 20250825 bash:\n                    \"bash_code_execution\"\n                  ].includes(part.name)) {\n                    const providerToolName = part.name === \"text_editor_code_execution\" || part.name === \"bash_code_execution\" ? \"code_execution\" : part.name;\n                    const customToolName = toolNameMapping.toCustomToolName(providerToolName);\n                    contentBlocks[value.index] = {\n                      type: \"tool-call\",\n                      toolCallId: part.id,\n                      toolName: customToolName,\n                      input: \"\",\n                      providerExecuted: true,\n                      firstDelta: true,\n                      providerToolName: part.name\n                    };\n                    controller.enqueue({\n                      type: \"tool-input-start\",\n                      id: part.id,\n                      toolName: customToolName,\n                      providerExecuted: true\n                    });\n                  } else if (part.name === \"tool_search_tool_regex\" || part.name === \"tool_search_tool_bm25\") {\n                    serverToolCalls[part.id] = part.name;\n                    const customToolName = toolNameMapping.toCustomToolName(\n                      part.name\n                    );\n                    contentBlocks[value.index] = {\n                      type: \"tool-call\",\n                      toolCallId: part.id,\n                      toolName: customToolName,\n                      input: \"\",\n                      providerExecuted: true,\n                      firstDelta: true,\n                      providerToolName: part.name\n                    };\n                    controller.enqueue({\n                      type: \"tool-input-start\",\n                      id: part.id,\n                      toolName: customToolName,\n                      providerExecuted: true\n                    });\n                  }\n                  return;\n                }\n                case \"web_fetch_tool_result\": {\n                  if (part.content.type === \"web_fetch_result\") {\n                    controller.enqueue({\n                      type: \"tool-result\",\n                      toolCallId: part.tool_use_id,\n                      toolName: toolNameMapping.toCustomToolName(\"web_fetch\"),\n                      result: {\n                        type: \"web_fetch_result\",\n                        url: part.content.url,\n                        retrievedAt: part.content.retrieved_at,\n                        content: {\n                          type: part.content.content.type,\n                          title: part.content.content.title,\n                          citations: part.content.content.citations,\n                          source: {\n                            type: part.content.content.source.type,\n                            mediaType: part.content.content.source.media_type,\n                            data: part.content.content.source.data\n                          }\n                        }\n                      }\n                    });\n                  } else if (part.content.type === \"web_fetch_tool_result_error\") {\n                    controller.enqueue({\n                      type: \"tool-result\",\n                      toolCallId: part.tool_use_id,\n                      toolName: toolNameMapping.toCustomToolName(\"web_fetch\"),\n                      isError: true,\n                      result: {\n                        type: \"web_fetch_tool_result_error\",\n                        errorCode: part.content.error_code\n                      }\n                    });\n                  }\n                  return;\n                }\n                case \"web_search_tool_result\": {\n                  if (Array.isArray(part.content)) {\n                    controller.enqueue({\n                      type: \"tool-result\",\n                      toolCallId: part.tool_use_id,\n                      toolName: toolNameMapping.toCustomToolName(\"web_search\"),\n                      result: part.content.map((result) => {\n                        var _a3;\n                        return {\n                          url: result.url,\n                          title: result.title,\n                          pageAge: (_a3 = result.page_age) != null ? _a3 : null,\n                          encryptedContent: result.encrypted_content,\n                          type: result.type\n                        };\n                      })\n                    });\n                    for (const result of part.content) {\n                      controller.enqueue({\n                        type: \"source\",\n                        sourceType: \"url\",\n                        id: generateId3(),\n                        url: result.url,\n                        title: result.title,\n                        providerMetadata: {\n                          anthropic: {\n                            pageAge: (_a2 = result.page_age) != null ? _a2 : null\n                          }\n                        }\n                      });\n                    }\n                  } else {\n                    controller.enqueue({\n                      type: \"tool-result\",\n                      toolCallId: part.tool_use_id,\n                      toolName: toolNameMapping.toCustomToolName(\"web_search\"),\n                      isError: true,\n                      result: {\n                        type: \"web_search_tool_result_error\",\n                        errorCode: part.content.error_code\n                      }\n                    });\n                  }\n                  return;\n                }\n                // code execution 20250522:\n                case \"code_execution_tool_result\": {\n                  if (part.content.type === \"code_execution_result\") {\n                    controller.enqueue({\n                      type: \"tool-result\",\n                      toolCallId: part.tool_use_id,\n                      toolName: toolNameMapping.toCustomToolName(\"code_execution\"),\n                      result: {\n                        type: part.content.type,\n                        stdout: part.content.stdout,\n                        stderr: part.content.stderr,\n                        return_code: part.content.return_code,\n                        content: (_b2 = part.content.content) != null ? _b2 : []\n                      }\n                    });\n                  } else if (part.content.type === \"code_execution_tool_result_error\") {\n                    controller.enqueue({\n                      type: \"tool-result\",\n                      toolCallId: part.tool_use_id,\n                      toolName: toolNameMapping.toCustomToolName(\"code_execution\"),\n                      isError: true,\n                      result: {\n                        type: \"code_execution_tool_result_error\",\n                        errorCode: part.content.error_code\n                      }\n                    });\n                  }\n                  return;\n                }\n                // code execution 20250825:\n                case \"bash_code_execution_tool_result\":\n                case \"text_editor_code_execution_tool_result\": {\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: part.tool_use_id,\n                    toolName: toolNameMapping.toCustomToolName(\"code_execution\"),\n                    result: part.content\n                  });\n                  return;\n                }\n                // tool search tool results:\n                case \"tool_search_tool_result\": {\n                  const providerToolName = (_c = serverToolCalls[part.tool_use_id]) != null ? _c : \"tool_search_tool_regex\";\n                  if (part.content.type === \"tool_search_tool_search_result\") {\n                    controller.enqueue({\n                      type: \"tool-result\",\n                      toolCallId: part.tool_use_id,\n                      toolName: toolNameMapping.toCustomToolName(providerToolName),\n                      result: part.content.tool_references.map((ref) => ({\n                        type: ref.type,\n                        toolName: ref.tool_name\n                      }))\n                    });\n                  } else {\n                    controller.enqueue({\n                      type: \"tool-result\",\n                      toolCallId: part.tool_use_id,\n                      toolName: toolNameMapping.toCustomToolName(providerToolName),\n                      isError: true,\n                      result: {\n                        type: \"tool_search_tool_result_error\",\n                        errorCode: part.content.error_code\n                      }\n                    });\n                  }\n                  return;\n                }\n                case \"mcp_tool_use\": {\n                  mcpToolCalls[part.id] = {\n                    type: \"tool-call\",\n                    toolCallId: part.id,\n                    toolName: part.name,\n                    input: JSON.stringify(part.input),\n                    providerExecuted: true,\n                    dynamic: true,\n                    providerMetadata: {\n                      anthropic: {\n                        type: \"mcp-tool-use\",\n                        serverName: part.server_name\n                      }\n                    }\n                  };\n                  controller.enqueue(mcpToolCalls[part.id]);\n                  return;\n                }\n                case \"mcp_tool_result\": {\n                  controller.enqueue({\n                    type: \"tool-result\",\n                    toolCallId: part.tool_use_id,\n                    toolName: mcpToolCalls[part.tool_use_id].toolName,\n                    isError: part.is_error,\n                    result: part.content,\n                    dynamic: true,\n                    providerMetadata: mcpToolCalls[part.tool_use_id].providerMetadata\n                  });\n                  return;\n                }\n                default: {\n                  const _exhaustiveCheck = contentBlockType;\n                  throw new Error(\n                    `Unsupported content block type: ${_exhaustiveCheck}`\n                  );\n                }\n              }\n            }\n            case \"content_block_stop\": {\n              if (contentBlocks[value.index] != null) {\n                const contentBlock = contentBlocks[value.index];\n                switch (contentBlock.type) {\n                  case \"text\": {\n                    controller.enqueue({\n                      type: \"text-end\",\n                      id: String(value.index)\n                    });\n                    break;\n                  }\n                  case \"reasoning\": {\n                    controller.enqueue({\n                      type: \"reasoning-end\",\n                      id: String(value.index)\n                    });\n                    break;\n                  }\n                  case \"tool-call\":\n                    const isJsonResponseTool = usesJsonResponseTool && contentBlock.toolName === \"json\";\n                    if (!isJsonResponseTool) {\n                      controller.enqueue({\n                        type: \"tool-input-end\",\n                        id: contentBlock.toolCallId\n                      });\n                      let finalInput = contentBlock.input === \"\" ? \"{}\" : contentBlock.input;\n                      if (contentBlock.providerToolName === \"code_execution\") {\n                        try {\n                          const parsed = JSON.parse(finalInput);\n                          if (parsed != null && typeof parsed === \"object\" && \"code\" in parsed && !(\"type\" in parsed)) {\n                            finalInput = JSON.stringify({\n                              type: \"programmatic-tool-call\",\n                              ...parsed\n                            });\n                          }\n                        } catch (e) {\n                        }\n                      }\n                      controller.enqueue({\n                        type: \"tool-call\",\n                        toolCallId: contentBlock.toolCallId,\n                        toolName: contentBlock.toolName,\n                        input: finalInput,\n                        providerExecuted: contentBlock.providerExecuted,\n                        ...contentBlock.caller && {\n                          providerMetadata: {\n                            anthropic: {\n                              caller: contentBlock.caller\n                            }\n                          }\n                        }\n                      });\n                    }\n                    break;\n                }\n                delete contentBlocks[value.index];\n              }\n              blockType = void 0;\n              return;\n            }\n            case \"content_block_delta\": {\n              const deltaType = value.delta.type;\n              switch (deltaType) {\n                case \"text_delta\": {\n                  if (usesJsonResponseTool) {\n                    return;\n                  }\n                  controller.enqueue({\n                    type: \"text-delta\",\n                    id: String(value.index),\n                    delta: value.delta.text\n                  });\n                  return;\n                }\n                case \"thinking_delta\": {\n                  controller.enqueue({\n                    type: \"reasoning-delta\",\n                    id: String(value.index),\n                    delta: value.delta.thinking\n                  });\n                  return;\n                }\n                case \"signature_delta\": {\n                  if (blockType === \"thinking\") {\n                    controller.enqueue({\n                      type: \"reasoning-delta\",\n                      id: String(value.index),\n                      delta: \"\",\n                      providerMetadata: {\n                        anthropic: {\n                          signature: value.delta.signature\n                        }\n                      }\n                    });\n                  }\n                  return;\n                }\n                case \"input_json_delta\": {\n                  const contentBlock = contentBlocks[value.index];\n                  let delta = value.delta.partial_json;\n                  if (delta.length === 0) {\n                    return;\n                  }\n                  if (isJsonResponseFromTool) {\n                    if ((contentBlock == null ? void 0 : contentBlock.type) !== \"text\") {\n                      return;\n                    }\n                    controller.enqueue({\n                      type: \"text-delta\",\n                      id: String(value.index),\n                      delta\n                    });\n                  } else {\n                    if ((contentBlock == null ? void 0 : contentBlock.type) !== \"tool-call\") {\n                      return;\n                    }\n                    if (contentBlock.firstDelta && (contentBlock.providerToolName === \"bash_code_execution\" || contentBlock.providerToolName === \"text_editor_code_execution\")) {\n                      delta = `{\"type\": \"${contentBlock.providerToolName}\",${delta.substring(1)}`;\n                    }\n                    controller.enqueue({\n                      type: \"tool-input-delta\",\n                      id: contentBlock.toolCallId,\n                      delta\n                    });\n                    contentBlock.input += delta;\n                    contentBlock.firstDelta = false;\n                  }\n                  return;\n                }\n                case \"citations_delta\": {\n                  const citation = value.delta.citation;\n                  const source = createCitationSource(\n                    citation,\n                    citationDocuments,\n                    generateId3\n                  );\n                  if (source) {\n                    controller.enqueue(source);\n                  }\n                  return;\n                }\n                default: {\n                  const _exhaustiveCheck = deltaType;\n                  throw new Error(\n                    `Unsupported delta type: ${_exhaustiveCheck}`\n                  );\n                }\n              }\n            }\n            case \"message_start\": {\n              usage.input_tokens = value.message.usage.input_tokens;\n              usage.cache_read_input_tokens = (_d = value.message.usage.cache_read_input_tokens) != null ? _d : 0;\n              usage.cache_creation_input_tokens = (_e = value.message.usage.cache_creation_input_tokens) != null ? _e : 0;\n              rawUsage = {\n                ...value.message.usage\n              };\n              cacheCreationInputTokens = (_f = value.message.usage.cache_creation_input_tokens) != null ? _f : null;\n              if (value.message.container != null) {\n                container = {\n                  expiresAt: value.message.container.expires_at,\n                  id: value.message.container.id,\n                  skills: null\n                };\n              }\n              if (value.message.stop_reason != null) {\n                finishReason = {\n                  unified: mapAnthropicStopReason({\n                    finishReason: value.message.stop_reason,\n                    isJsonResponseFromTool\n                  }),\n                  raw: value.message.stop_reason\n                };\n              }\n              controller.enqueue({\n                type: \"response-metadata\",\n                id: (_g = value.message.id) != null ? _g : void 0,\n                modelId: (_h = value.message.model) != null ? _h : void 0\n              });\n              if (value.message.content != null) {\n                for (let contentIndex = 0; contentIndex < value.message.content.length; contentIndex++) {\n                  const part = value.message.content[contentIndex];\n                  if (part.type === \"tool_use\") {\n                    const caller = part.caller;\n                    const callerInfo = caller ? {\n                      type: caller.type,\n                      toolId: \"tool_id\" in caller ? caller.tool_id : void 0\n                    } : void 0;\n                    controller.enqueue({\n                      type: \"tool-input-start\",\n                      id: part.id,\n                      toolName: part.name\n                    });\n                    const inputStr = JSON.stringify((_i = part.input) != null ? _i : {});\n                    controller.enqueue({\n                      type: \"tool-input-delta\",\n                      id: part.id,\n                      delta: inputStr\n                    });\n                    controller.enqueue({\n                      type: \"tool-input-end\",\n                      id: part.id\n                    });\n                    controller.enqueue({\n                      type: \"tool-call\",\n                      toolCallId: part.id,\n                      toolName: part.name,\n                      input: inputStr,\n                      ...callerInfo && {\n                        providerMetadata: {\n                          anthropic: {\n                            caller: callerInfo\n                          }\n                        }\n                      }\n                    });\n                  }\n                }\n              }\n              return;\n            }\n            case \"message_delta\": {\n              if (value.usage.input_tokens != null && usage.input_tokens !== value.usage.input_tokens) {\n                usage.input_tokens = value.usage.input_tokens;\n              }\n              usage.output_tokens = value.usage.output_tokens;\n              finishReason = {\n                unified: mapAnthropicStopReason({\n                  finishReason: value.delta.stop_reason,\n                  isJsonResponseFromTool\n                }),\n                raw: (_j = value.delta.stop_reason) != null ? _j : void 0\n              };\n              stopSequence = (_k = value.delta.stop_sequence) != null ? _k : null;\n              container = value.delta.container != null ? {\n                expiresAt: value.delta.container.expires_at,\n                id: value.delta.container.id,\n                skills: (_m = (_l = value.delta.container.skills) == null ? void 0 : _l.map((skill) => ({\n                  type: skill.type,\n                  skillId: skill.skill_id,\n                  version: skill.version\n                }))) != null ? _m : null\n              } : null;\n              if (value.delta.context_management) {\n                contextManagement = mapAnthropicResponseContextManagement(\n                  value.delta.context_management\n                );\n              }\n              rawUsage = {\n                ...rawUsage,\n                ...value.usage\n              };\n              return;\n            }\n            case \"message_stop\": {\n              controller.enqueue({\n                type: \"finish\",\n                finishReason,\n                usage: convertAnthropicMessagesUsage(usage),\n                providerMetadata: {\n                  anthropic: {\n                    usage: rawUsage != null ? rawUsage : null,\n                    cacheCreationInputTokens,\n                    stopSequence,\n                    container,\n                    contextManagement\n                  }\n                }\n              });\n              return;\n            }\n            case \"error\": {\n              controller.enqueue({ type: \"error\", error: value.error });\n              return;\n            }\n            default: {\n              const _exhaustiveCheck = value;\n              throw new Error(`Unsupported chunk type: ${_exhaustiveCheck}`);\n            }\n          }\n        }\n      })\n    );\n    const [streamForFirstChunk, streamForConsumer] = transformedStream.tee();\n    const firstChunkReader = streamForFirstChunk.getReader();\n    try {\n      await firstChunkReader.read();\n      let result = await firstChunkReader.read();\n      if (((_a = result.value) == null ? void 0 : _a.type) === \"raw\") {\n        result = await firstChunkReader.read();\n      }\n      if (((_b = result.value) == null ? void 0 : _b.type) === \"error\") {\n        const error = result.value.error;\n        throw new APICallError({\n          message: error.message,\n          url,\n          requestBodyValues: body,\n          statusCode: error.type === \"overloaded_error\" ? 529 : 500,\n          responseHeaders,\n          responseBody: JSON.stringify(error),\n          isRetryable: error.type === \"overloaded_error\"\n        });\n      }\n    } finally {\n      firstChunkReader.cancel().catch(() => {\n      });\n      firstChunkReader.releaseLock();\n    }\n    return {\n      stream: streamForConsumer,\n      request: { body },\n      response: { headers: responseHeaders }\n    };\n  }\n};\nfunction getModelCapabilities(modelId) {\n  if (modelId.includes(\"claude-sonnet-4-5\") || modelId.includes(\"claude-opus-4-5\") || modelId.includes(\"claude-haiku-4-5\")) {\n    return {\n      maxOutputTokens: 64e3,\n      supportsStructuredOutput: true,\n      isKnownModel: true\n    };\n  } else if (modelId.includes(\"claude-opus-4-1\")) {\n    return {\n      maxOutputTokens: 32e3,\n      supportsStructuredOutput: true,\n      isKnownModel: true\n    };\n  } else if (modelId.includes(\"claude-sonnet-4-\") || modelId.includes(\"claude-3-7-sonnet\")) {\n    return {\n      maxOutputTokens: 64e3,\n      supportsStructuredOutput: false,\n      isKnownModel: true\n    };\n  } else if (modelId.includes(\"claude-opus-4-\")) {\n    return {\n      maxOutputTokens: 32e3,\n      supportsStructuredOutput: false,\n      isKnownModel: true\n    };\n  } else if (modelId.includes(\"claude-3-5-haiku\")) {\n    return {\n      maxOutputTokens: 8192,\n      supportsStructuredOutput: false,\n      isKnownModel: true\n    };\n  } else if (modelId.includes(\"claude-3-haiku\")) {\n    return {\n      maxOutputTokens: 4096,\n      supportsStructuredOutput: false,\n      isKnownModel: true\n    };\n  } else {\n    return {\n      maxOutputTokens: 4096,\n      supportsStructuredOutput: false,\n      isKnownModel: false\n    };\n  }\n}\nfunction mapAnthropicResponseContextManagement(contextManagement) {\n  return contextManagement ? {\n    appliedEdits: contextManagement.applied_edits.map((edit) => {\n      const strategy = edit.type;\n      switch (strategy) {\n        case \"clear_tool_uses_20250919\":\n          return {\n            type: edit.type,\n            clearedToolUses: edit.cleared_tool_uses,\n            clearedInputTokens: edit.cleared_input_tokens\n          };\n        case \"clear_thinking_20251015\":\n          return {\n            type: edit.type,\n            clearedThinkingTurns: edit.cleared_thinking_turns,\n            clearedInputTokens: edit.cleared_input_tokens\n          };\n      }\n    }).filter((edit) => edit !== void 0)\n  } : null;\n}\n\n// src/tool/bash_20241022.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory2,\n  lazySchema as lazySchema9,\n  zodSchema as zodSchema9\n} from \"@ai-sdk/provider-utils\";\nimport { z as z10 } from \"zod/v4\";\nvar bash_20241022InputSchema = lazySchema9(\n  () => zodSchema9(\n    z10.object({\n      command: z10.string(),\n      restart: z10.boolean().optional()\n    })\n  )\n);\nvar bash_20241022 = createProviderToolFactory2({\n  id: \"anthropic.bash_20241022\",\n  inputSchema: bash_20241022InputSchema\n});\n\n// src/tool/bash_20250124.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory3,\n  lazySchema as lazySchema10,\n  zodSchema as zodSchema10\n} from \"@ai-sdk/provider-utils\";\nimport { z as z11 } from \"zod/v4\";\nvar bash_20250124InputSchema = lazySchema10(\n  () => zodSchema10(\n    z11.object({\n      command: z11.string(),\n      restart: z11.boolean().optional()\n    })\n  )\n);\nvar bash_20250124 = createProviderToolFactory3({\n  id: \"anthropic.bash_20250124\",\n  inputSchema: bash_20250124InputSchema\n});\n\n// src/tool/computer_20241022.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory4,\n  lazySchema as lazySchema11,\n  zodSchema as zodSchema11\n} from \"@ai-sdk/provider-utils\";\nimport { z as z12 } from \"zod/v4\";\nvar computer_20241022InputSchema = lazySchema11(\n  () => zodSchema11(\n    z12.object({\n      action: z12.enum([\n        \"key\",\n        \"type\",\n        \"mouse_move\",\n        \"left_click\",\n        \"left_click_drag\",\n        \"right_click\",\n        \"middle_click\",\n        \"double_click\",\n        \"screenshot\",\n        \"cursor_position\"\n      ]),\n      coordinate: z12.array(z12.number().int()).optional(),\n      text: z12.string().optional()\n    })\n  )\n);\nvar computer_20241022 = createProviderToolFactory4({\n  id: \"anthropic.computer_20241022\",\n  inputSchema: computer_20241022InputSchema\n});\n\n// src/tool/computer_20250124.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory5,\n  lazySchema as lazySchema12,\n  zodSchema as zodSchema12\n} from \"@ai-sdk/provider-utils\";\nimport { z as z13 } from \"zod/v4\";\nvar computer_20250124InputSchema = lazySchema12(\n  () => zodSchema12(\n    z13.object({\n      action: z13.enum([\n        \"key\",\n        \"hold_key\",\n        \"type\",\n        \"cursor_position\",\n        \"mouse_move\",\n        \"left_mouse_down\",\n        \"left_mouse_up\",\n        \"left_click\",\n        \"left_click_drag\",\n        \"right_click\",\n        \"middle_click\",\n        \"double_click\",\n        \"triple_click\",\n        \"scroll\",\n        \"wait\",\n        \"screenshot\"\n      ]),\n      coordinate: z13.tuple([z13.number().int(), z13.number().int()]).optional(),\n      duration: z13.number().optional(),\n      scroll_amount: z13.number().optional(),\n      scroll_direction: z13.enum([\"up\", \"down\", \"left\", \"right\"]).optional(),\n      start_coordinate: z13.tuple([z13.number().int(), z13.number().int()]).optional(),\n      text: z13.string().optional()\n    })\n  )\n);\nvar computer_20250124 = createProviderToolFactory5({\n  id: \"anthropic.computer_20250124\",\n  inputSchema: computer_20250124InputSchema\n});\n\n// src/tool/memory_20250818.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory6,\n  lazySchema as lazySchema13,\n  zodSchema as zodSchema13\n} from \"@ai-sdk/provider-utils\";\nimport { z as z14 } from \"zod/v4\";\nvar memory_20250818InputSchema = lazySchema13(\n  () => zodSchema13(\n    z14.discriminatedUnion(\"command\", [\n      z14.object({\n        command: z14.literal(\"view\"),\n        path: z14.string(),\n        view_range: z14.tuple([z14.number(), z14.number()]).optional()\n      }),\n      z14.object({\n        command: z14.literal(\"create\"),\n        path: z14.string(),\n        file_text: z14.string()\n      }),\n      z14.object({\n        command: z14.literal(\"str_replace\"),\n        path: z14.string(),\n        old_str: z14.string(),\n        new_str: z14.string()\n      }),\n      z14.object({\n        command: z14.literal(\"insert\"),\n        path: z14.string(),\n        insert_line: z14.number(),\n        insert_text: z14.string()\n      }),\n      z14.object({\n        command: z14.literal(\"delete\"),\n        path: z14.string()\n      }),\n      z14.object({\n        command: z14.literal(\"rename\"),\n        old_path: z14.string(),\n        new_path: z14.string()\n      })\n    ])\n  )\n);\nvar memory_20250818 = createProviderToolFactory6({\n  id: \"anthropic.memory_20250818\",\n  inputSchema: memory_20250818InputSchema\n});\n\n// src/tool/text-editor_20241022.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory7,\n  lazySchema as lazySchema14,\n  zodSchema as zodSchema14\n} from \"@ai-sdk/provider-utils\";\nimport { z as z15 } from \"zod/v4\";\nvar textEditor_20241022InputSchema = lazySchema14(\n  () => zodSchema14(\n    z15.object({\n      command: z15.enum([\"view\", \"create\", \"str_replace\", \"insert\", \"undo_edit\"]),\n      path: z15.string(),\n      file_text: z15.string().optional(),\n      insert_line: z15.number().int().optional(),\n      new_str: z15.string().optional(),\n      old_str: z15.string().optional(),\n      view_range: z15.array(z15.number().int()).optional()\n    })\n  )\n);\nvar textEditor_20241022 = createProviderToolFactory7({\n  id: \"anthropic.text_editor_20241022\",\n  inputSchema: textEditor_20241022InputSchema\n});\n\n// src/tool/text-editor_20250124.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory8,\n  lazySchema as lazySchema15,\n  zodSchema as zodSchema15\n} from \"@ai-sdk/provider-utils\";\nimport { z as z16 } from \"zod/v4\";\nvar textEditor_20250124InputSchema = lazySchema15(\n  () => zodSchema15(\n    z16.object({\n      command: z16.enum([\"view\", \"create\", \"str_replace\", \"insert\", \"undo_edit\"]),\n      path: z16.string(),\n      file_text: z16.string().optional(),\n      insert_line: z16.number().int().optional(),\n      new_str: z16.string().optional(),\n      old_str: z16.string().optional(),\n      view_range: z16.array(z16.number().int()).optional()\n    })\n  )\n);\nvar textEditor_20250124 = createProviderToolFactory8({\n  id: \"anthropic.text_editor_20250124\",\n  inputSchema: textEditor_20250124InputSchema\n});\n\n// src/tool/text-editor_20250429.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory9,\n  lazySchema as lazySchema16,\n  zodSchema as zodSchema16\n} from \"@ai-sdk/provider-utils\";\nimport { z as z17 } from \"zod/v4\";\nvar textEditor_20250429InputSchema = lazySchema16(\n  () => zodSchema16(\n    z17.object({\n      command: z17.enum([\"view\", \"create\", \"str_replace\", \"insert\"]),\n      path: z17.string(),\n      file_text: z17.string().optional(),\n      insert_line: z17.number().int().optional(),\n      new_str: z17.string().optional(),\n      old_str: z17.string().optional(),\n      view_range: z17.array(z17.number().int()).optional()\n    })\n  )\n);\nvar textEditor_20250429 = createProviderToolFactory9({\n  id: \"anthropic.text_editor_20250429\",\n  inputSchema: textEditor_20250429InputSchema\n});\n\n// src/tool/tool-search-bm25_20251119.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema6,\n  lazySchema as lazySchema17,\n  zodSchema as zodSchema17\n} from \"@ai-sdk/provider-utils\";\nimport { z as z18 } from \"zod/v4\";\nvar toolSearchBm25_20251119OutputSchema = lazySchema17(\n  () => zodSchema17(\n    z18.array(\n      z18.object({\n        type: z18.literal(\"tool_reference\"),\n        toolName: z18.string()\n      })\n    )\n  )\n);\nvar toolSearchBm25_20251119InputSchema = lazySchema17(\n  () => zodSchema17(\n    z18.object({\n      /**\n       * A natural language query to search for tools.\n       * Claude will use BM25 text search to find relevant tools.\n       */\n      query: z18.string(),\n      /**\n       * Maximum number of tools to return. Optional.\n       */\n      limit: z18.number().optional()\n    })\n  )\n);\nvar factory7 = createProviderToolFactoryWithOutputSchema6({\n  id: \"anthropic.tool_search_bm25_20251119\",\n  inputSchema: toolSearchBm25_20251119InputSchema,\n  outputSchema: toolSearchBm25_20251119OutputSchema\n});\nvar toolSearchBm25_20251119 = (args = {}) => {\n  return factory7(args);\n};\n\n// src/anthropic-tools.ts\nvar anthropicTools = {\n  /**\n   * The bash tool enables Claude to execute shell commands in a persistent bash session,\n   * allowing system operations, script execution, and command-line automation.\n   *\n   * Image results are supported.\n   */\n  bash_20241022,\n  /**\n   * The bash tool enables Claude to execute shell commands in a persistent bash session,\n   * allowing system operations, script execution, and command-line automation.\n   *\n   * Image results are supported.\n   */\n  bash_20250124,\n  /**\n   * Claude can analyze data, create visualizations, perform complex calculations,\n   * run system commands, create and edit files, and process uploaded files directly within\n   * the API conversation.\n   *\n   * The code execution tool allows Claude to run Bash commands and manipulate files,\n   * including writing code, in a secure, sandboxed environment.\n   */\n  codeExecution_20250522,\n  /**\n   * Claude can analyze data, create visualizations, perform complex calculations,\n   * run system commands, create and edit files, and process uploaded files directly within\n   * the API conversation.\n   *\n   * The code execution tool allows Claude to run both Python and Bash commands and manipulate files,\n   * including writing code, in a secure, sandboxed environment.\n   *\n   * This is the latest version with enhanced Bash support and file operations.\n   */\n  codeExecution_20250825,\n  /**\n   * Claude can interact with computer environments through the computer use tool, which\n   * provides screenshot capabilities and mouse/keyboard control for autonomous desktop interaction.\n   *\n   * Image results are supported.\n   *\n   * @param displayWidthPx - The width of the display being controlled by the model in pixels.\n   * @param displayHeightPx - The height of the display being controlled by the model in pixels.\n   * @param displayNumber - The display number to control (only relevant for X11 environments). If specified, the tool will be provided a display number in the tool definition.\n   */\n  computer_20241022,\n  /**\n   * Claude can interact with computer environments through the computer use tool, which\n   * provides screenshot capabilities and mouse/keyboard control for autonomous desktop interaction.\n   *\n   * Image results are supported.\n   *\n   * @param displayWidthPx - The width of the display being controlled by the model in pixels.\n   * @param displayHeightPx - The height of the display being controlled by the model in pixels.\n   * @param displayNumber - The display number to control (only relevant for X11 environments). If specified, the tool will be provided a display number in the tool definition.\n   */\n  computer_20250124,\n  /**\n   * The memory tool enables Claude to store and retrieve information across conversations through a memory file directory.\n   * Claude can create, read, update, and delete files that persist between sessions,\n   * allowing it to build knowledge over time without keeping everything in the context window.\n   * The memory tool operates client-side‚Äîyou control where and how the data is stored through your own infrastructure.\n   *\n   * Supported models: Claude Sonnet 4.5, Claude Sonnet 4, Claude Opus 4.1, Claude Opus 4.\n   */\n  memory_20250818,\n  /**\n   * Claude can use an Anthropic-defined text editor tool to view and modify text files,\n   * helping you debug, fix, and improve your code or other text documents. This allows Claude\n   * to directly interact with your files, providing hands-on assistance rather than just suggesting changes.\n   *\n   * Supported models: Claude Sonnet 3.5\n   */\n  textEditor_20241022,\n  /**\n   * Claude can use an Anthropic-defined text editor tool to view and modify text files,\n   * helping you debug, fix, and improve your code or other text documents. This allows Claude\n   * to directly interact with your files, providing hands-on assistance rather than just suggesting changes.\n   *\n   * Supported models: Claude Sonnet 3.7\n   */\n  textEditor_20250124,\n  /**\n   * Claude can use an Anthropic-defined text editor tool to view and modify text files,\n   * helping you debug, fix, and improve your code or other text documents. This allows Claude\n   * to directly interact with your files, providing hands-on assistance rather than just suggesting changes.\n   *\n   * Note: This version does not support the \"undo_edit\" command.\n   *\n   * @deprecated Use textEditor_20250728 instead\n   */\n  textEditor_20250429,\n  /**\n   * Claude can use an Anthropic-defined text editor tool to view and modify text files,\n   * helping you debug, fix, and improve your code or other text documents. This allows Claude\n   * to directly interact with your files, providing hands-on assistance rather than just suggesting changes.\n   *\n   * Note: This version does not support the \"undo_edit\" command and adds optional max_characters parameter.\n   *\n   * Supported models: Claude Sonnet 4, Opus 4, and Opus 4.1\n   *\n   * @param maxCharacters - Optional maximum number of characters to view in the file\n   */\n  textEditor_20250728,\n  /**\n   * Creates a web fetch tool that gives Claude direct access to real-time web content.\n   *\n   * @param maxUses - The max_uses parameter limits the number of web fetches performed\n   * @param allowedDomains - Only fetch from these domains\n   * @param blockedDomains - Never fetch from these domains\n   * @param citations - Unlike web search where citations are always enabled, citations are optional for web fetch. Set \"citations\": {\"enabled\": true} to enable Claude to cite specific passages from fetched documents.\n   * @param maxContentTokens - The max_content_tokens parameter limits the amount of content that will be included in the context.\n   */\n  webFetch_20250910,\n  /**\n   * Creates a web search tool that gives Claude direct access to real-time web content.\n   *\n   * @param maxUses - Maximum number of web searches Claude can perform during the conversation.\n   * @param allowedDomains - Optional list of domains that Claude is allowed to search.\n   * @param blockedDomains - Optional list of domains that Claude should avoid when searching.\n   * @param userLocation - Optional user location information to provide geographically relevant search results.\n   */\n  webSearch_20250305,\n  /**\n   * Creates a tool search tool that uses regex patterns to find tools.\n   *\n   * The tool search tool enables Claude to work with hundreds or thousands of tools\n   * by dynamically discovering and loading them on-demand. Instead of loading all\n   * tool definitions into the context window upfront, Claude searches your tool\n   * catalog and loads only the tools it needs.\n   *\n   * Use `providerOptions: { anthropic: { deferLoading: true } }` on other tools\n   * to mark them for deferred loading.\n   *\n   * Supported models: Claude Opus 4.5, Claude Sonnet 4.5\n   */\n  toolSearchRegex_20251119,\n  /**\n   * Creates a tool search tool that uses BM25 (natural language) to find tools.\n   *\n   * The tool search tool enables Claude to work with hundreds or thousands of tools\n   * by dynamically discovering and loading them on-demand. Instead of loading all\n   * tool definitions into the context window upfront, Claude searches your tool\n   * catalog and loads only the tools it needs.\n   *\n   * Use `providerOptions: { anthropic: { deferLoading: true } }` on other tools\n   * to mark them for deferred loading.\n   *\n   * Supported models: Claude Opus 4.5, Claude Sonnet 4.5\n   */\n  toolSearchBm25_20251119\n};\n\n// src/anthropic-provider.ts\nfunction createAnthropic(options = {}) {\n  var _a, _b;\n  const baseURL = (_a = withoutTrailingSlash(\n    loadOptionalSetting({\n      settingValue: options.baseURL,\n      environmentVariableName: \"ANTHROPIC_BASE_URL\"\n    })\n  )) != null ? _a : \"https://api.anthropic.com/v1\";\n  const providerName = (_b = options.name) != null ? _b : \"anthropic.messages\";\n  const getHeaders = () => withUserAgentSuffix(\n    {\n      \"anthropic-version\": \"2023-06-01\",\n      \"x-api-key\": loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"ANTHROPIC_API_KEY\",\n        description: \"Anthropic\"\n      }),\n      ...options.headers\n    },\n    `ai-sdk/anthropic/${VERSION}`\n  );\n  const createChatModel = (modelId) => {\n    var _a2;\n    return new AnthropicMessagesLanguageModel(modelId, {\n      provider: providerName,\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      generateId: (_a2 = options.generateId) != null ? _a2 : generateId2,\n      supportedUrls: () => ({\n        \"image/*\": [/^https?:\\/\\/.*$/],\n        \"application/pdf\": [/^https?:\\/\\/.*$/]\n      })\n    });\n  };\n  const provider = function(modelId) {\n    if (new.target) {\n      throw new Error(\n        \"The Anthropic model function cannot be called with the new keyword.\"\n      );\n    }\n    return createChatModel(modelId);\n  };\n  provider.specificationVersion = \"v3\";\n  provider.languageModel = createChatModel;\n  provider.chat = createChatModel;\n  provider.messages = createChatModel;\n  provider.embeddingModel = (modelId) => {\n    throw new NoSuchModelError({ modelId, modelType: \"embeddingModel\" });\n  };\n  provider.textEmbeddingModel = provider.embeddingModel;\n  provider.imageModel = (modelId) => {\n    throw new NoSuchModelError({ modelId, modelType: \"imageModel\" });\n  };\n  provider.tools = anthropicTools;\n  return provider;\n}\nvar anthropic = createAnthropic();\n\n// src/forward-anthropic-container-id-from-last-step.ts\nfunction forwardAnthropicContainerIdFromLastStep({\n  steps\n}) {\n  var _a, _b, _c;\n  for (let i = steps.length - 1; i >= 0; i--) {\n    const containerId = (_c = (_b = (_a = steps[i].providerMetadata) == null ? void 0 : _a.anthropic) == null ? void 0 : _b.container) == null ? void 0 : _c.id;\n    if (containerId) {\n      return {\n        providerOptions: {\n          anthropic: {\n            container: { id: containerId }\n          }\n        }\n      };\n    }\n  }\n  return void 0;\n}\nexport {\n  VERSION,\n  anthropic,\n  createAnthropic,\n  forwardAnthropicContainerIdFromLastStep\n};\n//# sourceMappingURL=index.mjs.map","// src/google-provider.ts\nimport {\n  generateId as generateId2,\n  loadApiKey,\n  withoutTrailingSlash,\n  withUserAgentSuffix\n} from \"@ai-sdk/provider-utils\";\n\n// src/version.ts\nvar VERSION = true ? \"3.0.8\" : \"0.0.0-test\";\n\n// src/google-generative-ai-embedding-model.ts\nimport {\n  TooManyEmbeddingValuesForCallError\n} from \"@ai-sdk/provider\";\nimport {\n  combineHeaders,\n  createJsonResponseHandler,\n  lazySchema as lazySchema3,\n  parseProviderOptions,\n  postJsonToApi,\n  resolve,\n  zodSchema as zodSchema3\n} from \"@ai-sdk/provider-utils\";\nimport { z as z3 } from \"zod/v4\";\n\n// src/google-error.ts\nimport {\n  createJsonErrorResponseHandler,\n  lazySchema,\n  zodSchema\n} from \"@ai-sdk/provider-utils\";\nimport { z } from \"zod/v4\";\nvar googleErrorDataSchema = lazySchema(\n  () => zodSchema(\n    z.object({\n      error: z.object({\n        code: z.number().nullable(),\n        message: z.string(),\n        status: z.string()\n      })\n    })\n  )\n);\nvar googleFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: googleErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\n\n// src/google-generative-ai-embedding-options.ts\nimport {\n  lazySchema as lazySchema2,\n  zodSchema as zodSchema2\n} from \"@ai-sdk/provider-utils\";\nimport { z as z2 } from \"zod/v4\";\nvar googleGenerativeAIEmbeddingProviderOptions = lazySchema2(\n  () => zodSchema2(\n    z2.object({\n      /**\n       * Optional. Optional reduced dimension for the output embedding.\n       * If set, excessive values in the output embedding are truncated from the end.\n       */\n      outputDimensionality: z2.number().optional(),\n      /**\n       * Optional. Specifies the task type for generating embeddings.\n       * Supported task types:\n       * - SEMANTIC_SIMILARITY: Optimized for text similarity.\n       * - CLASSIFICATION: Optimized for text classification.\n       * - CLUSTERING: Optimized for clustering texts based on similarity.\n       * - RETRIEVAL_DOCUMENT: Optimized for document retrieval.\n       * - RETRIEVAL_QUERY: Optimized for query-based retrieval.\n       * - QUESTION_ANSWERING: Optimized for answering questions.\n       * - FACT_VERIFICATION: Optimized for verifying factual information.\n       * - CODE_RETRIEVAL_QUERY: Optimized for retrieving code blocks based on natural language queries.\n       */\n      taskType: z2.enum([\n        \"SEMANTIC_SIMILARITY\",\n        \"CLASSIFICATION\",\n        \"CLUSTERING\",\n        \"RETRIEVAL_DOCUMENT\",\n        \"RETRIEVAL_QUERY\",\n        \"QUESTION_ANSWERING\",\n        \"FACT_VERIFICATION\",\n        \"CODE_RETRIEVAL_QUERY\"\n      ]).optional()\n    })\n  )\n);\n\n// src/google-generative-ai-embedding-model.ts\nvar GoogleGenerativeAIEmbeddingModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v3\";\n    this.maxEmbeddingsPerCall = 2048;\n    this.supportsParallelCalls = true;\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async doEmbed({\n    values,\n    headers,\n    abortSignal,\n    providerOptions\n  }) {\n    const googleOptions = await parseProviderOptions({\n      provider: \"google\",\n      providerOptions,\n      schema: googleGenerativeAIEmbeddingProviderOptions\n    });\n    if (values.length > this.maxEmbeddingsPerCall) {\n      throw new TooManyEmbeddingValuesForCallError({\n        provider: this.provider,\n        modelId: this.modelId,\n        maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n        values\n      });\n    }\n    const mergedHeaders = combineHeaders(\n      await resolve(this.config.headers),\n      headers\n    );\n    if (values.length === 1) {\n      const {\n        responseHeaders: responseHeaders2,\n        value: response2,\n        rawValue: rawValue2\n      } = await postJsonToApi({\n        url: `${this.config.baseURL}/models/${this.modelId}:embedContent`,\n        headers: mergedHeaders,\n        body: {\n          model: `models/${this.modelId}`,\n          content: {\n            parts: [{ text: values[0] }]\n          },\n          outputDimensionality: googleOptions == null ? void 0 : googleOptions.outputDimensionality,\n          taskType: googleOptions == null ? void 0 : googleOptions.taskType\n        },\n        failedResponseHandler: googleFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler(\n          googleGenerativeAISingleEmbeddingResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        warnings: [],\n        embeddings: [response2.embedding.values],\n        usage: void 0,\n        response: { headers: responseHeaders2, body: rawValue2 }\n      };\n    }\n    const {\n      responseHeaders,\n      value: response,\n      rawValue\n    } = await postJsonToApi({\n      url: `${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,\n      headers: mergedHeaders,\n      body: {\n        requests: values.map((value) => ({\n          model: `models/${this.modelId}`,\n          content: { role: \"user\", parts: [{ text: value }] },\n          outputDimensionality: googleOptions == null ? void 0 : googleOptions.outputDimensionality,\n          taskType: googleOptions == null ? void 0 : googleOptions.taskType\n        }))\n      },\n      failedResponseHandler: googleFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler(\n        googleGenerativeAITextEmbeddingResponseSchema\n      ),\n      abortSignal,\n      fetch: this.config.fetch\n    });\n    return {\n      warnings: [],\n      embeddings: response.embeddings.map((item) => item.values),\n      usage: void 0,\n      response: { headers: responseHeaders, body: rawValue }\n    };\n  }\n};\nvar googleGenerativeAITextEmbeddingResponseSchema = lazySchema3(\n  () => zodSchema3(\n    z3.object({\n      embeddings: z3.array(z3.object({ values: z3.array(z3.number()) }))\n    })\n  )\n);\nvar googleGenerativeAISingleEmbeddingResponseSchema = lazySchema3(\n  () => zodSchema3(\n    z3.object({\n      embedding: z3.object({ values: z3.array(z3.number()) })\n    })\n  )\n);\n\n// src/google-generative-ai-language-model.ts\nimport {\n  combineHeaders as combineHeaders2,\n  createEventSourceResponseHandler,\n  createJsonResponseHandler as createJsonResponseHandler2,\n  generateId,\n  lazySchema as lazySchema5,\n  parseProviderOptions as parseProviderOptions2,\n  postJsonToApi as postJsonToApi2,\n  resolve as resolve2,\n  zodSchema as zodSchema5\n} from \"@ai-sdk/provider-utils\";\nimport { z as z5 } from \"zod/v4\";\n\n// src/convert-google-generative-ai-usage.ts\nfunction convertGoogleGenerativeAIUsage(usage) {\n  var _a, _b, _c, _d;\n  if (usage == null) {\n    return {\n      inputTokens: {\n        total: void 0,\n        noCache: void 0,\n        cacheRead: void 0,\n        cacheWrite: void 0\n      },\n      outputTokens: {\n        total: void 0,\n        text: void 0,\n        reasoning: void 0\n      },\n      raw: void 0\n    };\n  }\n  const promptTokens = (_a = usage.promptTokenCount) != null ? _a : 0;\n  const candidatesTokens = (_b = usage.candidatesTokenCount) != null ? _b : 0;\n  const cachedContentTokens = (_c = usage.cachedContentTokenCount) != null ? _c : 0;\n  const thoughtsTokens = (_d = usage.thoughtsTokenCount) != null ? _d : 0;\n  return {\n    inputTokens: {\n      total: promptTokens,\n      noCache: promptTokens - cachedContentTokens,\n      cacheRead: cachedContentTokens,\n      cacheWrite: void 0\n    },\n    outputTokens: {\n      total: candidatesTokens + thoughtsTokens,\n      text: candidatesTokens,\n      reasoning: thoughtsTokens\n    },\n    raw: usage\n  };\n}\n\n// src/convert-json-schema-to-openapi-schema.ts\nfunction convertJSONSchemaToOpenAPISchema(jsonSchema, isRoot = true) {\n  if (jsonSchema == null) {\n    return void 0;\n  }\n  if (isEmptyObjectSchema(jsonSchema)) {\n    if (isRoot) {\n      return void 0;\n    }\n    if (typeof jsonSchema === \"object\" && jsonSchema.description) {\n      return { type: \"object\", description: jsonSchema.description };\n    }\n    return { type: \"object\" };\n  }\n  if (typeof jsonSchema === \"boolean\") {\n    return { type: \"boolean\", properties: {} };\n  }\n  const {\n    type,\n    description,\n    required,\n    properties,\n    items,\n    allOf,\n    anyOf,\n    oneOf,\n    format,\n    const: constValue,\n    minLength,\n    enum: enumValues\n  } = jsonSchema;\n  const result = {};\n  if (description) result.description = description;\n  if (required) result.required = required;\n  if (format) result.format = format;\n  if (constValue !== void 0) {\n    result.enum = [constValue];\n  }\n  if (type) {\n    if (Array.isArray(type)) {\n      const hasNull = type.includes(\"null\");\n      const nonNullTypes = type.filter((t) => t !== \"null\");\n      if (nonNullTypes.length === 0) {\n        result.type = \"null\";\n      } else {\n        result.anyOf = nonNullTypes.map((t) => ({ type: t }));\n        if (hasNull) {\n          result.nullable = true;\n        }\n      }\n    } else {\n      result.type = type;\n    }\n  }\n  if (enumValues !== void 0) {\n    result.enum = enumValues;\n  }\n  if (properties != null) {\n    result.properties = Object.entries(properties).reduce(\n      (acc, [key, value]) => {\n        acc[key] = convertJSONSchemaToOpenAPISchema(value, false);\n        return acc;\n      },\n      {}\n    );\n  }\n  if (items) {\n    result.items = Array.isArray(items) ? items.map((item) => convertJSONSchemaToOpenAPISchema(item, false)) : convertJSONSchemaToOpenAPISchema(items, false);\n  }\n  if (allOf) {\n    result.allOf = allOf.map(\n      (item) => convertJSONSchemaToOpenAPISchema(item, false)\n    );\n  }\n  if (anyOf) {\n    if (anyOf.some(\n      (schema) => typeof schema === \"object\" && (schema == null ? void 0 : schema.type) === \"null\"\n    )) {\n      const nonNullSchemas = anyOf.filter(\n        (schema) => !(typeof schema === \"object\" && (schema == null ? void 0 : schema.type) === \"null\")\n      );\n      if (nonNullSchemas.length === 1) {\n        const converted = convertJSONSchemaToOpenAPISchema(\n          nonNullSchemas[0],\n          false\n        );\n        if (typeof converted === \"object\") {\n          result.nullable = true;\n          Object.assign(result, converted);\n        }\n      } else {\n        result.anyOf = nonNullSchemas.map(\n          (item) => convertJSONSchemaToOpenAPISchema(item, false)\n        );\n        result.nullable = true;\n      }\n    } else {\n      result.anyOf = anyOf.map(\n        (item) => convertJSONSchemaToOpenAPISchema(item, false)\n      );\n    }\n  }\n  if (oneOf) {\n    result.oneOf = oneOf.map(\n      (item) => convertJSONSchemaToOpenAPISchema(item, false)\n    );\n  }\n  if (minLength !== void 0) {\n    result.minLength = minLength;\n  }\n  return result;\n}\nfunction isEmptyObjectSchema(jsonSchema) {\n  return jsonSchema != null && typeof jsonSchema === \"object\" && jsonSchema.type === \"object\" && (jsonSchema.properties == null || Object.keys(jsonSchema.properties).length === 0) && !jsonSchema.additionalProperties;\n}\n\n// src/convert-to-google-generative-ai-messages.ts\nimport {\n  UnsupportedFunctionalityError\n} from \"@ai-sdk/provider\";\nimport { convertToBase64 } from \"@ai-sdk/provider-utils\";\nfunction convertToGoogleGenerativeAIMessages(prompt, options) {\n  var _a, _b, _c;\n  const systemInstructionParts = [];\n  const contents = [];\n  let systemMessagesAllowed = true;\n  const isGemmaModel = (_a = options == null ? void 0 : options.isGemmaModel) != null ? _a : false;\n  const providerOptionsName = (_b = options == null ? void 0 : options.providerOptionsName) != null ? _b : \"google\";\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        if (!systemMessagesAllowed) {\n          throw new UnsupportedFunctionalityError({\n            functionality: \"system messages are only supported at the beginning of the conversation\"\n          });\n        }\n        systemInstructionParts.push({ text: content });\n        break;\n      }\n      case \"user\": {\n        systemMessagesAllowed = false;\n        const parts = [];\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              parts.push({ text: part.text });\n              break;\n            }\n            case \"file\": {\n              const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n              parts.push(\n                part.data instanceof URL ? {\n                  fileData: {\n                    mimeType: mediaType,\n                    fileUri: part.data.toString()\n                  }\n                } : {\n                  inlineData: {\n                    mimeType: mediaType,\n                    data: convertToBase64(part.data)\n                  }\n                }\n              );\n              break;\n            }\n          }\n        }\n        contents.push({ role: \"user\", parts });\n        break;\n      }\n      case \"assistant\": {\n        systemMessagesAllowed = false;\n        contents.push({\n          role: \"model\",\n          parts: content.map((part) => {\n            var _a2;\n            const providerOpts = (_a2 = part.providerOptions) == null ? void 0 : _a2[providerOptionsName];\n            const thoughtSignature = (providerOpts == null ? void 0 : providerOpts.thoughtSignature) != null ? String(providerOpts.thoughtSignature) : void 0;\n            switch (part.type) {\n              case \"text\": {\n                return part.text.length === 0 ? void 0 : {\n                  text: part.text,\n                  thoughtSignature\n                };\n              }\n              case \"reasoning\": {\n                return part.text.length === 0 ? void 0 : {\n                  text: part.text,\n                  thought: true,\n                  thoughtSignature\n                };\n              }\n              case \"file\": {\n                if (part.data instanceof URL) {\n                  throw new UnsupportedFunctionalityError({\n                    functionality: \"File data URLs in assistant messages are not supported\"\n                  });\n                }\n                return {\n                  inlineData: {\n                    mimeType: part.mediaType,\n                    data: convertToBase64(part.data)\n                  },\n                  thoughtSignature\n                };\n              }\n              case \"tool-call\": {\n                return {\n                  functionCall: {\n                    name: part.toolName,\n                    args: part.input\n                  },\n                  thoughtSignature\n                };\n              }\n            }\n          }).filter((part) => part !== void 0)\n        });\n        break;\n      }\n      case \"tool\": {\n        systemMessagesAllowed = false;\n        const parts = [];\n        for (const part of content) {\n          if (part.type === \"tool-approval-response\") {\n            continue;\n          }\n          const output = part.output;\n          if (output.type === \"content\") {\n            for (const contentPart of output.value) {\n              switch (contentPart.type) {\n                case \"text\":\n                  parts.push({\n                    functionResponse: {\n                      name: part.toolName,\n                      response: {\n                        name: part.toolName,\n                        content: contentPart.text\n                      }\n                    }\n                  });\n                  break;\n                case \"image-data\":\n                  parts.push(\n                    {\n                      inlineData: {\n                        mimeType: contentPart.mediaType,\n                        data: contentPart.data\n                      }\n                    },\n                    {\n                      text: \"Tool executed successfully and returned this image as a response\"\n                    }\n                  );\n                  break;\n                default:\n                  parts.push({ text: JSON.stringify(contentPart) });\n                  break;\n              }\n            }\n          } else {\n            parts.push({\n              functionResponse: {\n                name: part.toolName,\n                response: {\n                  name: part.toolName,\n                  content: output.type === \"execution-denied\" ? (_c = output.reason) != null ? _c : \"Tool execution denied.\" : output.value\n                }\n              }\n            });\n          }\n        }\n        contents.push({\n          role: \"user\",\n          parts\n        });\n        break;\n      }\n    }\n  }\n  if (isGemmaModel && systemInstructionParts.length > 0 && contents.length > 0 && contents[0].role === \"user\") {\n    const systemText = systemInstructionParts.map((part) => part.text).join(\"\\n\\n\");\n    contents[0].parts.unshift({ text: systemText + \"\\n\\n\" });\n  }\n  return {\n    systemInstruction: systemInstructionParts.length > 0 && !isGemmaModel ? { parts: systemInstructionParts } : void 0,\n    contents\n  };\n}\n\n// src/get-model-path.ts\nfunction getModelPath(modelId) {\n  return modelId.includes(\"/\") ? modelId : `models/${modelId}`;\n}\n\n// src/google-generative-ai-options.ts\nimport { lazySchema as lazySchema4, zodSchema as zodSchema4 } from \"@ai-sdk/provider-utils\";\nimport { z as z4 } from \"zod/v4\";\nvar googleGenerativeAIProviderOptions = lazySchema4(\n  () => zodSchema4(\n    z4.object({\n      responseModalities: z4.array(z4.enum([\"TEXT\", \"IMAGE\"])).optional(),\n      thinkingConfig: z4.object({\n        thinkingBudget: z4.number().optional(),\n        includeThoughts: z4.boolean().optional(),\n        // https://ai.google.dev/gemini-api/docs/gemini-3?thinking=high#thinking_level\n        thinkingLevel: z4.enum([\"minimal\", \"low\", \"medium\", \"high\"]).optional()\n      }).optional(),\n      /**\n       * Optional.\n       * The name of the cached content used as context to serve the prediction.\n       * Format: cachedContents/{cachedContent}\n       */\n      cachedContent: z4.string().optional(),\n      /**\n       * Optional. Enable structured output. Default is true.\n       *\n       * This is useful when the JSON Schema contains elements that are\n       * not supported by the OpenAPI schema version that\n       * Google Generative AI uses. You can use this to disable\n       * structured outputs if you need to.\n       */\n      structuredOutputs: z4.boolean().optional(),\n      /**\n       * Optional. A list of unique safety settings for blocking unsafe content.\n       */\n      safetySettings: z4.array(\n        z4.object({\n          category: z4.enum([\n            \"HARM_CATEGORY_UNSPECIFIED\",\n            \"HARM_CATEGORY_HATE_SPEECH\",\n            \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n            \"HARM_CATEGORY_HARASSMENT\",\n            \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n            \"HARM_CATEGORY_CIVIC_INTEGRITY\"\n          ]),\n          threshold: z4.enum([\n            \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\",\n            \"BLOCK_LOW_AND_ABOVE\",\n            \"BLOCK_MEDIUM_AND_ABOVE\",\n            \"BLOCK_ONLY_HIGH\",\n            \"BLOCK_NONE\",\n            \"OFF\"\n          ])\n        })\n      ).optional(),\n      threshold: z4.enum([\n        \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\",\n        \"BLOCK_LOW_AND_ABOVE\",\n        \"BLOCK_MEDIUM_AND_ABOVE\",\n        \"BLOCK_ONLY_HIGH\",\n        \"BLOCK_NONE\",\n        \"OFF\"\n      ]).optional(),\n      /**\n       * Optional. Enables timestamp understanding for audio-only files.\n       *\n       * https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/audio-understanding\n       */\n      audioTimestamp: z4.boolean().optional(),\n      /**\n       * Optional. Defines labels used in billing reports. Available on Vertex AI only.\n       *\n       * https://cloud.google.com/vertex-ai/generative-ai/docs/multimodal/add-labels-to-api-calls\n       */\n      labels: z4.record(z4.string(), z4.string()).optional(),\n      /**\n       * Optional. If specified, the media resolution specified will be used.\n       *\n       * https://ai.google.dev/api/generate-content#MediaResolution\n       */\n      mediaResolution: z4.enum([\n        \"MEDIA_RESOLUTION_UNSPECIFIED\",\n        \"MEDIA_RESOLUTION_LOW\",\n        \"MEDIA_RESOLUTION_MEDIUM\",\n        \"MEDIA_RESOLUTION_HIGH\"\n      ]).optional(),\n      /**\n       * Optional. Configures the image generation aspect ratio for Gemini models.\n       *\n       * https://ai.google.dev/gemini-api/docs/image-generation#aspect_ratios\n       */\n      imageConfig: z4.object({\n        aspectRatio: z4.enum([\n          \"1:1\",\n          \"2:3\",\n          \"3:2\",\n          \"3:4\",\n          \"4:3\",\n          \"4:5\",\n          \"5:4\",\n          \"9:16\",\n          \"16:9\",\n          \"21:9\"\n        ]).optional(),\n        imageSize: z4.enum([\"1K\", \"2K\", \"4K\"]).optional()\n      }).optional(),\n      /**\n       * Optional. Configuration for grounding retrieval.\n       * Used to provide location context for Google Maps and Google Search grounding.\n       *\n       * https://cloud.google.com/vertex-ai/generative-ai/docs/grounding/grounding-with-google-maps\n       */\n      retrievalConfig: z4.object({\n        latLng: z4.object({\n          latitude: z4.number(),\n          longitude: z4.number()\n        }).optional()\n      }).optional()\n    })\n  )\n);\n\n// src/google-prepare-tools.ts\nimport {\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError2\n} from \"@ai-sdk/provider\";\nfunction prepareTools({\n  tools,\n  toolChoice,\n  modelId\n}) {\n  var _a;\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  const isLatest = [\n    \"gemini-flash-latest\",\n    \"gemini-flash-lite-latest\",\n    \"gemini-pro-latest\"\n  ].some((id) => id === modelId);\n  const isGemini2orNewer = modelId.includes(\"gemini-2\") || modelId.includes(\"gemini-3\") || isLatest;\n  const supportsDynamicRetrieval = modelId.includes(\"gemini-1.5-flash\") && !modelId.includes(\"-8b\");\n  const supportsFileSearch = modelId.includes(\"gemini-2.5\") || modelId.includes(\"gemini-3\");\n  if (tools == null) {\n    return { tools: void 0, toolConfig: void 0, toolWarnings };\n  }\n  const hasFunctionTools = tools.some((tool) => tool.type === \"function\");\n  const hasProviderTools = tools.some((tool) => tool.type === \"provider\");\n  if (hasFunctionTools && hasProviderTools) {\n    toolWarnings.push({\n      type: \"unsupported\",\n      feature: `combination of function and provider-defined tools`\n    });\n  }\n  if (hasProviderTools) {\n    const googleTools2 = [];\n    const ProviderTools = tools.filter((tool) => tool.type === \"provider\");\n    ProviderTools.forEach((tool) => {\n      switch (tool.id) {\n        case \"google.google_search\":\n          if (isGemini2orNewer) {\n            googleTools2.push({ googleSearch: {} });\n          } else if (supportsDynamicRetrieval) {\n            googleTools2.push({\n              googleSearchRetrieval: {\n                dynamicRetrievalConfig: {\n                  mode: tool.args.mode,\n                  dynamicThreshold: tool.args.dynamicThreshold\n                }\n              }\n            });\n          } else {\n            googleTools2.push({ googleSearchRetrieval: {} });\n          }\n          break;\n        case \"google.enterprise_web_search\":\n          if (isGemini2orNewer) {\n            googleTools2.push({ enterpriseWebSearch: {} });\n          } else {\n            toolWarnings.push({\n              type: \"unsupported\",\n              feature: `provider-defined tool ${tool.id}`,\n              details: \"Enterprise Web Search requires Gemini 2.0 or newer.\"\n            });\n          }\n          break;\n        case \"google.url_context\":\n          if (isGemini2orNewer) {\n            googleTools2.push({ urlContext: {} });\n          } else {\n            toolWarnings.push({\n              type: \"unsupported\",\n              feature: `provider-defined tool ${tool.id}`,\n              details: \"The URL context tool is not supported with other Gemini models than Gemini 2.\"\n            });\n          }\n          break;\n        case \"google.code_execution\":\n          if (isGemini2orNewer) {\n            googleTools2.push({ codeExecution: {} });\n          } else {\n            toolWarnings.push({\n              type: \"unsupported\",\n              feature: `provider-defined tool ${tool.id}`,\n              details: \"The code execution tools is not supported with other Gemini models than Gemini 2.\"\n            });\n          }\n          break;\n        case \"google.file_search\":\n          if (supportsFileSearch) {\n            googleTools2.push({ fileSearch: { ...tool.args } });\n          } else {\n            toolWarnings.push({\n              type: \"unsupported\",\n              feature: `provider-defined tool ${tool.id}`,\n              details: \"The file search tool is only supported with Gemini 2.5 models and Gemini 3 models.\"\n            });\n          }\n          break;\n        case \"google.vertex_rag_store\":\n          if (isGemini2orNewer) {\n            googleTools2.push({\n              retrieval: {\n                vertex_rag_store: {\n                  rag_resources: {\n                    rag_corpus: tool.args.ragCorpus\n                  },\n                  similarity_top_k: tool.args.topK\n                }\n              }\n            });\n          } else {\n            toolWarnings.push({\n              type: \"unsupported\",\n              feature: `provider-defined tool ${tool.id}`,\n              details: \"The RAG store tool is not supported with other Gemini models than Gemini 2.\"\n            });\n          }\n          break;\n        case \"google.google_maps\":\n          if (isGemini2orNewer) {\n            googleTools2.push({ googleMaps: {} });\n          } else {\n            toolWarnings.push({\n              type: \"unsupported\",\n              feature: `provider-defined tool ${tool.id}`,\n              details: \"The Google Maps grounding tool is not supported with Gemini models other than Gemini 2 or newer.\"\n            });\n          }\n          break;\n        default:\n          toolWarnings.push({\n            type: \"unsupported\",\n            feature: `provider-defined tool ${tool.id}`\n          });\n          break;\n      }\n    });\n    return {\n      tools: googleTools2.length > 0 ? googleTools2 : void 0,\n      toolConfig: void 0,\n      toolWarnings\n    };\n  }\n  const functionDeclarations = [];\n  for (const tool of tools) {\n    switch (tool.type) {\n      case \"function\":\n        functionDeclarations.push({\n          name: tool.name,\n          description: (_a = tool.description) != null ? _a : \"\",\n          parameters: convertJSONSchemaToOpenAPISchema(tool.inputSchema)\n        });\n        break;\n      default:\n        toolWarnings.push({\n          type: \"unsupported\",\n          feature: `function tool ${tool.name}`\n        });\n        break;\n    }\n  }\n  if (toolChoice == null) {\n    return {\n      tools: [{ functionDeclarations }],\n      toolConfig: void 0,\n      toolWarnings\n    };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n      return {\n        tools: [{ functionDeclarations }],\n        toolConfig: { functionCallingConfig: { mode: \"AUTO\" } },\n        toolWarnings\n      };\n    case \"none\":\n      return {\n        tools: [{ functionDeclarations }],\n        toolConfig: { functionCallingConfig: { mode: \"NONE\" } },\n        toolWarnings\n      };\n    case \"required\":\n      return {\n        tools: [{ functionDeclarations }],\n        toolConfig: { functionCallingConfig: { mode: \"ANY\" } },\n        toolWarnings\n      };\n    case \"tool\":\n      return {\n        tools: [{ functionDeclarations }],\n        toolConfig: {\n          functionCallingConfig: {\n            mode: \"ANY\",\n            allowedFunctionNames: [toolChoice.toolName]\n          }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new UnsupportedFunctionalityError2({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\n\n// src/map-google-generative-ai-finish-reason.ts\nfunction mapGoogleGenerativeAIFinishReason({\n  finishReason,\n  hasToolCalls\n}) {\n  switch (finishReason) {\n    case \"STOP\":\n      return hasToolCalls ? \"tool-calls\" : \"stop\";\n    case \"MAX_TOKENS\":\n      return \"length\";\n    case \"IMAGE_SAFETY\":\n    case \"RECITATION\":\n    case \"SAFETY\":\n    case \"BLOCKLIST\":\n    case \"PROHIBITED_CONTENT\":\n    case \"SPII\":\n      return \"content-filter\";\n    case \"MALFORMED_FUNCTION_CALL\":\n      return \"error\";\n    case \"FINISH_REASON_UNSPECIFIED\":\n    case \"OTHER\":\n    default:\n      return \"other\";\n  }\n}\n\n// src/google-generative-ai-language-model.ts\nvar GoogleGenerativeAILanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v3\";\n    var _a;\n    this.modelId = modelId;\n    this.config = config;\n    this.generateId = (_a = config.generateId) != null ? _a : generateId;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  get supportedUrls() {\n    var _a, _b, _c;\n    return (_c = (_b = (_a = this.config).supportedUrls) == null ? void 0 : _b.call(_a)) != null ? _c : {};\n  }\n  async getArgs({\n    prompt,\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    frequencyPenalty,\n    presencePenalty,\n    stopSequences,\n    responseFormat,\n    seed,\n    tools,\n    toolChoice,\n    providerOptions\n  }) {\n    var _a;\n    const warnings = [];\n    const providerOptionsName = this.config.provider.includes(\"vertex\") ? \"vertex\" : \"google\";\n    let googleOptions = await parseProviderOptions2({\n      provider: providerOptionsName,\n      providerOptions,\n      schema: googleGenerativeAIProviderOptions\n    });\n    if (googleOptions == null && providerOptionsName !== \"google\") {\n      googleOptions = await parseProviderOptions2({\n        provider: \"google\",\n        providerOptions,\n        schema: googleGenerativeAIProviderOptions\n      });\n    }\n    if ((tools == null ? void 0 : tools.some(\n      (tool) => tool.type === \"provider\" && tool.id === \"google.vertex_rag_store\"\n    )) && !this.config.provider.startsWith(\"google.vertex.\")) {\n      warnings.push({\n        type: \"other\",\n        message: `The 'vertex_rag_store' tool is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`\n      });\n    }\n    const isGemmaModel = this.modelId.toLowerCase().startsWith(\"gemma-\");\n    const { contents, systemInstruction } = convertToGoogleGenerativeAIMessages(\n      prompt,\n      { isGemmaModel, providerOptionsName }\n    );\n    const {\n      tools: googleTools2,\n      toolConfig: googleToolConfig,\n      toolWarnings\n    } = prepareTools({\n      tools,\n      toolChoice,\n      modelId: this.modelId\n    });\n    return {\n      args: {\n        generationConfig: {\n          // standardized settings:\n          maxOutputTokens,\n          temperature,\n          topK,\n          topP,\n          frequencyPenalty,\n          presencePenalty,\n          stopSequences,\n          seed,\n          // response format:\n          responseMimeType: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? \"application/json\" : void 0,\n          responseSchema: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && // Google GenAI does not support all OpenAPI Schema features,\n          // so this is needed as an escape hatch:\n          // TODO convert into provider option\n          ((_a = googleOptions == null ? void 0 : googleOptions.structuredOutputs) != null ? _a : true) ? convertJSONSchemaToOpenAPISchema(responseFormat.schema) : void 0,\n          ...(googleOptions == null ? void 0 : googleOptions.audioTimestamp) && {\n            audioTimestamp: googleOptions.audioTimestamp\n          },\n          // provider options:\n          responseModalities: googleOptions == null ? void 0 : googleOptions.responseModalities,\n          thinkingConfig: googleOptions == null ? void 0 : googleOptions.thinkingConfig,\n          ...(googleOptions == null ? void 0 : googleOptions.mediaResolution) && {\n            mediaResolution: googleOptions.mediaResolution\n          },\n          ...(googleOptions == null ? void 0 : googleOptions.imageConfig) && {\n            imageConfig: googleOptions.imageConfig\n          }\n        },\n        contents,\n        systemInstruction: isGemmaModel ? void 0 : systemInstruction,\n        safetySettings: googleOptions == null ? void 0 : googleOptions.safetySettings,\n        tools: googleTools2,\n        toolConfig: (googleOptions == null ? void 0 : googleOptions.retrievalConfig) ? {\n          ...googleToolConfig,\n          retrievalConfig: googleOptions.retrievalConfig\n        } : googleToolConfig,\n        cachedContent: googleOptions == null ? void 0 : googleOptions.cachedContent,\n        labels: googleOptions == null ? void 0 : googleOptions.labels\n      },\n      warnings: [...warnings, ...toolWarnings],\n      providerOptionsName\n    };\n  }\n  async doGenerate(options) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n    const { args, warnings, providerOptionsName } = await this.getArgs(options);\n    const mergedHeaders = combineHeaders2(\n      await resolve2(this.config.headers),\n      options.headers\n    );\n    const {\n      responseHeaders,\n      value: response,\n      rawValue: rawResponse\n    } = await postJsonToApi2({\n      url: `${this.config.baseURL}/${getModelPath(\n        this.modelId\n      )}:generateContent`,\n      headers: mergedHeaders,\n      body: args,\n      failedResponseHandler: googleFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler2(responseSchema),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const candidate = response.candidates[0];\n    const content = [];\n    const parts = (_b = (_a = candidate.content) == null ? void 0 : _a.parts) != null ? _b : [];\n    const usageMetadata = response.usageMetadata;\n    let lastCodeExecutionToolCallId;\n    for (const part of parts) {\n      if (\"executableCode\" in part && ((_c = part.executableCode) == null ? void 0 : _c.code)) {\n        const toolCallId = this.config.generateId();\n        lastCodeExecutionToolCallId = toolCallId;\n        content.push({\n          type: \"tool-call\",\n          toolCallId,\n          toolName: \"code_execution\",\n          input: JSON.stringify(part.executableCode),\n          providerExecuted: true\n        });\n      } else if (\"codeExecutionResult\" in part && part.codeExecutionResult) {\n        content.push({\n          type: \"tool-result\",\n          // Assumes a result directly follows its corresponding call part.\n          toolCallId: lastCodeExecutionToolCallId,\n          toolName: \"code_execution\",\n          result: {\n            outcome: part.codeExecutionResult.outcome,\n            output: part.codeExecutionResult.output\n          }\n        });\n        lastCodeExecutionToolCallId = void 0;\n      } else if (\"text\" in part && part.text != null && part.text.length > 0) {\n        content.push({\n          type: part.thought === true ? \"reasoning\" : \"text\",\n          text: part.text,\n          providerMetadata: part.thoughtSignature ? {\n            [providerOptionsName]: {\n              thoughtSignature: part.thoughtSignature\n            }\n          } : void 0\n        });\n      } else if (\"functionCall\" in part) {\n        content.push({\n          type: \"tool-call\",\n          toolCallId: this.config.generateId(),\n          toolName: part.functionCall.name,\n          input: JSON.stringify(part.functionCall.args),\n          providerMetadata: part.thoughtSignature ? {\n            [providerOptionsName]: {\n              thoughtSignature: part.thoughtSignature\n            }\n          } : void 0\n        });\n      } else if (\"inlineData\" in part) {\n        content.push({\n          type: \"file\",\n          data: part.inlineData.data,\n          mediaType: part.inlineData.mimeType,\n          providerMetadata: part.thoughtSignature ? {\n            [providerOptionsName]: {\n              thoughtSignature: part.thoughtSignature\n            }\n          } : void 0\n        });\n      }\n    }\n    const sources = (_d = extractSources({\n      groundingMetadata: candidate.groundingMetadata,\n      generateId: this.config.generateId\n    })) != null ? _d : [];\n    for (const source of sources) {\n      content.push(source);\n    }\n    return {\n      content,\n      finishReason: {\n        unified: mapGoogleGenerativeAIFinishReason({\n          finishReason: candidate.finishReason,\n          // Only count client-executed tool calls for finish reason determination.\n          hasToolCalls: content.some(\n            (part) => part.type === \"tool-call\" && !part.providerExecuted\n          )\n        }),\n        raw: (_e = candidate.finishReason) != null ? _e : void 0\n      },\n      usage: convertGoogleGenerativeAIUsage(usageMetadata),\n      warnings,\n      providerMetadata: {\n        [providerOptionsName]: {\n          promptFeedback: (_f = response.promptFeedback) != null ? _f : null,\n          groundingMetadata: (_g = candidate.groundingMetadata) != null ? _g : null,\n          urlContextMetadata: (_h = candidate.urlContextMetadata) != null ? _h : null,\n          safetyRatings: (_i = candidate.safetyRatings) != null ? _i : null,\n          usageMetadata: usageMetadata != null ? usageMetadata : null\n        }\n      },\n      request: { body: args },\n      response: {\n        // TODO timestamp, model id, id\n        headers: responseHeaders,\n        body: rawResponse\n      }\n    };\n  }\n  async doStream(options) {\n    const { args, warnings, providerOptionsName } = await this.getArgs(options);\n    const headers = combineHeaders2(\n      await resolve2(this.config.headers),\n      options.headers\n    );\n    const { responseHeaders, value: response } = await postJsonToApi2({\n      url: `${this.config.baseURL}/${getModelPath(\n        this.modelId\n      )}:streamGenerateContent?alt=sse`,\n      headers,\n      body: args,\n      failedResponseHandler: googleFailedResponseHandler,\n      successfulResponseHandler: createEventSourceResponseHandler(chunkSchema),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    let finishReason = {\n      unified: \"other\",\n      raw: void 0\n    };\n    let usage = void 0;\n    let providerMetadata = void 0;\n    const generateId3 = this.config.generateId;\n    let hasToolCalls = false;\n    let currentTextBlockId = null;\n    let currentReasoningBlockId = null;\n    let blockCounter = 0;\n    const emittedSourceUrls = /* @__PURE__ */ new Set();\n    let lastCodeExecutionToolCallId;\n    return {\n      stream: response.pipeThrough(\n        new TransformStream({\n          start(controller) {\n            controller.enqueue({ type: \"stream-start\", warnings });\n          },\n          transform(chunk, controller) {\n            var _a, _b, _c, _d, _e, _f, _g;\n            if (options.includeRawChunks) {\n              controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n            }\n            if (!chunk.success) {\n              controller.enqueue({ type: \"error\", error: chunk.error });\n              return;\n            }\n            const value = chunk.value;\n            const usageMetadata = value.usageMetadata;\n            if (usageMetadata != null) {\n              usage = usageMetadata;\n            }\n            const candidate = (_a = value.candidates) == null ? void 0 : _a[0];\n            if (candidate == null) {\n              return;\n            }\n            const content = candidate.content;\n            const sources = extractSources({\n              groundingMetadata: candidate.groundingMetadata,\n              generateId: generateId3\n            });\n            if (sources != null) {\n              for (const source of sources) {\n                if (source.sourceType === \"url\" && !emittedSourceUrls.has(source.url)) {\n                  emittedSourceUrls.add(source.url);\n                  controller.enqueue(source);\n                }\n              }\n            }\n            if (content != null) {\n              const parts = (_b = content.parts) != null ? _b : [];\n              for (const part of parts) {\n                if (\"executableCode\" in part && ((_c = part.executableCode) == null ? void 0 : _c.code)) {\n                  const toolCallId = generateId3();\n                  lastCodeExecutionToolCallId = toolCallId;\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId,\n                    toolName: \"code_execution\",\n                    input: JSON.stringify(part.executableCode),\n                    providerExecuted: true\n                  });\n                } else if (\"codeExecutionResult\" in part && part.codeExecutionResult) {\n                  const toolCallId = lastCodeExecutionToolCallId;\n                  if (toolCallId) {\n                    controller.enqueue({\n                      type: \"tool-result\",\n                      toolCallId,\n                      toolName: \"code_execution\",\n                      result: {\n                        outcome: part.codeExecutionResult.outcome,\n                        output: part.codeExecutionResult.output\n                      }\n                    });\n                    lastCodeExecutionToolCallId = void 0;\n                  }\n                } else if (\"text\" in part && part.text != null && part.text.length > 0) {\n                  if (part.thought === true) {\n                    if (currentTextBlockId !== null) {\n                      controller.enqueue({\n                        type: \"text-end\",\n                        id: currentTextBlockId\n                      });\n                      currentTextBlockId = null;\n                    }\n                    if (currentReasoningBlockId === null) {\n                      currentReasoningBlockId = String(blockCounter++);\n                      controller.enqueue({\n                        type: \"reasoning-start\",\n                        id: currentReasoningBlockId,\n                        providerMetadata: part.thoughtSignature ? {\n                          [providerOptionsName]: {\n                            thoughtSignature: part.thoughtSignature\n                          }\n                        } : void 0\n                      });\n                    }\n                    controller.enqueue({\n                      type: \"reasoning-delta\",\n                      id: currentReasoningBlockId,\n                      delta: part.text,\n                      providerMetadata: part.thoughtSignature ? {\n                        [providerOptionsName]: {\n                          thoughtSignature: part.thoughtSignature\n                        }\n                      } : void 0\n                    });\n                  } else {\n                    if (currentReasoningBlockId !== null) {\n                      controller.enqueue({\n                        type: \"reasoning-end\",\n                        id: currentReasoningBlockId\n                      });\n                      currentReasoningBlockId = null;\n                    }\n                    if (currentTextBlockId === null) {\n                      currentTextBlockId = String(blockCounter++);\n                      controller.enqueue({\n                        type: \"text-start\",\n                        id: currentTextBlockId,\n                        providerMetadata: part.thoughtSignature ? {\n                          [providerOptionsName]: {\n                            thoughtSignature: part.thoughtSignature\n                          }\n                        } : void 0\n                      });\n                    }\n                    controller.enqueue({\n                      type: \"text-delta\",\n                      id: currentTextBlockId,\n                      delta: part.text,\n                      providerMetadata: part.thoughtSignature ? {\n                        [providerOptionsName]: {\n                          thoughtSignature: part.thoughtSignature\n                        }\n                      } : void 0\n                    });\n                  }\n                } else if (\"inlineData\" in part) {\n                  controller.enqueue({\n                    type: \"file\",\n                    mediaType: part.inlineData.mimeType,\n                    data: part.inlineData.data\n                  });\n                }\n              }\n              const toolCallDeltas = getToolCallsFromParts({\n                parts: content.parts,\n                generateId: generateId3,\n                providerOptionsName\n              });\n              if (toolCallDeltas != null) {\n                for (const toolCall of toolCallDeltas) {\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: toolCall.toolCallId,\n                    toolName: toolCall.toolName,\n                    providerMetadata: toolCall.providerMetadata\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.toolCallId,\n                    delta: toolCall.args,\n                    providerMetadata: toolCall.providerMetadata\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: toolCall.toolCallId,\n                    providerMetadata: toolCall.providerMetadata\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: toolCall.toolCallId,\n                    toolName: toolCall.toolName,\n                    input: toolCall.args,\n                    providerMetadata: toolCall.providerMetadata\n                  });\n                  hasToolCalls = true;\n                }\n              }\n            }\n            if (candidate.finishReason != null) {\n              finishReason = {\n                unified: mapGoogleGenerativeAIFinishReason({\n                  finishReason: candidate.finishReason,\n                  hasToolCalls\n                }),\n                raw: candidate.finishReason\n              };\n              providerMetadata = {\n                [providerOptionsName]: {\n                  promptFeedback: (_d = value.promptFeedback) != null ? _d : null,\n                  groundingMetadata: (_e = candidate.groundingMetadata) != null ? _e : null,\n                  urlContextMetadata: (_f = candidate.urlContextMetadata) != null ? _f : null,\n                  safetyRatings: (_g = candidate.safetyRatings) != null ? _g : null\n                }\n              };\n              if (usageMetadata != null) {\n                providerMetadata[providerOptionsName].usageMetadata = usageMetadata;\n              }\n            }\n          },\n          flush(controller) {\n            if (currentTextBlockId !== null) {\n              controller.enqueue({\n                type: \"text-end\",\n                id: currentTextBlockId\n              });\n            }\n            if (currentReasoningBlockId !== null) {\n              controller.enqueue({\n                type: \"reasoning-end\",\n                id: currentReasoningBlockId\n              });\n            }\n            controller.enqueue({\n              type: \"finish\",\n              finishReason,\n              usage: convertGoogleGenerativeAIUsage(usage),\n              providerMetadata\n            });\n          }\n        })\n      ),\n      response: { headers: responseHeaders },\n      request: { body: args }\n    };\n  }\n};\nfunction getToolCallsFromParts({\n  parts,\n  generateId: generateId3,\n  providerOptionsName\n}) {\n  const functionCallParts = parts == null ? void 0 : parts.filter(\n    (part) => \"functionCall\" in part\n  );\n  return functionCallParts == null || functionCallParts.length === 0 ? void 0 : functionCallParts.map((part) => ({\n    type: \"tool-call\",\n    toolCallId: generateId3(),\n    toolName: part.functionCall.name,\n    args: JSON.stringify(part.functionCall.args),\n    providerMetadata: part.thoughtSignature ? {\n      [providerOptionsName]: {\n        thoughtSignature: part.thoughtSignature\n      }\n    } : void 0\n  }));\n}\nfunction extractSources({\n  groundingMetadata,\n  generateId: generateId3\n}) {\n  var _a, _b, _c, _d, _e;\n  if (!(groundingMetadata == null ? void 0 : groundingMetadata.groundingChunks)) {\n    return void 0;\n  }\n  const sources = [];\n  for (const chunk of groundingMetadata.groundingChunks) {\n    if (chunk.web != null) {\n      sources.push({\n        type: \"source\",\n        sourceType: \"url\",\n        id: generateId3(),\n        url: chunk.web.uri,\n        title: (_a = chunk.web.title) != null ? _a : void 0\n      });\n    } else if (chunk.retrievedContext != null) {\n      const uri = chunk.retrievedContext.uri;\n      const fileSearchStore = chunk.retrievedContext.fileSearchStore;\n      if (uri && (uri.startsWith(\"http://\") || uri.startsWith(\"https://\"))) {\n        sources.push({\n          type: \"source\",\n          sourceType: \"url\",\n          id: generateId3(),\n          url: uri,\n          title: (_b = chunk.retrievedContext.title) != null ? _b : void 0\n        });\n      } else if (uri) {\n        const title = (_c = chunk.retrievedContext.title) != null ? _c : \"Unknown Document\";\n        let mediaType = \"application/octet-stream\";\n        let filename = void 0;\n        if (uri.endsWith(\".pdf\")) {\n          mediaType = \"application/pdf\";\n          filename = uri.split(\"/\").pop();\n        } else if (uri.endsWith(\".txt\")) {\n          mediaType = \"text/plain\";\n          filename = uri.split(\"/\").pop();\n        } else if (uri.endsWith(\".docx\")) {\n          mediaType = \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\";\n          filename = uri.split(\"/\").pop();\n        } else if (uri.endsWith(\".doc\")) {\n          mediaType = \"application/msword\";\n          filename = uri.split(\"/\").pop();\n        } else if (uri.match(/\\.(md|markdown)$/)) {\n          mediaType = \"text/markdown\";\n          filename = uri.split(\"/\").pop();\n        } else {\n          filename = uri.split(\"/\").pop();\n        }\n        sources.push({\n          type: \"source\",\n          sourceType: \"document\",\n          id: generateId3(),\n          mediaType,\n          title,\n          filename\n        });\n      } else if (fileSearchStore) {\n        const title = (_d = chunk.retrievedContext.title) != null ? _d : \"Unknown Document\";\n        sources.push({\n          type: \"source\",\n          sourceType: \"document\",\n          id: generateId3(),\n          mediaType: \"application/octet-stream\",\n          title,\n          filename: fileSearchStore.split(\"/\").pop()\n        });\n      }\n    } else if (chunk.maps != null) {\n      if (chunk.maps.uri) {\n        sources.push({\n          type: \"source\",\n          sourceType: \"url\",\n          id: generateId3(),\n          url: chunk.maps.uri,\n          title: (_e = chunk.maps.title) != null ? _e : void 0\n        });\n      }\n    }\n  }\n  return sources.length > 0 ? sources : void 0;\n}\nvar getGroundingMetadataSchema = () => z5.object({\n  webSearchQueries: z5.array(z5.string()).nullish(),\n  retrievalQueries: z5.array(z5.string()).nullish(),\n  searchEntryPoint: z5.object({ renderedContent: z5.string() }).nullish(),\n  groundingChunks: z5.array(\n    z5.object({\n      web: z5.object({ uri: z5.string(), title: z5.string().nullish() }).nullish(),\n      retrievedContext: z5.object({\n        uri: z5.string().nullish(),\n        title: z5.string().nullish(),\n        text: z5.string().nullish(),\n        fileSearchStore: z5.string().nullish()\n      }).nullish(),\n      maps: z5.object({\n        uri: z5.string().nullish(),\n        title: z5.string().nullish(),\n        text: z5.string().nullish(),\n        placeId: z5.string().nullish()\n      }).nullish()\n    })\n  ).nullish(),\n  groundingSupports: z5.array(\n    z5.object({\n      segment: z5.object({\n        startIndex: z5.number().nullish(),\n        endIndex: z5.number().nullish(),\n        text: z5.string().nullish()\n      }),\n      segment_text: z5.string().nullish(),\n      groundingChunkIndices: z5.array(z5.number()).nullish(),\n      supportChunkIndices: z5.array(z5.number()).nullish(),\n      confidenceScores: z5.array(z5.number()).nullish(),\n      confidenceScore: z5.array(z5.number()).nullish()\n    })\n  ).nullish(),\n  retrievalMetadata: z5.union([\n    z5.object({\n      webDynamicRetrievalScore: z5.number()\n    }),\n    z5.object({})\n  ]).nullish()\n});\nvar getContentSchema = () => z5.object({\n  parts: z5.array(\n    z5.union([\n      // note: order matters since text can be fully empty\n      z5.object({\n        functionCall: z5.object({\n          name: z5.string(),\n          args: z5.unknown()\n        }),\n        thoughtSignature: z5.string().nullish()\n      }),\n      z5.object({\n        inlineData: z5.object({\n          mimeType: z5.string(),\n          data: z5.string()\n        }),\n        thoughtSignature: z5.string().nullish()\n      }),\n      z5.object({\n        executableCode: z5.object({\n          language: z5.string(),\n          code: z5.string()\n        }).nullish(),\n        codeExecutionResult: z5.object({\n          outcome: z5.string(),\n          output: z5.string()\n        }).nullish(),\n        text: z5.string().nullish(),\n        thought: z5.boolean().nullish(),\n        thoughtSignature: z5.string().nullish()\n      })\n    ])\n  ).nullish()\n});\nvar getSafetyRatingSchema = () => z5.object({\n  category: z5.string().nullish(),\n  probability: z5.string().nullish(),\n  probabilityScore: z5.number().nullish(),\n  severity: z5.string().nullish(),\n  severityScore: z5.number().nullish(),\n  blocked: z5.boolean().nullish()\n});\nvar usageSchema = z5.object({\n  cachedContentTokenCount: z5.number().nullish(),\n  thoughtsTokenCount: z5.number().nullish(),\n  promptTokenCount: z5.number().nullish(),\n  candidatesTokenCount: z5.number().nullish(),\n  totalTokenCount: z5.number().nullish(),\n  // https://cloud.google.com/vertex-ai/generative-ai/docs/reference/rest/v1/GenerateContentResponse#TrafficType\n  trafficType: z5.string().nullish()\n});\nvar getUrlContextMetadataSchema = () => z5.object({\n  urlMetadata: z5.array(\n    z5.object({\n      retrievedUrl: z5.string(),\n      urlRetrievalStatus: z5.string()\n    })\n  )\n});\nvar responseSchema = lazySchema5(\n  () => zodSchema5(\n    z5.object({\n      candidates: z5.array(\n        z5.object({\n          content: getContentSchema().nullish().or(z5.object({}).strict()),\n          finishReason: z5.string().nullish(),\n          safetyRatings: z5.array(getSafetyRatingSchema()).nullish(),\n          groundingMetadata: getGroundingMetadataSchema().nullish(),\n          urlContextMetadata: getUrlContextMetadataSchema().nullish()\n        })\n      ),\n      usageMetadata: usageSchema.nullish(),\n      promptFeedback: z5.object({\n        blockReason: z5.string().nullish(),\n        safetyRatings: z5.array(getSafetyRatingSchema()).nullish()\n      }).nullish()\n    })\n  )\n);\nvar chunkSchema = lazySchema5(\n  () => zodSchema5(\n    z5.object({\n      candidates: z5.array(\n        z5.object({\n          content: getContentSchema().nullish(),\n          finishReason: z5.string().nullish(),\n          safetyRatings: z5.array(getSafetyRatingSchema()).nullish(),\n          groundingMetadata: getGroundingMetadataSchema().nullish(),\n          urlContextMetadata: getUrlContextMetadataSchema().nullish()\n        })\n      ).nullish(),\n      usageMetadata: usageSchema.nullish(),\n      promptFeedback: z5.object({\n        blockReason: z5.string().nullish(),\n        safetyRatings: z5.array(getSafetyRatingSchema()).nullish()\n      }).nullish()\n    })\n  )\n);\n\n// src/tool/code-execution.ts\nimport { createProviderToolFactoryWithOutputSchema } from \"@ai-sdk/provider-utils\";\nimport { z as z6 } from \"zod/v4\";\nvar codeExecution = createProviderToolFactoryWithOutputSchema({\n  id: \"google.code_execution\",\n  inputSchema: z6.object({\n    language: z6.string().describe(\"The programming language of the code.\"),\n    code: z6.string().describe(\"The code to be executed.\")\n  }),\n  outputSchema: z6.object({\n    outcome: z6.string().describe('The outcome of the execution (e.g., \"OUTCOME_OK\").'),\n    output: z6.string().describe(\"The output from the code execution.\")\n  })\n});\n\n// src/tool/enterprise-web-search.ts\nimport {\n  createProviderToolFactory,\n  lazySchema as lazySchema6,\n  zodSchema as zodSchema6\n} from \"@ai-sdk/provider-utils\";\nimport { z as z7 } from \"zod/v4\";\nvar enterpriseWebSearch = createProviderToolFactory({\n  id: \"google.enterprise_web_search\",\n  inputSchema: lazySchema6(() => zodSchema6(z7.object({})))\n});\n\n// src/tool/file-search.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory2,\n  lazySchema as lazySchema7,\n  zodSchema as zodSchema7\n} from \"@ai-sdk/provider-utils\";\nimport { z as z8 } from \"zod/v4\";\nvar fileSearchArgsBaseSchema = z8.object({\n  /** The names of the file_search_stores to retrieve from.\n   *  Example: `fileSearchStores/my-file-search-store-123`\n   */\n  fileSearchStoreNames: z8.array(z8.string()).describe(\n    \"The names of the file_search_stores to retrieve from. Example: `fileSearchStores/my-file-search-store-123`\"\n  ),\n  /** The number of file search retrieval chunks to retrieve. */\n  topK: z8.number().int().positive().describe(\"The number of file search retrieval chunks to retrieve.\").optional(),\n  /** Metadata filter to apply to the file search retrieval documents.\n   *  See https://google.aip.dev/160 for the syntax of the filter expression.\n   */\n  metadataFilter: z8.string().describe(\n    \"Metadata filter to apply to the file search retrieval documents. See https://google.aip.dev/160 for the syntax of the filter expression.\"\n  ).optional()\n}).passthrough();\nvar fileSearchArgsSchema = lazySchema7(\n  () => zodSchema7(fileSearchArgsBaseSchema)\n);\nvar fileSearch = createProviderToolFactory2({\n  id: \"google.file_search\",\n  inputSchema: fileSearchArgsSchema\n});\n\n// src/tool/google-maps.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory3,\n  lazySchema as lazySchema8,\n  zodSchema as zodSchema8\n} from \"@ai-sdk/provider-utils\";\nimport { z as z9 } from \"zod/v4\";\nvar googleMaps = createProviderToolFactory3({\n  id: \"google.google_maps\",\n  inputSchema: lazySchema8(() => zodSchema8(z9.object({})))\n});\n\n// src/tool/google-search.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory4,\n  lazySchema as lazySchema9,\n  zodSchema as zodSchema9\n} from \"@ai-sdk/provider-utils\";\nimport { z as z10 } from \"zod/v4\";\nvar googleSearch = createProviderToolFactory4({\n  id: \"google.google_search\",\n  inputSchema: lazySchema9(\n    () => zodSchema9(\n      z10.object({\n        mode: z10.enum([\"MODE_DYNAMIC\", \"MODE_UNSPECIFIED\"]).default(\"MODE_UNSPECIFIED\"),\n        dynamicThreshold: z10.number().default(1)\n      })\n    )\n  )\n});\n\n// src/tool/url-context.ts\nimport {\n  createProviderToolFactory as createProviderToolFactory5,\n  lazySchema as lazySchema10,\n  zodSchema as zodSchema10\n} from \"@ai-sdk/provider-utils\";\nimport { z as z11 } from \"zod/v4\";\nvar urlContext = createProviderToolFactory5({\n  id: \"google.url_context\",\n  inputSchema: lazySchema10(() => zodSchema10(z11.object({})))\n});\n\n// src/tool/vertex-rag-store.ts\nimport { createProviderToolFactory as createProviderToolFactory6 } from \"@ai-sdk/provider-utils\";\nimport { z as z12 } from \"zod/v4\";\nvar vertexRagStore = createProviderToolFactory6({\n  id: \"google.vertex_rag_store\",\n  inputSchema: z12.object({\n    ragCorpus: z12.string(),\n    topK: z12.number().optional()\n  })\n});\n\n// src/google-tools.ts\nvar googleTools = {\n  /**\n   * Creates a Google search tool that gives Google direct access to real-time web content.\n   * Must have name \"google_search\".\n   */\n  googleSearch,\n  /**\n   * Creates an Enterprise Web Search tool for grounding responses using a compliance-focused web index.\n   * Designed for highly-regulated industries (finance, healthcare, public sector).\n   * Does not log customer data and supports VPC service controls.\n   * Must have name \"enterprise_web_search\".\n   *\n   * @note Only available on Vertex AI. Requires Gemini 2.0 or newer.\n   *\n   * @see https://cloud.google.com/vertex-ai/generative-ai/docs/grounding/web-grounding-enterprise\n   */\n  enterpriseWebSearch,\n  /**\n   * Creates a Google Maps grounding tool that gives the model access to Google Maps data.\n   * Must have name \"google_maps\".\n   *\n   * @see https://ai.google.dev/gemini-api/docs/maps-grounding\n   * @see https://cloud.google.com/vertex-ai/generative-ai/docs/grounding/grounding-with-google-maps\n   */\n  googleMaps,\n  /**\n   * Creates a URL context tool that gives Google direct access to real-time web content.\n   * Must have name \"url_context\".\n   */\n  urlContext,\n  /**\n   * Enables Retrieval Augmented Generation (RAG) via the Gemini File Search tool.\n   * Must have name \"file_search\".\n   *\n   * @param fileSearchStoreNames - Fully-qualified File Search store resource names.\n   * @param metadataFilter - Optional filter expression to restrict the files that can be retrieved.\n   * @param topK - Optional result limit for the number of chunks returned from File Search.\n   *\n   * @see https://ai.google.dev/gemini-api/docs/file-search\n   */\n  fileSearch,\n  /**\n   * A tool that enables the model to generate and run Python code.\n   * Must have name \"code_execution\".\n   *\n   * @note Ensure the selected model supports Code Execution.\n   * Multi-tool usage with the code execution tool is typically compatible with Gemini >=2 models.\n   *\n   * @see https://ai.google.dev/gemini-api/docs/code-execution (Google AI)\n   * @see https://cloud.google.com/vertex-ai/generative-ai/docs/model-reference/code-execution-api (Vertex AI)\n   */\n  codeExecution,\n  /**\n   * Creates a Vertex RAG Store tool that enables the model to perform RAG searches against a Vertex RAG Store.\n   * Must have name \"vertex_rag_store\".\n   */\n  vertexRagStore\n};\n\n// src/google-generative-ai-image-model.ts\nimport {\n  combineHeaders as combineHeaders3,\n  createJsonResponseHandler as createJsonResponseHandler3,\n  lazySchema as lazySchema11,\n  parseProviderOptions as parseProviderOptions3,\n  postJsonToApi as postJsonToApi3,\n  resolve as resolve3,\n  zodSchema as zodSchema11\n} from \"@ai-sdk/provider-utils\";\nimport { z as z13 } from \"zod/v4\";\nvar GoogleGenerativeAIImageModel = class {\n  constructor(modelId, settings, config) {\n    this.modelId = modelId;\n    this.settings = settings;\n    this.config = config;\n    this.specificationVersion = \"v3\";\n  }\n  get maxImagesPerCall() {\n    var _a;\n    return (_a = this.settings.maxImagesPerCall) != null ? _a : 4;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async doGenerate(options) {\n    var _a, _b, _c;\n    const {\n      prompt,\n      n = 1,\n      size,\n      aspectRatio = \"1:1\",\n      seed,\n      providerOptions,\n      headers,\n      abortSignal,\n      files,\n      mask\n    } = options;\n    const warnings = [];\n    if (files != null && files.length > 0) {\n      throw new Error(\n        \"Google Generative AI does not support image editing. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.\"\n      );\n    }\n    if (mask != null) {\n      throw new Error(\n        \"Google Generative AI does not support image editing with masks. Use Google Vertex AI (@ai-sdk/google-vertex) for image editing capabilities.\"\n      );\n    }\n    if (size != null) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"size\",\n        details: \"This model does not support the `size` option. Use `aspectRatio` instead.\"\n      });\n    }\n    if (seed != null) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"seed\",\n        details: \"This model does not support the `seed` option through this provider.\"\n      });\n    }\n    const googleOptions = await parseProviderOptions3({\n      provider: \"google\",\n      providerOptions,\n      schema: googleImageProviderOptionsSchema\n    });\n    const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n    const parameters = {\n      sampleCount: n\n    };\n    if (aspectRatio != null) {\n      parameters.aspectRatio = aspectRatio;\n    }\n    if (googleOptions) {\n      Object.assign(parameters, googleOptions);\n    }\n    const body = {\n      instances: [{ prompt }],\n      parameters\n    };\n    const { responseHeaders, value: response } = await postJsonToApi3({\n      url: `${this.config.baseURL}/models/${this.modelId}:predict`,\n      headers: combineHeaders3(await resolve3(this.config.headers), headers),\n      body,\n      failedResponseHandler: googleFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler3(\n        googleImageResponseSchema\n      ),\n      abortSignal,\n      fetch: this.config.fetch\n    });\n    return {\n      images: response.predictions.map(\n        (p) => p.bytesBase64Encoded\n      ),\n      warnings: warnings != null ? warnings : [],\n      providerMetadata: {\n        google: {\n          images: response.predictions.map((prediction) => ({\n            // Add any prediction-specific metadata here\n          }))\n        }\n      },\n      response: {\n        timestamp: currentDate,\n        modelId: this.modelId,\n        headers: responseHeaders\n      }\n    };\n  }\n};\nvar googleImageResponseSchema = lazySchema11(\n  () => zodSchema11(\n    z13.object({\n      predictions: z13.array(z13.object({ bytesBase64Encoded: z13.string() })).default([])\n    })\n  )\n);\nvar googleImageProviderOptionsSchema = lazySchema11(\n  () => zodSchema11(\n    z13.object({\n      personGeneration: z13.enum([\"dont_allow\", \"allow_adult\", \"allow_all\"]).nullish(),\n      aspectRatio: z13.enum([\"1:1\", \"3:4\", \"4:3\", \"9:16\", \"16:9\"]).nullish()\n    })\n  )\n);\n\n// src/google-provider.ts\nfunction createGoogleGenerativeAI(options = {}) {\n  var _a, _b;\n  const baseURL = (_a = withoutTrailingSlash(options.baseURL)) != null ? _a : \"https://generativelanguage.googleapis.com/v1beta\";\n  const providerName = (_b = options.name) != null ? _b : \"google.generative-ai\";\n  const getHeaders = () => withUserAgentSuffix(\n    {\n      \"x-goog-api-key\": loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"GOOGLE_GENERATIVE_AI_API_KEY\",\n        description: \"Google Generative AI\"\n      }),\n      ...options.headers\n    },\n    `ai-sdk/google/${VERSION}`\n  );\n  const createChatModel = (modelId) => {\n    var _a2;\n    return new GoogleGenerativeAILanguageModel(modelId, {\n      provider: providerName,\n      baseURL,\n      headers: getHeaders,\n      generateId: (_a2 = options.generateId) != null ? _a2 : generateId2,\n      supportedUrls: () => ({\n        \"*\": [\n          // Google Generative Language \"files\" endpoint\n          // e.g. https://generativelanguage.googleapis.com/v1beta/files/...\n          new RegExp(`^${baseURL}/files/.*$`),\n          // YouTube URLs (public or unlisted videos)\n          new RegExp(\n            `^https://(?:www\\\\.)?youtube\\\\.com/watch\\\\?v=[\\\\w-]+(?:&[\\\\w=&.-]*)?$`\n          ),\n          new RegExp(`^https://youtu\\\\.be/[\\\\w-]+(?:\\\\?[\\\\w=&.-]*)?$`)\n        ]\n      }),\n      fetch: options.fetch\n    });\n  };\n  const createEmbeddingModel = (modelId) => new GoogleGenerativeAIEmbeddingModel(modelId, {\n    provider: providerName,\n    baseURL,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createImageModel = (modelId, settings = {}) => new GoogleGenerativeAIImageModel(modelId, settings, {\n    provider: providerName,\n    baseURL,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const provider = function(modelId) {\n    if (new.target) {\n      throw new Error(\n        \"The Google Generative AI model function cannot be called with the new keyword.\"\n      );\n    }\n    return createChatModel(modelId);\n  };\n  provider.specificationVersion = \"v3\";\n  provider.languageModel = createChatModel;\n  provider.chat = createChatModel;\n  provider.generativeAI = createChatModel;\n  provider.embedding = createEmbeddingModel;\n  provider.embeddingModel = createEmbeddingModel;\n  provider.textEmbedding = createEmbeddingModel;\n  provider.textEmbeddingModel = createEmbeddingModel;\n  provider.image = createImageModel;\n  provider.imageModel = createImageModel;\n  provider.tools = googleTools;\n  return provider;\n}\nvar google = createGoogleGenerativeAI();\nexport {\n  VERSION,\n  createGoogleGenerativeAI,\n  google\n};\n//# sourceMappingURL=index.mjs.map","// src/openai-provider.ts\nimport {\n  loadApiKey,\n  loadOptionalSetting,\n  withoutTrailingSlash,\n  withUserAgentSuffix\n} from \"@ai-sdk/provider-utils\";\n\n// src/chat/openai-chat-language-model.ts\nimport {\n  InvalidResponseDataError\n} from \"@ai-sdk/provider\";\nimport {\n  combineHeaders,\n  createEventSourceResponseHandler,\n  createJsonResponseHandler,\n  generateId,\n  isParsableJson,\n  parseProviderOptions,\n  postJsonToApi\n} from \"@ai-sdk/provider-utils\";\n\n// src/openai-error.ts\nimport { z } from \"zod/v4\";\nimport { createJsonErrorResponseHandler } from \"@ai-sdk/provider-utils\";\nvar openaiErrorDataSchema = z.object({\n  error: z.object({\n    message: z.string(),\n    // The additional information below is handled loosely to support\n    // OpenAI-compatible providers that have slightly different error\n    // responses:\n    type: z.string().nullish(),\n    param: z.any().nullish(),\n    code: z.union([z.string(), z.number()]).nullish()\n  })\n});\nvar openaiFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: openaiErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\n\n// src/openai-language-model-capabilities.ts\nfunction getOpenAILanguageModelCapabilities(modelId) {\n  const supportsFlexProcessing = modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-chat\");\n  const supportsPriorityProcessing = modelId.startsWith(\"gpt-4\") || modelId.startsWith(\"gpt-5-mini\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-nano\") && !modelId.startsWith(\"gpt-5-chat\") || modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\");\n  const isReasoningModel = modelId.startsWith(\"o1\") || modelId.startsWith(\"o3\") || modelId.startsWith(\"o4-mini\") || modelId.startsWith(\"codex-mini\") || modelId.startsWith(\"computer-use-preview\") || modelId.startsWith(\"gpt-5\") && !modelId.startsWith(\"gpt-5-chat\");\n  const supportsNonReasoningParameters = modelId.startsWith(\"gpt-5.1\") || modelId.startsWith(\"gpt-5.2\");\n  const systemMessageMode = isReasoningModel ? \"developer\" : \"system\";\n  return {\n    supportsFlexProcessing,\n    supportsPriorityProcessing,\n    isReasoningModel,\n    systemMessageMode,\n    supportsNonReasoningParameters\n  };\n}\n\n// src/chat/convert-openai-chat-usage.ts\nfunction convertOpenAIChatUsage(usage) {\n  var _a, _b, _c, _d, _e, _f;\n  if (usage == null) {\n    return {\n      inputTokens: {\n        total: void 0,\n        noCache: void 0,\n        cacheRead: void 0,\n        cacheWrite: void 0\n      },\n      outputTokens: {\n        total: void 0,\n        text: void 0,\n        reasoning: void 0\n      },\n      raw: void 0\n    };\n  }\n  const promptTokens = (_a = usage.prompt_tokens) != null ? _a : 0;\n  const completionTokens = (_b = usage.completion_tokens) != null ? _b : 0;\n  const cachedTokens = (_d = (_c = usage.prompt_tokens_details) == null ? void 0 : _c.cached_tokens) != null ? _d : 0;\n  const reasoningTokens = (_f = (_e = usage.completion_tokens_details) == null ? void 0 : _e.reasoning_tokens) != null ? _f : 0;\n  return {\n    inputTokens: {\n      total: promptTokens,\n      noCache: promptTokens - cachedTokens,\n      cacheRead: cachedTokens,\n      cacheWrite: void 0\n    },\n    outputTokens: {\n      total: completionTokens,\n      text: completionTokens - reasoningTokens,\n      reasoning: reasoningTokens\n    },\n    raw: usage\n  };\n}\n\n// src/chat/convert-to-openai-chat-messages.ts\nimport {\n  UnsupportedFunctionalityError\n} from \"@ai-sdk/provider\";\nimport { convertToBase64 } from \"@ai-sdk/provider-utils\";\nfunction convertToOpenAIChatMessages({\n  prompt,\n  systemMessageMode = \"system\"\n}) {\n  var _a;\n  const messages = [];\n  const warnings = [];\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        switch (systemMessageMode) {\n          case \"system\": {\n            messages.push({ role: \"system\", content });\n            break;\n          }\n          case \"developer\": {\n            messages.push({ role: \"developer\", content });\n            break;\n          }\n          case \"remove\": {\n            warnings.push({\n              type: \"other\",\n              message: \"system messages are removed for this model\"\n            });\n            break;\n          }\n          default: {\n            const _exhaustiveCheck = systemMessageMode;\n            throw new Error(\n              `Unsupported system message mode: ${_exhaustiveCheck}`\n            );\n          }\n        }\n        break;\n      }\n      case \"user\": {\n        if (content.length === 1 && content[0].type === \"text\") {\n          messages.push({ role: \"user\", content: content[0].text });\n          break;\n        }\n        messages.push({\n          role: \"user\",\n          content: content.map((part, index) => {\n            var _a2, _b, _c;\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"text\", text: part.text };\n              }\n              case \"file\": {\n                if (part.mediaType.startsWith(\"image/\")) {\n                  const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                  return {\n                    type: \"image_url\",\n                    image_url: {\n                      url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${convertToBase64(part.data)}`,\n                      // OpenAI specific extension: image detail\n                      detail: (_b = (_a2 = part.providerOptions) == null ? void 0 : _a2.openai) == null ? void 0 : _b.imageDetail\n                    }\n                  };\n                } else if (part.mediaType.startsWith(\"audio/\")) {\n                  if (part.data instanceof URL) {\n                    throw new UnsupportedFunctionalityError({\n                      functionality: \"audio file parts with URLs\"\n                    });\n                  }\n                  switch (part.mediaType) {\n                    case \"audio/wav\": {\n                      return {\n                        type: \"input_audio\",\n                        input_audio: {\n                          data: convertToBase64(part.data),\n                          format: \"wav\"\n                        }\n                      };\n                    }\n                    case \"audio/mp3\":\n                    case \"audio/mpeg\": {\n                      return {\n                        type: \"input_audio\",\n                        input_audio: {\n                          data: convertToBase64(part.data),\n                          format: \"mp3\"\n                        }\n                      };\n                    }\n                    default: {\n                      throw new UnsupportedFunctionalityError({\n                        functionality: `audio content parts with media type ${part.mediaType}`\n                      });\n                    }\n                  }\n                } else if (part.mediaType === \"application/pdf\") {\n                  if (part.data instanceof URL) {\n                    throw new UnsupportedFunctionalityError({\n                      functionality: \"PDF file parts with URLs\"\n                    });\n                  }\n                  return {\n                    type: \"file\",\n                    file: typeof part.data === \"string\" && part.data.startsWith(\"file-\") ? { file_id: part.data } : {\n                      filename: (_c = part.filename) != null ? _c : `part-${index}.pdf`,\n                      file_data: `data:application/pdf;base64,${convertToBase64(part.data)}`\n                    }\n                  };\n                } else {\n                  throw new UnsupportedFunctionalityError({\n                    functionality: `file part media type ${part.mediaType}`\n                  });\n                }\n              }\n            }\n          })\n        });\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input)\n                }\n              });\n              break;\n            }\n          }\n        }\n        messages.push({\n          role: \"assistant\",\n          content: text,\n          tool_calls: toolCalls.length > 0 ? toolCalls : void 0\n        });\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          if (toolResponse.type === \"tool-approval-response\") {\n            continue;\n          }\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"execution-denied\":\n              contentValue = (_a = output.reason) != null ? _a : \"Tool execution denied.\";\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          messages.push({\n            role: \"tool\",\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return { messages, warnings };\n}\n\n// src/chat/get-response-metadata.ts\nfunction getResponseMetadata({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created ? new Date(created * 1e3) : void 0\n  };\n}\n\n// src/chat/map-openai-finish-reason.ts\nfunction mapOpenAIFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"other\";\n  }\n}\n\n// src/chat/openai-chat-api.ts\nimport { lazySchema, zodSchema } from \"@ai-sdk/provider-utils\";\nimport { z as z2 } from \"zod/v4\";\nvar openaiChatResponseSchema = lazySchema(\n  () => zodSchema(\n    z2.object({\n      id: z2.string().nullish(),\n      created: z2.number().nullish(),\n      model: z2.string().nullish(),\n      choices: z2.array(\n        z2.object({\n          message: z2.object({\n            role: z2.literal(\"assistant\").nullish(),\n            content: z2.string().nullish(),\n            tool_calls: z2.array(\n              z2.object({\n                id: z2.string().nullish(),\n                type: z2.literal(\"function\"),\n                function: z2.object({\n                  name: z2.string(),\n                  arguments: z2.string()\n                })\n              })\n            ).nullish(),\n            annotations: z2.array(\n              z2.object({\n                type: z2.literal(\"url_citation\"),\n                url_citation: z2.object({\n                  start_index: z2.number(),\n                  end_index: z2.number(),\n                  url: z2.string(),\n                  title: z2.string()\n                })\n              })\n            ).nullish()\n          }),\n          index: z2.number(),\n          logprobs: z2.object({\n            content: z2.array(\n              z2.object({\n                token: z2.string(),\n                logprob: z2.number(),\n                top_logprobs: z2.array(\n                  z2.object({\n                    token: z2.string(),\n                    logprob: z2.number()\n                  })\n                )\n              })\n            ).nullish()\n          }).nullish(),\n          finish_reason: z2.string().nullish()\n        })\n      ),\n      usage: z2.object({\n        prompt_tokens: z2.number().nullish(),\n        completion_tokens: z2.number().nullish(),\n        total_tokens: z2.number().nullish(),\n        prompt_tokens_details: z2.object({\n          cached_tokens: z2.number().nullish()\n        }).nullish(),\n        completion_tokens_details: z2.object({\n          reasoning_tokens: z2.number().nullish(),\n          accepted_prediction_tokens: z2.number().nullish(),\n          rejected_prediction_tokens: z2.number().nullish()\n        }).nullish()\n      }).nullish()\n    })\n  )\n);\nvar openaiChatChunkSchema = lazySchema(\n  () => zodSchema(\n    z2.union([\n      z2.object({\n        id: z2.string().nullish(),\n        created: z2.number().nullish(),\n        model: z2.string().nullish(),\n        choices: z2.array(\n          z2.object({\n            delta: z2.object({\n              role: z2.enum([\"assistant\"]).nullish(),\n              content: z2.string().nullish(),\n              tool_calls: z2.array(\n                z2.object({\n                  index: z2.number(),\n                  id: z2.string().nullish(),\n                  type: z2.literal(\"function\").nullish(),\n                  function: z2.object({\n                    name: z2.string().nullish(),\n                    arguments: z2.string().nullish()\n                  })\n                })\n              ).nullish(),\n              annotations: z2.array(\n                z2.object({\n                  type: z2.literal(\"url_citation\"),\n                  url_citation: z2.object({\n                    start_index: z2.number(),\n                    end_index: z2.number(),\n                    url: z2.string(),\n                    title: z2.string()\n                  })\n                })\n              ).nullish()\n            }).nullish(),\n            logprobs: z2.object({\n              content: z2.array(\n                z2.object({\n                  token: z2.string(),\n                  logprob: z2.number(),\n                  top_logprobs: z2.array(\n                    z2.object({\n                      token: z2.string(),\n                      logprob: z2.number()\n                    })\n                  )\n                })\n              ).nullish()\n            }).nullish(),\n            finish_reason: z2.string().nullish(),\n            index: z2.number()\n          })\n        ),\n        usage: z2.object({\n          prompt_tokens: z2.number().nullish(),\n          completion_tokens: z2.number().nullish(),\n          total_tokens: z2.number().nullish(),\n          prompt_tokens_details: z2.object({\n            cached_tokens: z2.number().nullish()\n          }).nullish(),\n          completion_tokens_details: z2.object({\n            reasoning_tokens: z2.number().nullish(),\n            accepted_prediction_tokens: z2.number().nullish(),\n            rejected_prediction_tokens: z2.number().nullish()\n          }).nullish()\n        }).nullish()\n      }),\n      openaiErrorDataSchema\n    ])\n  )\n);\n\n// src/chat/openai-chat-options.ts\nimport { lazySchema as lazySchema2, zodSchema as zodSchema2 } from \"@ai-sdk/provider-utils\";\nimport { z as z3 } from \"zod/v4\";\nvar openaiChatLanguageModelOptions = lazySchema2(\n  () => zodSchema2(\n    z3.object({\n      /**\n       * Modify the likelihood of specified tokens appearing in the completion.\n       *\n       * Accepts a JSON object that maps tokens (specified by their token ID in\n       * the GPT tokenizer) to an associated bias value from -100 to 100.\n       */\n      logitBias: z3.record(z3.coerce.number(), z3.number()).optional(),\n      /**\n       * Return the log probabilities of the tokens.\n       *\n       * Setting to true will return the log probabilities of the tokens that\n       * were generated.\n       *\n       * Setting to a number will return the log probabilities of the top n\n       * tokens that were generated.\n       */\n      logprobs: z3.union([z3.boolean(), z3.number()]).optional(),\n      /**\n       * Whether to enable parallel function calling during tool use. Default to true.\n       */\n      parallelToolCalls: z3.boolean().optional(),\n      /**\n       * A unique identifier representing your end-user, which can help OpenAI to\n       * monitor and detect abuse.\n       */\n      user: z3.string().optional(),\n      /**\n       * Reasoning effort for reasoning models. Defaults to `medium`.\n       */\n      reasoningEffort: z3.enum([\"none\", \"minimal\", \"low\", \"medium\", \"high\", \"xhigh\"]).optional(),\n      /**\n       * Maximum number of completion tokens to generate. Useful for reasoning models.\n       */\n      maxCompletionTokens: z3.number().optional(),\n      /**\n       * Whether to enable persistence in responses API.\n       */\n      store: z3.boolean().optional(),\n      /**\n       * Metadata to associate with the request.\n       */\n      metadata: z3.record(z3.string().max(64), z3.string().max(512)).optional(),\n      /**\n       * Parameters for prediction mode.\n       */\n      prediction: z3.record(z3.string(), z3.any()).optional(),\n      /**\n       * Service tier for the request.\n       * - 'auto': Default service tier. The request will be processed with the service tier configured in the\n       *           Project settings. Unless otherwise configured, the Project will use 'default'.\n       * - 'flex': 50% cheaper processing at the cost of increased latency. Only available for o3 and o4-mini models.\n       * - 'priority': Higher-speed processing with predictably low latency at premium cost. Available for Enterprise customers.\n       * - 'default': The request will be processed with the standard pricing and performance for the selected model.\n       *\n       * @default 'auto'\n       */\n      serviceTier: z3.enum([\"auto\", \"flex\", \"priority\", \"default\"]).optional(),\n      /**\n       * Whether to use strict JSON schema validation.\n       *\n       * @default true\n       */\n      strictJsonSchema: z3.boolean().optional(),\n      /**\n       * Controls the verbosity of the model's responses.\n       * Lower values will result in more concise responses, while higher values will result in more verbose responses.\n       */\n      textVerbosity: z3.enum([\"low\", \"medium\", \"high\"]).optional(),\n      /**\n       * A cache key for prompt caching. Allows manual control over prompt caching behavior.\n       * Useful for improving cache hit rates and working around automatic caching issues.\n       */\n      promptCacheKey: z3.string().optional(),\n      /**\n       * The retention policy for the prompt cache.\n       * - 'in_memory': Default. Standard prompt caching behavior.\n       * - '24h': Extended prompt caching that keeps cached prefixes active for up to 24 hours.\n       *          Currently only available for 5.1 series models.\n       *\n       * @default 'in_memory'\n       */\n      promptCacheRetention: z3.enum([\"in_memory\", \"24h\"]).optional(),\n      /**\n       * A stable identifier used to help detect users of your application\n       * that may be violating OpenAI's usage policies. The IDs should be a\n       * string that uniquely identifies each user. We recommend hashing their\n       * username or email address, in order to avoid sending us any identifying\n       * information.\n       */\n      safetyIdentifier: z3.string().optional(),\n      /**\n       * Override the system message mode for this model.\n       * - 'system': Use the 'system' role for system messages (default for most models)\n       * - 'developer': Use the 'developer' role for system messages (used by reasoning models)\n       * - 'remove': Remove system messages entirely\n       *\n       * If not specified, the mode is automatically determined based on the model.\n       */\n      systemMessageMode: z3.enum([\"system\", \"developer\", \"remove\"]).optional(),\n      /**\n       * Force treating this model as a reasoning model.\n       *\n       * This is useful for \"stealth\" reasoning models (e.g. via a custom baseURL)\n       * where the model ID is not recognized by the SDK's allowlist.\n       *\n       * When enabled, the SDK applies reasoning-model parameter compatibility rules\n       * and defaults `systemMessageMode` to `developer` unless overridden.\n       */\n      forceReasoning: z3.boolean().optional()\n    })\n  )\n);\n\n// src/chat/openai-chat-prepare-tools.ts\nimport {\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError2\n} from \"@ai-sdk/provider\";\nfunction prepareChatTools({\n  tools,\n  toolChoice\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const openaiTools2 = [];\n  for (const tool of tools) {\n    switch (tool.type) {\n      case \"function\":\n        openaiTools2.push({\n          type: \"function\",\n          function: {\n            name: tool.name,\n            description: tool.description,\n            parameters: tool.inputSchema,\n            ...tool.strict != null ? { strict: tool.strict } : {}\n          }\n        });\n        break;\n      default:\n        toolWarnings.push({\n          type: \"unsupported\",\n          feature: `tool type: ${tool.type}`\n        });\n        break;\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: openaiTools2, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n    case \"required\":\n      return { tools: openaiTools2, toolChoice: type, toolWarnings };\n    case \"tool\":\n      return {\n        tools: openaiTools2,\n        toolChoice: {\n          type: \"function\",\n          function: {\n            name: toolChoice.toolName\n          }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new UnsupportedFunctionalityError2({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\n\n// src/chat/openai-chat-language-model.ts\nvar OpenAIChatLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v3\";\n    this.supportedUrls = {\n      \"image/*\": [/^https?:\\/\\/.*$/]\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async getArgs({\n    prompt,\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    frequencyPenalty,\n    presencePenalty,\n    stopSequences,\n    responseFormat,\n    seed,\n    tools,\n    toolChoice,\n    providerOptions\n  }) {\n    var _a, _b, _c, _d, _e;\n    const warnings = [];\n    const openaiOptions = (_a = await parseProviderOptions({\n      provider: \"openai\",\n      providerOptions,\n      schema: openaiChatLanguageModelOptions\n    })) != null ? _a : {};\n    const modelCapabilities = getOpenAILanguageModelCapabilities(this.modelId);\n    const isReasoningModel = (_b = openaiOptions.forceReasoning) != null ? _b : modelCapabilities.isReasoningModel;\n    if (topK != null) {\n      warnings.push({ type: \"unsupported\", feature: \"topK\" });\n    }\n    const { messages, warnings: messageWarnings } = convertToOpenAIChatMessages(\n      {\n        prompt,\n        systemMessageMode: (_c = openaiOptions.systemMessageMode) != null ? _c : isReasoningModel ? \"developer\" : modelCapabilities.systemMessageMode\n      }\n    );\n    warnings.push(...messageWarnings);\n    const strictJsonSchema = (_d = openaiOptions.strictJsonSchema) != null ? _d : true;\n    const baseArgs = {\n      // model id:\n      model: this.modelId,\n      // model specific settings:\n      logit_bias: openaiOptions.logitBias,\n      logprobs: openaiOptions.logprobs === true || typeof openaiOptions.logprobs === \"number\" ? true : void 0,\n      top_logprobs: typeof openaiOptions.logprobs === \"number\" ? openaiOptions.logprobs : typeof openaiOptions.logprobs === \"boolean\" ? openaiOptions.logprobs ? 0 : void 0 : void 0,\n      user: openaiOptions.user,\n      parallel_tool_calls: openaiOptions.parallelToolCalls,\n      // standardized settings:\n      max_tokens: maxOutputTokens,\n      temperature,\n      top_p: topP,\n      frequency_penalty: frequencyPenalty,\n      presence_penalty: presencePenalty,\n      response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? responseFormat.schema != null ? {\n        type: \"json_schema\",\n        json_schema: {\n          schema: responseFormat.schema,\n          strict: strictJsonSchema,\n          name: (_e = responseFormat.name) != null ? _e : \"response\",\n          description: responseFormat.description\n        }\n      } : { type: \"json_object\" } : void 0,\n      stop: stopSequences,\n      seed,\n      verbosity: openaiOptions.textVerbosity,\n      // openai specific settings:\n      // TODO AI SDK 6: remove, we auto-map maxOutputTokens now\n      max_completion_tokens: openaiOptions.maxCompletionTokens,\n      store: openaiOptions.store,\n      metadata: openaiOptions.metadata,\n      prediction: openaiOptions.prediction,\n      reasoning_effort: openaiOptions.reasoningEffort,\n      service_tier: openaiOptions.serviceTier,\n      prompt_cache_key: openaiOptions.promptCacheKey,\n      prompt_cache_retention: openaiOptions.promptCacheRetention,\n      safety_identifier: openaiOptions.safetyIdentifier,\n      // messages:\n      messages\n    };\n    if (isReasoningModel) {\n      if (openaiOptions.reasoningEffort !== \"none\" || !modelCapabilities.supportsNonReasoningParameters) {\n        if (baseArgs.temperature != null) {\n          baseArgs.temperature = void 0;\n          warnings.push({\n            type: \"unsupported\",\n            feature: \"temperature\",\n            details: \"temperature is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.top_p != null) {\n          baseArgs.top_p = void 0;\n          warnings.push({\n            type: \"unsupported\",\n            feature: \"topP\",\n            details: \"topP is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.logprobs != null) {\n          baseArgs.logprobs = void 0;\n          warnings.push({\n            type: \"other\",\n            message: \"logprobs is not supported for reasoning models\"\n          });\n        }\n      }\n      if (baseArgs.frequency_penalty != null) {\n        baseArgs.frequency_penalty = void 0;\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"frequencyPenalty\",\n          details: \"frequencyPenalty is not supported for reasoning models\"\n        });\n      }\n      if (baseArgs.presence_penalty != null) {\n        baseArgs.presence_penalty = void 0;\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"presencePenalty\",\n          details: \"presencePenalty is not supported for reasoning models\"\n        });\n      }\n      if (baseArgs.logit_bias != null) {\n        baseArgs.logit_bias = void 0;\n        warnings.push({\n          type: \"other\",\n          message: \"logitBias is not supported for reasoning models\"\n        });\n      }\n      if (baseArgs.top_logprobs != null) {\n        baseArgs.top_logprobs = void 0;\n        warnings.push({\n          type: \"other\",\n          message: \"topLogprobs is not supported for reasoning models\"\n        });\n      }\n      if (baseArgs.max_tokens != null) {\n        if (baseArgs.max_completion_tokens == null) {\n          baseArgs.max_completion_tokens = baseArgs.max_tokens;\n        }\n        baseArgs.max_tokens = void 0;\n      }\n    } else if (this.modelId.startsWith(\"gpt-4o-search-preview\") || this.modelId.startsWith(\"gpt-4o-mini-search-preview\")) {\n      if (baseArgs.temperature != null) {\n        baseArgs.temperature = void 0;\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"temperature\",\n          details: \"temperature is not supported for the search preview models and has been removed.\"\n        });\n      }\n    }\n    if (openaiOptions.serviceTier === \"flex\" && !modelCapabilities.supportsFlexProcessing) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"serviceTier\",\n        details: \"flex processing is only available for o3, o4-mini, and gpt-5 models\"\n      });\n      baseArgs.service_tier = void 0;\n    }\n    if (openaiOptions.serviceTier === \"priority\" && !modelCapabilities.supportsPriorityProcessing) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"serviceTier\",\n        details: \"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported\"\n      });\n      baseArgs.service_tier = void 0;\n    }\n    const {\n      tools: openaiTools2,\n      toolChoice: openaiToolChoice,\n      toolWarnings\n    } = prepareChatTools({\n      tools,\n      toolChoice\n    });\n    return {\n      args: {\n        ...baseArgs,\n        tools: openaiTools2,\n        tool_choice: openaiToolChoice\n      },\n      warnings: [...warnings, ...toolWarnings]\n    };\n  }\n  async doGenerate(options) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const { args: body, warnings } = await this.getArgs(options);\n    const {\n      responseHeaders,\n      value: response,\n      rawValue: rawResponse\n    } = await postJsonToApi({\n      url: this.config.url({\n        path: \"/chat/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders(this.config.headers(), options.headers),\n      body,\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler(\n        openaiChatResponseSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const choice = response.choices[0];\n    const content = [];\n    const text = choice.message.content;\n    if (text != null && text.length > 0) {\n      content.push({ type: \"text\", text });\n    }\n    for (const toolCall of (_a = choice.message.tool_calls) != null ? _a : []) {\n      content.push({\n        type: \"tool-call\",\n        toolCallId: (_b = toolCall.id) != null ? _b : generateId(),\n        toolName: toolCall.function.name,\n        input: toolCall.function.arguments\n      });\n    }\n    for (const annotation of (_c = choice.message.annotations) != null ? _c : []) {\n      content.push({\n        type: \"source\",\n        sourceType: \"url\",\n        id: generateId(),\n        url: annotation.url_citation.url,\n        title: annotation.url_citation.title\n      });\n    }\n    const completionTokenDetails = (_d = response.usage) == null ? void 0 : _d.completion_tokens_details;\n    const promptTokenDetails = (_e = response.usage) == null ? void 0 : _e.prompt_tokens_details;\n    const providerMetadata = { openai: {} };\n    if ((completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens) != null) {\n      providerMetadata.openai.acceptedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.accepted_prediction_tokens;\n    }\n    if ((completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens) != null) {\n      providerMetadata.openai.rejectedPredictionTokens = completionTokenDetails == null ? void 0 : completionTokenDetails.rejected_prediction_tokens;\n    }\n    if (((_f = choice.logprobs) == null ? void 0 : _f.content) != null) {\n      providerMetadata.openai.logprobs = choice.logprobs.content;\n    }\n    return {\n      content,\n      finishReason: {\n        unified: mapOpenAIFinishReason(choice.finish_reason),\n        raw: (_g = choice.finish_reason) != null ? _g : void 0\n      },\n      usage: convertOpenAIChatUsage(response.usage),\n      request: { body },\n      response: {\n        ...getResponseMetadata(response),\n        headers: responseHeaders,\n        body: rawResponse\n      },\n      warnings,\n      providerMetadata\n    };\n  }\n  async doStream(options) {\n    const { args, warnings } = await this.getArgs(options);\n    const body = {\n      ...args,\n      stream: true,\n      stream_options: {\n        include_usage: true\n      }\n    };\n    const { responseHeaders, value: response } = await postJsonToApi({\n      url: this.config.url({\n        path: \"/chat/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders(this.config.headers(), options.headers),\n      body,\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createEventSourceResponseHandler(\n        openaiChatChunkSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const toolCalls = [];\n    let finishReason = {\n      unified: \"other\",\n      raw: void 0\n    };\n    let usage = void 0;\n    let metadataExtracted = false;\n    let isActiveText = false;\n    const providerMetadata = { openai: {} };\n    return {\n      stream: response.pipeThrough(\n        new TransformStream({\n          start(controller) {\n            controller.enqueue({ type: \"stream-start\", warnings });\n          },\n          transform(chunk, controller) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q;\n            if (options.includeRawChunks) {\n              controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n            }\n            if (!chunk.success) {\n              finishReason = { unified: \"error\", raw: void 0 };\n              controller.enqueue({ type: \"error\", error: chunk.error });\n              return;\n            }\n            const value = chunk.value;\n            if (\"error\" in value) {\n              finishReason = { unified: \"error\", raw: void 0 };\n              controller.enqueue({ type: \"error\", error: value.error });\n              return;\n            }\n            if (!metadataExtracted) {\n              const metadata = getResponseMetadata(value);\n              if (Object.values(metadata).some(Boolean)) {\n                metadataExtracted = true;\n                controller.enqueue({\n                  type: \"response-metadata\",\n                  ...getResponseMetadata(value)\n                });\n              }\n            }\n            if (value.usage != null) {\n              usage = value.usage;\n              if (((_a = value.usage.completion_tokens_details) == null ? void 0 : _a.accepted_prediction_tokens) != null) {\n                providerMetadata.openai.acceptedPredictionTokens = (_b = value.usage.completion_tokens_details) == null ? void 0 : _b.accepted_prediction_tokens;\n              }\n              if (((_c = value.usage.completion_tokens_details) == null ? void 0 : _c.rejected_prediction_tokens) != null) {\n                providerMetadata.openai.rejectedPredictionTokens = (_d = value.usage.completion_tokens_details) == null ? void 0 : _d.rejected_prediction_tokens;\n              }\n            }\n            const choice = value.choices[0];\n            if ((choice == null ? void 0 : choice.finish_reason) != null) {\n              finishReason = {\n                unified: mapOpenAIFinishReason(choice.finish_reason),\n                raw: choice.finish_reason\n              };\n            }\n            if (((_e = choice == null ? void 0 : choice.logprobs) == null ? void 0 : _e.content) != null) {\n              providerMetadata.openai.logprobs = choice.logprobs.content;\n            }\n            if ((choice == null ? void 0 : choice.delta) == null) {\n              return;\n            }\n            const delta = choice.delta;\n            if (delta.content != null) {\n              if (!isActiveText) {\n                controller.enqueue({ type: \"text-start\", id: \"0\" });\n                isActiveText = true;\n              }\n              controller.enqueue({\n                type: \"text-delta\",\n                id: \"0\",\n                delta: delta.content\n              });\n            }\n            if (delta.tool_calls != null) {\n              for (const toolCallDelta of delta.tool_calls) {\n                const index = toolCallDelta.index;\n                if (toolCalls[index] == null) {\n                  if (toolCallDelta.type !== \"function\") {\n                    throw new InvalidResponseDataError({\n                      data: toolCallDelta,\n                      message: `Expected 'function' type.`\n                    });\n                  }\n                  if (toolCallDelta.id == null) {\n                    throw new InvalidResponseDataError({\n                      data: toolCallDelta,\n                      message: `Expected 'id' to be a string.`\n                    });\n                  }\n                  if (((_f = toolCallDelta.function) == null ? void 0 : _f.name) == null) {\n                    throw new InvalidResponseDataError({\n                      data: toolCallDelta,\n                      message: `Expected 'function.name' to be a string.`\n                    });\n                  }\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: toolCallDelta.id,\n                    toolName: toolCallDelta.function.name\n                  });\n                  toolCalls[index] = {\n                    id: toolCallDelta.id,\n                    type: \"function\",\n                    function: {\n                      name: toolCallDelta.function.name,\n                      arguments: (_g = toolCallDelta.function.arguments) != null ? _g : \"\"\n                    },\n                    hasFinished: false\n                  };\n                  const toolCall2 = toolCalls[index];\n                  if (((_h = toolCall2.function) == null ? void 0 : _h.name) != null && ((_i = toolCall2.function) == null ? void 0 : _i.arguments) != null) {\n                    if (toolCall2.function.arguments.length > 0) {\n                      controller.enqueue({\n                        type: \"tool-input-delta\",\n                        id: toolCall2.id,\n                        delta: toolCall2.function.arguments\n                      });\n                    }\n                    if (isParsableJson(toolCall2.function.arguments)) {\n                      controller.enqueue({\n                        type: \"tool-input-end\",\n                        id: toolCall2.id\n                      });\n                      controller.enqueue({\n                        type: \"tool-call\",\n                        toolCallId: (_j = toolCall2.id) != null ? _j : generateId(),\n                        toolName: toolCall2.function.name,\n                        input: toolCall2.function.arguments\n                      });\n                      toolCall2.hasFinished = true;\n                    }\n                  }\n                  continue;\n                }\n                const toolCall = toolCalls[index];\n                if (toolCall.hasFinished) {\n                  continue;\n                }\n                if (((_k = toolCallDelta.function) == null ? void 0 : _k.arguments) != null) {\n                  toolCall.function.arguments += (_m = (_l = toolCallDelta.function) == null ? void 0 : _l.arguments) != null ? _m : \"\";\n                }\n                controller.enqueue({\n                  type: \"tool-input-delta\",\n                  id: toolCall.id,\n                  delta: (_n = toolCallDelta.function.arguments) != null ? _n : \"\"\n                });\n                if (((_o = toolCall.function) == null ? void 0 : _o.name) != null && ((_p = toolCall.function) == null ? void 0 : _p.arguments) != null && isParsableJson(toolCall.function.arguments)) {\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: toolCall.id\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: (_q = toolCall.id) != null ? _q : generateId(),\n                    toolName: toolCall.function.name,\n                    input: toolCall.function.arguments\n                  });\n                  toolCall.hasFinished = true;\n                }\n              }\n            }\n            if (delta.annotations != null) {\n              for (const annotation of delta.annotations) {\n                controller.enqueue({\n                  type: \"source\",\n                  sourceType: \"url\",\n                  id: generateId(),\n                  url: annotation.url_citation.url,\n                  title: annotation.url_citation.title\n                });\n              }\n            }\n          },\n          flush(controller) {\n            if (isActiveText) {\n              controller.enqueue({ type: \"text-end\", id: \"0\" });\n            }\n            controller.enqueue({\n              type: \"finish\",\n              finishReason,\n              usage: convertOpenAIChatUsage(usage),\n              ...providerMetadata != null ? { providerMetadata } : {}\n            });\n          }\n        })\n      ),\n      request: { body },\n      response: { headers: responseHeaders }\n    };\n  }\n};\n\n// src/completion/openai-completion-language-model.ts\nimport {\n  combineHeaders as combineHeaders2,\n  createEventSourceResponseHandler as createEventSourceResponseHandler2,\n  createJsonResponseHandler as createJsonResponseHandler2,\n  parseProviderOptions as parseProviderOptions2,\n  postJsonToApi as postJsonToApi2\n} from \"@ai-sdk/provider-utils\";\n\n// src/completion/convert-openai-completion-usage.ts\nfunction convertOpenAICompletionUsage(usage) {\n  var _a, _b, _c, _d;\n  if (usage == null) {\n    return {\n      inputTokens: {\n        total: void 0,\n        noCache: void 0,\n        cacheRead: void 0,\n        cacheWrite: void 0\n      },\n      outputTokens: {\n        total: void 0,\n        text: void 0,\n        reasoning: void 0\n      },\n      raw: void 0\n    };\n  }\n  const promptTokens = (_a = usage.prompt_tokens) != null ? _a : 0;\n  const completionTokens = (_b = usage.completion_tokens) != null ? _b : 0;\n  return {\n    inputTokens: {\n      total: (_c = usage.prompt_tokens) != null ? _c : void 0,\n      noCache: promptTokens,\n      cacheRead: void 0,\n      cacheWrite: void 0\n    },\n    outputTokens: {\n      total: (_d = usage.completion_tokens) != null ? _d : void 0,\n      text: completionTokens,\n      reasoning: void 0\n    },\n    raw: usage\n  };\n}\n\n// src/completion/convert-to-openai-completion-prompt.ts\nimport {\n  InvalidPromptError,\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError3\n} from \"@ai-sdk/provider\";\nfunction convertToOpenAICompletionPrompt({\n  prompt,\n  user = \"user\",\n  assistant = \"assistant\"\n}) {\n  let text = \"\";\n  if (prompt[0].role === \"system\") {\n    text += `${prompt[0].content}\n\n`;\n    prompt = prompt.slice(1);\n  }\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        throw new InvalidPromptError({\n          message: \"Unexpected system message in prompt: ${content}\",\n          prompt\n        });\n      }\n      case \"user\": {\n        const userMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n          }\n        }).filter(Boolean).join(\"\");\n        text += `${user}:\n${userMessage}\n\n`;\n        break;\n      }\n      case \"assistant\": {\n        const assistantMessage = content.map((part) => {\n          switch (part.type) {\n            case \"text\": {\n              return part.text;\n            }\n            case \"tool-call\": {\n              throw new UnsupportedFunctionalityError3({\n                functionality: \"tool-call messages\"\n              });\n            }\n          }\n        }).join(\"\");\n        text += `${assistant}:\n${assistantMessage}\n\n`;\n        break;\n      }\n      case \"tool\": {\n        throw new UnsupportedFunctionalityError3({\n          functionality: \"tool messages\"\n        });\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  text += `${assistant}:\n`;\n  return {\n    prompt: text,\n    stopSequences: [`\n${user}:`]\n  };\n}\n\n// src/completion/get-response-metadata.ts\nfunction getResponseMetadata2({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\n\n// src/completion/map-openai-finish-reason.ts\nfunction mapOpenAIFinishReason2(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"other\";\n  }\n}\n\n// src/completion/openai-completion-api.ts\nimport { z as z4 } from \"zod/v4\";\nimport { lazySchema as lazySchema3, zodSchema as zodSchema3 } from \"@ai-sdk/provider-utils\";\nvar openaiCompletionResponseSchema = lazySchema3(\n  () => zodSchema3(\n    z4.object({\n      id: z4.string().nullish(),\n      created: z4.number().nullish(),\n      model: z4.string().nullish(),\n      choices: z4.array(\n        z4.object({\n          text: z4.string(),\n          finish_reason: z4.string(),\n          logprobs: z4.object({\n            tokens: z4.array(z4.string()),\n            token_logprobs: z4.array(z4.number()),\n            top_logprobs: z4.array(z4.record(z4.string(), z4.number())).nullish()\n          }).nullish()\n        })\n      ),\n      usage: z4.object({\n        prompt_tokens: z4.number(),\n        completion_tokens: z4.number(),\n        total_tokens: z4.number()\n      }).nullish()\n    })\n  )\n);\nvar openaiCompletionChunkSchema = lazySchema3(\n  () => zodSchema3(\n    z4.union([\n      z4.object({\n        id: z4.string().nullish(),\n        created: z4.number().nullish(),\n        model: z4.string().nullish(),\n        choices: z4.array(\n          z4.object({\n            text: z4.string(),\n            finish_reason: z4.string().nullish(),\n            index: z4.number(),\n            logprobs: z4.object({\n              tokens: z4.array(z4.string()),\n              token_logprobs: z4.array(z4.number()),\n              top_logprobs: z4.array(z4.record(z4.string(), z4.number())).nullish()\n            }).nullish()\n          })\n        ),\n        usage: z4.object({\n          prompt_tokens: z4.number(),\n          completion_tokens: z4.number(),\n          total_tokens: z4.number()\n        }).nullish()\n      }),\n      openaiErrorDataSchema\n    ])\n  )\n);\n\n// src/completion/openai-completion-options.ts\nimport { lazySchema as lazySchema4, zodSchema as zodSchema4 } from \"@ai-sdk/provider-utils\";\nimport { z as z5 } from \"zod/v4\";\nvar openaiCompletionProviderOptions = lazySchema4(\n  () => zodSchema4(\n    z5.object({\n      /**\n      Echo back the prompt in addition to the completion.\n         */\n      echo: z5.boolean().optional(),\n      /**\n      Modify the likelihood of specified tokens appearing in the completion.\n      \n      Accepts a JSON object that maps tokens (specified by their token ID in\n      the GPT tokenizer) to an associated bias value from -100 to 100. You\n      can use this tokenizer tool to convert text to token IDs. Mathematically,\n      the bias is added to the logits generated by the model prior to sampling.\n      The exact effect will vary per model, but values between -1 and 1 should\n      decrease or increase likelihood of selection; values like -100 or 100\n      should result in a ban or exclusive selection of the relevant token.\n      \n      As an example, you can pass {\"50256\": -100} to prevent the <|endoftext|>\n      token from being generated.\n       */\n      logitBias: z5.record(z5.string(), z5.number()).optional(),\n      /**\n      The suffix that comes after a completion of inserted text.\n       */\n      suffix: z5.string().optional(),\n      /**\n      A unique identifier representing your end-user, which can help OpenAI to\n      monitor and detect abuse. Learn more.\n       */\n      user: z5.string().optional(),\n      /**\n      Return the log probabilities of the tokens. Including logprobs will increase\n      the response size and can slow down response times. However, it can\n      be useful to better understand how the model is behaving.\n      Setting to true will return the log probabilities of the tokens that\n      were generated.\n      Setting to a number will return the log probabilities of the top n\n      tokens that were generated.\n         */\n      logprobs: z5.union([z5.boolean(), z5.number()]).optional()\n    })\n  )\n);\n\n// src/completion/openai-completion-language-model.ts\nvar OpenAICompletionLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v3\";\n    this.supportedUrls = {\n      // No URLs are supported for completion models.\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get providerOptionsName() {\n    return this.config.provider.split(\".\")[0].trim();\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async getArgs({\n    prompt,\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    frequencyPenalty,\n    presencePenalty,\n    stopSequences: userStopSequences,\n    responseFormat,\n    tools,\n    toolChoice,\n    seed,\n    providerOptions\n  }) {\n    const warnings = [];\n    const openaiOptions = {\n      ...await parseProviderOptions2({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiCompletionProviderOptions\n      }),\n      ...await parseProviderOptions2({\n        provider: this.providerOptionsName,\n        providerOptions,\n        schema: openaiCompletionProviderOptions\n      })\n    };\n    if (topK != null) {\n      warnings.push({ type: \"unsupported\", feature: \"topK\" });\n    }\n    if (tools == null ? void 0 : tools.length) {\n      warnings.push({ type: \"unsupported\", feature: \"tools\" });\n    }\n    if (toolChoice != null) {\n      warnings.push({ type: \"unsupported\", feature: \"toolChoice\" });\n    }\n    if (responseFormat != null && responseFormat.type !== \"text\") {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"responseFormat\",\n        details: \"JSON response format is not supported.\"\n      });\n    }\n    const { prompt: completionPrompt, stopSequences } = convertToOpenAICompletionPrompt({ prompt });\n    const stop = [...stopSequences != null ? stopSequences : [], ...userStopSequences != null ? userStopSequences : []];\n    return {\n      args: {\n        // model id:\n        model: this.modelId,\n        // model specific settings:\n        echo: openaiOptions.echo,\n        logit_bias: openaiOptions.logitBias,\n        logprobs: (openaiOptions == null ? void 0 : openaiOptions.logprobs) === true ? 0 : (openaiOptions == null ? void 0 : openaiOptions.logprobs) === false ? void 0 : openaiOptions == null ? void 0 : openaiOptions.logprobs,\n        suffix: openaiOptions.suffix,\n        user: openaiOptions.user,\n        // standardized settings:\n        max_tokens: maxOutputTokens,\n        temperature,\n        top_p: topP,\n        frequency_penalty: frequencyPenalty,\n        presence_penalty: presencePenalty,\n        seed,\n        // prompt:\n        prompt: completionPrompt,\n        // stop sequences:\n        stop: stop.length > 0 ? stop : void 0\n      },\n      warnings\n    };\n  }\n  async doGenerate(options) {\n    var _a;\n    const { args, warnings } = await this.getArgs(options);\n    const {\n      responseHeaders,\n      value: response,\n      rawValue: rawResponse\n    } = await postJsonToApi2({\n      url: this.config.url({\n        path: \"/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders2(this.config.headers(), options.headers),\n      body: args,\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler2(\n        openaiCompletionResponseSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const choice = response.choices[0];\n    const providerMetadata = { openai: {} };\n    if (choice.logprobs != null) {\n      providerMetadata.openai.logprobs = choice.logprobs;\n    }\n    return {\n      content: [{ type: \"text\", text: choice.text }],\n      usage: convertOpenAICompletionUsage(response.usage),\n      finishReason: {\n        unified: mapOpenAIFinishReason2(choice.finish_reason),\n        raw: (_a = choice.finish_reason) != null ? _a : void 0\n      },\n      request: { body: args },\n      response: {\n        ...getResponseMetadata2(response),\n        headers: responseHeaders,\n        body: rawResponse\n      },\n      providerMetadata,\n      warnings\n    };\n  }\n  async doStream(options) {\n    const { args, warnings } = await this.getArgs(options);\n    const body = {\n      ...args,\n      stream: true,\n      stream_options: {\n        include_usage: true\n      }\n    };\n    const { responseHeaders, value: response } = await postJsonToApi2({\n      url: this.config.url({\n        path: \"/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders2(this.config.headers(), options.headers),\n      body,\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createEventSourceResponseHandler2(\n        openaiCompletionChunkSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    let finishReason = {\n      unified: \"other\",\n      raw: void 0\n    };\n    const providerMetadata = { openai: {} };\n    let usage = void 0;\n    let isFirstChunk = true;\n    return {\n      stream: response.pipeThrough(\n        new TransformStream({\n          start(controller) {\n            controller.enqueue({ type: \"stream-start\", warnings });\n          },\n          transform(chunk, controller) {\n            if (options.includeRawChunks) {\n              controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n            }\n            if (!chunk.success) {\n              finishReason = { unified: \"error\", raw: void 0 };\n              controller.enqueue({ type: \"error\", error: chunk.error });\n              return;\n            }\n            const value = chunk.value;\n            if (\"error\" in value) {\n              finishReason = { unified: \"error\", raw: void 0 };\n              controller.enqueue({ type: \"error\", error: value.error });\n              return;\n            }\n            if (isFirstChunk) {\n              isFirstChunk = false;\n              controller.enqueue({\n                type: \"response-metadata\",\n                ...getResponseMetadata2(value)\n              });\n              controller.enqueue({ type: \"text-start\", id: \"0\" });\n            }\n            if (value.usage != null) {\n              usage = value.usage;\n            }\n            const choice = value.choices[0];\n            if ((choice == null ? void 0 : choice.finish_reason) != null) {\n              finishReason = {\n                unified: mapOpenAIFinishReason2(choice.finish_reason),\n                raw: choice.finish_reason\n              };\n            }\n            if ((choice == null ? void 0 : choice.logprobs) != null) {\n              providerMetadata.openai.logprobs = choice.logprobs;\n            }\n            if ((choice == null ? void 0 : choice.text) != null && choice.text.length > 0) {\n              controller.enqueue({\n                type: \"text-delta\",\n                id: \"0\",\n                delta: choice.text\n              });\n            }\n          },\n          flush(controller) {\n            if (!isFirstChunk) {\n              controller.enqueue({ type: \"text-end\", id: \"0\" });\n            }\n            controller.enqueue({\n              type: \"finish\",\n              finishReason,\n              providerMetadata,\n              usage: convertOpenAICompletionUsage(usage)\n            });\n          }\n        })\n      ),\n      request: { body },\n      response: { headers: responseHeaders }\n    };\n  }\n};\n\n// src/embedding/openai-embedding-model.ts\nimport {\n  TooManyEmbeddingValuesForCallError\n} from \"@ai-sdk/provider\";\nimport {\n  combineHeaders as combineHeaders3,\n  createJsonResponseHandler as createJsonResponseHandler3,\n  parseProviderOptions as parseProviderOptions3,\n  postJsonToApi as postJsonToApi3\n} from \"@ai-sdk/provider-utils\";\n\n// src/embedding/openai-embedding-options.ts\nimport { lazySchema as lazySchema5, zodSchema as zodSchema5 } from \"@ai-sdk/provider-utils\";\nimport { z as z6 } from \"zod/v4\";\nvar openaiEmbeddingProviderOptions = lazySchema5(\n  () => zodSchema5(\n    z6.object({\n      /**\n      The number of dimensions the resulting output embeddings should have.\n      Only supported in text-embedding-3 and later models.\n         */\n      dimensions: z6.number().optional(),\n      /**\n      A unique identifier representing your end-user, which can help OpenAI to\n      monitor and detect abuse. Learn more.\n      */\n      user: z6.string().optional()\n    })\n  )\n);\n\n// src/embedding/openai-embedding-api.ts\nimport { lazySchema as lazySchema6, zodSchema as zodSchema6 } from \"@ai-sdk/provider-utils\";\nimport { z as z7 } from \"zod/v4\";\nvar openaiTextEmbeddingResponseSchema = lazySchema6(\n  () => zodSchema6(\n    z7.object({\n      data: z7.array(z7.object({ embedding: z7.array(z7.number()) })),\n      usage: z7.object({ prompt_tokens: z7.number() }).nullish()\n    })\n  )\n);\n\n// src/embedding/openai-embedding-model.ts\nvar OpenAIEmbeddingModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v3\";\n    this.maxEmbeddingsPerCall = 2048;\n    this.supportsParallelCalls = true;\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async doEmbed({\n    values,\n    headers,\n    abortSignal,\n    providerOptions\n  }) {\n    var _a;\n    if (values.length > this.maxEmbeddingsPerCall) {\n      throw new TooManyEmbeddingValuesForCallError({\n        provider: this.provider,\n        modelId: this.modelId,\n        maxEmbeddingsPerCall: this.maxEmbeddingsPerCall,\n        values\n      });\n    }\n    const openaiOptions = (_a = await parseProviderOptions3({\n      provider: \"openai\",\n      providerOptions,\n      schema: openaiEmbeddingProviderOptions\n    })) != null ? _a : {};\n    const {\n      responseHeaders,\n      value: response,\n      rawValue\n    } = await postJsonToApi3({\n      url: this.config.url({\n        path: \"/embeddings\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders3(this.config.headers(), headers),\n      body: {\n        model: this.modelId,\n        input: values,\n        encoding_format: \"float\",\n        dimensions: openaiOptions.dimensions,\n        user: openaiOptions.user\n      },\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler3(\n        openaiTextEmbeddingResponseSchema\n      ),\n      abortSignal,\n      fetch: this.config.fetch\n    });\n    return {\n      warnings: [],\n      embeddings: response.data.map((item) => item.embedding),\n      usage: response.usage ? { tokens: response.usage.prompt_tokens } : void 0,\n      response: { headers: responseHeaders, body: rawValue }\n    };\n  }\n};\n\n// src/image/openai-image-model.ts\nimport {\n  combineHeaders as combineHeaders4,\n  convertBase64ToUint8Array,\n  convertToFormData,\n  createJsonResponseHandler as createJsonResponseHandler4,\n  downloadBlob,\n  postFormDataToApi,\n  postJsonToApi as postJsonToApi4\n} from \"@ai-sdk/provider-utils\";\n\n// src/image/openai-image-api.ts\nimport { lazySchema as lazySchema7, zodSchema as zodSchema7 } from \"@ai-sdk/provider-utils\";\nimport { z as z8 } from \"zod/v4\";\nvar openaiImageResponseSchema = lazySchema7(\n  () => zodSchema7(\n    z8.object({\n      created: z8.number().nullish(),\n      data: z8.array(\n        z8.object({\n          b64_json: z8.string(),\n          revised_prompt: z8.string().nullish()\n        })\n      ),\n      background: z8.string().nullish(),\n      output_format: z8.string().nullish(),\n      size: z8.string().nullish(),\n      quality: z8.string().nullish(),\n      usage: z8.object({\n        input_tokens: z8.number().nullish(),\n        output_tokens: z8.number().nullish(),\n        total_tokens: z8.number().nullish(),\n        input_tokens_details: z8.object({\n          image_tokens: z8.number().nullish(),\n          text_tokens: z8.number().nullish()\n        }).nullish()\n      }).nullish()\n    })\n  )\n);\n\n// src/image/openai-image-options.ts\nvar modelMaxImagesPerCall = {\n  \"dall-e-3\": 1,\n  \"dall-e-2\": 10,\n  \"gpt-image-1\": 10,\n  \"gpt-image-1-mini\": 10,\n  \"gpt-image-1.5\": 10\n};\nvar defaultResponseFormatPrefixes = [\n  \"gpt-image-1-mini\",\n  \"gpt-image-1.5\",\n  \"gpt-image-1\"\n];\nfunction hasDefaultResponseFormat(modelId) {\n  return defaultResponseFormatPrefixes.some(\n    (prefix) => modelId.startsWith(prefix)\n  );\n}\n\n// src/image/openai-image-model.ts\nvar OpenAIImageModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v3\";\n  }\n  get maxImagesPerCall() {\n    var _a;\n    return (_a = modelMaxImagesPerCall[this.modelId]) != null ? _a : 1;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async doGenerate({\n    prompt,\n    files,\n    mask,\n    n,\n    size,\n    aspectRatio,\n    seed,\n    providerOptions,\n    headers,\n    abortSignal\n  }) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k;\n    const warnings = [];\n    if (aspectRatio != null) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"aspectRatio\",\n        details: \"This model does not support aspect ratio. Use `size` instead.\"\n      });\n    }\n    if (seed != null) {\n      warnings.push({ type: \"unsupported\", feature: \"seed\" });\n    }\n    const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n    if (files != null) {\n      const { value: response2, responseHeaders: responseHeaders2 } = await postFormDataToApi({\n        url: this.config.url({\n          path: \"/images/edits\",\n          modelId: this.modelId\n        }),\n        headers: combineHeaders4(this.config.headers(), headers),\n        formData: convertToFormData({\n          model: this.modelId,\n          prompt,\n          image: await Promise.all(\n            files.map(\n              (file) => file.type === \"file\" ? new Blob(\n                [\n                  file.data instanceof Uint8Array ? new Blob([file.data], {\n                    type: file.mediaType\n                  }) : new Blob([convertBase64ToUint8Array(file.data)], {\n                    type: file.mediaType\n                  })\n                ],\n                { type: file.mediaType }\n              ) : downloadBlob(file.url)\n            )\n          ),\n          mask: mask != null ? await fileToBlob(mask) : void 0,\n          n,\n          size,\n          ...(_d = providerOptions.openai) != null ? _d : {}\n        }),\n        failedResponseHandler: openaiFailedResponseHandler,\n        successfulResponseHandler: createJsonResponseHandler4(\n          openaiImageResponseSchema\n        ),\n        abortSignal,\n        fetch: this.config.fetch\n      });\n      return {\n        images: response2.data.map((item) => item.b64_json),\n        warnings,\n        usage: response2.usage != null ? {\n          inputTokens: (_e = response2.usage.input_tokens) != null ? _e : void 0,\n          outputTokens: (_f = response2.usage.output_tokens) != null ? _f : void 0,\n          totalTokens: (_g = response2.usage.total_tokens) != null ? _g : void 0\n        } : void 0,\n        response: {\n          timestamp: currentDate,\n          modelId: this.modelId,\n          headers: responseHeaders2\n        },\n        providerMetadata: {\n          openai: {\n            images: response2.data.map((item) => {\n              var _a2, _b2, _c2, _d2, _e2;\n              return {\n                ...item.revised_prompt ? { revisedPrompt: item.revised_prompt } : {},\n                created: (_a2 = response2.created) != null ? _a2 : void 0,\n                size: (_b2 = response2.size) != null ? _b2 : void 0,\n                quality: (_c2 = response2.quality) != null ? _c2 : void 0,\n                background: (_d2 = response2.background) != null ? _d2 : void 0,\n                outputFormat: (_e2 = response2.output_format) != null ? _e2 : void 0\n              };\n            })\n          }\n        }\n      };\n    }\n    const { value: response, responseHeaders } = await postJsonToApi4({\n      url: this.config.url({\n        path: \"/images/generations\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders4(this.config.headers(), headers),\n      body: {\n        model: this.modelId,\n        prompt,\n        n,\n        size,\n        ...(_h = providerOptions.openai) != null ? _h : {},\n        ...!hasDefaultResponseFormat(this.modelId) ? { response_format: \"b64_json\" } : {}\n      },\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler4(\n        openaiImageResponseSchema\n      ),\n      abortSignal,\n      fetch: this.config.fetch\n    });\n    return {\n      images: response.data.map((item) => item.b64_json),\n      warnings,\n      usage: response.usage != null ? {\n        inputTokens: (_i = response.usage.input_tokens) != null ? _i : void 0,\n        outputTokens: (_j = response.usage.output_tokens) != null ? _j : void 0,\n        totalTokens: (_k = response.usage.total_tokens) != null ? _k : void 0\n      } : void 0,\n      response: {\n        timestamp: currentDate,\n        modelId: this.modelId,\n        headers: responseHeaders\n      },\n      providerMetadata: {\n        openai: {\n          images: response.data.map((item) => {\n            var _a2, _b2, _c2, _d2, _e2;\n            return {\n              ...item.revised_prompt ? { revisedPrompt: item.revised_prompt } : {},\n              created: (_a2 = response.created) != null ? _a2 : void 0,\n              size: (_b2 = response.size) != null ? _b2 : void 0,\n              quality: (_c2 = response.quality) != null ? _c2 : void 0,\n              background: (_d2 = response.background) != null ? _d2 : void 0,\n              outputFormat: (_e2 = response.output_format) != null ? _e2 : void 0\n            };\n          })\n        }\n      }\n    };\n  }\n};\nasync function fileToBlob(file) {\n  if (!file) return void 0;\n  if (file.type === \"url\") {\n    return downloadBlob(file.url);\n  }\n  const data = file.data instanceof Uint8Array ? file.data : convertBase64ToUint8Array(file.data);\n  return new Blob([data], { type: file.mediaType });\n}\n\n// src/tool/apply-patch.ts\nimport {\n  createProviderToolFactoryWithOutputSchema,\n  lazySchema as lazySchema8,\n  zodSchema as zodSchema8\n} from \"@ai-sdk/provider-utils\";\nimport { z as z9 } from \"zod/v4\";\nvar applyPatchInputSchema = lazySchema8(\n  () => zodSchema8(\n    z9.object({\n      callId: z9.string(),\n      operation: z9.discriminatedUnion(\"type\", [\n        z9.object({\n          type: z9.literal(\"create_file\"),\n          path: z9.string(),\n          diff: z9.string()\n        }),\n        z9.object({\n          type: z9.literal(\"delete_file\"),\n          path: z9.string()\n        }),\n        z9.object({\n          type: z9.literal(\"update_file\"),\n          path: z9.string(),\n          diff: z9.string()\n        })\n      ])\n    })\n  )\n);\nvar applyPatchOutputSchema = lazySchema8(\n  () => zodSchema8(\n    z9.object({\n      status: z9.enum([\"completed\", \"failed\"]),\n      output: z9.string().optional()\n    })\n  )\n);\nvar applyPatchArgsSchema = lazySchema8(() => zodSchema8(z9.object({})));\nvar applyPatchToolFactory = createProviderToolFactoryWithOutputSchema({\n  id: \"openai.apply_patch\",\n  inputSchema: applyPatchInputSchema,\n  outputSchema: applyPatchOutputSchema\n});\nvar applyPatch = applyPatchToolFactory;\n\n// src/tool/code-interpreter.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema2,\n  lazySchema as lazySchema9,\n  zodSchema as zodSchema9\n} from \"@ai-sdk/provider-utils\";\nimport { z as z10 } from \"zod/v4\";\nvar codeInterpreterInputSchema = lazySchema9(\n  () => zodSchema9(\n    z10.object({\n      code: z10.string().nullish(),\n      containerId: z10.string()\n    })\n  )\n);\nvar codeInterpreterOutputSchema = lazySchema9(\n  () => zodSchema9(\n    z10.object({\n      outputs: z10.array(\n        z10.discriminatedUnion(\"type\", [\n          z10.object({ type: z10.literal(\"logs\"), logs: z10.string() }),\n          z10.object({ type: z10.literal(\"image\"), url: z10.string() })\n        ])\n      ).nullish()\n    })\n  )\n);\nvar codeInterpreterArgsSchema = lazySchema9(\n  () => zodSchema9(\n    z10.object({\n      container: z10.union([\n        z10.string(),\n        z10.object({\n          fileIds: z10.array(z10.string()).optional()\n        })\n      ]).optional()\n    })\n  )\n);\nvar codeInterpreterToolFactory = createProviderToolFactoryWithOutputSchema2({\n  id: \"openai.code_interpreter\",\n  inputSchema: codeInterpreterInputSchema,\n  outputSchema: codeInterpreterOutputSchema\n});\nvar codeInterpreter = (args = {}) => {\n  return codeInterpreterToolFactory(args);\n};\n\n// src/tool/file-search.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema3,\n  lazySchema as lazySchema10,\n  zodSchema as zodSchema10\n} from \"@ai-sdk/provider-utils\";\nimport { z as z11 } from \"zod/v4\";\nvar comparisonFilterSchema = z11.object({\n  key: z11.string(),\n  type: z11.enum([\"eq\", \"ne\", \"gt\", \"gte\", \"lt\", \"lte\", \"in\", \"nin\"]),\n  value: z11.union([z11.string(), z11.number(), z11.boolean(), z11.array(z11.string())])\n});\nvar compoundFilterSchema = z11.object({\n  type: z11.enum([\"and\", \"or\"]),\n  filters: z11.array(\n    z11.union([comparisonFilterSchema, z11.lazy(() => compoundFilterSchema)])\n  )\n});\nvar fileSearchArgsSchema = lazySchema10(\n  () => zodSchema10(\n    z11.object({\n      vectorStoreIds: z11.array(z11.string()),\n      maxNumResults: z11.number().optional(),\n      ranking: z11.object({\n        ranker: z11.string().optional(),\n        scoreThreshold: z11.number().optional()\n      }).optional(),\n      filters: z11.union([comparisonFilterSchema, compoundFilterSchema]).optional()\n    })\n  )\n);\nvar fileSearchOutputSchema = lazySchema10(\n  () => zodSchema10(\n    z11.object({\n      queries: z11.array(z11.string()),\n      results: z11.array(\n        z11.object({\n          attributes: z11.record(z11.string(), z11.unknown()),\n          fileId: z11.string(),\n          filename: z11.string(),\n          score: z11.number(),\n          text: z11.string()\n        })\n      ).nullable()\n    })\n  )\n);\nvar fileSearch = createProviderToolFactoryWithOutputSchema3({\n  id: \"openai.file_search\",\n  inputSchema: z11.object({}),\n  outputSchema: fileSearchOutputSchema\n});\n\n// src/tool/image-generation.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema4,\n  lazySchema as lazySchema11,\n  zodSchema as zodSchema11\n} from \"@ai-sdk/provider-utils\";\nimport { z as z12 } from \"zod/v4\";\nvar imageGenerationArgsSchema = lazySchema11(\n  () => zodSchema11(\n    z12.object({\n      background: z12.enum([\"auto\", \"opaque\", \"transparent\"]).optional(),\n      inputFidelity: z12.enum([\"low\", \"high\"]).optional(),\n      inputImageMask: z12.object({\n        fileId: z12.string().optional(),\n        imageUrl: z12.string().optional()\n      }).optional(),\n      model: z12.string().optional(),\n      moderation: z12.enum([\"auto\"]).optional(),\n      outputCompression: z12.number().int().min(0).max(100).optional(),\n      outputFormat: z12.enum([\"png\", \"jpeg\", \"webp\"]).optional(),\n      partialImages: z12.number().int().min(0).max(3).optional(),\n      quality: z12.enum([\"auto\", \"low\", \"medium\", \"high\"]).optional(),\n      size: z12.enum([\"1024x1024\", \"1024x1536\", \"1536x1024\", \"auto\"]).optional()\n    }).strict()\n  )\n);\nvar imageGenerationInputSchema = lazySchema11(() => zodSchema11(z12.object({})));\nvar imageGenerationOutputSchema = lazySchema11(\n  () => zodSchema11(z12.object({ result: z12.string() }))\n);\nvar imageGenerationToolFactory = createProviderToolFactoryWithOutputSchema4({\n  id: \"openai.image_generation\",\n  inputSchema: imageGenerationInputSchema,\n  outputSchema: imageGenerationOutputSchema\n});\nvar imageGeneration = (args = {}) => {\n  return imageGenerationToolFactory(args);\n};\n\n// src/tool/local-shell.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema5,\n  lazySchema as lazySchema12,\n  zodSchema as zodSchema12\n} from \"@ai-sdk/provider-utils\";\nimport { z as z13 } from \"zod/v4\";\nvar localShellInputSchema = lazySchema12(\n  () => zodSchema12(\n    z13.object({\n      action: z13.object({\n        type: z13.literal(\"exec\"),\n        command: z13.array(z13.string()),\n        timeoutMs: z13.number().optional(),\n        user: z13.string().optional(),\n        workingDirectory: z13.string().optional(),\n        env: z13.record(z13.string(), z13.string()).optional()\n      })\n    })\n  )\n);\nvar localShellOutputSchema = lazySchema12(\n  () => zodSchema12(z13.object({ output: z13.string() }))\n);\nvar localShell = createProviderToolFactoryWithOutputSchema5({\n  id: \"openai.local_shell\",\n  inputSchema: localShellInputSchema,\n  outputSchema: localShellOutputSchema\n});\n\n// src/tool/shell.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema6,\n  lazySchema as lazySchema13,\n  zodSchema as zodSchema13\n} from \"@ai-sdk/provider-utils\";\nimport { z as z14 } from \"zod/v4\";\nvar shellInputSchema = lazySchema13(\n  () => zodSchema13(\n    z14.object({\n      action: z14.object({\n        commands: z14.array(z14.string()),\n        timeoutMs: z14.number().optional(),\n        maxOutputLength: z14.number().optional()\n      })\n    })\n  )\n);\nvar shellOutputSchema = lazySchema13(\n  () => zodSchema13(\n    z14.object({\n      output: z14.array(\n        z14.object({\n          stdout: z14.string(),\n          stderr: z14.string(),\n          outcome: z14.discriminatedUnion(\"type\", [\n            z14.object({ type: z14.literal(\"timeout\") }),\n            z14.object({ type: z14.literal(\"exit\"), exitCode: z14.number() })\n          ])\n        })\n      )\n    })\n  )\n);\nvar shell = createProviderToolFactoryWithOutputSchema6({\n  id: \"openai.shell\",\n  inputSchema: shellInputSchema,\n  outputSchema: shellOutputSchema\n});\n\n// src/tool/web-search.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema7,\n  lazySchema as lazySchema14,\n  zodSchema as zodSchema14\n} from \"@ai-sdk/provider-utils\";\nimport { z as z15 } from \"zod/v4\";\nvar webSearchArgsSchema = lazySchema14(\n  () => zodSchema14(\n    z15.object({\n      externalWebAccess: z15.boolean().optional(),\n      filters: z15.object({ allowedDomains: z15.array(z15.string()).optional() }).optional(),\n      searchContextSize: z15.enum([\"low\", \"medium\", \"high\"]).optional(),\n      userLocation: z15.object({\n        type: z15.literal(\"approximate\"),\n        country: z15.string().optional(),\n        city: z15.string().optional(),\n        region: z15.string().optional(),\n        timezone: z15.string().optional()\n      }).optional()\n    })\n  )\n);\nvar webSearchInputSchema = lazySchema14(() => zodSchema14(z15.object({})));\nvar webSearchOutputSchema = lazySchema14(\n  () => zodSchema14(\n    z15.object({\n      action: z15.discriminatedUnion(\"type\", [\n        z15.object({\n          type: z15.literal(\"search\"),\n          query: z15.string().optional()\n        }),\n        z15.object({\n          type: z15.literal(\"openPage\"),\n          url: z15.string().nullish()\n        }),\n        z15.object({\n          type: z15.literal(\"findInPage\"),\n          url: z15.string().nullish(),\n          pattern: z15.string().nullish()\n        })\n      ]),\n      sources: z15.array(\n        z15.discriminatedUnion(\"type\", [\n          z15.object({ type: z15.literal(\"url\"), url: z15.string() }),\n          z15.object({ type: z15.literal(\"api\"), name: z15.string() })\n        ])\n      ).optional()\n    })\n  )\n);\nvar webSearchToolFactory = createProviderToolFactoryWithOutputSchema7({\n  id: \"openai.web_search\",\n  inputSchema: webSearchInputSchema,\n  outputSchema: webSearchOutputSchema\n});\nvar webSearch = (args = {}) => webSearchToolFactory(args);\n\n// src/tool/web-search-preview.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema8,\n  lazySchema as lazySchema15,\n  zodSchema as zodSchema15\n} from \"@ai-sdk/provider-utils\";\nimport { z as z16 } from \"zod/v4\";\nvar webSearchPreviewArgsSchema = lazySchema15(\n  () => zodSchema15(\n    z16.object({\n      searchContextSize: z16.enum([\"low\", \"medium\", \"high\"]).optional(),\n      userLocation: z16.object({\n        type: z16.literal(\"approximate\"),\n        country: z16.string().optional(),\n        city: z16.string().optional(),\n        region: z16.string().optional(),\n        timezone: z16.string().optional()\n      }).optional()\n    })\n  )\n);\nvar webSearchPreviewInputSchema = lazySchema15(\n  () => zodSchema15(z16.object({}))\n);\nvar webSearchPreviewOutputSchema = lazySchema15(\n  () => zodSchema15(\n    z16.object({\n      action: z16.discriminatedUnion(\"type\", [\n        z16.object({\n          type: z16.literal(\"search\"),\n          query: z16.string().optional()\n        }),\n        z16.object({\n          type: z16.literal(\"openPage\"),\n          url: z16.string().nullish()\n        }),\n        z16.object({\n          type: z16.literal(\"findInPage\"),\n          url: z16.string().nullish(),\n          pattern: z16.string().nullish()\n        })\n      ])\n    })\n  )\n);\nvar webSearchPreview = createProviderToolFactoryWithOutputSchema8({\n  id: \"openai.web_search_preview\",\n  inputSchema: webSearchPreviewInputSchema,\n  outputSchema: webSearchPreviewOutputSchema\n});\n\n// src/tool/mcp.ts\nimport {\n  createProviderToolFactoryWithOutputSchema as createProviderToolFactoryWithOutputSchema9,\n  lazySchema as lazySchema16,\n  zodSchema as zodSchema16\n} from \"@ai-sdk/provider-utils\";\nimport { z as z17 } from \"zod/v4\";\nvar jsonValueSchema = z17.lazy(\n  () => z17.union([\n    z17.string(),\n    z17.number(),\n    z17.boolean(),\n    z17.null(),\n    z17.array(jsonValueSchema),\n    z17.record(z17.string(), jsonValueSchema)\n  ])\n);\nvar mcpArgsSchema = lazySchema16(\n  () => zodSchema16(\n    z17.object({\n      serverLabel: z17.string(),\n      allowedTools: z17.union([\n        z17.array(z17.string()),\n        z17.object({\n          readOnly: z17.boolean().optional(),\n          toolNames: z17.array(z17.string()).optional()\n        })\n      ]).optional(),\n      authorization: z17.string().optional(),\n      connectorId: z17.string().optional(),\n      headers: z17.record(z17.string(), z17.string()).optional(),\n      requireApproval: z17.union([\n        z17.enum([\"always\", \"never\"]),\n        z17.object({\n          never: z17.object({\n            toolNames: z17.array(z17.string()).optional()\n          }).optional()\n        })\n      ]).optional(),\n      serverDescription: z17.string().optional(),\n      serverUrl: z17.string().optional()\n    }).refine(\n      (v) => v.serverUrl != null || v.connectorId != null,\n      \"One of serverUrl or connectorId must be provided.\"\n    )\n  )\n);\nvar mcpInputSchema = lazySchema16(() => zodSchema16(z17.object({})));\nvar mcpOutputSchema = lazySchema16(\n  () => zodSchema16(\n    z17.object({\n      type: z17.literal(\"call\"),\n      serverLabel: z17.string(),\n      name: z17.string(),\n      arguments: z17.string(),\n      output: z17.string().nullish(),\n      error: z17.union([z17.string(), jsonValueSchema]).optional()\n    })\n  )\n);\nvar mcpToolFactory = createProviderToolFactoryWithOutputSchema9({\n  id: \"openai.mcp\",\n  inputSchema: mcpInputSchema,\n  outputSchema: mcpOutputSchema\n});\nvar mcp = (args) => mcpToolFactory(args);\n\n// src/openai-tools.ts\nvar openaiTools = {\n  /**\n   * The apply_patch tool lets GPT-5.1 create, update, and delete files in your\n   * codebase using structured diffs. Instead of just suggesting edits, the model\n   * emits patch operations that your application applies and then reports back on,\n   * enabling iterative, multi-step code editing workflows.\n   *\n   */\n  applyPatch,\n  /**\n   * The Code Interpreter tool allows models to write and run Python code in a\n   * sandboxed environment to solve complex problems in domains like data analysis,\n   * coding, and math.\n   *\n   * @param container - The container to use for the code interpreter.\n   */\n  codeInterpreter,\n  /**\n   * File search is a tool available in the Responses API. It enables models to\n   * retrieve information in a knowledge base of previously uploaded files through\n   * semantic and keyword search.\n   *\n   * @param vectorStoreIds - The vector store IDs to use for the file search.\n   * @param maxNumResults - The maximum number of results to return.\n   * @param ranking - The ranking options to use for the file search.\n   * @param filters - The filters to use for the file search.\n   */\n  fileSearch,\n  /**\n   * The image generation tool allows you to generate images using a text prompt,\n   * and optionally image inputs. It leverages the GPT Image model,\n   * and automatically optimizes text inputs for improved performance.\n   *\n   * @param background - Background type for the generated image. One of 'auto', 'opaque', or 'transparent'.\n   * @param inputFidelity - Input fidelity for the generated image. One of 'low' or 'high'.\n   * @param inputImageMask - Optional mask for inpainting. Contains fileId and/or imageUrl.\n   * @param model - The image generation model to use. Default: gpt-image-1.\n   * @param moderation - Moderation level for the generated image. Default: 'auto'.\n   * @param outputCompression - Compression level for the output image (0-100).\n   * @param outputFormat - The output format of the generated image. One of 'png', 'jpeg', or 'webp'.\n   * @param partialImages - Number of partial images to generate in streaming mode (0-3).\n   * @param quality - The quality of the generated image. One of 'auto', 'low', 'medium', or 'high'.\n   * @param size - The size of the generated image. One of 'auto', '1024x1024', '1024x1536', or '1536x1024'.\n   */\n  imageGeneration,\n  /**\n   * Local shell is a tool that allows agents to run shell commands locally\n   * on a machine you or the user provides.\n   *\n   * Supported models: `gpt-5-codex` and `codex-mini-latest`\n   */\n  localShell,\n  /**\n   * The shell tool allows the model to interact with your local computer through\n   * a controlled command-line interface. The model proposes shell commands; your\n   * integration executes them and returns the outputs.\n   *\n   * Available through the Responses API for use with GPT-5.1.\n   *\n   * WARNING: Running arbitrary shell commands can be dangerous. Always sandbox\n   * execution or add strict allow-/deny-lists before forwarding a command to\n   * the system shell.\n   */\n  shell,\n  /**\n   * Web search allows models to access up-to-date information from the internet\n   * and provide answers with sourced citations.\n   *\n   * @param searchContextSize - The search context size to use for the web search.\n   * @param userLocation - The user location to use for the web search.\n   */\n  webSearchPreview,\n  /**\n   * Web search allows models to access up-to-date information from the internet\n   * and provide answers with sourced citations.\n   *\n   * @param filters - The filters to use for the web search.\n   * @param searchContextSize - The search context size to use for the web search.\n   * @param userLocation - The user location to use for the web search.\n   */\n  webSearch,\n  /**\n   * MCP (Model Context Protocol) allows models to call tools exposed by\n   * remote MCP servers or service connectors.\n   *\n   * @param serverLabel - Label to identify the MCP server.\n   * @param allowedTools - Allowed tool names or filter object.\n   * @param authorization - OAuth access token for the MCP server/connector.\n   * @param connectorId - Identifier for a service connector.\n   * @param headers - Optional headers to include in MCP requests.\n   * // param requireApproval - Approval policy ('always'|'never'|filter object). (Removed - always 'never')\n   * @param serverDescription - Optional description of the server.\n   * @param serverUrl - URL for the MCP server.\n   */\n  mcp\n};\n\n// src/responses/openai-responses-language-model.ts\nimport {\n  APICallError\n} from \"@ai-sdk/provider\";\nimport {\n  combineHeaders as combineHeaders5,\n  createEventSourceResponseHandler as createEventSourceResponseHandler3,\n  createJsonResponseHandler as createJsonResponseHandler5,\n  createToolNameMapping,\n  generateId as generateId2,\n  parseProviderOptions as parseProviderOptions5,\n  postJsonToApi as postJsonToApi5\n} from \"@ai-sdk/provider-utils\";\n\n// src/responses/convert-openai-responses-usage.ts\nfunction convertOpenAIResponsesUsage(usage) {\n  var _a, _b, _c, _d;\n  if (usage == null) {\n    return {\n      inputTokens: {\n        total: void 0,\n        noCache: void 0,\n        cacheRead: void 0,\n        cacheWrite: void 0\n      },\n      outputTokens: {\n        total: void 0,\n        text: void 0,\n        reasoning: void 0\n      },\n      raw: void 0\n    };\n  }\n  const inputTokens = usage.input_tokens;\n  const outputTokens = usage.output_tokens;\n  const cachedTokens = (_b = (_a = usage.input_tokens_details) == null ? void 0 : _a.cached_tokens) != null ? _b : 0;\n  const reasoningTokens = (_d = (_c = usage.output_tokens_details) == null ? void 0 : _c.reasoning_tokens) != null ? _d : 0;\n  return {\n    inputTokens: {\n      total: inputTokens,\n      noCache: inputTokens - cachedTokens,\n      cacheRead: cachedTokens,\n      cacheWrite: void 0\n    },\n    outputTokens: {\n      total: outputTokens,\n      text: outputTokens - reasoningTokens,\n      reasoning: reasoningTokens\n    },\n    raw: usage\n  };\n}\n\n// src/responses/convert-to-openai-responses-input.ts\nimport {\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError4\n} from \"@ai-sdk/provider\";\nimport {\n  convertToBase64 as convertToBase642,\n  isNonNullable,\n  parseProviderOptions as parseProviderOptions4,\n  validateTypes\n} from \"@ai-sdk/provider-utils\";\nimport { z as z18 } from \"zod/v4\";\nfunction isFileId(data, prefixes) {\n  if (!prefixes) return false;\n  return prefixes.some((prefix) => data.startsWith(prefix));\n}\nasync function convertToOpenAIResponsesInput({\n  prompt,\n  toolNameMapping,\n  systemMessageMode,\n  providerOptionsName,\n  fileIdPrefixes,\n  store,\n  hasLocalShellTool = false,\n  hasShellTool = false,\n  hasApplyPatchTool = false\n}) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m;\n  const input = [];\n  const warnings = [];\n  const processedApprovalIds = /* @__PURE__ */ new Set();\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        switch (systemMessageMode) {\n          case \"system\": {\n            input.push({ role: \"system\", content });\n            break;\n          }\n          case \"developer\": {\n            input.push({ role: \"developer\", content });\n            break;\n          }\n          case \"remove\": {\n            warnings.push({\n              type: \"other\",\n              message: \"system messages are removed for this model\"\n            });\n            break;\n          }\n          default: {\n            const _exhaustiveCheck = systemMessageMode;\n            throw new Error(\n              `Unsupported system message mode: ${_exhaustiveCheck}`\n            );\n          }\n        }\n        break;\n      }\n      case \"user\": {\n        input.push({\n          role: \"user\",\n          content: content.map((part, index) => {\n            var _a2, _b2, _c2;\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"input_text\", text: part.text };\n              }\n              case \"file\": {\n                if (part.mediaType.startsWith(\"image/\")) {\n                  const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                  return {\n                    type: \"input_image\",\n                    ...part.data instanceof URL ? { image_url: part.data.toString() } : typeof part.data === \"string\" && isFileId(part.data, fileIdPrefixes) ? { file_id: part.data } : {\n                      image_url: `data:${mediaType};base64,${convertToBase642(part.data)}`\n                    },\n                    detail: (_b2 = (_a2 = part.providerOptions) == null ? void 0 : _a2[providerOptionsName]) == null ? void 0 : _b2.imageDetail\n                  };\n                } else if (part.mediaType === \"application/pdf\") {\n                  if (part.data instanceof URL) {\n                    return {\n                      type: \"input_file\",\n                      file_url: part.data.toString()\n                    };\n                  }\n                  return {\n                    type: \"input_file\",\n                    ...typeof part.data === \"string\" && isFileId(part.data, fileIdPrefixes) ? { file_id: part.data } : {\n                      filename: (_c2 = part.filename) != null ? _c2 : `part-${index}.pdf`,\n                      file_data: `data:application/pdf;base64,${convertToBase642(part.data)}`\n                    }\n                  };\n                } else {\n                  throw new UnsupportedFunctionalityError4({\n                    functionality: `file part media type ${part.mediaType}`\n                  });\n                }\n              }\n            }\n          })\n        });\n        break;\n      }\n      case \"assistant\": {\n        const reasoningMessages = {};\n        for (const part of content) {\n          switch (part.type) {\n            case \"text\": {\n              const id = (_b = (_a = part.providerOptions) == null ? void 0 : _a[providerOptionsName]) == null ? void 0 : _b.itemId;\n              if (store && id != null) {\n                input.push({ type: \"item_reference\", id });\n                break;\n              }\n              input.push({\n                role: \"assistant\",\n                content: [{ type: \"output_text\", text: part.text }],\n                id\n              });\n              break;\n            }\n            case \"tool-call\": {\n              const id = (_g = (_d = (_c = part.providerOptions) == null ? void 0 : _c[providerOptionsName]) == null ? void 0 : _d.itemId) != null ? _g : (_f = (_e = part.providerMetadata) == null ? void 0 : _e[providerOptionsName]) == null ? void 0 : _f.itemId;\n              if (part.providerExecuted) {\n                if (store && id != null) {\n                  input.push({ type: \"item_reference\", id });\n                }\n                break;\n              }\n              if (store && id != null) {\n                input.push({ type: \"item_reference\", id });\n                break;\n              }\n              const resolvedToolName = toolNameMapping.toProviderToolName(\n                part.toolName\n              );\n              if (hasLocalShellTool && resolvedToolName === \"local_shell\") {\n                const parsedInput = await validateTypes({\n                  value: part.input,\n                  schema: localShellInputSchema\n                });\n                input.push({\n                  type: \"local_shell_call\",\n                  call_id: part.toolCallId,\n                  id,\n                  action: {\n                    type: \"exec\",\n                    command: parsedInput.action.command,\n                    timeout_ms: parsedInput.action.timeoutMs,\n                    user: parsedInput.action.user,\n                    working_directory: parsedInput.action.workingDirectory,\n                    env: parsedInput.action.env\n                  }\n                });\n                break;\n              }\n              if (hasShellTool && resolvedToolName === \"shell\") {\n                const parsedInput = await validateTypes({\n                  value: part.input,\n                  schema: shellInputSchema\n                });\n                input.push({\n                  type: \"shell_call\",\n                  call_id: part.toolCallId,\n                  id,\n                  status: \"completed\",\n                  action: {\n                    commands: parsedInput.action.commands,\n                    timeout_ms: parsedInput.action.timeoutMs,\n                    max_output_length: parsedInput.action.maxOutputLength\n                  }\n                });\n                break;\n              }\n              input.push({\n                type: \"function_call\",\n                call_id: part.toolCallId,\n                name: resolvedToolName,\n                arguments: JSON.stringify(part.input),\n                id\n              });\n              break;\n            }\n            // assistant tool result parts are from provider-executed tools:\n            case \"tool-result\": {\n              if (part.output.type === \"execution-denied\" || part.output.type === \"json\" && typeof part.output.value === \"object\" && part.output.value != null && \"type\" in part.output.value && part.output.value.type === \"execution-denied\") {\n                break;\n              }\n              if (store) {\n                const itemId = (_j = (_i = (_h = part.providerMetadata) == null ? void 0 : _h[providerOptionsName]) == null ? void 0 : _i.itemId) != null ? _j : part.toolCallId;\n                input.push({ type: \"item_reference\", id: itemId });\n              } else {\n                warnings.push({\n                  type: \"other\",\n                  message: `Results for OpenAI tool ${part.toolName} are not sent to the API when store is false`\n                });\n              }\n              break;\n            }\n            case \"reasoning\": {\n              const providerOptions = await parseProviderOptions4({\n                provider: providerOptionsName,\n                providerOptions: part.providerOptions,\n                schema: openaiResponsesReasoningProviderOptionsSchema\n              });\n              const reasoningId = providerOptions == null ? void 0 : providerOptions.itemId;\n              if (reasoningId != null) {\n                const reasoningMessage = reasoningMessages[reasoningId];\n                if (store) {\n                  if (reasoningMessage === void 0) {\n                    input.push({ type: \"item_reference\", id: reasoningId });\n                    reasoningMessages[reasoningId] = {\n                      type: \"reasoning\",\n                      id: reasoningId,\n                      summary: []\n                    };\n                  }\n                } else {\n                  const summaryParts = [];\n                  if (part.text.length > 0) {\n                    summaryParts.push({\n                      type: \"summary_text\",\n                      text: part.text\n                    });\n                  } else if (reasoningMessage !== void 0) {\n                    warnings.push({\n                      type: \"other\",\n                      message: `Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(part)}.`\n                    });\n                  }\n                  if (reasoningMessage === void 0) {\n                    reasoningMessages[reasoningId] = {\n                      type: \"reasoning\",\n                      id: reasoningId,\n                      encrypted_content: providerOptions == null ? void 0 : providerOptions.reasoningEncryptedContent,\n                      summary: summaryParts\n                    };\n                    input.push(reasoningMessages[reasoningId]);\n                  } else {\n                    reasoningMessage.summary.push(...summaryParts);\n                    if ((providerOptions == null ? void 0 : providerOptions.reasoningEncryptedContent) != null) {\n                      reasoningMessage.encrypted_content = providerOptions.reasoningEncryptedContent;\n                    }\n                  }\n                }\n              } else {\n                warnings.push({\n                  type: \"other\",\n                  message: `Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(part)}.`\n                });\n              }\n              break;\n            }\n          }\n        }\n        break;\n      }\n      case \"tool\": {\n        for (const part of content) {\n          if (part.type === \"tool-approval-response\") {\n            const approvalResponse = part;\n            if (processedApprovalIds.has(approvalResponse.approvalId)) {\n              continue;\n            }\n            processedApprovalIds.add(approvalResponse.approvalId);\n            if (store) {\n              input.push({\n                type: \"item_reference\",\n                id: approvalResponse.approvalId\n              });\n            }\n            input.push({\n              type: \"mcp_approval_response\",\n              approval_request_id: approvalResponse.approvalId,\n              approve: approvalResponse.approved\n            });\n            continue;\n          }\n          const output = part.output;\n          if (output.type === \"execution-denied\") {\n            const approvalId = (_l = (_k = output.providerOptions) == null ? void 0 : _k.openai) == null ? void 0 : _l.approvalId;\n            if (approvalId) {\n              continue;\n            }\n          }\n          const resolvedToolName = toolNameMapping.toProviderToolName(\n            part.toolName\n          );\n          if (hasLocalShellTool && resolvedToolName === \"local_shell\" && output.type === \"json\") {\n            const parsedOutput = await validateTypes({\n              value: output.value,\n              schema: localShellOutputSchema\n            });\n            input.push({\n              type: \"local_shell_call_output\",\n              call_id: part.toolCallId,\n              output: parsedOutput.output\n            });\n            continue;\n          }\n          if (hasShellTool && resolvedToolName === \"shell\" && output.type === \"json\") {\n            const parsedOutput = await validateTypes({\n              value: output.value,\n              schema: shellOutputSchema\n            });\n            input.push({\n              type: \"shell_call_output\",\n              call_id: part.toolCallId,\n              output: parsedOutput.output.map((item) => ({\n                stdout: item.stdout,\n                stderr: item.stderr,\n                outcome: item.outcome.type === \"timeout\" ? { type: \"timeout\" } : {\n                  type: \"exit\",\n                  exit_code: item.outcome.exitCode\n                }\n              }))\n            });\n            continue;\n          }\n          if (hasApplyPatchTool && part.toolName === \"apply_patch\" && output.type === \"json\") {\n            const parsedOutput = await validateTypes({\n              value: output.value,\n              schema: applyPatchOutputSchema\n            });\n            input.push({\n              type: \"apply_patch_call_output\",\n              call_id: part.toolCallId,\n              status: parsedOutput.status,\n              output: parsedOutput.output\n            });\n            continue;\n          }\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"execution-denied\":\n              contentValue = (_m = output.reason) != null ? _m : \"Tool execution denied.\";\n              break;\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n            case \"content\":\n              contentValue = output.value.map((item) => {\n                var _a2;\n                switch (item.type) {\n                  case \"text\": {\n                    return { type: \"input_text\", text: item.text };\n                  }\n                  case \"image-data\": {\n                    return {\n                      type: \"input_image\",\n                      image_url: `data:${item.mediaType};base64,${item.data}`\n                    };\n                  }\n                  case \"image-url\": {\n                    return {\n                      type: \"input_image\",\n                      image_url: item.url\n                    };\n                  }\n                  case \"file-data\": {\n                    return {\n                      type: \"input_file\",\n                      filename: (_a2 = item.filename) != null ? _a2 : \"data\",\n                      file_data: `data:${item.mediaType};base64,${item.data}`\n                    };\n                  }\n                  default: {\n                    warnings.push({\n                      type: \"other\",\n                      message: `unsupported tool content part type: ${item.type}`\n                    });\n                    return void 0;\n                  }\n                }\n              }).filter(isNonNullable);\n              break;\n          }\n          input.push({\n            type: \"function_call_output\",\n            call_id: part.toolCallId,\n            output: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return { input, warnings };\n}\nvar openaiResponsesReasoningProviderOptionsSchema = z18.object({\n  itemId: z18.string().nullish(),\n  reasoningEncryptedContent: z18.string().nullish()\n});\n\n// src/responses/map-openai-responses-finish-reason.ts\nfunction mapOpenAIResponseFinishReason({\n  finishReason,\n  hasFunctionCall\n}) {\n  switch (finishReason) {\n    case void 0:\n    case null:\n      return hasFunctionCall ? \"tool-calls\" : \"stop\";\n    case \"max_output_tokens\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    default:\n      return hasFunctionCall ? \"tool-calls\" : \"other\";\n  }\n}\n\n// src/responses/openai-responses-api.ts\nimport { lazySchema as lazySchema17, zodSchema as zodSchema17 } from \"@ai-sdk/provider-utils\";\nimport { z as z19 } from \"zod/v4\";\nvar openaiResponsesChunkSchema = lazySchema17(\n  () => zodSchema17(\n    z19.union([\n      z19.object({\n        type: z19.literal(\"response.output_text.delta\"),\n        item_id: z19.string(),\n        delta: z19.string(),\n        logprobs: z19.array(\n          z19.object({\n            token: z19.string(),\n            logprob: z19.number(),\n            top_logprobs: z19.array(\n              z19.object({\n                token: z19.string(),\n                logprob: z19.number()\n              })\n            )\n          })\n        ).nullish()\n      }),\n      z19.object({\n        type: z19.enum([\"response.completed\", \"response.incomplete\"]),\n        response: z19.object({\n          incomplete_details: z19.object({ reason: z19.string() }).nullish(),\n          usage: z19.object({\n            input_tokens: z19.number(),\n            input_tokens_details: z19.object({ cached_tokens: z19.number().nullish() }).nullish(),\n            output_tokens: z19.number(),\n            output_tokens_details: z19.object({ reasoning_tokens: z19.number().nullish() }).nullish()\n          }),\n          service_tier: z19.string().nullish()\n        })\n      }),\n      z19.object({\n        type: z19.literal(\"response.created\"),\n        response: z19.object({\n          id: z19.string(),\n          created_at: z19.number(),\n          model: z19.string(),\n          service_tier: z19.string().nullish()\n        })\n      }),\n      z19.object({\n        type: z19.literal(\"response.output_item.added\"),\n        output_index: z19.number(),\n        item: z19.discriminatedUnion(\"type\", [\n          z19.object({\n            type: z19.literal(\"message\"),\n            id: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"reasoning\"),\n            id: z19.string(),\n            encrypted_content: z19.string().nullish()\n          }),\n          z19.object({\n            type: z19.literal(\"function_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            name: z19.string(),\n            arguments: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"web_search_call\"),\n            id: z19.string(),\n            status: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"computer_call\"),\n            id: z19.string(),\n            status: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"file_search_call\"),\n            id: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"image_generation_call\"),\n            id: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"code_interpreter_call\"),\n            id: z19.string(),\n            container_id: z19.string(),\n            code: z19.string().nullable(),\n            outputs: z19.array(\n              z19.discriminatedUnion(\"type\", [\n                z19.object({ type: z19.literal(\"logs\"), logs: z19.string() }),\n                z19.object({ type: z19.literal(\"image\"), url: z19.string() })\n              ])\n            ).nullable(),\n            status: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"mcp_call\"),\n            id: z19.string(),\n            status: z19.string(),\n            approval_request_id: z19.string().nullish()\n          }),\n          z19.object({\n            type: z19.literal(\"mcp_list_tools\"),\n            id: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"mcp_approval_request\"),\n            id: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"apply_patch_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            status: z19.enum([\"in_progress\", \"completed\"]),\n            operation: z19.discriminatedUnion(\"type\", [\n              z19.object({\n                type: z19.literal(\"create_file\"),\n                path: z19.string(),\n                diff: z19.string()\n              }),\n              z19.object({\n                type: z19.literal(\"delete_file\"),\n                path: z19.string()\n              }),\n              z19.object({\n                type: z19.literal(\"update_file\"),\n                path: z19.string(),\n                diff: z19.string()\n              })\n            ])\n          }),\n          z19.object({\n            type: z19.literal(\"shell_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            status: z19.enum([\"in_progress\", \"completed\", \"incomplete\"]),\n            action: z19.object({\n              commands: z19.array(z19.string())\n            })\n          })\n        ])\n      }),\n      z19.object({\n        type: z19.literal(\"response.output_item.done\"),\n        output_index: z19.number(),\n        item: z19.discriminatedUnion(\"type\", [\n          z19.object({\n            type: z19.literal(\"message\"),\n            id: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"reasoning\"),\n            id: z19.string(),\n            encrypted_content: z19.string().nullish()\n          }),\n          z19.object({\n            type: z19.literal(\"function_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            name: z19.string(),\n            arguments: z19.string(),\n            status: z19.literal(\"completed\")\n          }),\n          z19.object({\n            type: z19.literal(\"code_interpreter_call\"),\n            id: z19.string(),\n            code: z19.string().nullable(),\n            container_id: z19.string(),\n            outputs: z19.array(\n              z19.discriminatedUnion(\"type\", [\n                z19.object({ type: z19.literal(\"logs\"), logs: z19.string() }),\n                z19.object({ type: z19.literal(\"image\"), url: z19.string() })\n              ])\n            ).nullable()\n          }),\n          z19.object({\n            type: z19.literal(\"image_generation_call\"),\n            id: z19.string(),\n            result: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"web_search_call\"),\n            id: z19.string(),\n            status: z19.string(),\n            action: z19.discriminatedUnion(\"type\", [\n              z19.object({\n                type: z19.literal(\"search\"),\n                query: z19.string().nullish(),\n                sources: z19.array(\n                  z19.discriminatedUnion(\"type\", [\n                    z19.object({ type: z19.literal(\"url\"), url: z19.string() }),\n                    z19.object({ type: z19.literal(\"api\"), name: z19.string() })\n                  ])\n                ).nullish()\n              }),\n              z19.object({\n                type: z19.literal(\"open_page\"),\n                url: z19.string().nullish()\n              }),\n              z19.object({\n                type: z19.literal(\"find_in_page\"),\n                url: z19.string().nullish(),\n                pattern: z19.string().nullish()\n              })\n            ])\n          }),\n          z19.object({\n            type: z19.literal(\"file_search_call\"),\n            id: z19.string(),\n            queries: z19.array(z19.string()),\n            results: z19.array(\n              z19.object({\n                attributes: z19.record(\n                  z19.string(),\n                  z19.union([z19.string(), z19.number(), z19.boolean()])\n                ),\n                file_id: z19.string(),\n                filename: z19.string(),\n                score: z19.number(),\n                text: z19.string()\n              })\n            ).nullish()\n          }),\n          z19.object({\n            type: z19.literal(\"local_shell_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            action: z19.object({\n              type: z19.literal(\"exec\"),\n              command: z19.array(z19.string()),\n              timeout_ms: z19.number().optional(),\n              user: z19.string().optional(),\n              working_directory: z19.string().optional(),\n              env: z19.record(z19.string(), z19.string()).optional()\n            })\n          }),\n          z19.object({\n            type: z19.literal(\"computer_call\"),\n            id: z19.string(),\n            status: z19.literal(\"completed\")\n          }),\n          z19.object({\n            type: z19.literal(\"mcp_call\"),\n            id: z19.string(),\n            status: z19.string(),\n            arguments: z19.string(),\n            name: z19.string(),\n            server_label: z19.string(),\n            output: z19.string().nullish(),\n            error: z19.union([\n              z19.string(),\n              z19.object({\n                type: z19.string().optional(),\n                code: z19.union([z19.number(), z19.string()]).optional(),\n                message: z19.string().optional()\n              }).loose()\n            ]).nullish(),\n            approval_request_id: z19.string().nullish()\n          }),\n          z19.object({\n            type: z19.literal(\"mcp_list_tools\"),\n            id: z19.string(),\n            server_label: z19.string(),\n            tools: z19.array(\n              z19.object({\n                name: z19.string(),\n                description: z19.string().optional(),\n                input_schema: z19.any(),\n                annotations: z19.record(z19.string(), z19.unknown()).optional()\n              })\n            ),\n            error: z19.union([\n              z19.string(),\n              z19.object({\n                type: z19.string().optional(),\n                code: z19.union([z19.number(), z19.string()]).optional(),\n                message: z19.string().optional()\n              }).loose()\n            ]).optional()\n          }),\n          z19.object({\n            type: z19.literal(\"mcp_approval_request\"),\n            id: z19.string(),\n            server_label: z19.string(),\n            name: z19.string(),\n            arguments: z19.string(),\n            approval_request_id: z19.string().optional()\n          }),\n          z19.object({\n            type: z19.literal(\"apply_patch_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            status: z19.enum([\"in_progress\", \"completed\"]),\n            operation: z19.discriminatedUnion(\"type\", [\n              z19.object({\n                type: z19.literal(\"create_file\"),\n                path: z19.string(),\n                diff: z19.string()\n              }),\n              z19.object({\n                type: z19.literal(\"delete_file\"),\n                path: z19.string()\n              }),\n              z19.object({\n                type: z19.literal(\"update_file\"),\n                path: z19.string(),\n                diff: z19.string()\n              })\n            ])\n          }),\n          z19.object({\n            type: z19.literal(\"shell_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            status: z19.enum([\"in_progress\", \"completed\", \"incomplete\"]),\n            action: z19.object({\n              commands: z19.array(z19.string())\n            })\n          })\n        ])\n      }),\n      z19.object({\n        type: z19.literal(\"response.function_call_arguments.delta\"),\n        item_id: z19.string(),\n        output_index: z19.number(),\n        delta: z19.string()\n      }),\n      z19.object({\n        type: z19.literal(\"response.image_generation_call.partial_image\"),\n        item_id: z19.string(),\n        output_index: z19.number(),\n        partial_image_b64: z19.string()\n      }),\n      z19.object({\n        type: z19.literal(\"response.code_interpreter_call_code.delta\"),\n        item_id: z19.string(),\n        output_index: z19.number(),\n        delta: z19.string()\n      }),\n      z19.object({\n        type: z19.literal(\"response.code_interpreter_call_code.done\"),\n        item_id: z19.string(),\n        output_index: z19.number(),\n        code: z19.string()\n      }),\n      z19.object({\n        type: z19.literal(\"response.output_text.annotation.added\"),\n        annotation: z19.discriminatedUnion(\"type\", [\n          z19.object({\n            type: z19.literal(\"url_citation\"),\n            start_index: z19.number(),\n            end_index: z19.number(),\n            url: z19.string(),\n            title: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"file_citation\"),\n            file_id: z19.string(),\n            filename: z19.string(),\n            index: z19.number()\n          }),\n          z19.object({\n            type: z19.literal(\"container_file_citation\"),\n            container_id: z19.string(),\n            file_id: z19.string(),\n            filename: z19.string(),\n            start_index: z19.number(),\n            end_index: z19.number()\n          }),\n          z19.object({\n            type: z19.literal(\"file_path\"),\n            file_id: z19.string(),\n            index: z19.number()\n          })\n        ])\n      }),\n      z19.object({\n        type: z19.literal(\"response.reasoning_summary_part.added\"),\n        item_id: z19.string(),\n        summary_index: z19.number()\n      }),\n      z19.object({\n        type: z19.literal(\"response.reasoning_summary_text.delta\"),\n        item_id: z19.string(),\n        summary_index: z19.number(),\n        delta: z19.string()\n      }),\n      z19.object({\n        type: z19.literal(\"response.reasoning_summary_part.done\"),\n        item_id: z19.string(),\n        summary_index: z19.number()\n      }),\n      z19.object({\n        type: z19.literal(\"response.apply_patch_call_operation_diff.delta\"),\n        item_id: z19.string(),\n        output_index: z19.number(),\n        delta: z19.string(),\n        obfuscation: z19.string().nullish()\n      }),\n      z19.object({\n        type: z19.literal(\"response.apply_patch_call_operation_diff.done\"),\n        item_id: z19.string(),\n        output_index: z19.number(),\n        diff: z19.string()\n      }),\n      z19.object({\n        type: z19.literal(\"error\"),\n        sequence_number: z19.number(),\n        error: z19.object({\n          type: z19.string(),\n          code: z19.string(),\n          message: z19.string(),\n          param: z19.string().nullish()\n        })\n      }),\n      z19.object({ type: z19.string() }).loose().transform((value) => ({\n        type: \"unknown_chunk\",\n        message: value.type\n      }))\n      // fallback for unknown chunks\n    ])\n  )\n);\nvar openaiResponsesResponseSchema = lazySchema17(\n  () => zodSchema17(\n    z19.object({\n      id: z19.string().optional(),\n      created_at: z19.number().optional(),\n      error: z19.object({\n        message: z19.string(),\n        type: z19.string(),\n        param: z19.string().nullish(),\n        code: z19.string()\n      }).nullish(),\n      model: z19.string().optional(),\n      output: z19.array(\n        z19.discriminatedUnion(\"type\", [\n          z19.object({\n            type: z19.literal(\"message\"),\n            role: z19.literal(\"assistant\"),\n            id: z19.string(),\n            content: z19.array(\n              z19.object({\n                type: z19.literal(\"output_text\"),\n                text: z19.string(),\n                logprobs: z19.array(\n                  z19.object({\n                    token: z19.string(),\n                    logprob: z19.number(),\n                    top_logprobs: z19.array(\n                      z19.object({\n                        token: z19.string(),\n                        logprob: z19.number()\n                      })\n                    )\n                  })\n                ).nullish(),\n                annotations: z19.array(\n                  z19.discriminatedUnion(\"type\", [\n                    z19.object({\n                      type: z19.literal(\"url_citation\"),\n                      start_index: z19.number(),\n                      end_index: z19.number(),\n                      url: z19.string(),\n                      title: z19.string()\n                    }),\n                    z19.object({\n                      type: z19.literal(\"file_citation\"),\n                      file_id: z19.string(),\n                      filename: z19.string(),\n                      index: z19.number()\n                    }),\n                    z19.object({\n                      type: z19.literal(\"container_file_citation\"),\n                      container_id: z19.string(),\n                      file_id: z19.string(),\n                      filename: z19.string(),\n                      start_index: z19.number(),\n                      end_index: z19.number()\n                    }),\n                    z19.object({\n                      type: z19.literal(\"file_path\"),\n                      file_id: z19.string(),\n                      index: z19.number()\n                    })\n                  ])\n                )\n              })\n            )\n          }),\n          z19.object({\n            type: z19.literal(\"web_search_call\"),\n            id: z19.string(),\n            status: z19.string(),\n            action: z19.discriminatedUnion(\"type\", [\n              z19.object({\n                type: z19.literal(\"search\"),\n                query: z19.string().nullish(),\n                sources: z19.array(\n                  z19.discriminatedUnion(\"type\", [\n                    z19.object({ type: z19.literal(\"url\"), url: z19.string() }),\n                    z19.object({ type: z19.literal(\"api\"), name: z19.string() })\n                  ])\n                ).nullish()\n              }),\n              z19.object({\n                type: z19.literal(\"open_page\"),\n                url: z19.string().nullish()\n              }),\n              z19.object({\n                type: z19.literal(\"find_in_page\"),\n                url: z19.string().nullish(),\n                pattern: z19.string().nullish()\n              })\n            ])\n          }),\n          z19.object({\n            type: z19.literal(\"file_search_call\"),\n            id: z19.string(),\n            queries: z19.array(z19.string()),\n            results: z19.array(\n              z19.object({\n                attributes: z19.record(\n                  z19.string(),\n                  z19.union([z19.string(), z19.number(), z19.boolean()])\n                ),\n                file_id: z19.string(),\n                filename: z19.string(),\n                score: z19.number(),\n                text: z19.string()\n              })\n            ).nullish()\n          }),\n          z19.object({\n            type: z19.literal(\"code_interpreter_call\"),\n            id: z19.string(),\n            code: z19.string().nullable(),\n            container_id: z19.string(),\n            outputs: z19.array(\n              z19.discriminatedUnion(\"type\", [\n                z19.object({ type: z19.literal(\"logs\"), logs: z19.string() }),\n                z19.object({ type: z19.literal(\"image\"), url: z19.string() })\n              ])\n            ).nullable()\n          }),\n          z19.object({\n            type: z19.literal(\"image_generation_call\"),\n            id: z19.string(),\n            result: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"local_shell_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            action: z19.object({\n              type: z19.literal(\"exec\"),\n              command: z19.array(z19.string()),\n              timeout_ms: z19.number().optional(),\n              user: z19.string().optional(),\n              working_directory: z19.string().optional(),\n              env: z19.record(z19.string(), z19.string()).optional()\n            })\n          }),\n          z19.object({\n            type: z19.literal(\"function_call\"),\n            call_id: z19.string(),\n            name: z19.string(),\n            arguments: z19.string(),\n            id: z19.string()\n          }),\n          z19.object({\n            type: z19.literal(\"computer_call\"),\n            id: z19.string(),\n            status: z19.string().optional()\n          }),\n          z19.object({\n            type: z19.literal(\"reasoning\"),\n            id: z19.string(),\n            encrypted_content: z19.string().nullish(),\n            summary: z19.array(\n              z19.object({\n                type: z19.literal(\"summary_text\"),\n                text: z19.string()\n              })\n            )\n          }),\n          z19.object({\n            type: z19.literal(\"mcp_call\"),\n            id: z19.string(),\n            status: z19.string(),\n            arguments: z19.string(),\n            name: z19.string(),\n            server_label: z19.string(),\n            output: z19.string().nullish(),\n            error: z19.union([\n              z19.string(),\n              z19.object({\n                type: z19.string().optional(),\n                code: z19.union([z19.number(), z19.string()]).optional(),\n                message: z19.string().optional()\n              }).loose()\n            ]).nullish(),\n            approval_request_id: z19.string().nullish()\n          }),\n          z19.object({\n            type: z19.literal(\"mcp_list_tools\"),\n            id: z19.string(),\n            server_label: z19.string(),\n            tools: z19.array(\n              z19.object({\n                name: z19.string(),\n                description: z19.string().optional(),\n                input_schema: z19.any(),\n                annotations: z19.record(z19.string(), z19.unknown()).optional()\n              })\n            ),\n            error: z19.union([\n              z19.string(),\n              z19.object({\n                type: z19.string().optional(),\n                code: z19.union([z19.number(), z19.string()]).optional(),\n                message: z19.string().optional()\n              }).loose()\n            ]).optional()\n          }),\n          z19.object({\n            type: z19.literal(\"mcp_approval_request\"),\n            id: z19.string(),\n            server_label: z19.string(),\n            name: z19.string(),\n            arguments: z19.string(),\n            approval_request_id: z19.string().optional()\n          }),\n          z19.object({\n            type: z19.literal(\"apply_patch_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            status: z19.enum([\"in_progress\", \"completed\"]),\n            operation: z19.discriminatedUnion(\"type\", [\n              z19.object({\n                type: z19.literal(\"create_file\"),\n                path: z19.string(),\n                diff: z19.string()\n              }),\n              z19.object({\n                type: z19.literal(\"delete_file\"),\n                path: z19.string()\n              }),\n              z19.object({\n                type: z19.literal(\"update_file\"),\n                path: z19.string(),\n                diff: z19.string()\n              })\n            ])\n          }),\n          z19.object({\n            type: z19.literal(\"shell_call\"),\n            id: z19.string(),\n            call_id: z19.string(),\n            status: z19.enum([\"in_progress\", \"completed\", \"incomplete\"]),\n            action: z19.object({\n              commands: z19.array(z19.string())\n            })\n          })\n        ])\n      ).optional(),\n      service_tier: z19.string().nullish(),\n      incomplete_details: z19.object({ reason: z19.string() }).nullish(),\n      usage: z19.object({\n        input_tokens: z19.number(),\n        input_tokens_details: z19.object({ cached_tokens: z19.number().nullish() }).nullish(),\n        output_tokens: z19.number(),\n        output_tokens_details: z19.object({ reasoning_tokens: z19.number().nullish() }).nullish()\n      }).optional()\n    })\n  )\n);\n\n// src/responses/openai-responses-options.ts\nimport { lazySchema as lazySchema18, zodSchema as zodSchema18 } from \"@ai-sdk/provider-utils\";\nimport { z as z20 } from \"zod/v4\";\nvar TOP_LOGPROBS_MAX = 20;\nvar openaiResponsesReasoningModelIds = [\n  \"o1\",\n  \"o1-2024-12-17\",\n  \"o3\",\n  \"o3-2025-04-16\",\n  \"o3-deep-research\",\n  \"o3-deep-research-2025-06-26\",\n  \"o3-mini\",\n  \"o3-mini-2025-01-31\",\n  \"o4-mini\",\n  \"o4-mini-2025-04-16\",\n  \"o4-mini-deep-research\",\n  \"o4-mini-deep-research-2025-06-26\",\n  \"codex-mini-latest\",\n  \"computer-use-preview\",\n  \"gpt-5\",\n  \"gpt-5-2025-08-07\",\n  \"gpt-5-codex\",\n  \"gpt-5-mini\",\n  \"gpt-5-mini-2025-08-07\",\n  \"gpt-5-nano\",\n  \"gpt-5-nano-2025-08-07\",\n  \"gpt-5-pro\",\n  \"gpt-5-pro-2025-10-06\",\n  \"gpt-5.1\",\n  \"gpt-5.1-chat-latest\",\n  \"gpt-5.1-codex-mini\",\n  \"gpt-5.1-codex\",\n  \"gpt-5.1-codex-max\",\n  \"gpt-5.2\",\n  \"gpt-5.2-chat-latest\",\n  \"gpt-5.2-pro\"\n];\nvar openaiResponsesModelIds = [\n  \"gpt-4.1\",\n  \"gpt-4.1-2025-04-14\",\n  \"gpt-4.1-mini\",\n  \"gpt-4.1-mini-2025-04-14\",\n  \"gpt-4.1-nano\",\n  \"gpt-4.1-nano-2025-04-14\",\n  \"gpt-4o\",\n  \"gpt-4o-2024-05-13\",\n  \"gpt-4o-2024-08-06\",\n  \"gpt-4o-2024-11-20\",\n  \"gpt-4o-audio-preview\",\n  \"gpt-4o-audio-preview-2024-10-01\",\n  \"gpt-4o-audio-preview-2024-12-17\",\n  \"gpt-4o-search-preview\",\n  \"gpt-4o-search-preview-2025-03-11\",\n  \"gpt-4o-mini-search-preview\",\n  \"gpt-4o-mini-search-preview-2025-03-11\",\n  \"gpt-4o-mini\",\n  \"gpt-4o-mini-2024-07-18\",\n  \"gpt-4-turbo\",\n  \"gpt-4-turbo-2024-04-09\",\n  \"gpt-4-turbo-preview\",\n  \"gpt-4-0125-preview\",\n  \"gpt-4-1106-preview\",\n  \"gpt-4\",\n  \"gpt-4-0613\",\n  \"gpt-4.5-preview\",\n  \"gpt-4.5-preview-2025-02-27\",\n  \"gpt-3.5-turbo-0125\",\n  \"gpt-3.5-turbo\",\n  \"gpt-3.5-turbo-1106\",\n  \"chatgpt-4o-latest\",\n  \"gpt-5-chat-latest\",\n  ...openaiResponsesReasoningModelIds\n];\nvar openaiResponsesProviderOptionsSchema = lazySchema18(\n  () => zodSchema18(\n    z20.object({\n      /**\n       * The ID of the OpenAI Conversation to continue.\n       * You must create a conversation first via the OpenAI API.\n       * Cannot be used in conjunction with `previousResponseId`.\n       * Defaults to `undefined`.\n       * @see https://platform.openai.com/docs/api-reference/conversations/create\n       */\n      conversation: z20.string().nullish(),\n      /**\n       * The set of extra fields to include in the response (advanced, usually not needed).\n       * Example values: 'reasoning.encrypted_content', 'file_search_call.results', 'message.output_text.logprobs'.\n       */\n      include: z20.array(\n        z20.enum([\n          \"reasoning.encrypted_content\",\n          // handled internally by default, only needed for unknown reasoning models\n          \"file_search_call.results\",\n          \"message.output_text.logprobs\"\n        ])\n      ).nullish(),\n      /**\n       * Instructions for the model.\n       * They can be used to change the system or developer message when continuing a conversation using the `previousResponseId` option.\n       * Defaults to `undefined`.\n       */\n      instructions: z20.string().nullish(),\n      /**\n       * Return the log probabilities of the tokens. Including logprobs will increase\n       * the response size and can slow down response times. However, it can\n       * be useful to better understand how the model is behaving.\n       *\n       * Setting to true will return the log probabilities of the tokens that\n       * were generated.\n       *\n       * Setting to a number will return the log probabilities of the top n\n       * tokens that were generated.\n       *\n       * @see https://platform.openai.com/docs/api-reference/responses/create\n       * @see https://cookbook.openai.com/examples/using_logprobs\n       */\n      logprobs: z20.union([z20.boolean(), z20.number().min(1).max(TOP_LOGPROBS_MAX)]).optional(),\n      /**\n       * The maximum number of total calls to built-in tools that can be processed in a response.\n       * This maximum number applies across all built-in tool calls, not per individual tool.\n       * Any further attempts to call a tool by the model will be ignored.\n       */\n      maxToolCalls: z20.number().nullish(),\n      /**\n       * Additional metadata to store with the generation.\n       */\n      metadata: z20.any().nullish(),\n      /**\n       * Whether to use parallel tool calls. Defaults to `true`.\n       */\n      parallelToolCalls: z20.boolean().nullish(),\n      /**\n       * The ID of the previous response. You can use it to continue a conversation.\n       * Defaults to `undefined`.\n       */\n      previousResponseId: z20.string().nullish(),\n      /**\n       * Sets a cache key to tie this prompt to cached prefixes for better caching performance.\n       */\n      promptCacheKey: z20.string().nullish(),\n      /**\n       * The retention policy for the prompt cache.\n       * - 'in_memory': Default. Standard prompt caching behavior.\n       * - '24h': Extended prompt caching that keeps cached prefixes active for up to 24 hours.\n       *          Currently only available for 5.1 series models.\n       *\n       * @default 'in_memory'\n       */\n      promptCacheRetention: z20.enum([\"in_memory\", \"24h\"]).nullish(),\n      /**\n       * Reasoning effort for reasoning models. Defaults to `medium`. If you use\n       * `providerOptions` to set the `reasoningEffort` option, this model setting will be ignored.\n       * Valid values: 'none' | 'minimal' | 'low' | 'medium' | 'high' | 'xhigh'\n       *\n       * The 'none' type for `reasoningEffort` is only available for OpenAI's GPT-5.1\n       * models. Also, the 'xhigh' type for `reasoningEffort` is only available for\n       * OpenAI's GPT-5.1-Codex-Max model. Setting `reasoningEffort` to 'none' or 'xhigh' with unsupported models will result in\n       * an error.\n       */\n      reasoningEffort: z20.string().nullish(),\n      /**\n       * Controls reasoning summary output from the model.\n       * Set to \"auto\" to automatically receive the richest level available,\n       * or \"detailed\" for comprehensive summaries.\n       */\n      reasoningSummary: z20.string().nullish(),\n      /**\n       * The identifier for safety monitoring and tracking.\n       */\n      safetyIdentifier: z20.string().nullish(),\n      /**\n       * Service tier for the request.\n       * Set to 'flex' for 50% cheaper processing at the cost of increased latency (available for o3, o4-mini, and gpt-5 models).\n       * Set to 'priority' for faster processing with Enterprise access (available for gpt-4, gpt-5, gpt-5-mini, o3, o4-mini; gpt-5-nano is not supported).\n       *\n       * Defaults to 'auto'.\n       */\n      serviceTier: z20.enum([\"auto\", \"flex\", \"priority\", \"default\"]).nullish(),\n      /**\n       * Whether to store the generation. Defaults to `true`.\n       */\n      store: z20.boolean().nullish(),\n      /**\n       * Whether to use strict JSON schema validation.\n       * Defaults to `true`.\n       */\n      strictJsonSchema: z20.boolean().nullish(),\n      /**\n       * Controls the verbosity of the model's responses. Lower values ('low') will result\n       * in more concise responses, while higher values ('high') will result in more verbose responses.\n       * Valid values: 'low', 'medium', 'high'.\n       */\n      textVerbosity: z20.enum([\"low\", \"medium\", \"high\"]).nullish(),\n      /**\n       * Controls output truncation. 'auto' (default) performs truncation automatically;\n       * 'disabled' turns truncation off.\n       */\n      truncation: z20.enum([\"auto\", \"disabled\"]).nullish(),\n      /**\n       * A unique identifier representing your end-user, which can help OpenAI to\n       * monitor and detect abuse.\n       * Defaults to `undefined`.\n       * @see https://platform.openai.com/docs/guides/safety-best-practices/end-user-ids\n       */\n      user: z20.string().nullish(),\n      /**\n       * Override the system message mode for this model.\n       * - 'system': Use the 'system' role for system messages (default for most models)\n       * - 'developer': Use the 'developer' role for system messages (used by reasoning models)\n       * - 'remove': Remove system messages entirely\n       *\n       * If not specified, the mode is automatically determined based on the model.\n       */\n      systemMessageMode: z20.enum([\"system\", \"developer\", \"remove\"]).optional(),\n      /**\n       * Force treating this model as a reasoning model.\n       *\n       * This is useful for \"stealth\" reasoning models (e.g. via a custom baseURL)\n       * where the model ID is not recognized by the SDK's allowlist.\n       *\n       * When enabled, the SDK applies reasoning-model parameter compatibility rules\n       * and defaults `systemMessageMode` to `developer` unless overridden.\n       */\n      forceReasoning: z20.boolean().optional()\n    })\n  )\n);\n\n// src/responses/openai-responses-prepare-tools.ts\nimport {\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError5\n} from \"@ai-sdk/provider\";\nimport { validateTypes as validateTypes2 } from \"@ai-sdk/provider-utils\";\nasync function prepareResponsesTools({\n  tools,\n  toolChoice\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const openaiTools2 = [];\n  for (const tool of tools) {\n    switch (tool.type) {\n      case \"function\":\n        openaiTools2.push({\n          type: \"function\",\n          name: tool.name,\n          description: tool.description,\n          parameters: tool.inputSchema,\n          ...tool.strict != null ? { strict: tool.strict } : {}\n        });\n        break;\n      case \"provider\": {\n        switch (tool.id) {\n          case \"openai.file_search\": {\n            const args = await validateTypes2({\n              value: tool.args,\n              schema: fileSearchArgsSchema\n            });\n            openaiTools2.push({\n              type: \"file_search\",\n              vector_store_ids: args.vectorStoreIds,\n              max_num_results: args.maxNumResults,\n              ranking_options: args.ranking ? {\n                ranker: args.ranking.ranker,\n                score_threshold: args.ranking.scoreThreshold\n              } : void 0,\n              filters: args.filters\n            });\n            break;\n          }\n          case \"openai.local_shell\": {\n            openaiTools2.push({\n              type: \"local_shell\"\n            });\n            break;\n          }\n          case \"openai.shell\": {\n            openaiTools2.push({\n              type: \"shell\"\n            });\n            break;\n          }\n          case \"openai.apply_patch\": {\n            openaiTools2.push({\n              type: \"apply_patch\"\n            });\n            break;\n          }\n          case \"openai.web_search_preview\": {\n            const args = await validateTypes2({\n              value: tool.args,\n              schema: webSearchPreviewArgsSchema\n            });\n            openaiTools2.push({\n              type: \"web_search_preview\",\n              search_context_size: args.searchContextSize,\n              user_location: args.userLocation\n            });\n            break;\n          }\n          case \"openai.web_search\": {\n            const args = await validateTypes2({\n              value: tool.args,\n              schema: webSearchArgsSchema\n            });\n            openaiTools2.push({\n              type: \"web_search\",\n              filters: args.filters != null ? { allowed_domains: args.filters.allowedDomains } : void 0,\n              external_web_access: args.externalWebAccess,\n              search_context_size: args.searchContextSize,\n              user_location: args.userLocation\n            });\n            break;\n          }\n          case \"openai.code_interpreter\": {\n            const args = await validateTypes2({\n              value: tool.args,\n              schema: codeInterpreterArgsSchema\n            });\n            openaiTools2.push({\n              type: \"code_interpreter\",\n              container: args.container == null ? { type: \"auto\", file_ids: void 0 } : typeof args.container === \"string\" ? args.container : { type: \"auto\", file_ids: args.container.fileIds }\n            });\n            break;\n          }\n          case \"openai.image_generation\": {\n            const args = await validateTypes2({\n              value: tool.args,\n              schema: imageGenerationArgsSchema\n            });\n            openaiTools2.push({\n              type: \"image_generation\",\n              background: args.background,\n              input_fidelity: args.inputFidelity,\n              input_image_mask: args.inputImageMask ? {\n                file_id: args.inputImageMask.fileId,\n                image_url: args.inputImageMask.imageUrl\n              } : void 0,\n              model: args.model,\n              moderation: args.moderation,\n              partial_images: args.partialImages,\n              quality: args.quality,\n              output_compression: args.outputCompression,\n              output_format: args.outputFormat,\n              size: args.size\n            });\n            break;\n          }\n          case \"openai.mcp\": {\n            const args = await validateTypes2({\n              value: tool.args,\n              schema: mcpArgsSchema\n            });\n            const mapApprovalFilter = (filter) => ({\n              tool_names: filter.toolNames\n            });\n            const requireApproval = args.requireApproval;\n            const requireApprovalParam = requireApproval == null ? void 0 : typeof requireApproval === \"string\" ? requireApproval : requireApproval.never != null ? { never: mapApprovalFilter(requireApproval.never) } : void 0;\n            openaiTools2.push({\n              type: \"mcp\",\n              server_label: args.serverLabel,\n              allowed_tools: Array.isArray(args.allowedTools) ? args.allowedTools : args.allowedTools ? {\n                read_only: args.allowedTools.readOnly,\n                tool_names: args.allowedTools.toolNames\n              } : void 0,\n              authorization: args.authorization,\n              connector_id: args.connectorId,\n              headers: args.headers,\n              require_approval: requireApprovalParam != null ? requireApprovalParam : \"never\",\n              server_description: args.serverDescription,\n              server_url: args.serverUrl\n            });\n            break;\n          }\n        }\n        break;\n      }\n      default:\n        toolWarnings.push({\n          type: \"unsupported\",\n          feature: `function tool ${tool}`\n        });\n        break;\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: openaiTools2, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n    case \"required\":\n      return { tools: openaiTools2, toolChoice: type, toolWarnings };\n    case \"tool\":\n      return {\n        tools: openaiTools2,\n        toolChoice: toolChoice.toolName === \"code_interpreter\" || toolChoice.toolName === \"file_search\" || toolChoice.toolName === \"image_generation\" || toolChoice.toolName === \"web_search_preview\" || toolChoice.toolName === \"web_search\" || toolChoice.toolName === \"mcp\" || toolChoice.toolName === \"apply_patch\" ? { type: toolChoice.toolName } : { type: \"function\", name: toolChoice.toolName },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new UnsupportedFunctionalityError5({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\n\n// src/responses/openai-responses-language-model.ts\nfunction extractApprovalRequestIdToToolCallIdMapping(prompt) {\n  var _a, _b;\n  const mapping = {};\n  for (const message of prompt) {\n    if (message.role !== \"assistant\") continue;\n    for (const part of message.content) {\n      if (part.type !== \"tool-call\") continue;\n      const approvalRequestId = (_b = (_a = part.providerOptions) == null ? void 0 : _a.openai) == null ? void 0 : _b.approvalRequestId;\n      if (approvalRequestId != null) {\n        mapping[approvalRequestId] = part.toolCallId;\n      }\n    }\n  }\n  return mapping;\n}\nvar OpenAIResponsesLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v3\";\n    this.supportedUrls = {\n      \"image/*\": [/^https?:\\/\\/.*$/],\n      \"application/pdf\": [/^https?:\\/\\/.*$/]\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async getArgs({\n    maxOutputTokens,\n    temperature,\n    stopSequences,\n    topP,\n    topK,\n    presencePenalty,\n    frequencyPenalty,\n    seed,\n    prompt,\n    providerOptions,\n    tools,\n    toolChoice,\n    responseFormat\n  }) {\n    var _a, _b, _c, _d, _e, _f;\n    const warnings = [];\n    const modelCapabilities = getOpenAILanguageModelCapabilities(this.modelId);\n    if (topK != null) {\n      warnings.push({ type: \"unsupported\", feature: \"topK\" });\n    }\n    if (seed != null) {\n      warnings.push({ type: \"unsupported\", feature: \"seed\" });\n    }\n    if (presencePenalty != null) {\n      warnings.push({ type: \"unsupported\", feature: \"presencePenalty\" });\n    }\n    if (frequencyPenalty != null) {\n      warnings.push({ type: \"unsupported\", feature: \"frequencyPenalty\" });\n    }\n    if (stopSequences != null) {\n      warnings.push({ type: \"unsupported\", feature: \"stopSequences\" });\n    }\n    const providerOptionsName = this.config.provider.includes(\"azure\") ? \"azure\" : \"openai\";\n    let openaiOptions = await parseProviderOptions5({\n      provider: providerOptionsName,\n      providerOptions,\n      schema: openaiResponsesProviderOptionsSchema\n    });\n    if (openaiOptions == null && providerOptionsName !== \"openai\") {\n      openaiOptions = await parseProviderOptions5({\n        provider: \"openai\",\n        providerOptions,\n        schema: openaiResponsesProviderOptionsSchema\n      });\n    }\n    const isReasoningModel = (_a = openaiOptions == null ? void 0 : openaiOptions.forceReasoning) != null ? _a : modelCapabilities.isReasoningModel;\n    if ((openaiOptions == null ? void 0 : openaiOptions.conversation) && (openaiOptions == null ? void 0 : openaiOptions.previousResponseId)) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"conversation\",\n        details: \"conversation and previousResponseId cannot be used together\"\n      });\n    }\n    const toolNameMapping = createToolNameMapping({\n      tools,\n      providerToolNames: {\n        \"openai.code_interpreter\": \"code_interpreter\",\n        \"openai.file_search\": \"file_search\",\n        \"openai.image_generation\": \"image_generation\",\n        \"openai.local_shell\": \"local_shell\",\n        \"openai.shell\": \"shell\",\n        \"openai.web_search\": \"web_search\",\n        \"openai.web_search_preview\": \"web_search_preview\",\n        \"openai.mcp\": \"mcp\",\n        \"openai.apply_patch\": \"apply_patch\"\n      }\n    });\n    const { input, warnings: inputWarnings } = await convertToOpenAIResponsesInput({\n      prompt,\n      toolNameMapping,\n      systemMessageMode: (_b = openaiOptions == null ? void 0 : openaiOptions.systemMessageMode) != null ? _b : isReasoningModel ? \"developer\" : modelCapabilities.systemMessageMode,\n      providerOptionsName,\n      fileIdPrefixes: this.config.fileIdPrefixes,\n      store: (_c = openaiOptions == null ? void 0 : openaiOptions.store) != null ? _c : true,\n      hasLocalShellTool: hasOpenAITool(\"openai.local_shell\"),\n      hasShellTool: hasOpenAITool(\"openai.shell\"),\n      hasApplyPatchTool: hasOpenAITool(\"openai.apply_patch\")\n    });\n    warnings.push(...inputWarnings);\n    const strictJsonSchema = (_d = openaiOptions == null ? void 0 : openaiOptions.strictJsonSchema) != null ? _d : true;\n    let include = openaiOptions == null ? void 0 : openaiOptions.include;\n    function addInclude(key) {\n      if (include == null) {\n        include = [key];\n      } else if (!include.includes(key)) {\n        include = [...include, key];\n      }\n    }\n    function hasOpenAITool(id) {\n      return (tools == null ? void 0 : tools.find((tool) => tool.type === \"provider\" && tool.id === id)) != null;\n    }\n    const topLogprobs = typeof (openaiOptions == null ? void 0 : openaiOptions.logprobs) === \"number\" ? openaiOptions == null ? void 0 : openaiOptions.logprobs : (openaiOptions == null ? void 0 : openaiOptions.logprobs) === true ? TOP_LOGPROBS_MAX : void 0;\n    if (topLogprobs) {\n      addInclude(\"message.output_text.logprobs\");\n    }\n    const webSearchToolName = (_e = tools == null ? void 0 : tools.find(\n      (tool) => tool.type === \"provider\" && (tool.id === \"openai.web_search\" || tool.id === \"openai.web_search_preview\")\n    )) == null ? void 0 : _e.name;\n    if (webSearchToolName) {\n      addInclude(\"web_search_call.action.sources\");\n    }\n    if (hasOpenAITool(\"openai.code_interpreter\")) {\n      addInclude(\"code_interpreter_call.outputs\");\n    }\n    const store = openaiOptions == null ? void 0 : openaiOptions.store;\n    if (store === false && isReasoningModel) {\n      addInclude(\"reasoning.encrypted_content\");\n    }\n    const baseArgs = {\n      model: this.modelId,\n      input,\n      temperature,\n      top_p: topP,\n      max_output_tokens: maxOutputTokens,\n      ...((responseFormat == null ? void 0 : responseFormat.type) === \"json\" || (openaiOptions == null ? void 0 : openaiOptions.textVerbosity)) && {\n        text: {\n          ...(responseFormat == null ? void 0 : responseFormat.type) === \"json\" && {\n            format: responseFormat.schema != null ? {\n              type: \"json_schema\",\n              strict: strictJsonSchema,\n              name: (_f = responseFormat.name) != null ? _f : \"response\",\n              description: responseFormat.description,\n              schema: responseFormat.schema\n            } : { type: \"json_object\" }\n          },\n          ...(openaiOptions == null ? void 0 : openaiOptions.textVerbosity) && {\n            verbosity: openaiOptions.textVerbosity\n          }\n        }\n      },\n      // provider options:\n      conversation: openaiOptions == null ? void 0 : openaiOptions.conversation,\n      max_tool_calls: openaiOptions == null ? void 0 : openaiOptions.maxToolCalls,\n      metadata: openaiOptions == null ? void 0 : openaiOptions.metadata,\n      parallel_tool_calls: openaiOptions == null ? void 0 : openaiOptions.parallelToolCalls,\n      previous_response_id: openaiOptions == null ? void 0 : openaiOptions.previousResponseId,\n      store,\n      user: openaiOptions == null ? void 0 : openaiOptions.user,\n      instructions: openaiOptions == null ? void 0 : openaiOptions.instructions,\n      service_tier: openaiOptions == null ? void 0 : openaiOptions.serviceTier,\n      include,\n      prompt_cache_key: openaiOptions == null ? void 0 : openaiOptions.promptCacheKey,\n      prompt_cache_retention: openaiOptions == null ? void 0 : openaiOptions.promptCacheRetention,\n      safety_identifier: openaiOptions == null ? void 0 : openaiOptions.safetyIdentifier,\n      top_logprobs: topLogprobs,\n      truncation: openaiOptions == null ? void 0 : openaiOptions.truncation,\n      // model-specific settings:\n      ...isReasoningModel && ((openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null || (openaiOptions == null ? void 0 : openaiOptions.reasoningSummary) != null) && {\n        reasoning: {\n          ...(openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null && {\n            effort: openaiOptions.reasoningEffort\n          },\n          ...(openaiOptions == null ? void 0 : openaiOptions.reasoningSummary) != null && {\n            summary: openaiOptions.reasoningSummary\n          }\n        }\n      }\n    };\n    if (isReasoningModel) {\n      if (!((openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) === \"none\" && modelCapabilities.supportsNonReasoningParameters)) {\n        if (baseArgs.temperature != null) {\n          baseArgs.temperature = void 0;\n          warnings.push({\n            type: \"unsupported\",\n            feature: \"temperature\",\n            details: \"temperature is not supported for reasoning models\"\n          });\n        }\n        if (baseArgs.top_p != null) {\n          baseArgs.top_p = void 0;\n          warnings.push({\n            type: \"unsupported\",\n            feature: \"topP\",\n            details: \"topP is not supported for reasoning models\"\n          });\n        }\n      }\n    } else {\n      if ((openaiOptions == null ? void 0 : openaiOptions.reasoningEffort) != null) {\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"reasoningEffort\",\n          details: \"reasoningEffort is not supported for non-reasoning models\"\n        });\n      }\n      if ((openaiOptions == null ? void 0 : openaiOptions.reasoningSummary) != null) {\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"reasoningSummary\",\n          details: \"reasoningSummary is not supported for non-reasoning models\"\n        });\n      }\n    }\n    if ((openaiOptions == null ? void 0 : openaiOptions.serviceTier) === \"flex\" && !modelCapabilities.supportsFlexProcessing) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"serviceTier\",\n        details: \"flex processing is only available for o3, o4-mini, and gpt-5 models\"\n      });\n      delete baseArgs.service_tier;\n    }\n    if ((openaiOptions == null ? void 0 : openaiOptions.serviceTier) === \"priority\" && !modelCapabilities.supportsPriorityProcessing) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"serviceTier\",\n        details: \"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported\"\n      });\n      delete baseArgs.service_tier;\n    }\n    const {\n      tools: openaiTools2,\n      toolChoice: openaiToolChoice,\n      toolWarnings\n    } = await prepareResponsesTools({\n      tools,\n      toolChoice\n    });\n    return {\n      webSearchToolName,\n      args: {\n        ...baseArgs,\n        tools: openaiTools2,\n        tool_choice: openaiToolChoice\n      },\n      warnings: [...warnings, ...toolWarnings],\n      store,\n      toolNameMapping,\n      providerOptionsName\n    };\n  }\n  async doGenerate(options) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y;\n    const {\n      args: body,\n      warnings,\n      webSearchToolName,\n      toolNameMapping,\n      providerOptionsName\n    } = await this.getArgs(options);\n    const url = this.config.url({\n      path: \"/responses\",\n      modelId: this.modelId\n    });\n    const approvalRequestIdToDummyToolCallIdFromPrompt = extractApprovalRequestIdToToolCallIdMapping(options.prompt);\n    const {\n      responseHeaders,\n      value: response,\n      rawValue: rawResponse\n    } = await postJsonToApi5({\n      url,\n      headers: combineHeaders5(this.config.headers(), options.headers),\n      body,\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler5(\n        openaiResponsesResponseSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    if (response.error) {\n      throw new APICallError({\n        message: response.error.message,\n        url,\n        requestBodyValues: body,\n        statusCode: 400,\n        responseHeaders,\n        responseBody: rawResponse,\n        isRetryable: false\n      });\n    }\n    const content = [];\n    const logprobs = [];\n    let hasFunctionCall = false;\n    for (const part of response.output) {\n      switch (part.type) {\n        case \"reasoning\": {\n          if (part.summary.length === 0) {\n            part.summary.push({ type: \"summary_text\", text: \"\" });\n          }\n          for (const summary of part.summary) {\n            content.push({\n              type: \"reasoning\",\n              text: summary.text,\n              providerMetadata: {\n                [providerOptionsName]: {\n                  itemId: part.id,\n                  reasoningEncryptedContent: (_a = part.encrypted_content) != null ? _a : null\n                }\n              }\n            });\n          }\n          break;\n        }\n        case \"image_generation_call\": {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\"image_generation\"),\n            input: \"{}\",\n            providerExecuted: true\n          });\n          content.push({\n            type: \"tool-result\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\"image_generation\"),\n            result: {\n              result: part.result\n            }\n          });\n          break;\n        }\n        case \"local_shell_call\": {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: part.call_id,\n            toolName: toolNameMapping.toCustomToolName(\"local_shell\"),\n            input: JSON.stringify({\n              action: part.action\n            }),\n            providerMetadata: {\n              [providerOptionsName]: {\n                itemId: part.id\n              }\n            }\n          });\n          break;\n        }\n        case \"shell_call\": {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: part.call_id,\n            toolName: toolNameMapping.toCustomToolName(\"shell\"),\n            input: JSON.stringify({\n              action: {\n                commands: part.action.commands\n              }\n            }),\n            providerMetadata: {\n              [providerOptionsName]: {\n                itemId: part.id\n              }\n            }\n          });\n          break;\n        }\n        case \"message\": {\n          for (const contentPart of part.content) {\n            if (((_c = (_b = options.providerOptions) == null ? void 0 : _b[providerOptionsName]) == null ? void 0 : _c.logprobs) && contentPart.logprobs) {\n              logprobs.push(contentPart.logprobs);\n            }\n            const providerMetadata2 = {\n              itemId: part.id,\n              ...contentPart.annotations.length > 0 && {\n                annotations: contentPart.annotations\n              }\n            };\n            content.push({\n              type: \"text\",\n              text: contentPart.text,\n              providerMetadata: {\n                [providerOptionsName]: providerMetadata2\n              }\n            });\n            for (const annotation of contentPart.annotations) {\n              if (annotation.type === \"url_citation\") {\n                content.push({\n                  type: \"source\",\n                  sourceType: \"url\",\n                  id: (_f = (_e = (_d = this.config).generateId) == null ? void 0 : _e.call(_d)) != null ? _f : generateId2(),\n                  url: annotation.url,\n                  title: annotation.title\n                });\n              } else if (annotation.type === \"file_citation\") {\n                content.push({\n                  type: \"source\",\n                  sourceType: \"document\",\n                  id: (_i = (_h = (_g = this.config).generateId) == null ? void 0 : _h.call(_g)) != null ? _i : generateId2(),\n                  mediaType: \"text/plain\",\n                  title: annotation.filename,\n                  filename: annotation.filename,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      type: annotation.type,\n                      fileId: annotation.file_id,\n                      index: annotation.index\n                    }\n                  }\n                });\n              } else if (annotation.type === \"container_file_citation\") {\n                content.push({\n                  type: \"source\",\n                  sourceType: \"document\",\n                  id: (_l = (_k = (_j = this.config).generateId) == null ? void 0 : _k.call(_j)) != null ? _l : generateId2(),\n                  mediaType: \"text/plain\",\n                  title: annotation.filename,\n                  filename: annotation.filename,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      type: annotation.type,\n                      fileId: annotation.file_id,\n                      containerId: annotation.container_id\n                    }\n                  }\n                });\n              } else if (annotation.type === \"file_path\") {\n                content.push({\n                  type: \"source\",\n                  sourceType: \"document\",\n                  id: (_o = (_n = (_m = this.config).generateId) == null ? void 0 : _n.call(_m)) != null ? _o : generateId2(),\n                  mediaType: \"application/octet-stream\",\n                  title: annotation.file_id,\n                  filename: annotation.file_id,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      type: annotation.type,\n                      fileId: annotation.file_id,\n                      index: annotation.index\n                    }\n                  }\n                });\n              }\n            }\n          }\n          break;\n        }\n        case \"function_call\": {\n          hasFunctionCall = true;\n          content.push({\n            type: \"tool-call\",\n            toolCallId: part.call_id,\n            toolName: part.name,\n            input: part.arguments,\n            providerMetadata: {\n              [providerOptionsName]: {\n                itemId: part.id\n              }\n            }\n          });\n          break;\n        }\n        case \"web_search_call\": {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\n              webSearchToolName != null ? webSearchToolName : \"web_search\"\n            ),\n            input: JSON.stringify({}),\n            providerExecuted: true\n          });\n          content.push({\n            type: \"tool-result\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\n              webSearchToolName != null ? webSearchToolName : \"web_search\"\n            ),\n            result: mapWebSearchOutput(part.action)\n          });\n          break;\n        }\n        case \"mcp_call\": {\n          const toolCallId = part.approval_request_id != null ? (_p = approvalRequestIdToDummyToolCallIdFromPrompt[part.approval_request_id]) != null ? _p : part.id : part.id;\n          const toolName = `mcp.${part.name}`;\n          content.push({\n            type: \"tool-call\",\n            toolCallId,\n            toolName,\n            input: part.arguments,\n            providerExecuted: true,\n            dynamic: true\n          });\n          content.push({\n            type: \"tool-result\",\n            toolCallId,\n            toolName,\n            result: {\n              type: \"call\",\n              serverLabel: part.server_label,\n              name: part.name,\n              arguments: part.arguments,\n              ...part.output != null ? { output: part.output } : {},\n              ...part.error != null ? { error: part.error } : {}\n            },\n            providerMetadata: {\n              [providerOptionsName]: {\n                itemId: part.id\n              }\n            }\n          });\n          break;\n        }\n        case \"mcp_list_tools\": {\n          break;\n        }\n        case \"mcp_approval_request\": {\n          const approvalRequestId = (_q = part.approval_request_id) != null ? _q : part.id;\n          const dummyToolCallId = (_t = (_s = (_r = this.config).generateId) == null ? void 0 : _s.call(_r)) != null ? _t : generateId2();\n          const toolName = `mcp.${part.name}`;\n          content.push({\n            type: \"tool-call\",\n            toolCallId: dummyToolCallId,\n            toolName,\n            input: part.arguments,\n            providerExecuted: true,\n            dynamic: true\n          });\n          content.push({\n            type: \"tool-approval-request\",\n            approvalId: approvalRequestId,\n            toolCallId: dummyToolCallId\n          });\n          break;\n        }\n        case \"computer_call\": {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\"computer_use\"),\n            input: \"\",\n            providerExecuted: true\n          });\n          content.push({\n            type: \"tool-result\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\"computer_use\"),\n            result: {\n              type: \"computer_use_tool_result\",\n              status: part.status || \"completed\"\n            }\n          });\n          break;\n        }\n        case \"file_search_call\": {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\"file_search\"),\n            input: \"{}\",\n            providerExecuted: true\n          });\n          content.push({\n            type: \"tool-result\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\"file_search\"),\n            result: {\n              queries: part.queries,\n              results: (_v = (_u = part.results) == null ? void 0 : _u.map((result) => ({\n                attributes: result.attributes,\n                fileId: result.file_id,\n                filename: result.filename,\n                score: result.score,\n                text: result.text\n              }))) != null ? _v : null\n            }\n          });\n          break;\n        }\n        case \"code_interpreter_call\": {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\"code_interpreter\"),\n            input: JSON.stringify({\n              code: part.code,\n              containerId: part.container_id\n            }),\n            providerExecuted: true\n          });\n          content.push({\n            type: \"tool-result\",\n            toolCallId: part.id,\n            toolName: toolNameMapping.toCustomToolName(\"code_interpreter\"),\n            result: {\n              outputs: part.outputs\n            }\n          });\n          break;\n        }\n        case \"apply_patch_call\": {\n          content.push({\n            type: \"tool-call\",\n            toolCallId: part.call_id,\n            toolName: toolNameMapping.toCustomToolName(\"apply_patch\"),\n            input: JSON.stringify({\n              callId: part.call_id,\n              operation: part.operation\n            }),\n            providerMetadata: {\n              [providerOptionsName]: {\n                itemId: part.id\n              }\n            }\n          });\n          break;\n        }\n      }\n    }\n    const providerMetadata = {\n      [providerOptionsName]: { responseId: response.id }\n    };\n    if (logprobs.length > 0) {\n      providerMetadata[providerOptionsName].logprobs = logprobs;\n    }\n    if (typeof response.service_tier === \"string\") {\n      providerMetadata[providerOptionsName].serviceTier = response.service_tier;\n    }\n    const usage = response.usage;\n    return {\n      content,\n      finishReason: {\n        unified: mapOpenAIResponseFinishReason({\n          finishReason: (_w = response.incomplete_details) == null ? void 0 : _w.reason,\n          hasFunctionCall\n        }),\n        raw: (_y = (_x = response.incomplete_details) == null ? void 0 : _x.reason) != null ? _y : void 0\n      },\n      usage: convertOpenAIResponsesUsage(usage),\n      request: { body },\n      response: {\n        id: response.id,\n        timestamp: new Date(response.created_at * 1e3),\n        modelId: response.model,\n        headers: responseHeaders,\n        body: rawResponse\n      },\n      providerMetadata,\n      warnings\n    };\n  }\n  async doStream(options) {\n    const {\n      args: body,\n      warnings,\n      webSearchToolName,\n      toolNameMapping,\n      store,\n      providerOptionsName\n    } = await this.getArgs(options);\n    const { responseHeaders, value: response } = await postJsonToApi5({\n      url: this.config.url({\n        path: \"/responses\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders5(this.config.headers(), options.headers),\n      body: {\n        ...body,\n        stream: true\n      },\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createEventSourceResponseHandler3(\n        openaiResponsesChunkSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const self = this;\n    const approvalRequestIdToDummyToolCallIdFromPrompt = extractApprovalRequestIdToToolCallIdMapping(options.prompt);\n    const approvalRequestIdToDummyToolCallIdFromStream = /* @__PURE__ */ new Map();\n    let finishReason = {\n      unified: \"other\",\n      raw: void 0\n    };\n    let usage = void 0;\n    const logprobs = [];\n    let responseId = null;\n    const ongoingToolCalls = {};\n    const ongoingAnnotations = [];\n    let hasFunctionCall = false;\n    const activeReasoning = {};\n    let serviceTier;\n    return {\n      stream: response.pipeThrough(\n        new TransformStream({\n          start(controller) {\n            controller.enqueue({ type: \"stream-start\", warnings });\n          },\n          transform(chunk, controller) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _A, _B, _C, _D;\n            if (options.includeRawChunks) {\n              controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n            }\n            if (!chunk.success) {\n              finishReason = { unified: \"error\", raw: void 0 };\n              controller.enqueue({ type: \"error\", error: chunk.error });\n              return;\n            }\n            const value = chunk.value;\n            if (isResponseOutputItemAddedChunk(value)) {\n              if (value.item.type === \"function_call\") {\n                ongoingToolCalls[value.output_index] = {\n                  toolName: value.item.name,\n                  toolCallId: value.item.call_id\n                };\n                controller.enqueue({\n                  type: \"tool-input-start\",\n                  id: value.item.call_id,\n                  toolName: value.item.name\n                });\n              } else if (value.item.type === \"web_search_call\") {\n                ongoingToolCalls[value.output_index] = {\n                  toolName: toolNameMapping.toCustomToolName(\n                    webSearchToolName != null ? webSearchToolName : \"web_search\"\n                  ),\n                  toolCallId: value.item.id\n                };\n                controller.enqueue({\n                  type: \"tool-input-start\",\n                  id: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\n                    webSearchToolName != null ? webSearchToolName : \"web_search\"\n                  ),\n                  providerExecuted: true\n                });\n                controller.enqueue({\n                  type: \"tool-input-end\",\n                  id: value.item.id\n                });\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\n                    webSearchToolName != null ? webSearchToolName : \"web_search\"\n                  ),\n                  input: JSON.stringify({}),\n                  providerExecuted: true\n                });\n              } else if (value.item.type === \"computer_call\") {\n                ongoingToolCalls[value.output_index] = {\n                  toolName: toolNameMapping.toCustomToolName(\"computer_use\"),\n                  toolCallId: value.item.id\n                };\n                controller.enqueue({\n                  type: \"tool-input-start\",\n                  id: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\"computer_use\"),\n                  providerExecuted: true\n                });\n              } else if (value.item.type === \"code_interpreter_call\") {\n                ongoingToolCalls[value.output_index] = {\n                  toolName: toolNameMapping.toCustomToolName(\"code_interpreter\"),\n                  toolCallId: value.item.id,\n                  codeInterpreter: {\n                    containerId: value.item.container_id\n                  }\n                };\n                controller.enqueue({\n                  type: \"tool-input-start\",\n                  id: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\"code_interpreter\"),\n                  providerExecuted: true\n                });\n                controller.enqueue({\n                  type: \"tool-input-delta\",\n                  id: value.item.id,\n                  delta: `{\"containerId\":\"${value.item.container_id}\",\"code\":\"`\n                });\n              } else if (value.item.type === \"file_search_call\") {\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\"file_search\"),\n                  input: \"{}\",\n                  providerExecuted: true\n                });\n              } else if (value.item.type === \"image_generation_call\") {\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\"image_generation\"),\n                  input: \"{}\",\n                  providerExecuted: true\n                });\n              } else if (value.item.type === \"mcp_call\" || value.item.type === \"mcp_list_tools\" || value.item.type === \"mcp_approval_request\") {\n              } else if (value.item.type === \"apply_patch_call\") {\n                const { call_id: callId, operation } = value.item;\n                ongoingToolCalls[value.output_index] = {\n                  toolName: toolNameMapping.toCustomToolName(\"apply_patch\"),\n                  toolCallId: callId,\n                  applyPatch: {\n                    // delete_file doesn't have diff\n                    hasDiff: operation.type === \"delete_file\",\n                    endEmitted: operation.type === \"delete_file\"\n                  }\n                };\n                controller.enqueue({\n                  type: \"tool-input-start\",\n                  id: callId,\n                  toolName: toolNameMapping.toCustomToolName(\"apply_patch\")\n                });\n                if (operation.type === \"delete_file\") {\n                  const inputString = JSON.stringify({\n                    callId,\n                    operation\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: callId,\n                    delta: inputString\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: callId\n                  });\n                } else {\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: callId,\n                    delta: `{\"callId\":\"${escapeJSONDelta(callId)}\",\"operation\":{\"type\":\"${escapeJSONDelta(operation.type)}\",\"path\":\"${escapeJSONDelta(operation.path)}\",\"diff\":\"`\n                  });\n                }\n              } else if (value.item.type === \"shell_call\") {\n                ongoingToolCalls[value.output_index] = {\n                  toolName: toolNameMapping.toCustomToolName(\"shell\"),\n                  toolCallId: value.item.call_id\n                };\n              } else if (value.item.type === \"message\") {\n                ongoingAnnotations.splice(0, ongoingAnnotations.length);\n                controller.enqueue({\n                  type: \"text-start\",\n                  id: value.item.id,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      itemId: value.item.id\n                    }\n                  }\n                });\n              } else if (isResponseOutputItemAddedChunk(value) && value.item.type === \"reasoning\") {\n                activeReasoning[value.item.id] = {\n                  encryptedContent: value.item.encrypted_content,\n                  summaryParts: { 0: \"active\" }\n                };\n                controller.enqueue({\n                  type: \"reasoning-start\",\n                  id: `${value.item.id}:0`,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      itemId: value.item.id,\n                      reasoningEncryptedContent: (_a = value.item.encrypted_content) != null ? _a : null\n                    }\n                  }\n                });\n              }\n            } else if (isResponseOutputItemDoneChunk(value)) {\n              if (value.item.type === \"message\") {\n                controller.enqueue({\n                  type: \"text-end\",\n                  id: value.item.id,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      itemId: value.item.id,\n                      ...ongoingAnnotations.length > 0 && {\n                        annotations: ongoingAnnotations\n                      }\n                    }\n                  }\n                });\n              } else if (value.item.type === \"function_call\") {\n                ongoingToolCalls[value.output_index] = void 0;\n                hasFunctionCall = true;\n                controller.enqueue({\n                  type: \"tool-input-end\",\n                  id: value.item.call_id\n                });\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: value.item.call_id,\n                  toolName: value.item.name,\n                  input: value.item.arguments,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      itemId: value.item.id\n                    }\n                  }\n                });\n              } else if (value.item.type === \"web_search_call\") {\n                ongoingToolCalls[value.output_index] = void 0;\n                controller.enqueue({\n                  type: \"tool-result\",\n                  toolCallId: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\n                    webSearchToolName != null ? webSearchToolName : \"web_search\"\n                  ),\n                  result: mapWebSearchOutput(value.item.action)\n                });\n              } else if (value.item.type === \"computer_call\") {\n                ongoingToolCalls[value.output_index] = void 0;\n                controller.enqueue({\n                  type: \"tool-input-end\",\n                  id: value.item.id\n                });\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\"computer_use\"),\n                  input: \"\",\n                  providerExecuted: true\n                });\n                controller.enqueue({\n                  type: \"tool-result\",\n                  toolCallId: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\"computer_use\"),\n                  result: {\n                    type: \"computer_use_tool_result\",\n                    status: value.item.status || \"completed\"\n                  }\n                });\n              } else if (value.item.type === \"file_search_call\") {\n                ongoingToolCalls[value.output_index] = void 0;\n                controller.enqueue({\n                  type: \"tool-result\",\n                  toolCallId: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\"file_search\"),\n                  result: {\n                    queries: value.item.queries,\n                    results: (_c = (_b = value.item.results) == null ? void 0 : _b.map((result) => ({\n                      attributes: result.attributes,\n                      fileId: result.file_id,\n                      filename: result.filename,\n                      score: result.score,\n                      text: result.text\n                    }))) != null ? _c : null\n                  }\n                });\n              } else if (value.item.type === \"code_interpreter_call\") {\n                ongoingToolCalls[value.output_index] = void 0;\n                controller.enqueue({\n                  type: \"tool-result\",\n                  toolCallId: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\"code_interpreter\"),\n                  result: {\n                    outputs: value.item.outputs\n                  }\n                });\n              } else if (value.item.type === \"image_generation_call\") {\n                controller.enqueue({\n                  type: \"tool-result\",\n                  toolCallId: value.item.id,\n                  toolName: toolNameMapping.toCustomToolName(\"image_generation\"),\n                  result: {\n                    result: value.item.result\n                  }\n                });\n              } else if (value.item.type === \"mcp_call\") {\n                ongoingToolCalls[value.output_index] = void 0;\n                const approvalRequestId = (_d = value.item.approval_request_id) != null ? _d : void 0;\n                const aliasedToolCallId = approvalRequestId != null ? (_f = (_e = approvalRequestIdToDummyToolCallIdFromStream.get(\n                  approvalRequestId\n                )) != null ? _e : approvalRequestIdToDummyToolCallIdFromPrompt[approvalRequestId]) != null ? _f : value.item.id : value.item.id;\n                const toolName = `mcp.${value.item.name}`;\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: aliasedToolCallId,\n                  toolName,\n                  input: value.item.arguments,\n                  providerExecuted: true,\n                  dynamic: true\n                });\n                controller.enqueue({\n                  type: \"tool-result\",\n                  toolCallId: aliasedToolCallId,\n                  toolName,\n                  result: {\n                    type: \"call\",\n                    serverLabel: value.item.server_label,\n                    name: value.item.name,\n                    arguments: value.item.arguments,\n                    ...value.item.output != null ? { output: value.item.output } : {},\n                    ...value.item.error != null ? { error: value.item.error } : {}\n                  },\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      itemId: value.item.id\n                    }\n                  }\n                });\n              } else if (value.item.type === \"mcp_list_tools\") {\n                ongoingToolCalls[value.output_index] = void 0;\n              } else if (value.item.type === \"apply_patch_call\") {\n                const toolCall = ongoingToolCalls[value.output_index];\n                if ((toolCall == null ? void 0 : toolCall.applyPatch) && !toolCall.applyPatch.endEmitted && value.item.operation.type !== \"delete_file\") {\n                  if (!toolCall.applyPatch.hasDiff) {\n                    controller.enqueue({\n                      type: \"tool-input-delta\",\n                      id: toolCall.toolCallId,\n                      delta: escapeJSONDelta(value.item.operation.diff)\n                    });\n                  }\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.toolCallId,\n                    delta: '\"}}'\n                  });\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: toolCall.toolCallId\n                  });\n                  toolCall.applyPatch.endEmitted = true;\n                }\n                if (toolCall && value.item.status === \"completed\") {\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: toolCall.toolCallId,\n                    toolName: toolNameMapping.toCustomToolName(\"apply_patch\"),\n                    input: JSON.stringify({\n                      callId: value.item.call_id,\n                      operation: value.item.operation\n                    }),\n                    providerMetadata: {\n                      [providerOptionsName]: {\n                        itemId: value.item.id\n                      }\n                    }\n                  });\n                }\n                ongoingToolCalls[value.output_index] = void 0;\n              } else if (value.item.type === \"mcp_approval_request\") {\n                ongoingToolCalls[value.output_index] = void 0;\n                const dummyToolCallId = (_i = (_h = (_g = self.config).generateId) == null ? void 0 : _h.call(_g)) != null ? _i : generateId2();\n                const approvalRequestId = (_j = value.item.approval_request_id) != null ? _j : value.item.id;\n                approvalRequestIdToDummyToolCallIdFromStream.set(\n                  approvalRequestId,\n                  dummyToolCallId\n                );\n                const toolName = `mcp.${value.item.name}`;\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: dummyToolCallId,\n                  toolName,\n                  input: value.item.arguments,\n                  providerExecuted: true,\n                  dynamic: true\n                });\n                controller.enqueue({\n                  type: \"tool-approval-request\",\n                  approvalId: approvalRequestId,\n                  toolCallId: dummyToolCallId\n                });\n              } else if (value.item.type === \"local_shell_call\") {\n                ongoingToolCalls[value.output_index] = void 0;\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: value.item.call_id,\n                  toolName: toolNameMapping.toCustomToolName(\"local_shell\"),\n                  input: JSON.stringify({\n                    action: {\n                      type: \"exec\",\n                      command: value.item.action.command,\n                      timeoutMs: value.item.action.timeout_ms,\n                      user: value.item.action.user,\n                      workingDirectory: value.item.action.working_directory,\n                      env: value.item.action.env\n                    }\n                  }),\n                  providerMetadata: {\n                    [providerOptionsName]: { itemId: value.item.id }\n                  }\n                });\n              } else if (value.item.type === \"shell_call\") {\n                ongoingToolCalls[value.output_index] = void 0;\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: value.item.call_id,\n                  toolName: toolNameMapping.toCustomToolName(\"shell\"),\n                  input: JSON.stringify({\n                    action: {\n                      commands: value.item.action.commands\n                    }\n                  }),\n                  providerMetadata: {\n                    [providerOptionsName]: { itemId: value.item.id }\n                  }\n                });\n              } else if (value.item.type === \"reasoning\") {\n                const activeReasoningPart = activeReasoning[value.item.id];\n                const summaryPartIndices = Object.entries(\n                  activeReasoningPart.summaryParts\n                ).filter(\n                  ([_, status]) => status === \"active\" || status === \"can-conclude\"\n                ).map(([summaryIndex]) => summaryIndex);\n                for (const summaryIndex of summaryPartIndices) {\n                  controller.enqueue({\n                    type: \"reasoning-end\",\n                    id: `${value.item.id}:${summaryIndex}`,\n                    providerMetadata: {\n                      [providerOptionsName]: {\n                        itemId: value.item.id,\n                        reasoningEncryptedContent: (_k = value.item.encrypted_content) != null ? _k : null\n                      }\n                    }\n                  });\n                }\n                delete activeReasoning[value.item.id];\n              }\n            } else if (isResponseFunctionCallArgumentsDeltaChunk(value)) {\n              const toolCall = ongoingToolCalls[value.output_index];\n              if (toolCall != null) {\n                controller.enqueue({\n                  type: \"tool-input-delta\",\n                  id: toolCall.toolCallId,\n                  delta: value.delta\n                });\n              }\n            } else if (isResponseApplyPatchCallOperationDiffDeltaChunk(value)) {\n              const toolCall = ongoingToolCalls[value.output_index];\n              if (toolCall == null ? void 0 : toolCall.applyPatch) {\n                controller.enqueue({\n                  type: \"tool-input-delta\",\n                  id: toolCall.toolCallId,\n                  delta: escapeJSONDelta(value.delta)\n                });\n                toolCall.applyPatch.hasDiff = true;\n              }\n            } else if (isResponseApplyPatchCallOperationDiffDoneChunk(value)) {\n              const toolCall = ongoingToolCalls[value.output_index];\n              if ((toolCall == null ? void 0 : toolCall.applyPatch) && !toolCall.applyPatch.endEmitted) {\n                if (!toolCall.applyPatch.hasDiff) {\n                  controller.enqueue({\n                    type: \"tool-input-delta\",\n                    id: toolCall.toolCallId,\n                    delta: escapeJSONDelta(value.diff)\n                  });\n                  toolCall.applyPatch.hasDiff = true;\n                }\n                controller.enqueue({\n                  type: \"tool-input-delta\",\n                  id: toolCall.toolCallId,\n                  delta: '\"}}'\n                });\n                controller.enqueue({\n                  type: \"tool-input-end\",\n                  id: toolCall.toolCallId\n                });\n                toolCall.applyPatch.endEmitted = true;\n              }\n            } else if (isResponseImageGenerationCallPartialImageChunk(value)) {\n              controller.enqueue({\n                type: \"tool-result\",\n                toolCallId: value.item_id,\n                toolName: toolNameMapping.toCustomToolName(\"image_generation\"),\n                result: {\n                  result: value.partial_image_b64\n                },\n                preliminary: true\n              });\n            } else if (isResponseCodeInterpreterCallCodeDeltaChunk(value)) {\n              const toolCall = ongoingToolCalls[value.output_index];\n              if (toolCall != null) {\n                controller.enqueue({\n                  type: \"tool-input-delta\",\n                  id: toolCall.toolCallId,\n                  delta: escapeJSONDelta(value.delta)\n                });\n              }\n            } else if (isResponseCodeInterpreterCallCodeDoneChunk(value)) {\n              const toolCall = ongoingToolCalls[value.output_index];\n              if (toolCall != null) {\n                controller.enqueue({\n                  type: \"tool-input-delta\",\n                  id: toolCall.toolCallId,\n                  delta: '\"}'\n                });\n                controller.enqueue({\n                  type: \"tool-input-end\",\n                  id: toolCall.toolCallId\n                });\n                controller.enqueue({\n                  type: \"tool-call\",\n                  toolCallId: toolCall.toolCallId,\n                  toolName: toolNameMapping.toCustomToolName(\"code_interpreter\"),\n                  input: JSON.stringify({\n                    code: value.code,\n                    containerId: toolCall.codeInterpreter.containerId\n                  }),\n                  providerExecuted: true\n                });\n              }\n            } else if (isResponseCreatedChunk(value)) {\n              responseId = value.response.id;\n              controller.enqueue({\n                type: \"response-metadata\",\n                id: value.response.id,\n                timestamp: new Date(value.response.created_at * 1e3),\n                modelId: value.response.model\n              });\n            } else if (isTextDeltaChunk(value)) {\n              controller.enqueue({\n                type: \"text-delta\",\n                id: value.item_id,\n                delta: value.delta\n              });\n              if (((_m = (_l = options.providerOptions) == null ? void 0 : _l[providerOptionsName]) == null ? void 0 : _m.logprobs) && value.logprobs) {\n                logprobs.push(value.logprobs);\n              }\n            } else if (value.type === \"response.reasoning_summary_part.added\") {\n              if (value.summary_index > 0) {\n                const activeReasoningPart = activeReasoning[value.item_id];\n                activeReasoningPart.summaryParts[value.summary_index] = \"active\";\n                for (const summaryIndex of Object.keys(\n                  activeReasoningPart.summaryParts\n                )) {\n                  if (activeReasoningPart.summaryParts[summaryIndex] === \"can-conclude\") {\n                    controller.enqueue({\n                      type: \"reasoning-end\",\n                      id: `${value.item_id}:${summaryIndex}`,\n                      providerMetadata: {\n                        [providerOptionsName]: { itemId: value.item_id }\n                      }\n                    });\n                    activeReasoningPart.summaryParts[summaryIndex] = \"concluded\";\n                  }\n                }\n                controller.enqueue({\n                  type: \"reasoning-start\",\n                  id: `${value.item_id}:${value.summary_index}`,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      itemId: value.item_id,\n                      reasoningEncryptedContent: (_o = (_n = activeReasoning[value.item_id]) == null ? void 0 : _n.encryptedContent) != null ? _o : null\n                    }\n                  }\n                });\n              }\n            } else if (value.type === \"response.reasoning_summary_text.delta\") {\n              controller.enqueue({\n                type: \"reasoning-delta\",\n                id: `${value.item_id}:${value.summary_index}`,\n                delta: value.delta,\n                providerMetadata: {\n                  [providerOptionsName]: {\n                    itemId: value.item_id\n                  }\n                }\n              });\n            } else if (value.type === \"response.reasoning_summary_part.done\") {\n              if (store) {\n                controller.enqueue({\n                  type: \"reasoning-end\",\n                  id: `${value.item_id}:${value.summary_index}`,\n                  providerMetadata: {\n                    [providerOptionsName]: { itemId: value.item_id }\n                  }\n                });\n                activeReasoning[value.item_id].summaryParts[value.summary_index] = \"concluded\";\n              } else {\n                activeReasoning[value.item_id].summaryParts[value.summary_index] = \"can-conclude\";\n              }\n            } else if (isResponseFinishedChunk(value)) {\n              finishReason = {\n                unified: mapOpenAIResponseFinishReason({\n                  finishReason: (_p = value.response.incomplete_details) == null ? void 0 : _p.reason,\n                  hasFunctionCall\n                }),\n                raw: (_r = (_q = value.response.incomplete_details) == null ? void 0 : _q.reason) != null ? _r : void 0\n              };\n              usage = value.response.usage;\n              if (typeof value.response.service_tier === \"string\") {\n                serviceTier = value.response.service_tier;\n              }\n            } else if (isResponseAnnotationAddedChunk(value)) {\n              ongoingAnnotations.push(value.annotation);\n              if (value.annotation.type === \"url_citation\") {\n                controller.enqueue({\n                  type: \"source\",\n                  sourceType: \"url\",\n                  id: (_u = (_t = (_s = self.config).generateId) == null ? void 0 : _t.call(_s)) != null ? _u : generateId2(),\n                  url: value.annotation.url,\n                  title: value.annotation.title\n                });\n              } else if (value.annotation.type === \"file_citation\") {\n                controller.enqueue({\n                  type: \"source\",\n                  sourceType: \"document\",\n                  id: (_x = (_w = (_v = self.config).generateId) == null ? void 0 : _w.call(_v)) != null ? _x : generateId2(),\n                  mediaType: \"text/plain\",\n                  title: value.annotation.filename,\n                  filename: value.annotation.filename,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      type: value.annotation.type,\n                      fileId: value.annotation.file_id,\n                      index: value.annotation.index\n                    }\n                  }\n                });\n              } else if (value.annotation.type === \"container_file_citation\") {\n                controller.enqueue({\n                  type: \"source\",\n                  sourceType: \"document\",\n                  id: (_A = (_z = (_y = self.config).generateId) == null ? void 0 : _z.call(_y)) != null ? _A : generateId2(),\n                  mediaType: \"text/plain\",\n                  title: value.annotation.filename,\n                  filename: value.annotation.filename,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      type: value.annotation.type,\n                      fileId: value.annotation.file_id,\n                      containerId: value.annotation.container_id\n                    }\n                  }\n                });\n              } else if (value.annotation.type === \"file_path\") {\n                controller.enqueue({\n                  type: \"source\",\n                  sourceType: \"document\",\n                  id: (_D = (_C = (_B = self.config).generateId) == null ? void 0 : _C.call(_B)) != null ? _D : generateId2(),\n                  mediaType: \"application/octet-stream\",\n                  title: value.annotation.file_id,\n                  filename: value.annotation.file_id,\n                  providerMetadata: {\n                    [providerOptionsName]: {\n                      type: value.annotation.type,\n                      fileId: value.annotation.file_id,\n                      index: value.annotation.index\n                    }\n                  }\n                });\n              }\n            } else if (isErrorChunk(value)) {\n              controller.enqueue({ type: \"error\", error: value });\n            }\n          },\n          flush(controller) {\n            const providerMetadata = {\n              [providerOptionsName]: {\n                responseId\n              }\n            };\n            if (logprobs.length > 0) {\n              providerMetadata[providerOptionsName].logprobs = logprobs;\n            }\n            if (serviceTier !== void 0) {\n              providerMetadata[providerOptionsName].serviceTier = serviceTier;\n            }\n            controller.enqueue({\n              type: \"finish\",\n              finishReason,\n              usage: convertOpenAIResponsesUsage(usage),\n              providerMetadata\n            });\n          }\n        })\n      ),\n      request: { body },\n      response: { headers: responseHeaders }\n    };\n  }\n};\nfunction isTextDeltaChunk(chunk) {\n  return chunk.type === \"response.output_text.delta\";\n}\nfunction isResponseOutputItemDoneChunk(chunk) {\n  return chunk.type === \"response.output_item.done\";\n}\nfunction isResponseFinishedChunk(chunk) {\n  return chunk.type === \"response.completed\" || chunk.type === \"response.incomplete\";\n}\nfunction isResponseCreatedChunk(chunk) {\n  return chunk.type === \"response.created\";\n}\nfunction isResponseFunctionCallArgumentsDeltaChunk(chunk) {\n  return chunk.type === \"response.function_call_arguments.delta\";\n}\nfunction isResponseImageGenerationCallPartialImageChunk(chunk) {\n  return chunk.type === \"response.image_generation_call.partial_image\";\n}\nfunction isResponseCodeInterpreterCallCodeDeltaChunk(chunk) {\n  return chunk.type === \"response.code_interpreter_call_code.delta\";\n}\nfunction isResponseCodeInterpreterCallCodeDoneChunk(chunk) {\n  return chunk.type === \"response.code_interpreter_call_code.done\";\n}\nfunction isResponseApplyPatchCallOperationDiffDeltaChunk(chunk) {\n  return chunk.type === \"response.apply_patch_call_operation_diff.delta\";\n}\nfunction isResponseApplyPatchCallOperationDiffDoneChunk(chunk) {\n  return chunk.type === \"response.apply_patch_call_operation_diff.done\";\n}\nfunction isResponseOutputItemAddedChunk(chunk) {\n  return chunk.type === \"response.output_item.added\";\n}\nfunction isResponseAnnotationAddedChunk(chunk) {\n  return chunk.type === \"response.output_text.annotation.added\";\n}\nfunction isErrorChunk(chunk) {\n  return chunk.type === \"error\";\n}\nfunction mapWebSearchOutput(action) {\n  var _a;\n  switch (action.type) {\n    case \"search\":\n      return {\n        action: { type: \"search\", query: (_a = action.query) != null ? _a : void 0 },\n        // include sources when provided by the Responses API (behind include flag)\n        ...action.sources != null && { sources: action.sources }\n      };\n    case \"open_page\":\n      return { action: { type: \"openPage\", url: action.url } };\n    case \"find_in_page\":\n      return {\n        action: {\n          type: \"findInPage\",\n          url: action.url,\n          pattern: action.pattern\n        }\n      };\n  }\n}\nfunction escapeJSONDelta(delta) {\n  return JSON.stringify(delta).slice(1, -1);\n}\n\n// src/speech/openai-speech-model.ts\nimport {\n  combineHeaders as combineHeaders6,\n  createBinaryResponseHandler,\n  parseProviderOptions as parseProviderOptions6,\n  postJsonToApi as postJsonToApi6\n} from \"@ai-sdk/provider-utils\";\n\n// src/speech/openai-speech-options.ts\nimport { lazySchema as lazySchema19, zodSchema as zodSchema19 } from \"@ai-sdk/provider-utils\";\nimport { z as z21 } from \"zod/v4\";\nvar openaiSpeechProviderOptionsSchema = lazySchema19(\n  () => zodSchema19(\n    z21.object({\n      instructions: z21.string().nullish(),\n      speed: z21.number().min(0.25).max(4).default(1).nullish()\n    })\n  )\n);\n\n// src/speech/openai-speech-model.ts\nvar OpenAISpeechModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v3\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async getArgs({\n    text,\n    voice = \"alloy\",\n    outputFormat = \"mp3\",\n    speed,\n    instructions,\n    language,\n    providerOptions\n  }) {\n    const warnings = [];\n    const openAIOptions = await parseProviderOptions6({\n      provider: \"openai\",\n      providerOptions,\n      schema: openaiSpeechProviderOptionsSchema\n    });\n    const requestBody = {\n      model: this.modelId,\n      input: text,\n      voice,\n      response_format: \"mp3\",\n      speed,\n      instructions\n    };\n    if (outputFormat) {\n      if ([\"mp3\", \"opus\", \"aac\", \"flac\", \"wav\", \"pcm\"].includes(outputFormat)) {\n        requestBody.response_format = outputFormat;\n      } else {\n        warnings.push({\n          type: \"unsupported\",\n          feature: \"outputFormat\",\n          details: `Unsupported output format: ${outputFormat}. Using mp3 instead.`\n        });\n      }\n    }\n    if (openAIOptions) {\n      const speechModelOptions = {};\n      for (const key in speechModelOptions) {\n        const value = speechModelOptions[key];\n        if (value !== void 0) {\n          requestBody[key] = value;\n        }\n      }\n    }\n    if (language) {\n      warnings.push({\n        type: \"unsupported\",\n        feature: \"language\",\n        details: `OpenAI speech models do not support language selection. Language parameter \"${language}\" was ignored.`\n      });\n    }\n    return {\n      requestBody,\n      warnings\n    };\n  }\n  async doGenerate(options) {\n    var _a, _b, _c;\n    const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n    const { requestBody, warnings } = await this.getArgs(options);\n    const {\n      value: audio,\n      responseHeaders,\n      rawValue: rawResponse\n    } = await postJsonToApi6({\n      url: this.config.url({\n        path: \"/audio/speech\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders6(this.config.headers(), options.headers),\n      body: requestBody,\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createBinaryResponseHandler(),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    return {\n      audio,\n      warnings,\n      request: {\n        body: JSON.stringify(requestBody)\n      },\n      response: {\n        timestamp: currentDate,\n        modelId: this.modelId,\n        headers: responseHeaders,\n        body: rawResponse\n      }\n    };\n  }\n};\n\n// src/transcription/openai-transcription-model.ts\nimport {\n  combineHeaders as combineHeaders7,\n  convertBase64ToUint8Array as convertBase64ToUint8Array2,\n  createJsonResponseHandler as createJsonResponseHandler6,\n  mediaTypeToExtension,\n  parseProviderOptions as parseProviderOptions7,\n  postFormDataToApi as postFormDataToApi2\n} from \"@ai-sdk/provider-utils\";\n\n// src/transcription/openai-transcription-api.ts\nimport { lazySchema as lazySchema20, zodSchema as zodSchema20 } from \"@ai-sdk/provider-utils\";\nimport { z as z22 } from \"zod/v4\";\nvar openaiTranscriptionResponseSchema = lazySchema20(\n  () => zodSchema20(\n    z22.object({\n      text: z22.string(),\n      language: z22.string().nullish(),\n      duration: z22.number().nullish(),\n      words: z22.array(\n        z22.object({\n          word: z22.string(),\n          start: z22.number(),\n          end: z22.number()\n        })\n      ).nullish(),\n      segments: z22.array(\n        z22.object({\n          id: z22.number(),\n          seek: z22.number(),\n          start: z22.number(),\n          end: z22.number(),\n          text: z22.string(),\n          tokens: z22.array(z22.number()),\n          temperature: z22.number(),\n          avg_logprob: z22.number(),\n          compression_ratio: z22.number(),\n          no_speech_prob: z22.number()\n        })\n      ).nullish()\n    })\n  )\n);\n\n// src/transcription/openai-transcription-options.ts\nimport { lazySchema as lazySchema21, zodSchema as zodSchema21 } from \"@ai-sdk/provider-utils\";\nimport { z as z23 } from \"zod/v4\";\nvar openAITranscriptionProviderOptions = lazySchema21(\n  () => zodSchema21(\n    z23.object({\n      /**\n       * Additional information to include in the transcription response.\n       */\n      include: z23.array(z23.string()).optional(),\n      /**\n       * The language of the input audio in ISO-639-1 format.\n       */\n      language: z23.string().optional(),\n      /**\n       * An optional text to guide the model's style or continue a previous audio segment.\n       */\n      prompt: z23.string().optional(),\n      /**\n       * The sampling temperature, between 0 and 1.\n       * @default 0\n       */\n      temperature: z23.number().min(0).max(1).default(0).optional(),\n      /**\n       * The timestamp granularities to populate for this transcription.\n       * @default ['segment']\n       */\n      timestampGranularities: z23.array(z23.enum([\"word\", \"segment\"])).default([\"segment\"]).optional()\n    })\n  )\n);\n\n// src/transcription/openai-transcription-model.ts\nvar languageMap = {\n  afrikaans: \"af\",\n  arabic: \"ar\",\n  armenian: \"hy\",\n  azerbaijani: \"az\",\n  belarusian: \"be\",\n  bosnian: \"bs\",\n  bulgarian: \"bg\",\n  catalan: \"ca\",\n  chinese: \"zh\",\n  croatian: \"hr\",\n  czech: \"cs\",\n  danish: \"da\",\n  dutch: \"nl\",\n  english: \"en\",\n  estonian: \"et\",\n  finnish: \"fi\",\n  french: \"fr\",\n  galician: \"gl\",\n  german: \"de\",\n  greek: \"el\",\n  hebrew: \"he\",\n  hindi: \"hi\",\n  hungarian: \"hu\",\n  icelandic: \"is\",\n  indonesian: \"id\",\n  italian: \"it\",\n  japanese: \"ja\",\n  kannada: \"kn\",\n  kazakh: \"kk\",\n  korean: \"ko\",\n  latvian: \"lv\",\n  lithuanian: \"lt\",\n  macedonian: \"mk\",\n  malay: \"ms\",\n  marathi: \"mr\",\n  maori: \"mi\",\n  nepali: \"ne\",\n  norwegian: \"no\",\n  persian: \"fa\",\n  polish: \"pl\",\n  portuguese: \"pt\",\n  romanian: \"ro\",\n  russian: \"ru\",\n  serbian: \"sr\",\n  slovak: \"sk\",\n  slovenian: \"sl\",\n  spanish: \"es\",\n  swahili: \"sw\",\n  swedish: \"sv\",\n  tagalog: \"tl\",\n  tamil: \"ta\",\n  thai: \"th\",\n  turkish: \"tr\",\n  ukrainian: \"uk\",\n  urdu: \"ur\",\n  vietnamese: \"vi\",\n  welsh: \"cy\"\n};\nvar OpenAITranscriptionModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v3\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async getArgs({\n    audio,\n    mediaType,\n    providerOptions\n  }) {\n    const warnings = [];\n    const openAIOptions = await parseProviderOptions7({\n      provider: \"openai\",\n      providerOptions,\n      schema: openAITranscriptionProviderOptions\n    });\n    const formData = new FormData();\n    const blob = audio instanceof Uint8Array ? new Blob([audio]) : new Blob([convertBase64ToUint8Array2(audio)]);\n    formData.append(\"model\", this.modelId);\n    const fileExtension = mediaTypeToExtension(mediaType);\n    formData.append(\n      \"file\",\n      new File([blob], \"audio\", { type: mediaType }),\n      `audio.${fileExtension}`\n    );\n    if (openAIOptions) {\n      const transcriptionModelOptions = {\n        include: openAIOptions.include,\n        language: openAIOptions.language,\n        prompt: openAIOptions.prompt,\n        // https://platform.openai.com/docs/api-reference/audio/createTranscription#audio_createtranscription-response_format\n        // prefer verbose_json to get segments for models that support it\n        response_format: [\n          \"gpt-4o-transcribe\",\n          \"gpt-4o-mini-transcribe\"\n        ].includes(this.modelId) ? \"json\" : \"verbose_json\",\n        temperature: openAIOptions.temperature,\n        timestamp_granularities: openAIOptions.timestampGranularities\n      };\n      for (const [key, value] of Object.entries(transcriptionModelOptions)) {\n        if (value != null) {\n          if (Array.isArray(value)) {\n            for (const item of value) {\n              formData.append(`${key}[]`, String(item));\n            }\n          } else {\n            formData.append(key, String(value));\n          }\n        }\n      }\n    }\n    return {\n      formData,\n      warnings\n    };\n  }\n  async doGenerate(options) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n    const { formData, warnings } = await this.getArgs(options);\n    const {\n      value: response,\n      responseHeaders,\n      rawValue: rawResponse\n    } = await postFormDataToApi2({\n      url: this.config.url({\n        path: \"/audio/transcriptions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders7(this.config.headers(), options.headers),\n      formData,\n      failedResponseHandler: openaiFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler6(\n        openaiTranscriptionResponseSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const language = response.language != null && response.language in languageMap ? languageMap[response.language] : void 0;\n    return {\n      text: response.text,\n      segments: (_g = (_f = (_d = response.segments) == null ? void 0 : _d.map((segment) => ({\n        text: segment.text,\n        startSecond: segment.start,\n        endSecond: segment.end\n      }))) != null ? _f : (_e = response.words) == null ? void 0 : _e.map((word) => ({\n        text: word.word,\n        startSecond: word.start,\n        endSecond: word.end\n      }))) != null ? _g : [],\n      language,\n      durationInSeconds: (_h = response.duration) != null ? _h : void 0,\n      warnings,\n      response: {\n        timestamp: currentDate,\n        modelId: this.modelId,\n        headers: responseHeaders,\n        body: rawResponse\n      }\n    };\n  }\n};\n\n// src/version.ts\nvar VERSION = true ? \"3.0.10\" : \"0.0.0-test\";\n\n// src/openai-provider.ts\nfunction createOpenAI(options = {}) {\n  var _a, _b;\n  const baseURL = (_a = withoutTrailingSlash(\n    loadOptionalSetting({\n      settingValue: options.baseURL,\n      environmentVariableName: \"OPENAI_BASE_URL\"\n    })\n  )) != null ? _a : \"https://api.openai.com/v1\";\n  const providerName = (_b = options.name) != null ? _b : \"openai\";\n  const getHeaders = () => withUserAgentSuffix(\n    {\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"OPENAI_API_KEY\",\n        description: \"OpenAI\"\n      })}`,\n      \"OpenAI-Organization\": options.organization,\n      \"OpenAI-Project\": options.project,\n      ...options.headers\n    },\n    `ai-sdk/openai/${VERSION}`\n  );\n  const createChatModel = (modelId) => new OpenAIChatLanguageModel(modelId, {\n    provider: `${providerName}.chat`,\n    url: ({ path }) => `${baseURL}${path}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createCompletionModel = (modelId) => new OpenAICompletionLanguageModel(modelId, {\n    provider: `${providerName}.completion`,\n    url: ({ path }) => `${baseURL}${path}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createEmbeddingModel = (modelId) => new OpenAIEmbeddingModel(modelId, {\n    provider: `${providerName}.embedding`,\n    url: ({ path }) => `${baseURL}${path}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createImageModel = (modelId) => new OpenAIImageModel(modelId, {\n    provider: `${providerName}.image`,\n    url: ({ path }) => `${baseURL}${path}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createTranscriptionModel = (modelId) => new OpenAITranscriptionModel(modelId, {\n    provider: `${providerName}.transcription`,\n    url: ({ path }) => `${baseURL}${path}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createSpeechModel = (modelId) => new OpenAISpeechModel(modelId, {\n    provider: `${providerName}.speech`,\n    url: ({ path }) => `${baseURL}${path}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createLanguageModel = (modelId) => {\n    if (new.target) {\n      throw new Error(\n        \"The OpenAI model function cannot be called with the new keyword.\"\n      );\n    }\n    return createResponsesModel(modelId);\n  };\n  const createResponsesModel = (modelId) => {\n    return new OpenAIResponsesLanguageModel(modelId, {\n      provider: `${providerName}.responses`,\n      url: ({ path }) => `${baseURL}${path}`,\n      headers: getHeaders,\n      fetch: options.fetch,\n      fileIdPrefixes: [\"file-\"]\n    });\n  };\n  const provider = function(modelId) {\n    return createLanguageModel(modelId);\n  };\n  provider.specificationVersion = \"v3\";\n  provider.languageModel = createLanguageModel;\n  provider.chat = createChatModel;\n  provider.completion = createCompletionModel;\n  provider.responses = createResponsesModel;\n  provider.embedding = createEmbeddingModel;\n  provider.embeddingModel = createEmbeddingModel;\n  provider.textEmbedding = createEmbeddingModel;\n  provider.textEmbeddingModel = createEmbeddingModel;\n  provider.image = createImageModel;\n  provider.imageModel = createImageModel;\n  provider.transcription = createTranscriptionModel;\n  provider.transcriptionModel = createTranscriptionModel;\n  provider.speech = createSpeechModel;\n  provider.speechModel = createSpeechModel;\n  provider.tools = openaiTools;\n  return provider;\n}\nvar openai = createOpenAI();\nexport {\n  VERSION,\n  createOpenAI,\n  openai\n};\n//# sourceMappingURL=index.mjs.map","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar get_context_exports = {};\n__export(get_context_exports, {\n  SYMBOL_FOR_REQ_CONTEXT: () => SYMBOL_FOR_REQ_CONTEXT,\n  getContext: () => getContext\n});\nmodule.exports = __toCommonJS(get_context_exports);\nconst SYMBOL_FOR_REQ_CONTEXT = Symbol.for(\"@vercel/request-context\");\nfunction getContext() {\n  const fromSymbol = globalThis;\n  return fromSymbol[SYMBOL_FOR_REQ_CONTEXT]?.get?.() ?? {};\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  SYMBOL_FOR_REQ_CONTEXT,\n  getContext\n});\n","\"use strict\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar index_browser_exports = {};\n__export(index_browser_exports, {\n  getContext: () => import_get_context.getContext,\n  getVercelOidcToken: () => getVercelOidcToken,\n  getVercelOidcTokenSync: () => getVercelOidcTokenSync\n});\nmodule.exports = __toCommonJS(index_browser_exports);\nvar import_get_context = require(\"./get-context\");\nasync function getVercelOidcToken() {\n  return \"\";\n}\nfunction getVercelOidcTokenSync() {\n  return \"\";\n}\n// Annotate the CommonJS export names for ESM import in node:\n0 && (module.exports = {\n  getContext,\n  getVercelOidcToken,\n  getVercelOidcTokenSync\n});\n","// src/gateway-provider.ts\nimport {\n  loadOptionalSetting,\n  withoutTrailingSlash\n} from \"@ai-sdk/provider-utils\";\n\n// src/errors/as-gateway-error.ts\nimport { APICallError } from \"@ai-sdk/provider\";\n\n// src/errors/create-gateway-error.ts\nimport { z as z2 } from \"zod/v4\";\n\n// src/errors/gateway-error.ts\nvar marker = \"vercel.ai.gateway.error\";\nvar symbol = Symbol.for(marker);\nvar _a, _b;\nvar GatewayError = class _GatewayError extends (_b = Error, _a = symbol, _b) {\n  constructor({\n    message,\n    statusCode = 500,\n    cause\n  }) {\n    super(message);\n    this[_a] = true;\n    this.statusCode = statusCode;\n    this.cause = cause;\n  }\n  /**\n   * Checks if the given error is a Gateway Error.\n   * @param {unknown} error - The error to check.\n   * @returns {boolean} True if the error is a Gateway Error, false otherwise.\n   */\n  static isInstance(error) {\n    return _GatewayError.hasMarker(error);\n  }\n  static hasMarker(error) {\n    return typeof error === \"object\" && error !== null && symbol in error && error[symbol] === true;\n  }\n};\n\n// src/errors/gateway-authentication-error.ts\nvar name = \"GatewayAuthenticationError\";\nvar marker2 = `vercel.ai.gateway.error.${name}`;\nvar symbol2 = Symbol.for(marker2);\nvar _a2, _b2;\nvar GatewayAuthenticationError = class _GatewayAuthenticationError extends (_b2 = GatewayError, _a2 = symbol2, _b2) {\n  constructor({\n    message = \"Authentication failed\",\n    statusCode = 401,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a2] = true;\n    // used in isInstance\n    this.name = name;\n    this.type = \"authentication_error\";\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol2 in error;\n  }\n  /**\n   * Creates a contextual error message when authentication fails\n   */\n  static createContextualError({\n    apiKeyProvided,\n    oidcTokenProvided,\n    message = \"Authentication failed\",\n    statusCode = 401,\n    cause\n  }) {\n    let contextualMessage;\n    if (apiKeyProvided) {\n      contextualMessage = `AI Gateway authentication failed: Invalid API key.\n\nCreate a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys\n\nProvide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`;\n    } else if (oidcTokenProvided) {\n      contextualMessage = `AI Gateway authentication failed: Invalid OIDC token.\n\nRun 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.\n\nAlternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`;\n    } else {\n      contextualMessage = `AI Gateway authentication failed: No authentication provided.\n\nOption 1 - API key:\nCreate an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys\nProvide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\n\nOption 2 - OIDC token:\nRun 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`;\n    }\n    return new _GatewayAuthenticationError({\n      message: contextualMessage,\n      statusCode,\n      cause\n    });\n  }\n};\n\n// src/errors/gateway-invalid-request-error.ts\nvar name2 = \"GatewayInvalidRequestError\";\nvar marker3 = `vercel.ai.gateway.error.${name2}`;\nvar symbol3 = Symbol.for(marker3);\nvar _a3, _b3;\nvar GatewayInvalidRequestError = class extends (_b3 = GatewayError, _a3 = symbol3, _b3) {\n  constructor({\n    message = \"Invalid request\",\n    statusCode = 400,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a3] = true;\n    // used in isInstance\n    this.name = name2;\n    this.type = \"invalid_request_error\";\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol3 in error;\n  }\n};\n\n// src/errors/gateway-rate-limit-error.ts\nvar name3 = \"GatewayRateLimitError\";\nvar marker4 = `vercel.ai.gateway.error.${name3}`;\nvar symbol4 = Symbol.for(marker4);\nvar _a4, _b4;\nvar GatewayRateLimitError = class extends (_b4 = GatewayError, _a4 = symbol4, _b4) {\n  constructor({\n    message = \"Rate limit exceeded\",\n    statusCode = 429,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a4] = true;\n    // used in isInstance\n    this.name = name3;\n    this.type = \"rate_limit_exceeded\";\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol4 in error;\n  }\n};\n\n// src/errors/gateway-model-not-found-error.ts\nimport { z } from \"zod/v4\";\nimport { lazySchema, zodSchema } from \"@ai-sdk/provider-utils\";\nvar name4 = \"GatewayModelNotFoundError\";\nvar marker5 = `vercel.ai.gateway.error.${name4}`;\nvar symbol5 = Symbol.for(marker5);\nvar modelNotFoundParamSchema = lazySchema(\n  () => zodSchema(\n    z.object({\n      modelId: z.string()\n    })\n  )\n);\nvar _a5, _b5;\nvar GatewayModelNotFoundError = class extends (_b5 = GatewayError, _a5 = symbol5, _b5) {\n  constructor({\n    message = \"Model not found\",\n    statusCode = 404,\n    modelId,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a5] = true;\n    // used in isInstance\n    this.name = name4;\n    this.type = \"model_not_found\";\n    this.modelId = modelId;\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol5 in error;\n  }\n};\n\n// src/errors/gateway-internal-server-error.ts\nvar name5 = \"GatewayInternalServerError\";\nvar marker6 = `vercel.ai.gateway.error.${name5}`;\nvar symbol6 = Symbol.for(marker6);\nvar _a6, _b6;\nvar GatewayInternalServerError = class extends (_b6 = GatewayError, _a6 = symbol6, _b6) {\n  constructor({\n    message = \"Internal server error\",\n    statusCode = 500,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a6] = true;\n    // used in isInstance\n    this.name = name5;\n    this.type = \"internal_server_error\";\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol6 in error;\n  }\n};\n\n// src/errors/gateway-response-error.ts\nvar name6 = \"GatewayResponseError\";\nvar marker7 = `vercel.ai.gateway.error.${name6}`;\nvar symbol7 = Symbol.for(marker7);\nvar _a7, _b7;\nvar GatewayResponseError = class extends (_b7 = GatewayError, _a7 = symbol7, _b7) {\n  constructor({\n    message = \"Invalid response from Gateway\",\n    statusCode = 502,\n    response,\n    validationError,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a7] = true;\n    // used in isInstance\n    this.name = name6;\n    this.type = \"response_error\";\n    this.response = response;\n    this.validationError = validationError;\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol7 in error;\n  }\n};\n\n// src/errors/create-gateway-error.ts\nimport {\n  lazySchema as lazySchema2,\n  safeValidateTypes,\n  zodSchema as zodSchema2\n} from \"@ai-sdk/provider-utils\";\nasync function createGatewayErrorFromResponse({\n  response,\n  statusCode,\n  defaultMessage = \"Gateway request failed\",\n  cause,\n  authMethod\n}) {\n  const parseResult = await safeValidateTypes({\n    value: response,\n    schema: gatewayErrorResponseSchema\n  });\n  if (!parseResult.success) {\n    return new GatewayResponseError({\n      message: `Invalid error response format: ${defaultMessage}`,\n      statusCode,\n      response,\n      validationError: parseResult.error,\n      cause\n    });\n  }\n  const validatedResponse = parseResult.value;\n  const errorType = validatedResponse.error.type;\n  const message = validatedResponse.error.message;\n  switch (errorType) {\n    case \"authentication_error\":\n      return GatewayAuthenticationError.createContextualError({\n        apiKeyProvided: authMethod === \"api-key\",\n        oidcTokenProvided: authMethod === \"oidc\",\n        statusCode,\n        cause\n      });\n    case \"invalid_request_error\":\n      return new GatewayInvalidRequestError({ message, statusCode, cause });\n    case \"rate_limit_exceeded\":\n      return new GatewayRateLimitError({ message, statusCode, cause });\n    case \"model_not_found\": {\n      const modelResult = await safeValidateTypes({\n        value: validatedResponse.error.param,\n        schema: modelNotFoundParamSchema\n      });\n      return new GatewayModelNotFoundError({\n        message,\n        statusCode,\n        modelId: modelResult.success ? modelResult.value.modelId : void 0,\n        cause\n      });\n    }\n    case \"internal_server_error\":\n      return new GatewayInternalServerError({ message, statusCode, cause });\n    default:\n      return new GatewayInternalServerError({ message, statusCode, cause });\n  }\n}\nvar gatewayErrorResponseSchema = lazySchema2(\n  () => zodSchema2(\n    z2.object({\n      error: z2.object({\n        message: z2.string(),\n        type: z2.string().nullish(),\n        param: z2.unknown().nullish(),\n        code: z2.union([z2.string(), z2.number()]).nullish()\n      })\n    })\n  )\n);\n\n// src/errors/as-gateway-error.ts\nfunction asGatewayError(error, authMethod) {\n  var _a8;\n  if (GatewayError.isInstance(error)) {\n    return error;\n  }\n  if (APICallError.isInstance(error)) {\n    return createGatewayErrorFromResponse({\n      response: extractApiCallResponse(error),\n      statusCode: (_a8 = error.statusCode) != null ? _a8 : 500,\n      defaultMessage: \"Gateway request failed\",\n      cause: error,\n      authMethod\n    });\n  }\n  return createGatewayErrorFromResponse({\n    response: {},\n    statusCode: 500,\n    defaultMessage: error instanceof Error ? `Gateway request failed: ${error.message}` : \"Unknown Gateway error\",\n    cause: error,\n    authMethod\n  });\n}\n\n// src/errors/extract-api-call-response.ts\nfunction extractApiCallResponse(error) {\n  if (error.data !== void 0) {\n    return error.data;\n  }\n  if (error.responseBody != null) {\n    try {\n      return JSON.parse(error.responseBody);\n    } catch (e) {\n      return error.responseBody;\n    }\n  }\n  return {};\n}\n\n// src/errors/parse-auth-method.ts\nimport { z as z3 } from \"zod/v4\";\nimport {\n  lazySchema as lazySchema3,\n  safeValidateTypes as safeValidateTypes2,\n  zodSchema as zodSchema3\n} from \"@ai-sdk/provider-utils\";\nvar GATEWAY_AUTH_METHOD_HEADER = \"ai-gateway-auth-method\";\nasync function parseAuthMethod(headers) {\n  const result = await safeValidateTypes2({\n    value: headers[GATEWAY_AUTH_METHOD_HEADER],\n    schema: gatewayAuthMethodSchema\n  });\n  return result.success ? result.value : void 0;\n}\nvar gatewayAuthMethodSchema = lazySchema3(\n  () => zodSchema3(z3.union([z3.literal(\"api-key\"), z3.literal(\"oidc\")]))\n);\n\n// src/gateway-fetch-metadata.ts\nimport {\n  createJsonErrorResponseHandler,\n  createJsonResponseHandler,\n  getFromApi,\n  lazySchema as lazySchema4,\n  resolve,\n  zodSchema as zodSchema4\n} from \"@ai-sdk/provider-utils\";\nimport { z as z4 } from \"zod/v4\";\nvar GatewayFetchMetadata = class {\n  constructor(config) {\n    this.config = config;\n  }\n  async getAvailableModels() {\n    try {\n      const { value } = await getFromApi({\n        url: `${this.config.baseURL}/config`,\n        headers: await resolve(this.config.headers()),\n        successfulResponseHandler: createJsonResponseHandler(\n          gatewayAvailableModelsResponseSchema\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: z4.any(),\n          errorToMessage: (data) => data\n        }),\n        fetch: this.config.fetch\n      });\n      return value;\n    } catch (error) {\n      throw await asGatewayError(error);\n    }\n  }\n  async getCredits() {\n    try {\n      const baseUrl = new URL(this.config.baseURL);\n      const { value } = await getFromApi({\n        url: `${baseUrl.origin}/v1/credits`,\n        headers: await resolve(this.config.headers()),\n        successfulResponseHandler: createJsonResponseHandler(\n          gatewayCreditsResponseSchema\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: z4.any(),\n          errorToMessage: (data) => data\n        }),\n        fetch: this.config.fetch\n      });\n      return value;\n    } catch (error) {\n      throw await asGatewayError(error);\n    }\n  }\n};\nvar gatewayAvailableModelsResponseSchema = lazySchema4(\n  () => zodSchema4(\n    z4.object({\n      models: z4.array(\n        z4.object({\n          id: z4.string(),\n          name: z4.string(),\n          description: z4.string().nullish(),\n          pricing: z4.object({\n            input: z4.string(),\n            output: z4.string(),\n            input_cache_read: z4.string().nullish(),\n            input_cache_write: z4.string().nullish()\n          }).transform(\n            ({ input, output, input_cache_read, input_cache_write }) => ({\n              input,\n              output,\n              ...input_cache_read ? { cachedInputTokens: input_cache_read } : {},\n              ...input_cache_write ? { cacheCreationInputTokens: input_cache_write } : {}\n            })\n          ).nullish(),\n          specification: z4.object({\n            specificationVersion: z4.literal(\"v3\"),\n            provider: z4.string(),\n            modelId: z4.string()\n          }),\n          modelType: z4.enum([\"language\", \"embedding\", \"image\"]).nullish()\n        })\n      )\n    })\n  )\n);\nvar gatewayCreditsResponseSchema = lazySchema4(\n  () => zodSchema4(\n    z4.object({\n      balance: z4.string(),\n      total_used: z4.string()\n    }).transform(({ balance, total_used }) => ({\n      balance,\n      totalUsed: total_used\n    }))\n  )\n);\n\n// src/gateway-language-model.ts\nimport {\n  combineHeaders,\n  createEventSourceResponseHandler,\n  createJsonErrorResponseHandler as createJsonErrorResponseHandler2,\n  createJsonResponseHandler as createJsonResponseHandler2,\n  postJsonToApi,\n  resolve as resolve2\n} from \"@ai-sdk/provider-utils\";\nimport { z as z5 } from \"zod/v4\";\nvar GatewayLanguageModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v3\";\n    this.supportedUrls = { \"*/*\": [/.*/] };\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async getArgs(options) {\n    const { abortSignal: _abortSignal, ...optionsWithoutSignal } = options;\n    return {\n      args: this.maybeEncodeFileParts(optionsWithoutSignal),\n      warnings: []\n    };\n  }\n  async doGenerate(options) {\n    const { args, warnings } = await this.getArgs(options);\n    const { abortSignal } = options;\n    const resolvedHeaders = await resolve2(this.config.headers());\n    try {\n      const {\n        responseHeaders,\n        value: responseBody,\n        rawValue: rawResponse\n      } = await postJsonToApi({\n        url: this.getUrl(),\n        headers: combineHeaders(\n          resolvedHeaders,\n          options.headers,\n          this.getModelConfigHeaders(this.modelId, false),\n          await resolve2(this.config.o11yHeaders)\n        ),\n        body: args,\n        successfulResponseHandler: createJsonResponseHandler2(z5.any()),\n        failedResponseHandler: createJsonErrorResponseHandler2({\n          errorSchema: z5.any(),\n          errorToMessage: (data) => data\n        }),\n        ...abortSignal && { abortSignal },\n        fetch: this.config.fetch\n      });\n      return {\n        ...responseBody,\n        request: { body: args },\n        response: { headers: responseHeaders, body: rawResponse },\n        warnings\n      };\n    } catch (error) {\n      throw await asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n  async doStream(options) {\n    const { args, warnings } = await this.getArgs(options);\n    const { abortSignal } = options;\n    const resolvedHeaders = await resolve2(this.config.headers());\n    try {\n      const { value: response, responseHeaders } = await postJsonToApi({\n        url: this.getUrl(),\n        headers: combineHeaders(\n          resolvedHeaders,\n          options.headers,\n          this.getModelConfigHeaders(this.modelId, true),\n          await resolve2(this.config.o11yHeaders)\n        ),\n        body: args,\n        successfulResponseHandler: createEventSourceResponseHandler(z5.any()),\n        failedResponseHandler: createJsonErrorResponseHandler2({\n          errorSchema: z5.any(),\n          errorToMessage: (data) => data\n        }),\n        ...abortSignal && { abortSignal },\n        fetch: this.config.fetch\n      });\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              if (warnings.length > 0) {\n                controller.enqueue({ type: \"stream-start\", warnings });\n              }\n            },\n            transform(chunk, controller) {\n              if (chunk.success) {\n                const streamPart = chunk.value;\n                if (streamPart.type === \"raw\" && !options.includeRawChunks) {\n                  return;\n                }\n                if (streamPart.type === \"response-metadata\" && streamPart.timestamp && typeof streamPart.timestamp === \"string\") {\n                  streamPart.timestamp = new Date(streamPart.timestamp);\n                }\n                controller.enqueue(streamPart);\n              } else {\n                controller.error(\n                  chunk.error\n                );\n              }\n            }\n          })\n        ),\n        request: { body: args },\n        response: { headers: responseHeaders }\n      };\n    } catch (error) {\n      throw await asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n  isFilePart(part) {\n    return part && typeof part === \"object\" && \"type\" in part && part.type === \"file\";\n  }\n  /**\n   * Encodes file parts in the prompt to base64. Mutates the passed options\n   * instance directly to avoid copying the file data.\n   * @param options - The options to encode.\n   * @returns The options with the file parts encoded.\n   */\n  maybeEncodeFileParts(options) {\n    for (const message of options.prompt) {\n      for (const part of message.content) {\n        if (this.isFilePart(part)) {\n          const filePart = part;\n          if (filePart.data instanceof Uint8Array) {\n            const buffer = Uint8Array.from(filePart.data);\n            const base64Data = Buffer.from(buffer).toString(\"base64\");\n            filePart.data = new URL(\n              `data:${filePart.mediaType || \"application/octet-stream\"};base64,${base64Data}`\n            );\n          }\n        }\n      }\n    }\n    return options;\n  }\n  getUrl() {\n    return `${this.config.baseURL}/language-model`;\n  }\n  getModelConfigHeaders(modelId, streaming) {\n    return {\n      \"ai-language-model-specification-version\": \"3\",\n      \"ai-language-model-id\": modelId,\n      \"ai-language-model-streaming\": String(streaming)\n    };\n  }\n};\n\n// src/gateway-embedding-model.ts\nimport {\n  combineHeaders as combineHeaders2,\n  createJsonErrorResponseHandler as createJsonErrorResponseHandler3,\n  createJsonResponseHandler as createJsonResponseHandler3,\n  lazySchema as lazySchema5,\n  postJsonToApi as postJsonToApi2,\n  resolve as resolve3,\n  zodSchema as zodSchema5\n} from \"@ai-sdk/provider-utils\";\nimport { z as z6 } from \"zod/v4\";\nvar GatewayEmbeddingModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v3\";\n    this.maxEmbeddingsPerCall = 2048;\n    this.supportsParallelCalls = true;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async doEmbed({\n    values,\n    headers,\n    abortSignal,\n    providerOptions\n  }) {\n    var _a8;\n    const resolvedHeaders = await resolve3(this.config.headers());\n    try {\n      const {\n        responseHeaders,\n        value: responseBody,\n        rawValue\n      } = await postJsonToApi2({\n        url: this.getUrl(),\n        headers: combineHeaders2(\n          resolvedHeaders,\n          headers != null ? headers : {},\n          this.getModelConfigHeaders(),\n          await resolve3(this.config.o11yHeaders)\n        ),\n        body: {\n          values,\n          ...providerOptions ? { providerOptions } : {}\n        },\n        successfulResponseHandler: createJsonResponseHandler3(\n          gatewayEmbeddingResponseSchema\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler3({\n          errorSchema: z6.any(),\n          errorToMessage: (data) => data\n        }),\n        ...abortSignal && { abortSignal },\n        fetch: this.config.fetch\n      });\n      return {\n        embeddings: responseBody.embeddings,\n        usage: (_a8 = responseBody.usage) != null ? _a8 : void 0,\n        providerMetadata: responseBody.providerMetadata,\n        response: { headers: responseHeaders, body: rawValue },\n        warnings: []\n      };\n    } catch (error) {\n      throw await asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n  getUrl() {\n    return `${this.config.baseURL}/embedding-model`;\n  }\n  getModelConfigHeaders() {\n    return {\n      \"ai-embedding-model-specification-version\": \"3\",\n      \"ai-model-id\": this.modelId\n    };\n  }\n};\nvar gatewayEmbeddingResponseSchema = lazySchema5(\n  () => zodSchema5(\n    z6.object({\n      embeddings: z6.array(z6.array(z6.number())),\n      usage: z6.object({ tokens: z6.number() }).nullish(),\n      providerMetadata: z6.record(z6.string(), z6.record(z6.string(), z6.unknown())).optional()\n    })\n  )\n);\n\n// src/gateway-image-model.ts\nimport {\n  combineHeaders as combineHeaders3,\n  convertUint8ArrayToBase64,\n  createJsonResponseHandler as createJsonResponseHandler4,\n  createJsonErrorResponseHandler as createJsonErrorResponseHandler4,\n  postJsonToApi as postJsonToApi3,\n  resolve as resolve4\n} from \"@ai-sdk/provider-utils\";\nimport { z as z7 } from \"zod/v4\";\nvar GatewayImageModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v3\";\n    // Set a very large number to prevent client-side splitting of requests\n    this.maxImagesPerCall = Number.MAX_SAFE_INTEGER;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async doGenerate({\n    prompt,\n    n,\n    size,\n    aspectRatio,\n    seed,\n    files,\n    mask,\n    providerOptions,\n    headers,\n    abortSignal\n  }) {\n    var _a8;\n    const resolvedHeaders = await resolve4(this.config.headers());\n    try {\n      const {\n        responseHeaders,\n        value: responseBody,\n        rawValue\n      } = await postJsonToApi3({\n        url: this.getUrl(),\n        headers: combineHeaders3(\n          resolvedHeaders,\n          headers != null ? headers : {},\n          this.getModelConfigHeaders(),\n          await resolve4(this.config.o11yHeaders)\n        ),\n        body: {\n          prompt,\n          n,\n          ...size && { size },\n          ...aspectRatio && { aspectRatio },\n          ...seed && { seed },\n          ...providerOptions && { providerOptions },\n          ...files && {\n            files: files.map((file) => maybeEncodeImageFile(file))\n          },\n          ...mask && { mask: maybeEncodeImageFile(mask) }\n        },\n        successfulResponseHandler: createJsonResponseHandler4(\n          gatewayImageResponseSchema\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler4({\n          errorSchema: z7.any(),\n          errorToMessage: (data) => data\n        }),\n        ...abortSignal && { abortSignal },\n        fetch: this.config.fetch\n      });\n      return {\n        images: responseBody.images,\n        // Always base64 strings from server\n        warnings: (_a8 = responseBody.warnings) != null ? _a8 : [],\n        providerMetadata: responseBody.providerMetadata,\n        response: {\n          timestamp: /* @__PURE__ */ new Date(),\n          modelId: this.modelId,\n          headers: responseHeaders\n        }\n      };\n    } catch (error) {\n      throw asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n  getUrl() {\n    return `${this.config.baseURL}/image-model`;\n  }\n  getModelConfigHeaders() {\n    return {\n      \"ai-image-model-specification-version\": \"3\",\n      \"ai-model-id\": this.modelId\n    };\n  }\n};\nfunction maybeEncodeImageFile(file) {\n  if (file.type === \"file\" && file.data instanceof Uint8Array) {\n    return {\n      ...file,\n      data: convertUint8ArrayToBase64(file.data)\n    };\n  }\n  return file;\n}\nvar providerMetadataEntrySchema = z7.object({\n  images: z7.array(z7.unknown()).optional()\n}).catchall(z7.unknown());\nvar gatewayImageResponseSchema = z7.object({\n  images: z7.array(z7.string()),\n  // Always base64 strings over the wire\n  warnings: z7.array(\n    z7.object({\n      type: z7.literal(\"other\"),\n      message: z7.string()\n    })\n  ).optional(),\n  providerMetadata: z7.record(z7.string(), providerMetadataEntrySchema).optional()\n});\n\n// src/tool/perplexity-search.ts\nimport {\n  createProviderToolFactoryWithOutputSchema,\n  lazySchema as lazySchema6,\n  zodSchema as zodSchema6\n} from \"@ai-sdk/provider-utils\";\nimport { z as z8 } from \"zod\";\nvar perplexitySearchInputSchema = lazySchema6(\n  () => zodSchema6(\n    z8.object({\n      query: z8.union([z8.string(), z8.array(z8.string())]).describe(\n        \"Search query (string) or multiple queries (array of up to 5 strings). Multi-query searches return combined results from all queries.\"\n      ),\n      max_results: z8.number().optional().describe(\n        \"Maximum number of search results to return (1-20, default: 10)\"\n      ),\n      max_tokens_per_page: z8.number().optional().describe(\n        \"Maximum number of tokens to extract per search result page (256-2048, default: 2048)\"\n      ),\n      max_tokens: z8.number().optional().describe(\n        \"Maximum total tokens across all search results (default: 25000, max: 1000000)\"\n      ),\n      country: z8.string().optional().describe(\n        \"Two-letter ISO 3166-1 alpha-2 country code for regional search results (e.g., 'US', 'GB', 'FR')\"\n      ),\n      search_domain_filter: z8.array(z8.string()).optional().describe(\n        \"List of domains to include or exclude from search results (max 20). To include: ['nature.com', 'science.org']. To exclude: ['-example.com', '-spam.net']\"\n      ),\n      search_language_filter: z8.array(z8.string()).optional().describe(\n        \"List of ISO 639-1 language codes to filter results (max 10, lowercase). Examples: ['en', 'fr', 'de']\"\n      ),\n      search_after_date: z8.string().optional().describe(\n        \"Include only results published after this date. Format: 'MM/DD/YYYY' (e.g., '3/1/2025'). Cannot be used with search_recency_filter.\"\n      ),\n      search_before_date: z8.string().optional().describe(\n        \"Include only results published before this date. Format: 'MM/DD/YYYY' (e.g., '3/15/2025'). Cannot be used with search_recency_filter.\"\n      ),\n      last_updated_after_filter: z8.string().optional().describe(\n        \"Include only results last updated after this date. Format: 'MM/DD/YYYY' (e.g., '3/1/2025'). Cannot be used with search_recency_filter.\"\n      ),\n      last_updated_before_filter: z8.string().optional().describe(\n        \"Include only results last updated before this date. Format: 'MM/DD/YYYY' (e.g., '3/15/2025'). Cannot be used with search_recency_filter.\"\n      ),\n      search_recency_filter: z8.enum([\"day\", \"week\", \"month\", \"year\"]).optional().describe(\n        \"Filter results by relative time period. Cannot be used with search_after_date or search_before_date.\"\n      )\n    })\n  )\n);\nvar perplexitySearchOutputSchema = lazySchema6(\n  () => zodSchema6(\n    z8.union([\n      // Success response\n      z8.object({\n        results: z8.array(\n          z8.object({\n            title: z8.string(),\n            url: z8.string(),\n            snippet: z8.string(),\n            date: z8.string().optional(),\n            lastUpdated: z8.string().optional()\n          })\n        ),\n        id: z8.string()\n      }),\n      // Error response\n      z8.object({\n        error: z8.enum([\n          \"api_error\",\n          \"rate_limit\",\n          \"timeout\",\n          \"invalid_input\",\n          \"unknown\"\n        ]),\n        statusCode: z8.number().optional(),\n        message: z8.string()\n      })\n    ])\n  )\n);\nvar perplexitySearchToolFactory = createProviderToolFactoryWithOutputSchema({\n  id: \"gateway.perplexity_search\",\n  inputSchema: perplexitySearchInputSchema,\n  outputSchema: perplexitySearchOutputSchema\n});\nvar perplexitySearch = (config = {}) => perplexitySearchToolFactory(config);\n\n// src/gateway-tools.ts\nvar gatewayTools = {\n  /**\n   * Search the web using Perplexity's Search API for real-time information,\n   * news, research papers, and articles.\n   *\n   * Provides ranked search results with advanced filtering options including\n   * domain, language, date range, and recency filters.\n   */\n  perplexitySearch\n};\n\n// src/vercel-environment.ts\nimport { getContext } from \"@vercel/oidc\";\nimport { getVercelOidcToken } from \"@vercel/oidc\";\nasync function getVercelRequestId() {\n  var _a8;\n  return (_a8 = getContext().headers) == null ? void 0 : _a8[\"x-vercel-id\"];\n}\n\n// src/gateway-provider.ts\nimport { withUserAgentSuffix } from \"@ai-sdk/provider-utils\";\n\n// src/version.ts\nvar VERSION = true ? \"3.0.14\" : \"0.0.0-test\";\n\n// src/gateway-provider.ts\nvar AI_GATEWAY_PROTOCOL_VERSION = \"0.0.1\";\nfunction createGatewayProvider(options = {}) {\n  var _a8, _b8;\n  let pendingMetadata = null;\n  let metadataCache = null;\n  const cacheRefreshMillis = (_a8 = options.metadataCacheRefreshMillis) != null ? _a8 : 1e3 * 60 * 5;\n  let lastFetchTime = 0;\n  const baseURL = (_b8 = withoutTrailingSlash(options.baseURL)) != null ? _b8 : \"https://ai-gateway.vercel.sh/v3/ai\";\n  const getHeaders = async () => {\n    try {\n      const auth = await getGatewayAuthToken(options);\n      return withUserAgentSuffix(\n        {\n          Authorization: `Bearer ${auth.token}`,\n          \"ai-gateway-protocol-version\": AI_GATEWAY_PROTOCOL_VERSION,\n          [GATEWAY_AUTH_METHOD_HEADER]: auth.authMethod,\n          ...options.headers\n        },\n        `ai-sdk/gateway/${VERSION}`\n      );\n    } catch (error) {\n      throw GatewayAuthenticationError.createContextualError({\n        apiKeyProvided: false,\n        oidcTokenProvided: false,\n        statusCode: 401,\n        cause: error\n      });\n    }\n  };\n  const createO11yHeaders = () => {\n    const deploymentId = loadOptionalSetting({\n      settingValue: void 0,\n      environmentVariableName: \"VERCEL_DEPLOYMENT_ID\"\n    });\n    const environment = loadOptionalSetting({\n      settingValue: void 0,\n      environmentVariableName: \"VERCEL_ENV\"\n    });\n    const region = loadOptionalSetting({\n      settingValue: void 0,\n      environmentVariableName: \"VERCEL_REGION\"\n    });\n    return async () => {\n      const requestId = await getVercelRequestId();\n      return {\n        ...deploymentId && { \"ai-o11y-deployment-id\": deploymentId },\n        ...environment && { \"ai-o11y-environment\": environment },\n        ...region && { \"ai-o11y-region\": region },\n        ...requestId && { \"ai-o11y-request-id\": requestId }\n      };\n    };\n  };\n  const createLanguageModel = (modelId) => {\n    return new GatewayLanguageModel(modelId, {\n      provider: \"gateway\",\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      o11yHeaders: createO11yHeaders()\n    });\n  };\n  const getAvailableModels = async () => {\n    var _a9, _b9, _c;\n    const now = (_c = (_b9 = (_a9 = options._internal) == null ? void 0 : _a9.currentDate) == null ? void 0 : _b9.call(_a9).getTime()) != null ? _c : Date.now();\n    if (!pendingMetadata || now - lastFetchTime > cacheRefreshMillis) {\n      lastFetchTime = now;\n      pendingMetadata = new GatewayFetchMetadata({\n        baseURL,\n        headers: getHeaders,\n        fetch: options.fetch\n      }).getAvailableModels().then((metadata) => {\n        metadataCache = metadata;\n        return metadata;\n      }).catch(async (error) => {\n        throw await asGatewayError(\n          error,\n          await parseAuthMethod(await getHeaders())\n        );\n      });\n    }\n    return metadataCache ? Promise.resolve(metadataCache) : pendingMetadata;\n  };\n  const getCredits = async () => {\n    return new GatewayFetchMetadata({\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch\n    }).getCredits().catch(async (error) => {\n      throw await asGatewayError(\n        error,\n        await parseAuthMethod(await getHeaders())\n      );\n    });\n  };\n  const provider = function(modelId) {\n    if (new.target) {\n      throw new Error(\n        \"The Gateway Provider model function cannot be called with the new keyword.\"\n      );\n    }\n    return createLanguageModel(modelId);\n  };\n  provider.specificationVersion = \"v3\";\n  provider.getAvailableModels = getAvailableModels;\n  provider.getCredits = getCredits;\n  provider.imageModel = (modelId) => {\n    return new GatewayImageModel(modelId, {\n      provider: \"gateway\",\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      o11yHeaders: createO11yHeaders()\n    });\n  };\n  provider.languageModel = createLanguageModel;\n  const createEmbeddingModel = (modelId) => {\n    return new GatewayEmbeddingModel(modelId, {\n      provider: \"gateway\",\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      o11yHeaders: createO11yHeaders()\n    });\n  };\n  provider.embeddingModel = createEmbeddingModel;\n  provider.textEmbeddingModel = createEmbeddingModel;\n  provider.tools = gatewayTools;\n  return provider;\n}\nvar gateway = createGatewayProvider();\nasync function getGatewayAuthToken(options) {\n  const apiKey = loadOptionalSetting({\n    settingValue: options.apiKey,\n    environmentVariableName: \"AI_GATEWAY_API_KEY\"\n  });\n  if (apiKey) {\n    return {\n      token: apiKey,\n      authMethod: \"api-key\"\n    };\n  }\n  const oidcToken = await getVercelOidcToken();\n  return {\n    token: oidcToken,\n    authMethod: \"oidc\"\n  };\n}\nexport {\n  GatewayAuthenticationError,\n  GatewayError,\n  GatewayInternalServerError,\n  GatewayInvalidRequestError,\n  GatewayModelNotFoundError,\n  GatewayRateLimitError,\n  GatewayResponseError,\n  createGatewayProvider as createGateway,\n  createGatewayProvider,\n  gateway\n};\n//# sourceMappingURL=index.mjs.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Updates to this file should also be replicated to @opentelemetry/core too.\n/**\n * - globalThis (New standard)\n * - self (Will return the current window instance for supported browsers)\n * - window (fallback for older browser implementations)\n * - global (NodeJS implementation)\n * - <object> (When all else fails)\n */\n/** only globals that common to node and browsers are allowed */\n// eslint-disable-next-line node/no-unsupported-features/es-builtins, no-undef\nexport var _globalThis = typeof globalThis === 'object'\n    ? globalThis\n    : typeof self === 'object'\n        ? self\n        : typeof window === 'object'\n            ? window\n            : typeof global === 'object'\n                ? global\n                : {};\n//# sourceMappingURL=globalThis.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// this is autogenerated file, see scripts/version-update.js\nexport var VERSION = '1.9.0';\n//# sourceMappingURL=version.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { VERSION } from '../version';\nvar re = /^(\\d+)\\.(\\d+)\\.(\\d+)(-(.+))?$/;\n/**\n * Create a function to test an API version to see if it is compatible with the provided ownVersion.\n *\n * The returned function has the following semantics:\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param ownVersion version which should be checked against\n */\nexport function _makeCompatibilityCheck(ownVersion) {\n    var acceptedVersions = new Set([ownVersion]);\n    var rejectedVersions = new Set();\n    var myVersionMatch = ownVersion.match(re);\n    if (!myVersionMatch) {\n        // we cannot guarantee compatibility so we always return noop\n        return function () { return false; };\n    }\n    var ownVersionParsed = {\n        major: +myVersionMatch[1],\n        minor: +myVersionMatch[2],\n        patch: +myVersionMatch[3],\n        prerelease: myVersionMatch[4],\n    };\n    // if ownVersion has a prerelease tag, versions must match exactly\n    if (ownVersionParsed.prerelease != null) {\n        return function isExactmatch(globalVersion) {\n            return globalVersion === ownVersion;\n        };\n    }\n    function _reject(v) {\n        rejectedVersions.add(v);\n        return false;\n    }\n    function _accept(v) {\n        acceptedVersions.add(v);\n        return true;\n    }\n    return function isCompatible(globalVersion) {\n        if (acceptedVersions.has(globalVersion)) {\n            return true;\n        }\n        if (rejectedVersions.has(globalVersion)) {\n            return false;\n        }\n        var globalVersionMatch = globalVersion.match(re);\n        if (!globalVersionMatch) {\n            // cannot parse other version\n            // we cannot guarantee compatibility so we always noop\n            return _reject(globalVersion);\n        }\n        var globalVersionParsed = {\n            major: +globalVersionMatch[1],\n            minor: +globalVersionMatch[2],\n            patch: +globalVersionMatch[3],\n            prerelease: globalVersionMatch[4],\n        };\n        // if globalVersion has a prerelease tag, versions must match exactly\n        if (globalVersionParsed.prerelease != null) {\n            return _reject(globalVersion);\n        }\n        // major versions must match\n        if (ownVersionParsed.major !== globalVersionParsed.major) {\n            return _reject(globalVersion);\n        }\n        if (ownVersionParsed.major === 0) {\n            if (ownVersionParsed.minor === globalVersionParsed.minor &&\n                ownVersionParsed.patch <= globalVersionParsed.patch) {\n                return _accept(globalVersion);\n            }\n            return _reject(globalVersion);\n        }\n        if (ownVersionParsed.minor <= globalVersionParsed.minor) {\n            return _accept(globalVersion);\n        }\n        return _reject(globalVersion);\n    };\n}\n/**\n * Test an API version to see if it is compatible with this API.\n *\n * - Exact match is always compatible\n * - Major versions must match exactly\n *    - 1.x package cannot use global 2.x package\n *    - 2.x package cannot use global 1.x package\n * - The minor version of the API module requesting access to the global API must be less than or equal to the minor version of this API\n *    - 1.3 package may use 1.4 global because the later global contains all functions 1.3 expects\n *    - 1.4 package may NOT use 1.3 global because it may try to call functions which don't exist on 1.3\n * - If the major version is 0, the minor version is treated as the major and the patch is treated as the minor\n * - Patch and build tag differences are not considered at this time\n *\n * @param version version of the API requesting an instance of the global API\n */\nexport var isCompatible = _makeCompatibilityCheck(VERSION);\n//# sourceMappingURL=semver.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { _globalThis } from '../platform';\nimport { VERSION } from '../version';\nimport { isCompatible } from './semver';\nvar major = VERSION.split('.')[0];\nvar GLOBAL_OPENTELEMETRY_API_KEY = Symbol.for(\"opentelemetry.js.api.\" + major);\nvar _global = _globalThis;\nexport function registerGlobal(type, instance, diag, allowOverride) {\n    var _a;\n    if (allowOverride === void 0) { allowOverride = false; }\n    var api = (_global[GLOBAL_OPENTELEMETRY_API_KEY] = (_a = _global[GLOBAL_OPENTELEMETRY_API_KEY]) !== null && _a !== void 0 ? _a : {\n        version: VERSION,\n    });\n    if (!allowOverride && api[type]) {\n        // already registered an API of this type\n        var err = new Error(\"@opentelemetry/api: Attempted duplicate registration of API: \" + type);\n        diag.error(err.stack || err.message);\n        return false;\n    }\n    if (api.version !== VERSION) {\n        // All registered APIs must be of the same version exactly\n        var err = new Error(\"@opentelemetry/api: Registration of version v\" + api.version + \" for \" + type + \" does not match previously registered API v\" + VERSION);\n        diag.error(err.stack || err.message);\n        return false;\n    }\n    api[type] = instance;\n    diag.debug(\"@opentelemetry/api: Registered a global for \" + type + \" v\" + VERSION + \".\");\n    return true;\n}\nexport function getGlobal(type) {\n    var _a, _b;\n    var globalVersion = (_a = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _a === void 0 ? void 0 : _a.version;\n    if (!globalVersion || !isCompatible(globalVersion)) {\n        return;\n    }\n    return (_b = _global[GLOBAL_OPENTELEMETRY_API_KEY]) === null || _b === void 0 ? void 0 : _b[type];\n}\nexport function unregisterGlobal(type, diag) {\n    diag.debug(\"@opentelemetry/api: Unregistering a global for \" + type + \" v\" + VERSION + \".\");\n    var api = _global[GLOBAL_OPENTELEMETRY_API_KEY];\n    if (api) {\n        delete api[type];\n    }\n}\n//# sourceMappingURL=global-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { getGlobal } from '../internal/global-utils';\n/**\n * Component Logger which is meant to be used as part of any component which\n * will add automatically additional namespace in front of the log message.\n * It will then forward all message to global diag logger\n * @example\n * const cLogger = diag.createComponentLogger({ namespace: '@opentelemetry/instrumentation-http' });\n * cLogger.debug('test');\n * // @opentelemetry/instrumentation-http test\n */\nvar DiagComponentLogger = /** @class */ (function () {\n    function DiagComponentLogger(props) {\n        this._namespace = props.namespace || 'DiagComponentLogger';\n    }\n    DiagComponentLogger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('debug', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('error', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.info = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('info', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('warn', this._namespace, args);\n    };\n    DiagComponentLogger.prototype.verbose = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return logProxy('verbose', this._namespace, args);\n    };\n    return DiagComponentLogger;\n}());\nexport { DiagComponentLogger };\nfunction logProxy(funcName, namespace, args) {\n    var logger = getGlobal('diag');\n    // shortcut if logger not set\n    if (!logger) {\n        return;\n    }\n    args.unshift(namespace);\n    return logger[funcName].apply(logger, __spreadArray([], __read(args), false));\n}\n//# sourceMappingURL=ComponentLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Defines the available internal logging levels for the diagnostic logger, the numeric values\n * of the levels are defined to match the original values from the initial LogLevel to avoid\n * compatibility/migration issues for any implementation that assume the numeric ordering.\n */\nexport var DiagLogLevel;\n(function (DiagLogLevel) {\n    /** Diagnostic Logging level setting to disable all logging (except and forced logs) */\n    DiagLogLevel[DiagLogLevel[\"NONE\"] = 0] = \"NONE\";\n    /** Identifies an error scenario */\n    DiagLogLevel[DiagLogLevel[\"ERROR\"] = 30] = \"ERROR\";\n    /** Identifies a warning scenario */\n    DiagLogLevel[DiagLogLevel[\"WARN\"] = 50] = \"WARN\";\n    /** General informational log message */\n    DiagLogLevel[DiagLogLevel[\"INFO\"] = 60] = \"INFO\";\n    /** General debug log message */\n    DiagLogLevel[DiagLogLevel[\"DEBUG\"] = 70] = \"DEBUG\";\n    /**\n     * Detailed trace level logging should only be used for development, should only be set\n     * in a development environment.\n     */\n    DiagLogLevel[DiagLogLevel[\"VERBOSE\"] = 80] = \"VERBOSE\";\n    /** Used to set the logging level to include all logging */\n    DiagLogLevel[DiagLogLevel[\"ALL\"] = 9999] = \"ALL\";\n})(DiagLogLevel || (DiagLogLevel = {}));\n//# sourceMappingURL=types.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { DiagLogLevel } from '../types';\nexport function createLogLevelDiagLogger(maxLevel, logger) {\n    if (maxLevel < DiagLogLevel.NONE) {\n        maxLevel = DiagLogLevel.NONE;\n    }\n    else if (maxLevel > DiagLogLevel.ALL) {\n        maxLevel = DiagLogLevel.ALL;\n    }\n    // In case the logger is null or undefined\n    logger = logger || {};\n    function _filterFunc(funcName, theLevel) {\n        var theFunc = logger[funcName];\n        if (typeof theFunc === 'function' && maxLevel >= theLevel) {\n            return theFunc.bind(logger);\n        }\n        return function () { };\n    }\n    return {\n        error: _filterFunc('error', DiagLogLevel.ERROR),\n        warn: _filterFunc('warn', DiagLogLevel.WARN),\n        info: _filterFunc('info', DiagLogLevel.INFO),\n        debug: _filterFunc('debug', DiagLogLevel.DEBUG),\n        verbose: _filterFunc('verbose', DiagLogLevel.VERBOSE),\n    };\n}\n//# sourceMappingURL=logLevelLogger.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { DiagComponentLogger } from '../diag/ComponentLogger';\nimport { createLogLevelDiagLogger } from '../diag/internal/logLevelLogger';\nimport { DiagLogLevel, } from '../diag/types';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nvar API_NAME = 'diag';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry internal\n * diagnostic API\n */\nvar DiagAPI = /** @class */ (function () {\n    /**\n     * Private internal constructor\n     * @private\n     */\n    function DiagAPI() {\n        function _logProxy(funcName) {\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                var logger = getGlobal('diag');\n                // shortcut if logger not set\n                if (!logger)\n                    return;\n                return logger[funcName].apply(logger, __spreadArray([], __read(args), false));\n            };\n        }\n        // Using self local variable for minification purposes as 'this' cannot be minified\n        var self = this;\n        // DiagAPI specific functions\n        var setLogger = function (logger, optionsOrLogLevel) {\n            var _a, _b, _c;\n            if (optionsOrLogLevel === void 0) { optionsOrLogLevel = { logLevel: DiagLogLevel.INFO }; }\n            if (logger === self) {\n                // There isn't much we can do here.\n                // Logging to the console might break the user application.\n                // Try to log to self. If a logger was previously registered it will receive the log.\n                var err = new Error('Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation');\n                self.error((_a = err.stack) !== null && _a !== void 0 ? _a : err.message);\n                return false;\n            }\n            if (typeof optionsOrLogLevel === 'number') {\n                optionsOrLogLevel = {\n                    logLevel: optionsOrLogLevel,\n                };\n            }\n            var oldLogger = getGlobal('diag');\n            var newLogger = createLogLevelDiagLogger((_b = optionsOrLogLevel.logLevel) !== null && _b !== void 0 ? _b : DiagLogLevel.INFO, logger);\n            // There already is an logger registered. We'll let it know before overwriting it.\n            if (oldLogger && !optionsOrLogLevel.suppressOverrideMessage) {\n                var stack = (_c = new Error().stack) !== null && _c !== void 0 ? _c : '<failed to generate stacktrace>';\n                oldLogger.warn(\"Current logger will be overwritten from \" + stack);\n                newLogger.warn(\"Current logger will overwrite one already registered from \" + stack);\n            }\n            return registerGlobal('diag', newLogger, self, true);\n        };\n        self.setLogger = setLogger;\n        self.disable = function () {\n            unregisterGlobal(API_NAME, self);\n        };\n        self.createComponentLogger = function (options) {\n            return new DiagComponentLogger(options);\n        };\n        self.verbose = _logProxy('verbose');\n        self.debug = _logProxy('debug');\n        self.info = _logProxy('info');\n        self.warn = _logProxy('warn');\n        self.error = _logProxy('error');\n    }\n    /** Get the singleton instance of the DiagAPI API */\n    DiagAPI.instance = function () {\n        if (!this._instance) {\n            this._instance = new DiagAPI();\n        }\n        return this._instance;\n    };\n    return DiagAPI;\n}());\nexport { DiagAPI };\n//# sourceMappingURL=diag.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Get a key to uniquely identify a context value */\nexport function createContextKey(description) {\n    // The specification states that for the same input, multiple calls should\n    // return different keys. Due to the nature of the JS dependency management\n    // system, this creates problems where multiple versions of some package\n    // could hold different keys for the same property.\n    //\n    // Therefore, we use Symbol.for which returns the same key for the same input.\n    return Symbol.for(description);\n}\nvar BaseContext = /** @class */ (function () {\n    /**\n     * Construct a new context which inherits values from an optional parent context.\n     *\n     * @param parentContext a context from which to inherit values\n     */\n    function BaseContext(parentContext) {\n        // for minification\n        var self = this;\n        self._currentContext = parentContext ? new Map(parentContext) : new Map();\n        self.getValue = function (key) { return self._currentContext.get(key); };\n        self.setValue = function (key, value) {\n            var context = new BaseContext(self._currentContext);\n            context._currentContext.set(key, value);\n            return context;\n        };\n        self.deleteValue = function (key) {\n            var context = new BaseContext(self._currentContext);\n            context._currentContext.delete(key);\n            return context;\n        };\n    }\n    return BaseContext;\n}());\n/** The root context is used as the default parent context when there is no active context */\nexport var ROOT_CONTEXT = new BaseContext();\n//# sourceMappingURL=context.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { ROOT_CONTEXT } from './context';\nvar NoopContextManager = /** @class */ (function () {\n    function NoopContextManager() {\n    }\n    NoopContextManager.prototype.active = function () {\n        return ROOT_CONTEXT;\n    };\n    NoopContextManager.prototype.with = function (_context, fn, thisArg) {\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        return fn.call.apply(fn, __spreadArray([thisArg], __read(args), false));\n    };\n    NoopContextManager.prototype.bind = function (_context, target) {\n        return target;\n    };\n    NoopContextManager.prototype.enable = function () {\n        return this;\n    };\n    NoopContextManager.prototype.disable = function () {\n        return this;\n    };\n    return NoopContextManager;\n}());\nexport { NoopContextManager };\n//# sourceMappingURL=NoopContextManager.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { NoopContextManager } from '../context/NoopContextManager';\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'context';\nvar NOOP_CONTEXT_MANAGER = new NoopContextManager();\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Context API\n */\nvar ContextAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function ContextAPI() {\n    }\n    /** Get the singleton instance of the Context API */\n    ContextAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new ContextAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current context manager.\n     *\n     * @returns true if the context manager was successfully registered, else false\n     */\n    ContextAPI.prototype.setGlobalContextManager = function (contextManager) {\n        return registerGlobal(API_NAME, contextManager, DiagAPI.instance());\n    };\n    /**\n     * Get the currently active context\n     */\n    ContextAPI.prototype.active = function () {\n        return this._getContextManager().active();\n    };\n    /**\n     * Execute a function with an active context\n     *\n     * @param context context to be active during function execution\n     * @param fn function to execute in a context\n     * @param thisArg optional receiver to be used for calling fn\n     * @param args optional arguments forwarded to fn\n     */\n    ContextAPI.prototype.with = function (context, fn, thisArg) {\n        var _a;\n        var args = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            args[_i - 3] = arguments[_i];\n        }\n        return (_a = this._getContextManager()).with.apply(_a, __spreadArray([context, fn, thisArg], __read(args), false));\n    };\n    /**\n     * Bind a context to a target function or event emitter\n     *\n     * @param context context to bind to the event emitter or function. Defaults to the currently active context\n     * @param target function or event emitter to bind\n     */\n    ContextAPI.prototype.bind = function (context, target) {\n        return this._getContextManager().bind(context, target);\n    };\n    ContextAPI.prototype._getContextManager = function () {\n        return getGlobal(API_NAME) || NOOP_CONTEXT_MANAGER;\n    };\n    /** Disable and remove the global context manager */\n    ContextAPI.prototype.disable = function () {\n        this._getContextManager().disable();\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n    };\n    return ContextAPI;\n}());\nexport { ContextAPI };\n//# sourceMappingURL=context.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nexport var TraceFlags;\n(function (TraceFlags) {\n    /** Represents no flag set. */\n    TraceFlags[TraceFlags[\"NONE\"] = 0] = \"NONE\";\n    /** Bit to represent whether trace is sampled in trace flags. */\n    TraceFlags[TraceFlags[\"SAMPLED\"] = 1] = \"SAMPLED\";\n})(TraceFlags || (TraceFlags = {}));\n//# sourceMappingURL=trace_flags.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { TraceFlags } from './trace_flags';\nexport var INVALID_SPANID = '0000000000000000';\nexport var INVALID_TRACEID = '00000000000000000000000000000000';\nexport var INVALID_SPAN_CONTEXT = {\n    traceId: INVALID_TRACEID,\n    spanId: INVALID_SPANID,\n    traceFlags: TraceFlags.NONE,\n};\n//# sourceMappingURL=invalid-span-constants.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPAN_CONTEXT } from './invalid-span-constants';\n/**\n * The NonRecordingSpan is the default {@link Span} that is used when no Span\n * implementation is available. All operations are no-op including context\n * propagation.\n */\nvar NonRecordingSpan = /** @class */ (function () {\n    function NonRecordingSpan(_spanContext) {\n        if (_spanContext === void 0) { _spanContext = INVALID_SPAN_CONTEXT; }\n        this._spanContext = _spanContext;\n    }\n    // Returns a SpanContext.\n    NonRecordingSpan.prototype.spanContext = function () {\n        return this._spanContext;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setAttribute = function (_key, _value) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setAttributes = function (_attributes) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.addEvent = function (_name, _attributes) {\n        return this;\n    };\n    NonRecordingSpan.prototype.addLink = function (_link) {\n        return this;\n    };\n    NonRecordingSpan.prototype.addLinks = function (_links) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.setStatus = function (_status) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.updateName = function (_name) {\n        return this;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.end = function (_endTime) { };\n    // isRecording always returns false for NonRecordingSpan.\n    NonRecordingSpan.prototype.isRecording = function () {\n        return false;\n    };\n    // By default does nothing\n    NonRecordingSpan.prototype.recordException = function (_exception, _time) { };\n    return NonRecordingSpan;\n}());\nexport { NonRecordingSpan };\n//# sourceMappingURL=NonRecordingSpan.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { createContextKey } from '../context/context';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { ContextAPI } from '../api/context';\n/**\n * span key\n */\nvar SPAN_KEY = createContextKey('OpenTelemetry Context Key SPAN');\n/**\n * Return the span if one exists\n *\n * @param context context to get span from\n */\nexport function getSpan(context) {\n    return context.getValue(SPAN_KEY) || undefined;\n}\n/**\n * Gets the span from the current context, if one exists.\n */\nexport function getActiveSpan() {\n    return getSpan(ContextAPI.getInstance().active());\n}\n/**\n * Set the span on a context\n *\n * @param context context to use as parent\n * @param span span to set active\n */\nexport function setSpan(context, span) {\n    return context.setValue(SPAN_KEY, span);\n}\n/**\n * Remove current span stored in the context\n *\n * @param context context to delete span from\n */\nexport function deleteSpan(context) {\n    return context.deleteValue(SPAN_KEY);\n}\n/**\n * Wrap span context in a NoopSpan and set as span in a new\n * context\n *\n * @param context context to set active span on\n * @param spanContext span context to be wrapped\n */\nexport function setSpanContext(context, spanContext) {\n    return setSpan(context, new NonRecordingSpan(spanContext));\n}\n/**\n * Get the span context of the span if it exists.\n *\n * @param context context to get values from\n */\nexport function getSpanContext(context) {\n    var _a;\n    return (_a = getSpan(context)) === null || _a === void 0 ? void 0 : _a.spanContext();\n}\n//# sourceMappingURL=context-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { INVALID_SPANID, INVALID_TRACEID } from './invalid-span-constants';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nvar VALID_TRACEID_REGEX = /^([0-9a-f]{32})$/i;\nvar VALID_SPANID_REGEX = /^[0-9a-f]{16}$/i;\nexport function isValidTraceId(traceId) {\n    return VALID_TRACEID_REGEX.test(traceId) && traceId !== INVALID_TRACEID;\n}\nexport function isValidSpanId(spanId) {\n    return VALID_SPANID_REGEX.test(spanId) && spanId !== INVALID_SPANID;\n}\n/**\n * Returns true if this {@link SpanContext} is valid.\n * @return true if this {@link SpanContext} is valid.\n */\nexport function isSpanContextValid(spanContext) {\n    return (isValidTraceId(spanContext.traceId) && isValidSpanId(spanContext.spanId));\n}\n/**\n * Wrap the given {@link SpanContext} in a new non-recording {@link Span}\n *\n * @param spanContext span context to be wrapped\n * @returns a new non-recording {@link Span} with the provided context\n */\nexport function wrapSpanContext(spanContext) {\n    return new NonRecordingSpan(spanContext);\n}\n//# sourceMappingURL=spancontext-utils.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ContextAPI } from '../api/context';\nimport { getSpanContext, setSpan } from '../trace/context-utils';\nimport { NonRecordingSpan } from './NonRecordingSpan';\nimport { isSpanContextValid } from './spancontext-utils';\nvar contextApi = ContextAPI.getInstance();\n/**\n * No-op implementations of {@link Tracer}.\n */\nvar NoopTracer = /** @class */ (function () {\n    function NoopTracer() {\n    }\n    // startSpan starts a noop span.\n    NoopTracer.prototype.startSpan = function (name, options, context) {\n        if (context === void 0) { context = contextApi.active(); }\n        var root = Boolean(options === null || options === void 0 ? void 0 : options.root);\n        if (root) {\n            return new NonRecordingSpan();\n        }\n        var parentFromContext = context && getSpanContext(context);\n        if (isSpanContext(parentFromContext) &&\n            isSpanContextValid(parentFromContext)) {\n            return new NonRecordingSpan(parentFromContext);\n        }\n        else {\n            return new NonRecordingSpan();\n        }\n    };\n    NoopTracer.prototype.startActiveSpan = function (name, arg2, arg3, arg4) {\n        var opts;\n        var ctx;\n        var fn;\n        if (arguments.length < 2) {\n            return;\n        }\n        else if (arguments.length === 2) {\n            fn = arg2;\n        }\n        else if (arguments.length === 3) {\n            opts = arg2;\n            fn = arg3;\n        }\n        else {\n            opts = arg2;\n            ctx = arg3;\n            fn = arg4;\n        }\n        var parentContext = ctx !== null && ctx !== void 0 ? ctx : contextApi.active();\n        var span = this.startSpan(name, opts, parentContext);\n        var contextWithSpanSet = setSpan(parentContext, span);\n        return contextApi.with(contextWithSpanSet, fn, undefined, span);\n    };\n    return NoopTracer;\n}());\nexport { NoopTracer };\nfunction isSpanContext(spanContext) {\n    return (typeof spanContext === 'object' &&\n        typeof spanContext['spanId'] === 'string' &&\n        typeof spanContext['traceId'] === 'string' &&\n        typeof spanContext['traceFlags'] === 'number');\n}\n//# sourceMappingURL=NoopTracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NoopTracer } from './NoopTracer';\nvar NOOP_TRACER = new NoopTracer();\n/**\n * Proxy tracer provided by the proxy tracer provider\n */\nvar ProxyTracer = /** @class */ (function () {\n    function ProxyTracer(_provider, name, version, options) {\n        this._provider = _provider;\n        this.name = name;\n        this.version = version;\n        this.options = options;\n    }\n    ProxyTracer.prototype.startSpan = function (name, options, context) {\n        return this._getTracer().startSpan(name, options, context);\n    };\n    ProxyTracer.prototype.startActiveSpan = function (_name, _options, _context, _fn) {\n        var tracer = this._getTracer();\n        return Reflect.apply(tracer.startActiveSpan, tracer, arguments);\n    };\n    /**\n     * Try to get a tracer from the proxy tracer provider.\n     * If the proxy tracer provider has no delegate, return a noop tracer.\n     */\n    ProxyTracer.prototype._getTracer = function () {\n        if (this._delegate) {\n            return this._delegate;\n        }\n        var tracer = this._provider.getDelegateTracer(this.name, this.version, this.options);\n        if (!tracer) {\n            return NOOP_TRACER;\n        }\n        this._delegate = tracer;\n        return this._delegate;\n    };\n    return ProxyTracer;\n}());\nexport { ProxyTracer };\n//# sourceMappingURL=ProxyTracer.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { NoopTracer } from './NoopTracer';\n/**\n * An implementation of the {@link TracerProvider} which returns an impotent\n * Tracer for all calls to `getTracer`.\n *\n * All operations are no-op.\n */\nvar NoopTracerProvider = /** @class */ (function () {\n    function NoopTracerProvider() {\n    }\n    NoopTracerProvider.prototype.getTracer = function (_name, _version, _options) {\n        return new NoopTracer();\n    };\n    return NoopTracerProvider;\n}());\nexport { NoopTracerProvider };\n//# sourceMappingURL=NoopTracerProvider.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { ProxyTracer } from './ProxyTracer';\nimport { NoopTracerProvider } from './NoopTracerProvider';\nvar NOOP_TRACER_PROVIDER = new NoopTracerProvider();\n/**\n * Tracer provider which provides {@link ProxyTracer}s.\n *\n * Before a delegate is set, tracers provided are NoOp.\n *   When a delegate is set, traces are provided from the delegate.\n *   When a delegate is set after tracers have already been provided,\n *   all tracers already provided will use the provided delegate implementation.\n */\nvar ProxyTracerProvider = /** @class */ (function () {\n    function ProxyTracerProvider() {\n    }\n    /**\n     * Get a {@link ProxyTracer}\n     */\n    ProxyTracerProvider.prototype.getTracer = function (name, version, options) {\n        var _a;\n        return ((_a = this.getDelegateTracer(name, version, options)) !== null && _a !== void 0 ? _a : new ProxyTracer(this, name, version, options));\n    };\n    ProxyTracerProvider.prototype.getDelegate = function () {\n        var _a;\n        return (_a = this._delegate) !== null && _a !== void 0 ? _a : NOOP_TRACER_PROVIDER;\n    };\n    /**\n     * Set the delegate tracer provider\n     */\n    ProxyTracerProvider.prototype.setDelegate = function (delegate) {\n        this._delegate = delegate;\n    };\n    ProxyTracerProvider.prototype.getDelegateTracer = function (name, version, options) {\n        var _a;\n        return (_a = this._delegate) === null || _a === void 0 ? void 0 : _a.getTracer(name, version, options);\n    };\n    return ProxyTracerProvider;\n}());\nexport { ProxyTracerProvider };\n//# sourceMappingURL=ProxyTracerProvider.js.map","/**\n * An enumeration of status codes.\n */\nexport var SpanStatusCode;\n(function (SpanStatusCode) {\n    /**\n     * The default status.\n     */\n    SpanStatusCode[SpanStatusCode[\"UNSET\"] = 0] = \"UNSET\";\n    /**\n     * The operation has been validated by an Application developer or\n     * Operator to have completed successfully.\n     */\n    SpanStatusCode[SpanStatusCode[\"OK\"] = 1] = \"OK\";\n    /**\n     * The operation contains an error.\n     */\n    SpanStatusCode[SpanStatusCode[\"ERROR\"] = 2] = \"ERROR\";\n})(SpanStatusCode || (SpanStatusCode = {}));\n//# sourceMappingURL=status.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getGlobal, registerGlobal, unregisterGlobal, } from '../internal/global-utils';\nimport { ProxyTracerProvider } from '../trace/ProxyTracerProvider';\nimport { isSpanContextValid, wrapSpanContext, } from '../trace/spancontext-utils';\nimport { deleteSpan, getActiveSpan, getSpan, getSpanContext, setSpan, setSpanContext, } from '../trace/context-utils';\nimport { DiagAPI } from './diag';\nvar API_NAME = 'trace';\n/**\n * Singleton object which represents the entry point to the OpenTelemetry Tracing API\n */\nvar TraceAPI = /** @class */ (function () {\n    /** Empty private constructor prevents end users from constructing a new instance of the API */\n    function TraceAPI() {\n        this._proxyTracerProvider = new ProxyTracerProvider();\n        this.wrapSpanContext = wrapSpanContext;\n        this.isSpanContextValid = isSpanContextValid;\n        this.deleteSpan = deleteSpan;\n        this.getSpan = getSpan;\n        this.getActiveSpan = getActiveSpan;\n        this.getSpanContext = getSpanContext;\n        this.setSpan = setSpan;\n        this.setSpanContext = setSpanContext;\n    }\n    /** Get the singleton instance of the Trace API */\n    TraceAPI.getInstance = function () {\n        if (!this._instance) {\n            this._instance = new TraceAPI();\n        }\n        return this._instance;\n    };\n    /**\n     * Set the current global tracer.\n     *\n     * @returns true if the tracer provider was successfully registered, else false\n     */\n    TraceAPI.prototype.setGlobalTracerProvider = function (provider) {\n        var success = registerGlobal(API_NAME, this._proxyTracerProvider, DiagAPI.instance());\n        if (success) {\n            this._proxyTracerProvider.setDelegate(provider);\n        }\n        return success;\n    };\n    /**\n     * Returns the global tracer provider.\n     */\n    TraceAPI.prototype.getTracerProvider = function () {\n        return getGlobal(API_NAME) || this._proxyTracerProvider;\n    };\n    /**\n     * Returns a tracer from the global tracer provider.\n     */\n    TraceAPI.prototype.getTracer = function (name, version) {\n        return this.getTracerProvider().getTracer(name, version);\n    };\n    /** Remove the global tracer provider */\n    TraceAPI.prototype.disable = function () {\n        unregisterGlobal(API_NAME, DiagAPI.instance());\n        this._proxyTracerProvider = new ProxyTracerProvider();\n    };\n    return TraceAPI;\n}());\nexport { TraceAPI };\n//# sourceMappingURL=trace.js.map","/*\n * Copyright The OpenTelemetry Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      https://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Split module-level variable definition into separate files to allow\n// tree-shaking on each api instance.\nimport { TraceAPI } from './api/trace';\n/** Entrypoint for trace API */\nexport var trace = TraceAPI.getInstance();\n//# sourceMappingURL=trace-api.js.map","var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name16 in all)\n    __defProp(target, name16, { get: all[name16], enumerable: true });\n};\n\n// src/index.ts\nimport { createGateway, gateway as gateway2 } from \"@ai-sdk/gateway\";\nimport {\n  asSchema as asSchema5,\n  createIdGenerator as createIdGenerator5,\n  dynamicTool,\n  generateId,\n  jsonSchema,\n  parseJsonEventStream as parseJsonEventStream3,\n  tool,\n  zodSchema as zodSchema3\n} from \"@ai-sdk/provider-utils\";\n\n// src/generate-text/generate-text.ts\nimport {\n  createIdGenerator,\n  getErrorMessage as getErrorMessage5,\n  withUserAgentSuffix as withUserAgentSuffix2\n} from \"@ai-sdk/provider-utils\";\n\n// src/error/index.ts\nimport {\n  AISDKError as AISDKError17,\n  APICallError,\n  EmptyResponseBodyError,\n  InvalidPromptError,\n  InvalidResponseDataError,\n  JSONParseError,\n  LoadAPIKeyError,\n  LoadSettingError,\n  NoContentGeneratedError,\n  NoSuchModelError,\n  TooManyEmbeddingValuesForCallError,\n  TypeValidationError,\n  UnsupportedFunctionalityError\n} from \"@ai-sdk/provider\";\n\n// src/error/invalid-argument-error.ts\nimport { AISDKError } from \"@ai-sdk/provider\";\nvar name = \"AI_InvalidArgumentError\";\nvar marker = `vercel.ai.error.${name}`;\nvar symbol = Symbol.for(marker);\nvar _a;\nvar InvalidArgumentError = class extends AISDKError {\n  constructor({\n    parameter,\n    value,\n    message\n  }) {\n    super({\n      name,\n      message: `Invalid argument for parameter ${parameter}: ${message}`\n    });\n    this[_a] = true;\n    this.parameter = parameter;\n    this.value = value;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker);\n  }\n};\n_a = symbol;\n\n// src/error/invalid-stream-part-error.ts\nimport { AISDKError as AISDKError2 } from \"@ai-sdk/provider\";\nvar name2 = \"AI_InvalidStreamPartError\";\nvar marker2 = `vercel.ai.error.${name2}`;\nvar symbol2 = Symbol.for(marker2);\nvar _a2;\nvar InvalidStreamPartError = class extends AISDKError2 {\n  constructor({\n    chunk,\n    message\n  }) {\n    super({ name: name2, message });\n    this[_a2] = true;\n    this.chunk = chunk;\n  }\n  static isInstance(error) {\n    return AISDKError2.hasMarker(error, marker2);\n  }\n};\n_a2 = symbol2;\n\n// src/error/invalid-tool-approval-error.ts\nimport { AISDKError as AISDKError3 } from \"@ai-sdk/provider\";\nvar name3 = \"AI_InvalidToolApprovalError\";\nvar marker3 = `vercel.ai.error.${name3}`;\nvar symbol3 = Symbol.for(marker3);\nvar _a3;\nvar InvalidToolApprovalError = class extends AISDKError3 {\n  constructor({ approvalId }) {\n    super({\n      name: name3,\n      message: `Tool approval response references unknown approvalId: \"${approvalId}\". No matching tool-approval-request found in message history.`\n    });\n    this[_a3] = true;\n    this.approvalId = approvalId;\n  }\n  static isInstance(error) {\n    return AISDKError3.hasMarker(error, marker3);\n  }\n};\n_a3 = symbol3;\n\n// src/error/invalid-tool-input-error.ts\nimport { AISDKError as AISDKError4, getErrorMessage } from \"@ai-sdk/provider\";\nvar name4 = \"AI_InvalidToolInputError\";\nvar marker4 = `vercel.ai.error.${name4}`;\nvar symbol4 = Symbol.for(marker4);\nvar _a4;\nvar InvalidToolInputError = class extends AISDKError4 {\n  constructor({\n    toolInput,\n    toolName,\n    cause,\n    message = `Invalid input for tool ${toolName}: ${getErrorMessage(cause)}`\n  }) {\n    super({ name: name4, message, cause });\n    this[_a4] = true;\n    this.toolInput = toolInput;\n    this.toolName = toolName;\n  }\n  static isInstance(error) {\n    return AISDKError4.hasMarker(error, marker4);\n  }\n};\n_a4 = symbol4;\n\n// src/error/tool-call-not-found-for-approval-error.ts\nimport { AISDKError as AISDKError5 } from \"@ai-sdk/provider\";\nvar name5 = \"AI_ToolCallNotFoundForApprovalError\";\nvar marker5 = `vercel.ai.error.${name5}`;\nvar symbol5 = Symbol.for(marker5);\nvar _a5;\nvar ToolCallNotFoundForApprovalError = class extends AISDKError5 {\n  constructor({\n    toolCallId,\n    approvalId\n  }) {\n    super({\n      name: name5,\n      message: `Tool call \"${toolCallId}\" not found for approval request \"${approvalId}\".`\n    });\n    this[_a5] = true;\n    this.toolCallId = toolCallId;\n    this.approvalId = approvalId;\n  }\n  static isInstance(error) {\n    return AISDKError5.hasMarker(error, marker5);\n  }\n};\n_a5 = symbol5;\n\n// src/error/no-image-generated-error.ts\nimport { AISDKError as AISDKError6 } from \"@ai-sdk/provider\";\nvar name6 = \"AI_NoImageGeneratedError\";\nvar marker6 = `vercel.ai.error.${name6}`;\nvar symbol6 = Symbol.for(marker6);\nvar _a6;\nvar NoImageGeneratedError = class extends AISDKError6 {\n  constructor({\n    message = \"No image generated.\",\n    cause,\n    responses\n  }) {\n    super({ name: name6, message, cause });\n    this[_a6] = true;\n    this.responses = responses;\n  }\n  static isInstance(error) {\n    return AISDKError6.hasMarker(error, marker6);\n  }\n};\n_a6 = symbol6;\n\n// src/error/no-object-generated-error.ts\nimport { AISDKError as AISDKError7 } from \"@ai-sdk/provider\";\nvar name7 = \"AI_NoObjectGeneratedError\";\nvar marker7 = `vercel.ai.error.${name7}`;\nvar symbol7 = Symbol.for(marker7);\nvar _a7;\nvar NoObjectGeneratedError = class extends AISDKError7 {\n  constructor({\n    message = \"No object generated.\",\n    cause,\n    text: text2,\n    response,\n    usage,\n    finishReason\n  }) {\n    super({ name: name7, message, cause });\n    this[_a7] = true;\n    this.text = text2;\n    this.response = response;\n    this.usage = usage;\n    this.finishReason = finishReason;\n  }\n  static isInstance(error) {\n    return AISDKError7.hasMarker(error, marker7);\n  }\n};\n_a7 = symbol7;\n\n// src/error/no-output-generated-error.ts\nimport { AISDKError as AISDKError8 } from \"@ai-sdk/provider\";\nvar name8 = \"AI_NoOutputGeneratedError\";\nvar marker8 = `vercel.ai.error.${name8}`;\nvar symbol8 = Symbol.for(marker8);\nvar _a8;\nvar NoOutputGeneratedError = class extends AISDKError8 {\n  // used in isInstance\n  constructor({\n    message = \"No output generated.\",\n    cause\n  } = {}) {\n    super({ name: name8, message, cause });\n    this[_a8] = true;\n  }\n  static isInstance(error) {\n    return AISDKError8.hasMarker(error, marker8);\n  }\n};\n_a8 = symbol8;\n\n// src/error/no-speech-generated-error.ts\nimport { AISDKError as AISDKError9 } from \"@ai-sdk/provider\";\nvar NoSpeechGeneratedError = class extends AISDKError9 {\n  constructor(options) {\n    super({\n      name: \"AI_NoSpeechGeneratedError\",\n      message: \"No speech audio generated.\"\n    });\n    this.responses = options.responses;\n  }\n};\n\n// src/error/no-such-tool-error.ts\nimport { AISDKError as AISDKError10 } from \"@ai-sdk/provider\";\nvar name9 = \"AI_NoSuchToolError\";\nvar marker9 = `vercel.ai.error.${name9}`;\nvar symbol9 = Symbol.for(marker9);\nvar _a9;\nvar NoSuchToolError = class extends AISDKError10 {\n  constructor({\n    toolName,\n    availableTools = void 0,\n    message = `Model tried to call unavailable tool '${toolName}'. ${availableTools === void 0 ? \"No tools are available.\" : `Available tools: ${availableTools.join(\", \")}.`}`\n  }) {\n    super({ name: name9, message });\n    this[_a9] = true;\n    this.toolName = toolName;\n    this.availableTools = availableTools;\n  }\n  static isInstance(error) {\n    return AISDKError10.hasMarker(error, marker9);\n  }\n};\n_a9 = symbol9;\n\n// src/error/tool-call-repair-error.ts\nimport { AISDKError as AISDKError11, getErrorMessage as getErrorMessage2 } from \"@ai-sdk/provider\";\nvar name10 = \"AI_ToolCallRepairError\";\nvar marker10 = `vercel.ai.error.${name10}`;\nvar symbol10 = Symbol.for(marker10);\nvar _a10;\nvar ToolCallRepairError = class extends AISDKError11 {\n  constructor({\n    cause,\n    originalError,\n    message = `Error repairing tool call: ${getErrorMessage2(cause)}`\n  }) {\n    super({ name: name10, message, cause });\n    this[_a10] = true;\n    this.originalError = originalError;\n  }\n  static isInstance(error) {\n    return AISDKError11.hasMarker(error, marker10);\n  }\n};\n_a10 = symbol10;\n\n// src/error/unsupported-model-version-error.ts\nimport { AISDKError as AISDKError12 } from \"@ai-sdk/provider\";\nvar UnsupportedModelVersionError = class extends AISDKError12 {\n  constructor(options) {\n    super({\n      name: \"AI_UnsupportedModelVersionError\",\n      message: `Unsupported model version ${options.version} for provider \"${options.provider}\" and model \"${options.modelId}\". AI SDK 5 only supports models that implement specification version \"v2\".`\n    });\n    this.version = options.version;\n    this.provider = options.provider;\n    this.modelId = options.modelId;\n  }\n};\n\n// src/prompt/invalid-data-content-error.ts\nimport { AISDKError as AISDKError13 } from \"@ai-sdk/provider\";\nvar name11 = \"AI_InvalidDataContentError\";\nvar marker11 = `vercel.ai.error.${name11}`;\nvar symbol11 = Symbol.for(marker11);\nvar _a11;\nvar InvalidDataContentError = class extends AISDKError13 {\n  constructor({\n    content,\n    cause,\n    message = `Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof content}.`\n  }) {\n    super({ name: name11, message, cause });\n    this[_a11] = true;\n    this.content = content;\n  }\n  static isInstance(error) {\n    return AISDKError13.hasMarker(error, marker11);\n  }\n};\n_a11 = symbol11;\n\n// src/prompt/invalid-message-role-error.ts\nimport { AISDKError as AISDKError14 } from \"@ai-sdk/provider\";\nvar name12 = \"AI_InvalidMessageRoleError\";\nvar marker12 = `vercel.ai.error.${name12}`;\nvar symbol12 = Symbol.for(marker12);\nvar _a12;\nvar InvalidMessageRoleError = class extends AISDKError14 {\n  constructor({\n    role,\n    message = `Invalid message role: '${role}'. Must be one of: \"system\", \"user\", \"assistant\", \"tool\".`\n  }) {\n    super({ name: name12, message });\n    this[_a12] = true;\n    this.role = role;\n  }\n  static isInstance(error) {\n    return AISDKError14.hasMarker(error, marker12);\n  }\n};\n_a12 = symbol12;\n\n// src/prompt/message-conversion-error.ts\nimport { AISDKError as AISDKError15 } from \"@ai-sdk/provider\";\nvar name13 = \"AI_MessageConversionError\";\nvar marker13 = `vercel.ai.error.${name13}`;\nvar symbol13 = Symbol.for(marker13);\nvar _a13;\nvar MessageConversionError = class extends AISDKError15 {\n  constructor({\n    originalMessage,\n    message\n  }) {\n    super({ name: name13, message });\n    this[_a13] = true;\n    this.originalMessage = originalMessage;\n  }\n  static isInstance(error) {\n    return AISDKError15.hasMarker(error, marker13);\n  }\n};\n_a13 = symbol13;\n\n// src/error/index.ts\nimport { DownloadError } from \"@ai-sdk/provider-utils\";\n\n// src/util/retry-error.ts\nimport { AISDKError as AISDKError16 } from \"@ai-sdk/provider\";\nvar name14 = \"AI_RetryError\";\nvar marker14 = `vercel.ai.error.${name14}`;\nvar symbol14 = Symbol.for(marker14);\nvar _a14;\nvar RetryError = class extends AISDKError16 {\n  constructor({\n    message,\n    reason,\n    errors\n  }) {\n    super({ name: name14, message });\n    this[_a14] = true;\n    this.reason = reason;\n    this.errors = errors;\n    this.lastError = errors[errors.length - 1];\n  }\n  static isInstance(error) {\n    return AISDKError16.hasMarker(error, marker14);\n  }\n};\n_a14 = symbol14;\n\n// src/logger/log-warnings.ts\nfunction formatWarning({\n  warning,\n  provider,\n  model\n}) {\n  const prefix = `AI SDK Warning (${provider} / ${model}):`;\n  switch (warning.type) {\n    case \"unsupported\": {\n      let message = `${prefix} The feature \"${warning.feature}\" is not supported.`;\n      if (warning.details) {\n        message += ` ${warning.details}`;\n      }\n      return message;\n    }\n    case \"compatibility\": {\n      let message = `${prefix} The feature \"${warning.feature}\" is used in a compatibility mode.`;\n      if (warning.details) {\n        message += ` ${warning.details}`;\n      }\n      return message;\n    }\n    case \"other\": {\n      return `${prefix} ${warning.message}`;\n    }\n    default: {\n      return `${prefix} ${JSON.stringify(warning, null, 2)}`;\n    }\n  }\n}\nvar FIRST_WARNING_INFO_MESSAGE = \"AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.\";\nvar hasLoggedBefore = false;\nvar logWarnings = (options) => {\n  if (options.warnings.length === 0) {\n    return;\n  }\n  const logger = globalThis.AI_SDK_LOG_WARNINGS;\n  if (logger === false) {\n    return;\n  }\n  if (typeof logger === \"function\") {\n    logger(options);\n    return;\n  }\n  if (!hasLoggedBefore) {\n    hasLoggedBefore = true;\n    console.info(FIRST_WARNING_INFO_MESSAGE);\n  }\n  for (const warning of options.warnings) {\n    console.warn(\n      formatWarning({\n        warning,\n        provider: options.provider,\n        model: options.model\n      })\n    );\n  }\n};\n\n// src/model/resolve-model.ts\nimport { gateway } from \"@ai-sdk/gateway\";\n\n// src/util/log-v2-compatibility-warning.ts\nfunction logV2CompatibilityWarning({\n  provider,\n  modelId\n}) {\n  logWarnings({\n    warnings: [\n      {\n        type: \"compatibility\",\n        feature: \"specificationVersion\",\n        details: `Using v2 specification compatibility mode. Some features may not be available.`\n      }\n    ],\n    provider,\n    model: modelId\n  });\n}\n\n// src/model/as-embedding-model-v3.ts\nfunction asEmbeddingModelV3(model) {\n  if (model.specificationVersion === \"v3\") {\n    return model;\n  }\n  logV2CompatibilityWarning({\n    provider: model.provider,\n    modelId: model.modelId\n  });\n  return new Proxy(model, {\n    get(target, prop) {\n      if (prop === \"specificationVersion\")\n        return \"v3\";\n      return target[prop];\n    }\n  });\n}\n\n// src/model/as-image-model-v3.ts\nfunction asImageModelV3(model) {\n  if (model.specificationVersion === \"v3\") {\n    return model;\n  }\n  logV2CompatibilityWarning({\n    provider: model.provider,\n    modelId: model.modelId\n  });\n  return new Proxy(model, {\n    get(target, prop) {\n      if (prop === \"specificationVersion\")\n        return \"v3\";\n      return target[prop];\n    }\n  });\n}\n\n// src/model/as-language-model-v3.ts\nfunction asLanguageModelV3(model) {\n  if (model.specificationVersion === \"v3\") {\n    return model;\n  }\n  logV2CompatibilityWarning({\n    provider: model.provider,\n    modelId: model.modelId\n  });\n  return new Proxy(model, {\n    get(target, prop) {\n      switch (prop) {\n        case \"specificationVersion\":\n          return \"v3\";\n        case \"doGenerate\":\n          return async (...args) => {\n            const result = await target.doGenerate(...args);\n            return {\n              ...result,\n              finishReason: convertV2FinishReasonToV3(result.finishReason),\n              usage: convertV2UsageToV3(result.usage)\n            };\n          };\n        case \"doStream\":\n          return async (...args) => {\n            const result = await target.doStream(...args);\n            return {\n              ...result,\n              stream: convertV2StreamToV3(result.stream)\n            };\n          };\n        default:\n          return target[prop];\n      }\n    }\n  });\n}\nfunction convertV2StreamToV3(stream) {\n  return stream.pipeThrough(\n    new TransformStream({\n      transform(chunk, controller) {\n        switch (chunk.type) {\n          case \"finish\":\n            controller.enqueue({\n              ...chunk,\n              finishReason: convertV2FinishReasonToV3(chunk.finishReason),\n              usage: convertV2UsageToV3(chunk.usage)\n            });\n            break;\n          default:\n            controller.enqueue(chunk);\n            break;\n        }\n      }\n    })\n  );\n}\nfunction convertV2FinishReasonToV3(finishReason) {\n  return {\n    unified: finishReason === \"unknown\" ? \"other\" : finishReason,\n    raw: void 0\n  };\n}\nfunction convertV2UsageToV3(usage) {\n  return {\n    inputTokens: {\n      total: usage.inputTokens,\n      noCache: void 0,\n      cacheRead: usage.cachedInputTokens,\n      cacheWrite: void 0\n    },\n    outputTokens: {\n      total: usage.outputTokens,\n      text: void 0,\n      reasoning: usage.reasoningTokens\n    }\n  };\n}\n\n// src/model/as-speech-model-v3.ts\nfunction asSpeechModelV3(model) {\n  if (model.specificationVersion === \"v3\") {\n    return model;\n  }\n  logV2CompatibilityWarning({\n    provider: model.provider,\n    modelId: model.modelId\n  });\n  return new Proxy(model, {\n    get(target, prop) {\n      if (prop === \"specificationVersion\")\n        return \"v3\";\n      return target[prop];\n    }\n  });\n}\n\n// src/model/as-transcription-model-v3.ts\nfunction asTranscriptionModelV3(model) {\n  if (model.specificationVersion === \"v3\") {\n    return model;\n  }\n  logV2CompatibilityWarning({\n    provider: model.provider,\n    modelId: model.modelId\n  });\n  return new Proxy(model, {\n    get(target, prop) {\n      if (prop === \"specificationVersion\")\n        return \"v3\";\n      return target[prop];\n    }\n  });\n}\n\n// src/model/resolve-model.ts\nfunction resolveLanguageModel(model) {\n  if (typeof model !== \"string\") {\n    if (model.specificationVersion !== \"v3\" && model.specificationVersion !== \"v2\") {\n      const unsupportedModel = model;\n      throw new UnsupportedModelVersionError({\n        version: unsupportedModel.specificationVersion,\n        provider: unsupportedModel.provider,\n        modelId: unsupportedModel.modelId\n      });\n    }\n    return asLanguageModelV3(model);\n  }\n  return getGlobalProvider().languageModel(model);\n}\nfunction resolveEmbeddingModel(model) {\n  if (typeof model !== \"string\") {\n    if (model.specificationVersion !== \"v3\" && model.specificationVersion !== \"v2\") {\n      const unsupportedModel = model;\n      throw new UnsupportedModelVersionError({\n        version: unsupportedModel.specificationVersion,\n        provider: unsupportedModel.provider,\n        modelId: unsupportedModel.modelId\n      });\n    }\n    return asEmbeddingModelV3(model);\n  }\n  return getGlobalProvider().embeddingModel(model);\n}\nfunction resolveTranscriptionModel(model) {\n  var _a16, _b;\n  if (typeof model !== \"string\") {\n    if (model.specificationVersion !== \"v3\" && model.specificationVersion !== \"v2\") {\n      const unsupportedModel = model;\n      throw new UnsupportedModelVersionError({\n        version: unsupportedModel.specificationVersion,\n        provider: unsupportedModel.provider,\n        modelId: unsupportedModel.modelId\n      });\n    }\n    return asTranscriptionModelV3(model);\n  }\n  return (_b = (_a16 = getGlobalProvider()).transcriptionModel) == null ? void 0 : _b.call(_a16, model);\n}\nfunction resolveSpeechModel(model) {\n  var _a16, _b;\n  if (typeof model !== \"string\") {\n    if (model.specificationVersion !== \"v3\" && model.specificationVersion !== \"v2\") {\n      const unsupportedModel = model;\n      throw new UnsupportedModelVersionError({\n        version: unsupportedModel.specificationVersion,\n        provider: unsupportedModel.provider,\n        modelId: unsupportedModel.modelId\n      });\n    }\n    return asSpeechModelV3(model);\n  }\n  return (_b = (_a16 = getGlobalProvider()).speechModel) == null ? void 0 : _b.call(_a16, model);\n}\nfunction resolveImageModel(model) {\n  if (typeof model !== \"string\") {\n    if (model.specificationVersion !== \"v3\" && model.specificationVersion !== \"v2\") {\n      const unsupportedModel = model;\n      throw new UnsupportedModelVersionError({\n        version: unsupportedModel.specificationVersion,\n        provider: unsupportedModel.provider,\n        modelId: unsupportedModel.modelId\n      });\n    }\n    return asImageModelV3(model);\n  }\n  return getGlobalProvider().imageModel(model);\n}\nfunction getGlobalProvider() {\n  var _a16;\n  return (_a16 = globalThis.AI_SDK_DEFAULT_PROVIDER) != null ? _a16 : gateway;\n}\n\n// src/prompt/call-settings.ts\nfunction getTotalTimeoutMs(timeout) {\n  if (timeout == null) {\n    return void 0;\n  }\n  if (typeof timeout === \"number\") {\n    return timeout;\n  }\n  return timeout.totalMs;\n}\nfunction getStepTimeoutMs(timeout) {\n  if (timeout == null || typeof timeout === \"number\") {\n    return void 0;\n  }\n  return timeout.stepMs;\n}\nfunction getChunkTimeoutMs(timeout) {\n  if (timeout == null || typeof timeout === \"number\") {\n    return void 0;\n  }\n  return timeout.chunkMs;\n}\n\n// src/prompt/convert-to-language-model-prompt.ts\nimport {\n  isUrlSupported\n} from \"@ai-sdk/provider-utils\";\n\n// src/util/detect-media-type.ts\nimport { convertBase64ToUint8Array } from \"@ai-sdk/provider-utils\";\nvar imageMediaTypeSignatures = [\n  {\n    mediaType: \"image/gif\",\n    bytesPrefix: [71, 73, 70]\n    // GIF\n  },\n  {\n    mediaType: \"image/png\",\n    bytesPrefix: [137, 80, 78, 71]\n    // PNG\n  },\n  {\n    mediaType: \"image/jpeg\",\n    bytesPrefix: [255, 216]\n    // JPEG\n  },\n  {\n    mediaType: \"image/webp\",\n    bytesPrefix: [\n      82,\n      73,\n      70,\n      70,\n      // \"RIFF\"\n      null,\n      null,\n      null,\n      null,\n      // file size (variable)\n      87,\n      69,\n      66,\n      80\n      // \"WEBP\"\n    ]\n  },\n  {\n    mediaType: \"image/bmp\",\n    bytesPrefix: [66, 77]\n  },\n  {\n    mediaType: \"image/tiff\",\n    bytesPrefix: [73, 73, 42, 0]\n  },\n  {\n    mediaType: \"image/tiff\",\n    bytesPrefix: [77, 77, 0, 42]\n  },\n  {\n    mediaType: \"image/avif\",\n    bytesPrefix: [\n      0,\n      0,\n      0,\n      32,\n      102,\n      116,\n      121,\n      112,\n      97,\n      118,\n      105,\n      102\n    ]\n  },\n  {\n    mediaType: \"image/heic\",\n    bytesPrefix: [\n      0,\n      0,\n      0,\n      32,\n      102,\n      116,\n      121,\n      112,\n      104,\n      101,\n      105,\n      99\n    ]\n  }\n];\nvar audioMediaTypeSignatures = [\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 251]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 250]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 243]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 242]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 227]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 226]\n  },\n  {\n    mediaType: \"audio/wav\",\n    bytesPrefix: [\n      82,\n      // R\n      73,\n      // I\n      70,\n      // F\n      70,\n      // F\n      null,\n      null,\n      null,\n      null,\n      87,\n      // W\n      65,\n      // A\n      86,\n      // V\n      69\n      // E\n    ]\n  },\n  {\n    mediaType: \"audio/ogg\",\n    bytesPrefix: [79, 103, 103, 83]\n  },\n  {\n    mediaType: \"audio/flac\",\n    bytesPrefix: [102, 76, 97, 67]\n  },\n  {\n    mediaType: \"audio/aac\",\n    bytesPrefix: [64, 21, 0, 0]\n  },\n  {\n    mediaType: \"audio/mp4\",\n    bytesPrefix: [102, 116, 121, 112]\n  },\n  {\n    mediaType: \"audio/webm\",\n    bytesPrefix: [26, 69, 223, 163]\n  }\n];\nvar stripID3 = (data) => {\n  const bytes = typeof data === \"string\" ? convertBase64ToUint8Array(data) : data;\n  const id3Size = (bytes[6] & 127) << 21 | (bytes[7] & 127) << 14 | (bytes[8] & 127) << 7 | bytes[9] & 127;\n  return bytes.slice(id3Size + 10);\n};\nfunction stripID3TagsIfPresent(data) {\n  const hasId3 = typeof data === \"string\" && data.startsWith(\"SUQz\") || typeof data !== \"string\" && data.length > 10 && data[0] === 73 && // 'I'\n  data[1] === 68 && // 'D'\n  data[2] === 51;\n  return hasId3 ? stripID3(data) : data;\n}\nfunction detectMediaType({\n  data,\n  signatures\n}) {\n  const processedData = stripID3TagsIfPresent(data);\n  const bytes = typeof processedData === \"string\" ? convertBase64ToUint8Array(\n    processedData.substring(0, Math.min(processedData.length, 24))\n  ) : processedData;\n  for (const signature of signatures) {\n    if (bytes.length >= signature.bytesPrefix.length && signature.bytesPrefix.every(\n      (byte, index) => byte === null || bytes[index] === byte\n    )) {\n      return signature.mediaType;\n    }\n  }\n  return void 0;\n}\n\n// src/util/download/download.ts\nimport { DownloadError as DownloadError2 } from \"@ai-sdk/provider-utils\";\nimport {\n  withUserAgentSuffix,\n  getRuntimeEnvironmentUserAgent\n} from \"@ai-sdk/provider-utils\";\n\n// src/version.ts\nvar VERSION = true ? \"6.0.34\" : \"0.0.0-test\";\n\n// src/util/download/download.ts\nvar download = async ({ url }) => {\n  var _a16;\n  const urlText = url.toString();\n  try {\n    const response = await fetch(urlText, {\n      headers: withUserAgentSuffix(\n        {},\n        `ai-sdk/${VERSION}`,\n        getRuntimeEnvironmentUserAgent()\n      )\n    });\n    if (!response.ok) {\n      throw new DownloadError2({\n        url: urlText,\n        statusCode: response.status,\n        statusText: response.statusText\n      });\n    }\n    return {\n      data: new Uint8Array(await response.arrayBuffer()),\n      mediaType: (_a16 = response.headers.get(\"content-type\")) != null ? _a16 : void 0\n    };\n  } catch (error) {\n    if (DownloadError2.isInstance(error)) {\n      throw error;\n    }\n    throw new DownloadError2({ url: urlText, cause: error });\n  }\n};\n\n// src/util/download/download-function.ts\nvar createDefaultDownloadFunction = (download2 = download) => (requestedDownloads) => Promise.all(\n  requestedDownloads.map(\n    async (requestedDownload) => requestedDownload.isUrlSupportedByModel ? null : download2(requestedDownload)\n  )\n);\n\n// src/prompt/data-content.ts\nimport { AISDKError as AISDKError18 } from \"@ai-sdk/provider\";\nimport {\n  convertBase64ToUint8Array as convertBase64ToUint8Array2,\n  convertUint8ArrayToBase64\n} from \"@ai-sdk/provider-utils\";\nimport { z } from \"zod/v4\";\n\n// src/prompt/split-data-url.ts\nfunction splitDataUrl(dataUrl) {\n  try {\n    const [header, base64Content] = dataUrl.split(\",\");\n    return {\n      mediaType: header.split(\";\")[0].split(\":\")[1],\n      base64Content\n    };\n  } catch (error) {\n    return {\n      mediaType: void 0,\n      base64Content: void 0\n    };\n  }\n}\n\n// src/prompt/data-content.ts\nvar dataContentSchema = z.union([\n  z.string(),\n  z.instanceof(Uint8Array),\n  z.instanceof(ArrayBuffer),\n  z.custom(\n    // Buffer might not be available in some environments such as CloudFlare:\n    (value) => {\n      var _a16, _b;\n      return (_b = (_a16 = globalThis.Buffer) == null ? void 0 : _a16.isBuffer(value)) != null ? _b : false;\n    },\n    { message: \"Must be a Buffer\" }\n  )\n]);\nfunction convertToLanguageModelV3DataContent(content) {\n  if (content instanceof Uint8Array) {\n    return { data: content, mediaType: void 0 };\n  }\n  if (content instanceof ArrayBuffer) {\n    return { data: new Uint8Array(content), mediaType: void 0 };\n  }\n  if (typeof content === \"string\") {\n    try {\n      content = new URL(content);\n    } catch (error) {\n    }\n  }\n  if (content instanceof URL && content.protocol === \"data:\") {\n    const { mediaType: dataUrlMediaType, base64Content } = splitDataUrl(\n      content.toString()\n    );\n    if (dataUrlMediaType == null || base64Content == null) {\n      throw new AISDKError18({\n        name: \"InvalidDataContentError\",\n        message: `Invalid data URL format in content ${content.toString()}`\n      });\n    }\n    return { data: base64Content, mediaType: dataUrlMediaType };\n  }\n  return { data: content, mediaType: void 0 };\n}\nfunction convertDataContentToBase64String(content) {\n  if (typeof content === \"string\") {\n    return content;\n  }\n  if (content instanceof ArrayBuffer) {\n    return convertUint8ArrayToBase64(new Uint8Array(content));\n  }\n  return convertUint8ArrayToBase64(content);\n}\nfunction convertDataContentToUint8Array(content) {\n  if (content instanceof Uint8Array) {\n    return content;\n  }\n  if (typeof content === \"string\") {\n    try {\n      return convertBase64ToUint8Array2(content);\n    } catch (error) {\n      throw new InvalidDataContentError({\n        message: \"Invalid data content. Content string is not a base64-encoded media.\",\n        content,\n        cause: error\n      });\n    }\n  }\n  if (content instanceof ArrayBuffer) {\n    return new Uint8Array(content);\n  }\n  throw new InvalidDataContentError({ content });\n}\n\n// src/util/as-array.ts\nfunction asArray(value) {\n  return value === void 0 ? [] : Array.isArray(value) ? value : [value];\n}\n\n// src/prompt/convert-to-language-model-prompt.ts\nasync function convertToLanguageModelPrompt({\n  prompt,\n  supportedUrls,\n  download: download2 = createDefaultDownloadFunction()\n}) {\n  const downloadedAssets = await downloadAssets(\n    prompt.messages,\n    download2,\n    supportedUrls\n  );\n  const messages = [\n    ...prompt.system != null ? typeof prompt.system === \"string\" ? [{ role: \"system\", content: prompt.system }] : asArray(prompt.system).map((message) => ({\n      role: \"system\",\n      content: message.content,\n      providerOptions: message.providerOptions\n    })) : [],\n    ...prompt.messages.map(\n      (message) => convertToLanguageModelMessage({ message, downloadedAssets })\n    )\n  ];\n  const combinedMessages = [];\n  for (const message of messages) {\n    if (message.role !== \"tool\") {\n      combinedMessages.push(message);\n      continue;\n    }\n    const lastCombinedMessage = combinedMessages.at(-1);\n    if ((lastCombinedMessage == null ? void 0 : lastCombinedMessage.role) === \"tool\") {\n      lastCombinedMessage.content.push(...message.content);\n    } else {\n      combinedMessages.push(message);\n    }\n  }\n  return combinedMessages;\n}\nfunction convertToLanguageModelMessage({\n  message,\n  downloadedAssets\n}) {\n  const role = message.role;\n  switch (role) {\n    case \"system\": {\n      return {\n        role: \"system\",\n        content: message.content,\n        providerOptions: message.providerOptions\n      };\n    }\n    case \"user\": {\n      if (typeof message.content === \"string\") {\n        return {\n          role: \"user\",\n          content: [{ type: \"text\", text: message.content }],\n          providerOptions: message.providerOptions\n        };\n      }\n      return {\n        role: \"user\",\n        content: message.content.map((part) => convertPartToLanguageModelPart(part, downloadedAssets)).filter((part) => part.type !== \"text\" || part.text !== \"\"),\n        providerOptions: message.providerOptions\n      };\n    }\n    case \"assistant\": {\n      if (typeof message.content === \"string\") {\n        return {\n          role: \"assistant\",\n          content: [{ type: \"text\", text: message.content }],\n          providerOptions: message.providerOptions\n        };\n      }\n      return {\n        role: \"assistant\",\n        content: message.content.filter(\n          // remove empty text parts (no text, and no provider options):\n          (part) => part.type !== \"text\" || part.text !== \"\" || part.providerOptions != null\n        ).filter(\n          (part) => part.type !== \"tool-approval-request\"\n        ).map((part) => {\n          const providerOptions = part.providerOptions;\n          switch (part.type) {\n            case \"file\": {\n              const { data, mediaType } = convertToLanguageModelV3DataContent(\n                part.data\n              );\n              return {\n                type: \"file\",\n                data,\n                filename: part.filename,\n                mediaType: mediaType != null ? mediaType : part.mediaType,\n                providerOptions\n              };\n            }\n            case \"reasoning\": {\n              return {\n                type: \"reasoning\",\n                text: part.text,\n                providerOptions\n              };\n            }\n            case \"text\": {\n              return {\n                type: \"text\",\n                text: part.text,\n                providerOptions\n              };\n            }\n            case \"tool-call\": {\n              return {\n                type: \"tool-call\",\n                toolCallId: part.toolCallId,\n                toolName: part.toolName,\n                input: part.input,\n                providerExecuted: part.providerExecuted,\n                providerOptions\n              };\n            }\n            case \"tool-result\": {\n              return {\n                type: \"tool-result\",\n                toolCallId: part.toolCallId,\n                toolName: part.toolName,\n                output: mapToolResultOutput(part.output),\n                providerOptions\n              };\n            }\n          }\n        }),\n        providerOptions: message.providerOptions\n      };\n    }\n    case \"tool\": {\n      return {\n        role: \"tool\",\n        content: message.content.filter(\n          // Only include tool-approval-response for provider-executed tools\n          (part) => part.type !== \"tool-approval-response\" || part.providerExecuted\n        ).map((part) => {\n          switch (part.type) {\n            case \"tool-result\": {\n              return {\n                type: \"tool-result\",\n                toolCallId: part.toolCallId,\n                toolName: part.toolName,\n                output: mapToolResultOutput(part.output),\n                providerOptions: part.providerOptions\n              };\n            }\n            case \"tool-approval-response\": {\n              return {\n                type: \"tool-approval-response\",\n                approvalId: part.approvalId,\n                approved: part.approved,\n                reason: part.reason\n              };\n            }\n          }\n        }),\n        providerOptions: message.providerOptions\n      };\n    }\n    default: {\n      const _exhaustiveCheck = role;\n      throw new InvalidMessageRoleError({ role: _exhaustiveCheck });\n    }\n  }\n}\nasync function downloadAssets(messages, download2, supportedUrls) {\n  const plannedDownloads = messages.filter((message) => message.role === \"user\").map((message) => message.content).filter(\n    (content) => Array.isArray(content)\n  ).flat().filter(\n    (part) => part.type === \"image\" || part.type === \"file\"\n  ).map((part) => {\n    var _a16;\n    const mediaType = (_a16 = part.mediaType) != null ? _a16 : part.type === \"image\" ? \"image/*\" : void 0;\n    let data = part.type === \"image\" ? part.image : part.data;\n    if (typeof data === \"string\") {\n      try {\n        data = new URL(data);\n      } catch (ignored) {\n      }\n    }\n    return { mediaType, data };\n  }).filter(\n    (part) => part.data instanceof URL\n  ).map((part) => ({\n    url: part.data,\n    isUrlSupportedByModel: part.mediaType != null && isUrlSupported({\n      url: part.data.toString(),\n      mediaType: part.mediaType,\n      supportedUrls\n    })\n  }));\n  const downloadedFiles = await download2(plannedDownloads);\n  return Object.fromEntries(\n    downloadedFiles.map(\n      (file, index) => file == null ? null : [\n        plannedDownloads[index].url.toString(),\n        { data: file.data, mediaType: file.mediaType }\n      ]\n    ).filter((file) => file != null)\n  );\n}\nfunction convertPartToLanguageModelPart(part, downloadedAssets) {\n  var _a16;\n  if (part.type === \"text\") {\n    return {\n      type: \"text\",\n      text: part.text,\n      providerOptions: part.providerOptions\n    };\n  }\n  let originalData;\n  const type = part.type;\n  switch (type) {\n    case \"image\":\n      originalData = part.image;\n      break;\n    case \"file\":\n      originalData = part.data;\n      break;\n    default:\n      throw new Error(`Unsupported part type: ${type}`);\n  }\n  const { data: convertedData, mediaType: convertedMediaType } = convertToLanguageModelV3DataContent(originalData);\n  let mediaType = convertedMediaType != null ? convertedMediaType : part.mediaType;\n  let data = convertedData;\n  if (data instanceof URL) {\n    const downloadedFile = downloadedAssets[data.toString()];\n    if (downloadedFile) {\n      data = downloadedFile.data;\n      mediaType != null ? mediaType : mediaType = downloadedFile.mediaType;\n    }\n  }\n  switch (type) {\n    case \"image\": {\n      if (data instanceof Uint8Array || typeof data === \"string\") {\n        mediaType = (_a16 = detectMediaType({ data, signatures: imageMediaTypeSignatures })) != null ? _a16 : mediaType;\n      }\n      return {\n        type: \"file\",\n        mediaType: mediaType != null ? mediaType : \"image/*\",\n        // any image\n        filename: void 0,\n        data,\n        providerOptions: part.providerOptions\n      };\n    }\n    case \"file\": {\n      if (mediaType == null) {\n        throw new Error(`Media type is missing for file part`);\n      }\n      return {\n        type: \"file\",\n        mediaType,\n        filename: part.filename,\n        data,\n        providerOptions: part.providerOptions\n      };\n    }\n  }\n}\nfunction mapToolResultOutput(output) {\n  if (output.type !== \"content\") {\n    return output;\n  }\n  return {\n    type: \"content\",\n    value: output.value.map((item) => {\n      if (item.type !== \"media\") {\n        return item;\n      }\n      if (item.mediaType.startsWith(\"image/\")) {\n        return {\n          type: \"image-data\",\n          data: item.data,\n          mediaType: item.mediaType\n        };\n      }\n      return {\n        type: \"file-data\",\n        data: item.data,\n        mediaType: item.mediaType\n      };\n    })\n  };\n}\n\n// src/prompt/create-tool-model-output.ts\nimport { getErrorMessage as getErrorMessage3 } from \"@ai-sdk/provider\";\nasync function createToolModelOutput({\n  toolCallId,\n  input,\n  output,\n  tool: tool2,\n  errorMode\n}) {\n  if (errorMode === \"text\") {\n    return { type: \"error-text\", value: getErrorMessage3(output) };\n  } else if (errorMode === \"json\") {\n    return { type: \"error-json\", value: toJSONValue(output) };\n  }\n  if (tool2 == null ? void 0 : tool2.toModelOutput) {\n    return await tool2.toModelOutput({ toolCallId, input, output });\n  }\n  return typeof output === \"string\" ? { type: \"text\", value: output } : { type: \"json\", value: toJSONValue(output) };\n}\nfunction toJSONValue(value) {\n  return value === void 0 ? null : value;\n}\n\n// src/prompt/prepare-call-settings.ts\nfunction prepareCallSettings({\n  maxOutputTokens,\n  temperature,\n  topP,\n  topK,\n  presencePenalty,\n  frequencyPenalty,\n  seed,\n  stopSequences\n}) {\n  if (maxOutputTokens != null) {\n    if (!Number.isInteger(maxOutputTokens)) {\n      throw new InvalidArgumentError({\n        parameter: \"maxOutputTokens\",\n        value: maxOutputTokens,\n        message: \"maxOutputTokens must be an integer\"\n      });\n    }\n    if (maxOutputTokens < 1) {\n      throw new InvalidArgumentError({\n        parameter: \"maxOutputTokens\",\n        value: maxOutputTokens,\n        message: \"maxOutputTokens must be >= 1\"\n      });\n    }\n  }\n  if (temperature != null) {\n    if (typeof temperature !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"temperature\",\n        value: temperature,\n        message: \"temperature must be a number\"\n      });\n    }\n  }\n  if (topP != null) {\n    if (typeof topP !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"topP\",\n        value: topP,\n        message: \"topP must be a number\"\n      });\n    }\n  }\n  if (topK != null) {\n    if (typeof topK !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"topK\",\n        value: topK,\n        message: \"topK must be a number\"\n      });\n    }\n  }\n  if (presencePenalty != null) {\n    if (typeof presencePenalty !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"presencePenalty\",\n        value: presencePenalty,\n        message: \"presencePenalty must be a number\"\n      });\n    }\n  }\n  if (frequencyPenalty != null) {\n    if (typeof frequencyPenalty !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"frequencyPenalty\",\n        value: frequencyPenalty,\n        message: \"frequencyPenalty must be a number\"\n      });\n    }\n  }\n  if (seed != null) {\n    if (!Number.isInteger(seed)) {\n      throw new InvalidArgumentError({\n        parameter: \"seed\",\n        value: seed,\n        message: \"seed must be an integer\"\n      });\n    }\n  }\n  return {\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    presencePenalty,\n    frequencyPenalty,\n    stopSequences,\n    seed\n  };\n}\n\n// src/prompt/prepare-tools-and-tool-choice.ts\nimport { asSchema } from \"@ai-sdk/provider-utils\";\n\n// src/util/is-non-empty-object.ts\nfunction isNonEmptyObject(object2) {\n  return object2 != null && Object.keys(object2).length > 0;\n}\n\n// src/prompt/prepare-tools-and-tool-choice.ts\nasync function prepareToolsAndToolChoice({\n  tools,\n  toolChoice,\n  activeTools\n}) {\n  if (!isNonEmptyObject(tools)) {\n    return {\n      tools: void 0,\n      toolChoice: void 0\n    };\n  }\n  const filteredTools = activeTools != null ? Object.entries(tools).filter(\n    ([name16]) => activeTools.includes(name16)\n  ) : Object.entries(tools);\n  const languageModelTools = [];\n  for (const [name16, tool2] of filteredTools) {\n    const toolType = tool2.type;\n    switch (toolType) {\n      case void 0:\n      case \"dynamic\":\n      case \"function\":\n        languageModelTools.push({\n          type: \"function\",\n          name: name16,\n          description: tool2.description,\n          inputSchema: await asSchema(tool2.inputSchema).jsonSchema,\n          ...tool2.inputExamples != null ? { inputExamples: tool2.inputExamples } : {},\n          providerOptions: tool2.providerOptions,\n          ...tool2.strict != null ? { strict: tool2.strict } : {}\n        });\n        break;\n      case \"provider\":\n        languageModelTools.push({\n          type: \"provider\",\n          name: name16,\n          id: tool2.id,\n          args: tool2.args\n        });\n        break;\n      default: {\n        const exhaustiveCheck = toolType;\n        throw new Error(`Unsupported tool type: ${exhaustiveCheck}`);\n      }\n    }\n  }\n  return {\n    tools: languageModelTools,\n    toolChoice: toolChoice == null ? { type: \"auto\" } : typeof toolChoice === \"string\" ? { type: toolChoice } : { type: \"tool\", toolName: toolChoice.toolName }\n  };\n}\n\n// src/prompt/standardize-prompt.ts\nimport { InvalidPromptError as InvalidPromptError2 } from \"@ai-sdk/provider\";\nimport {\n  safeValidateTypes\n} from \"@ai-sdk/provider-utils\";\nimport { z as z6 } from \"zod/v4\";\n\n// src/prompt/message.ts\nimport { z as z5 } from \"zod/v4\";\n\n// src/types/provider-metadata.ts\nimport { z as z3 } from \"zod/v4\";\n\n// src/types/json-value.ts\nimport { z as z2 } from \"zod/v4\";\nvar jsonValueSchema = z2.lazy(\n  () => z2.union([\n    z2.null(),\n    z2.string(),\n    z2.number(),\n    z2.boolean(),\n    z2.record(z2.string(), jsonValueSchema.optional()),\n    z2.array(jsonValueSchema)\n  ])\n);\n\n// src/types/provider-metadata.ts\nvar providerMetadataSchema = z3.record(\n  z3.string(),\n  z3.record(z3.string(), jsonValueSchema.optional())\n);\n\n// src/prompt/content-part.ts\nimport { z as z4 } from \"zod/v4\";\nvar textPartSchema = z4.object({\n  type: z4.literal(\"text\"),\n  text: z4.string(),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar imagePartSchema = z4.object({\n  type: z4.literal(\"image\"),\n  image: z4.union([dataContentSchema, z4.instanceof(URL)]),\n  mediaType: z4.string().optional(),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar filePartSchema = z4.object({\n  type: z4.literal(\"file\"),\n  data: z4.union([dataContentSchema, z4.instanceof(URL)]),\n  filename: z4.string().optional(),\n  mediaType: z4.string(),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar reasoningPartSchema = z4.object({\n  type: z4.literal(\"reasoning\"),\n  text: z4.string(),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar toolCallPartSchema = z4.object({\n  type: z4.literal(\"tool-call\"),\n  toolCallId: z4.string(),\n  toolName: z4.string(),\n  input: z4.unknown(),\n  providerOptions: providerMetadataSchema.optional(),\n  providerExecuted: z4.boolean().optional()\n});\nvar outputSchema = z4.discriminatedUnion(\n  \"type\",\n  [\n    z4.object({\n      type: z4.literal(\"text\"),\n      value: z4.string(),\n      providerOptions: providerMetadataSchema.optional()\n    }),\n    z4.object({\n      type: z4.literal(\"json\"),\n      value: jsonValueSchema,\n      providerOptions: providerMetadataSchema.optional()\n    }),\n    z4.object({\n      type: z4.literal(\"execution-denied\"),\n      reason: z4.string().optional(),\n      providerOptions: providerMetadataSchema.optional()\n    }),\n    z4.object({\n      type: z4.literal(\"error-text\"),\n      value: z4.string(),\n      providerOptions: providerMetadataSchema.optional()\n    }),\n    z4.object({\n      type: z4.literal(\"error-json\"),\n      value: jsonValueSchema,\n      providerOptions: providerMetadataSchema.optional()\n    }),\n    z4.object({\n      type: z4.literal(\"content\"),\n      value: z4.array(\n        z4.union([\n          z4.object({\n            type: z4.literal(\"text\"),\n            text: z4.string(),\n            providerOptions: providerMetadataSchema.optional()\n          }),\n          z4.object({\n            type: z4.literal(\"media\"),\n            data: z4.string(),\n            mediaType: z4.string()\n          }),\n          z4.object({\n            type: z4.literal(\"file-data\"),\n            data: z4.string(),\n            mediaType: z4.string(),\n            filename: z4.string().optional(),\n            providerOptions: providerMetadataSchema.optional()\n          }),\n          z4.object({\n            type: z4.literal(\"file-url\"),\n            url: z4.string(),\n            providerOptions: providerMetadataSchema.optional()\n          }),\n          z4.object({\n            type: z4.literal(\"file-id\"),\n            fileId: z4.union([z4.string(), z4.record(z4.string(), z4.string())]),\n            providerOptions: providerMetadataSchema.optional()\n          }),\n          z4.object({\n            type: z4.literal(\"image-data\"),\n            data: z4.string(),\n            mediaType: z4.string(),\n            providerOptions: providerMetadataSchema.optional()\n          }),\n          z4.object({\n            type: z4.literal(\"image-url\"),\n            url: z4.string(),\n            providerOptions: providerMetadataSchema.optional()\n          }),\n          z4.object({\n            type: z4.literal(\"image-file-id\"),\n            fileId: z4.union([z4.string(), z4.record(z4.string(), z4.string())]),\n            providerOptions: providerMetadataSchema.optional()\n          }),\n          z4.object({\n            type: z4.literal(\"custom\"),\n            providerOptions: providerMetadataSchema.optional()\n          })\n        ])\n      )\n    })\n  ]\n);\nvar toolResultPartSchema = z4.object({\n  type: z4.literal(\"tool-result\"),\n  toolCallId: z4.string(),\n  toolName: z4.string(),\n  output: outputSchema,\n  providerOptions: providerMetadataSchema.optional()\n});\nvar toolApprovalRequestSchema = z4.object({\n  type: z4.literal(\"tool-approval-request\"),\n  approvalId: z4.string(),\n  toolCallId: z4.string()\n});\nvar toolApprovalResponseSchema = z4.object({\n  type: z4.literal(\"tool-approval-response\"),\n  approvalId: z4.string(),\n  approved: z4.boolean(),\n  reason: z4.string().optional()\n});\n\n// src/prompt/message.ts\nvar systemModelMessageSchema = z5.object(\n  {\n    role: z5.literal(\"system\"),\n    content: z5.string(),\n    providerOptions: providerMetadataSchema.optional()\n  }\n);\nvar userModelMessageSchema = z5.object({\n  role: z5.literal(\"user\"),\n  content: z5.union([\n    z5.string(),\n    z5.array(z5.union([textPartSchema, imagePartSchema, filePartSchema]))\n  ]),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar assistantModelMessageSchema = z5.object({\n  role: z5.literal(\"assistant\"),\n  content: z5.union([\n    z5.string(),\n    z5.array(\n      z5.union([\n        textPartSchema,\n        filePartSchema,\n        reasoningPartSchema,\n        toolCallPartSchema,\n        toolResultPartSchema,\n        toolApprovalRequestSchema\n      ])\n    )\n  ]),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar toolModelMessageSchema = z5.object({\n  role: z5.literal(\"tool\"),\n  content: z5.array(z5.union([toolResultPartSchema, toolApprovalResponseSchema])),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar modelMessageSchema = z5.union([\n  systemModelMessageSchema,\n  userModelMessageSchema,\n  assistantModelMessageSchema,\n  toolModelMessageSchema\n]);\n\n// src/prompt/standardize-prompt.ts\nasync function standardizePrompt(prompt) {\n  if (prompt.prompt == null && prompt.messages == null) {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"prompt or messages must be defined\"\n    });\n  }\n  if (prompt.prompt != null && prompt.messages != null) {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"prompt and messages cannot be defined at the same time\"\n    });\n  }\n  if (prompt.system != null && typeof prompt.system !== \"string\" && !asArray(prompt.system).every(\n    (message) => typeof message === \"object\" && message !== null && \"role\" in message && message.role === \"system\"\n  )) {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"system must be a string, SystemModelMessage, or array of SystemModelMessage\"\n    });\n  }\n  let messages;\n  if (prompt.prompt != null && typeof prompt.prompt === \"string\") {\n    messages = [{ role: \"user\", content: prompt.prompt }];\n  } else if (prompt.prompt != null && Array.isArray(prompt.prompt)) {\n    messages = prompt.prompt;\n  } else if (prompt.messages != null) {\n    messages = prompt.messages;\n  } else {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"prompt or messages must be defined\"\n    });\n  }\n  if (messages.length === 0) {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"messages must not be empty\"\n    });\n  }\n  const validationResult = await safeValidateTypes({\n    value: messages,\n    schema: z6.array(modelMessageSchema)\n  });\n  if (!validationResult.success) {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"The messages do not match the ModelMessage[] schema.\",\n      cause: validationResult.error\n    });\n  }\n  return {\n    messages,\n    system: prompt.system\n  };\n}\n\n// src/prompt/wrap-gateway-error.ts\nimport { GatewayAuthenticationError } from \"@ai-sdk/gateway\";\nimport { AISDKError as AISDKError19 } from \"@ai-sdk/provider\";\nfunction wrapGatewayError(error) {\n  if (!GatewayAuthenticationError.isInstance(error))\n    return error;\n  const isProductionEnv = (process == null ? void 0 : process.env.NODE_ENV) === \"production\";\n  const moreInfoURL = \"https://ai-sdk.dev/unauthenticated-ai-gateway\";\n  if (isProductionEnv) {\n    return new AISDKError19({\n      name: \"GatewayError\",\n      message: `Unauthenticated. Configure AI_GATEWAY_API_KEY or use a provider module. Learn more: ${moreInfoURL}`\n    });\n  }\n  return Object.assign(\n    new Error(`\\x1B[1m\\x1B[31mUnauthenticated request to AI Gateway.\\x1B[0m\n\nTo authenticate, set the \\x1B[33mAI_GATEWAY_API_KEY\\x1B[0m environment variable with your API key.\n\nAlternatively, you can use a provider module instead of the AI Gateway.\n\nLearn more: \\x1B[34m${moreInfoURL}\\x1B[0m\n\n`),\n    { name: \"GatewayAuthenticationError\" }\n  );\n}\n\n// src/telemetry/assemble-operation-name.ts\nfunction assembleOperationName({\n  operationId,\n  telemetry\n}) {\n  return {\n    // standardized operation and resource name:\n    \"operation.name\": `${operationId}${(telemetry == null ? void 0 : telemetry.functionId) != null ? ` ${telemetry.functionId}` : \"\"}`,\n    \"resource.name\": telemetry == null ? void 0 : telemetry.functionId,\n    // detailed, AI SDK specific data:\n    \"ai.operationId\": operationId,\n    \"ai.telemetry.functionId\": telemetry == null ? void 0 : telemetry.functionId\n  };\n}\n\n// src/telemetry/get-base-telemetry-attributes.ts\nfunction getBaseTelemetryAttributes({\n  model,\n  settings,\n  telemetry,\n  headers\n}) {\n  var _a16;\n  return {\n    \"ai.model.provider\": model.provider,\n    \"ai.model.id\": model.modelId,\n    // settings:\n    ...Object.entries(settings).reduce((attributes, [key, value]) => {\n      if (key === \"timeout\") {\n        const totalTimeoutMs = getTotalTimeoutMs(\n          value\n        );\n        if (totalTimeoutMs != null) {\n          attributes[`ai.settings.${key}`] = totalTimeoutMs;\n        }\n      } else {\n        attributes[`ai.settings.${key}`] = value;\n      }\n      return attributes;\n    }, {}),\n    // add metadata as attributes:\n    ...Object.entries((_a16 = telemetry == null ? void 0 : telemetry.metadata) != null ? _a16 : {}).reduce(\n      (attributes, [key, value]) => {\n        attributes[`ai.telemetry.metadata.${key}`] = value;\n        return attributes;\n      },\n      {}\n    ),\n    // request headers\n    ...Object.entries(headers != null ? headers : {}).reduce((attributes, [key, value]) => {\n      if (value !== void 0) {\n        attributes[`ai.request.headers.${key}`] = value;\n      }\n      return attributes;\n    }, {})\n  };\n}\n\n// src/telemetry/get-tracer.ts\nimport { trace } from \"@opentelemetry/api\";\n\n// src/telemetry/noop-tracer.ts\nvar noopTracer = {\n  startSpan() {\n    return noopSpan;\n  },\n  startActiveSpan(name16, arg1, arg2, arg3) {\n    if (typeof arg1 === \"function\") {\n      return arg1(noopSpan);\n    }\n    if (typeof arg2 === \"function\") {\n      return arg2(noopSpan);\n    }\n    if (typeof arg3 === \"function\") {\n      return arg3(noopSpan);\n    }\n  }\n};\nvar noopSpan = {\n  spanContext() {\n    return noopSpanContext;\n  },\n  setAttribute() {\n    return this;\n  },\n  setAttributes() {\n    return this;\n  },\n  addEvent() {\n    return this;\n  },\n  addLink() {\n    return this;\n  },\n  addLinks() {\n    return this;\n  },\n  setStatus() {\n    return this;\n  },\n  updateName() {\n    return this;\n  },\n  end() {\n    return this;\n  },\n  isRecording() {\n    return false;\n  },\n  recordException() {\n    return this;\n  }\n};\nvar noopSpanContext = {\n  traceId: \"\",\n  spanId: \"\",\n  traceFlags: 0\n};\n\n// src/telemetry/get-tracer.ts\nfunction getTracer({\n  isEnabled = false,\n  tracer\n} = {}) {\n  if (!isEnabled) {\n    return noopTracer;\n  }\n  if (tracer) {\n    return tracer;\n  }\n  return trace.getTracer(\"ai\");\n}\n\n// src/telemetry/record-span.ts\nimport { SpanStatusCode } from \"@opentelemetry/api\";\nasync function recordSpan({\n  name: name16,\n  tracer,\n  attributes,\n  fn,\n  endWhenDone = true\n}) {\n  return tracer.startActiveSpan(\n    name16,\n    { attributes: await attributes },\n    async (span) => {\n      try {\n        const result = await fn(span);\n        if (endWhenDone) {\n          span.end();\n        }\n        return result;\n      } catch (error) {\n        try {\n          recordErrorOnSpan(span, error);\n        } finally {\n          span.end();\n        }\n        throw error;\n      }\n    }\n  );\n}\nfunction recordErrorOnSpan(span, error) {\n  if (error instanceof Error) {\n    span.recordException({\n      name: error.name,\n      message: error.message,\n      stack: error.stack\n    });\n    span.setStatus({\n      code: SpanStatusCode.ERROR,\n      message: error.message\n    });\n  } else {\n    span.setStatus({ code: SpanStatusCode.ERROR });\n  }\n}\n\n// src/telemetry/select-telemetry-attributes.ts\nasync function selectTelemetryAttributes({\n  telemetry,\n  attributes\n}) {\n  if ((telemetry == null ? void 0 : telemetry.isEnabled) !== true) {\n    return {};\n  }\n  const resultAttributes = {};\n  for (const [key, value] of Object.entries(attributes)) {\n    if (value == null) {\n      continue;\n    }\n    if (typeof value === \"object\" && \"input\" in value && typeof value.input === \"function\") {\n      if ((telemetry == null ? void 0 : telemetry.recordInputs) === false) {\n        continue;\n      }\n      const result = await value.input();\n      if (result != null) {\n        resultAttributes[key] = result;\n      }\n      continue;\n    }\n    if (typeof value === \"object\" && \"output\" in value && typeof value.output === \"function\") {\n      if ((telemetry == null ? void 0 : telemetry.recordOutputs) === false) {\n        continue;\n      }\n      const result = await value.output();\n      if (result != null) {\n        resultAttributes[key] = result;\n      }\n      continue;\n    }\n    resultAttributes[key] = value;\n  }\n  return resultAttributes;\n}\n\n// src/telemetry/stringify-for-telemetry.ts\nfunction stringifyForTelemetry(prompt) {\n  return JSON.stringify(\n    prompt.map((message) => ({\n      ...message,\n      content: typeof message.content === \"string\" ? message.content : message.content.map(\n        (part) => part.type === \"file\" ? {\n          ...part,\n          data: part.data instanceof Uint8Array ? convertDataContentToBase64String(part.data) : part.data\n        } : part\n      )\n    }))\n  );\n}\n\n// src/types/usage.ts\nfunction asLanguageModelUsage(usage) {\n  return {\n    inputTokens: usage.inputTokens.total,\n    inputTokenDetails: {\n      noCacheTokens: usage.inputTokens.noCache,\n      cacheReadTokens: usage.inputTokens.cacheRead,\n      cacheWriteTokens: usage.inputTokens.cacheWrite\n    },\n    outputTokens: usage.outputTokens.total,\n    outputTokenDetails: {\n      textTokens: usage.outputTokens.text,\n      reasoningTokens: usage.outputTokens.reasoning\n    },\n    totalTokens: addTokenCounts(\n      usage.inputTokens.total,\n      usage.outputTokens.total\n    ),\n    raw: usage.raw,\n    reasoningTokens: usage.outputTokens.reasoning,\n    cachedInputTokens: usage.inputTokens.cacheRead\n  };\n}\nfunction createNullLanguageModelUsage() {\n  return {\n    inputTokens: void 0,\n    inputTokenDetails: {\n      noCacheTokens: void 0,\n      cacheReadTokens: void 0,\n      cacheWriteTokens: void 0\n    },\n    outputTokens: void 0,\n    outputTokenDetails: {\n      textTokens: void 0,\n      reasoningTokens: void 0\n    },\n    totalTokens: void 0,\n    raw: void 0\n  };\n}\nfunction addLanguageModelUsage(usage1, usage2) {\n  var _a16, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n  return {\n    inputTokens: addTokenCounts(usage1.inputTokens, usage2.inputTokens),\n    inputTokenDetails: {\n      noCacheTokens: addTokenCounts(\n        (_a16 = usage1.inputTokenDetails) == null ? void 0 : _a16.noCacheTokens,\n        (_b = usage2.inputTokenDetails) == null ? void 0 : _b.noCacheTokens\n      ),\n      cacheReadTokens: addTokenCounts(\n        (_c = usage1.inputTokenDetails) == null ? void 0 : _c.cacheReadTokens,\n        (_d = usage2.inputTokenDetails) == null ? void 0 : _d.cacheReadTokens\n      ),\n      cacheWriteTokens: addTokenCounts(\n        (_e = usage1.inputTokenDetails) == null ? void 0 : _e.cacheWriteTokens,\n        (_f = usage2.inputTokenDetails) == null ? void 0 : _f.cacheWriteTokens\n      )\n    },\n    outputTokens: addTokenCounts(usage1.outputTokens, usage2.outputTokens),\n    outputTokenDetails: {\n      textTokens: addTokenCounts(\n        (_g = usage1.outputTokenDetails) == null ? void 0 : _g.textTokens,\n        (_h = usage2.outputTokenDetails) == null ? void 0 : _h.textTokens\n      ),\n      reasoningTokens: addTokenCounts(\n        (_i = usage1.outputTokenDetails) == null ? void 0 : _i.reasoningTokens,\n        (_j = usage2.outputTokenDetails) == null ? void 0 : _j.reasoningTokens\n      )\n    },\n    totalTokens: addTokenCounts(usage1.totalTokens, usage2.totalTokens),\n    reasoningTokens: addTokenCounts(\n      usage1.reasoningTokens,\n      usage2.reasoningTokens\n    ),\n    cachedInputTokens: addTokenCounts(\n      usage1.cachedInputTokens,\n      usage2.cachedInputTokens\n    )\n  };\n}\nfunction addTokenCounts(tokenCount1, tokenCount2) {\n  return tokenCount1 == null && tokenCount2 == null ? void 0 : (tokenCount1 != null ? tokenCount1 : 0) + (tokenCount2 != null ? tokenCount2 : 0);\n}\nfunction addImageModelUsage(usage1, usage2) {\n  return {\n    inputTokens: addTokenCounts(usage1.inputTokens, usage2.inputTokens),\n    outputTokens: addTokenCounts(usage1.outputTokens, usage2.outputTokens),\n    totalTokens: addTokenCounts(usage1.totalTokens, usage2.totalTokens)\n  };\n}\n\n// src/util/merge-objects.ts\nfunction mergeObjects(base, overrides) {\n  if (base === void 0 && overrides === void 0) {\n    return void 0;\n  }\n  if (base === void 0) {\n    return overrides;\n  }\n  if (overrides === void 0) {\n    return base;\n  }\n  const result = { ...base };\n  for (const key in overrides) {\n    if (Object.prototype.hasOwnProperty.call(overrides, key)) {\n      const overridesValue = overrides[key];\n      if (overridesValue === void 0)\n        continue;\n      const baseValue = key in base ? base[key] : void 0;\n      const isSourceObject = overridesValue !== null && typeof overridesValue === \"object\" && !Array.isArray(overridesValue) && !(overridesValue instanceof Date) && !(overridesValue instanceof RegExp);\n      const isTargetObject = baseValue !== null && baseValue !== void 0 && typeof baseValue === \"object\" && !Array.isArray(baseValue) && !(baseValue instanceof Date) && !(baseValue instanceof RegExp);\n      if (isSourceObject && isTargetObject) {\n        result[key] = mergeObjects(\n          baseValue,\n          overridesValue\n        );\n      } else {\n        result[key] = overridesValue;\n      }\n    }\n  }\n  return result;\n}\n\n// src/util/retry-with-exponential-backoff.ts\nimport { APICallError as APICallError2 } from \"@ai-sdk/provider\";\nimport { delay, getErrorMessage as getErrorMessage4, isAbortError } from \"@ai-sdk/provider-utils\";\nfunction getRetryDelayInMs({\n  error,\n  exponentialBackoffDelay\n}) {\n  const headers = error.responseHeaders;\n  if (!headers)\n    return exponentialBackoffDelay;\n  let ms;\n  const retryAfterMs = headers[\"retry-after-ms\"];\n  if (retryAfterMs) {\n    const timeoutMs = parseFloat(retryAfterMs);\n    if (!Number.isNaN(timeoutMs)) {\n      ms = timeoutMs;\n    }\n  }\n  const retryAfter = headers[\"retry-after\"];\n  if (retryAfter && ms === void 0) {\n    const timeoutSeconds = parseFloat(retryAfter);\n    if (!Number.isNaN(timeoutSeconds)) {\n      ms = timeoutSeconds * 1e3;\n    } else {\n      ms = Date.parse(retryAfter) - Date.now();\n    }\n  }\n  if (ms != null && !Number.isNaN(ms) && 0 <= ms && (ms < 60 * 1e3 || ms < exponentialBackoffDelay)) {\n    return ms;\n  }\n  return exponentialBackoffDelay;\n}\nvar retryWithExponentialBackoffRespectingRetryHeaders = ({\n  maxRetries = 2,\n  initialDelayInMs = 2e3,\n  backoffFactor = 2,\n  abortSignal\n} = {}) => async (f) => _retryWithExponentialBackoff(f, {\n  maxRetries,\n  delayInMs: initialDelayInMs,\n  backoffFactor,\n  abortSignal\n});\nasync function _retryWithExponentialBackoff(f, {\n  maxRetries,\n  delayInMs,\n  backoffFactor,\n  abortSignal\n}, errors = []) {\n  try {\n    return await f();\n  } catch (error) {\n    if (isAbortError(error)) {\n      throw error;\n    }\n    if (maxRetries === 0) {\n      throw error;\n    }\n    const errorMessage = getErrorMessage4(error);\n    const newErrors = [...errors, error];\n    const tryNumber = newErrors.length;\n    if (tryNumber > maxRetries) {\n      throw new RetryError({\n        message: `Failed after ${tryNumber} attempts. Last error: ${errorMessage}`,\n        reason: \"maxRetriesExceeded\",\n        errors: newErrors\n      });\n    }\n    if (error instanceof Error && APICallError2.isInstance(error) && error.isRetryable === true && tryNumber <= maxRetries) {\n      await delay(\n        getRetryDelayInMs({\n          error,\n          exponentialBackoffDelay: delayInMs\n        }),\n        { abortSignal }\n      );\n      return _retryWithExponentialBackoff(\n        f,\n        {\n          maxRetries,\n          delayInMs: backoffFactor * delayInMs,\n          backoffFactor,\n          abortSignal\n        },\n        newErrors\n      );\n    }\n    if (tryNumber === 1) {\n      throw error;\n    }\n    throw new RetryError({\n      message: `Failed after ${tryNumber} attempts with non-retryable error: '${errorMessage}'`,\n      reason: \"errorNotRetryable\",\n      errors: newErrors\n    });\n  }\n}\n\n// src/util/prepare-retries.ts\nfunction prepareRetries({\n  maxRetries,\n  abortSignal\n}) {\n  if (maxRetries != null) {\n    if (!Number.isInteger(maxRetries)) {\n      throw new InvalidArgumentError({\n        parameter: \"maxRetries\",\n        value: maxRetries,\n        message: \"maxRetries must be an integer\"\n      });\n    }\n    if (maxRetries < 0) {\n      throw new InvalidArgumentError({\n        parameter: \"maxRetries\",\n        value: maxRetries,\n        message: \"maxRetries must be >= 0\"\n      });\n    }\n  }\n  const maxRetriesResult = maxRetries != null ? maxRetries : 2;\n  return {\n    maxRetries: maxRetriesResult,\n    retry: retryWithExponentialBackoffRespectingRetryHeaders({\n      maxRetries: maxRetriesResult,\n      abortSignal\n    })\n  };\n}\n\n// src/generate-text/collect-tool-approvals.ts\nfunction collectToolApprovals({\n  messages\n}) {\n  const lastMessage = messages.at(-1);\n  if ((lastMessage == null ? void 0 : lastMessage.role) != \"tool\") {\n    return {\n      approvedToolApprovals: [],\n      deniedToolApprovals: []\n    };\n  }\n  const toolCallsByToolCallId = {};\n  for (const message of messages) {\n    if (message.role === \"assistant\" && typeof message.content !== \"string\") {\n      const content = message.content;\n      for (const part of content) {\n        if (part.type === \"tool-call\") {\n          toolCallsByToolCallId[part.toolCallId] = part;\n        }\n      }\n    }\n  }\n  const toolApprovalRequestsByApprovalId = {};\n  for (const message of messages) {\n    if (message.role === \"assistant\" && typeof message.content !== \"string\") {\n      const content = message.content;\n      for (const part of content) {\n        if (part.type === \"tool-approval-request\") {\n          toolApprovalRequestsByApprovalId[part.approvalId] = part;\n        }\n      }\n    }\n  }\n  const toolResults = {};\n  for (const part of lastMessage.content) {\n    if (part.type === \"tool-result\") {\n      toolResults[part.toolCallId] = part;\n    }\n  }\n  const approvedToolApprovals = [];\n  const deniedToolApprovals = [];\n  const approvalResponses = lastMessage.content.filter(\n    (part) => part.type === \"tool-approval-response\"\n  );\n  for (const approvalResponse of approvalResponses) {\n    const approvalRequest = toolApprovalRequestsByApprovalId[approvalResponse.approvalId];\n    if (approvalRequest == null) {\n      throw new InvalidToolApprovalError({\n        approvalId: approvalResponse.approvalId\n      });\n    }\n    if (toolResults[approvalRequest.toolCallId] != null) {\n      continue;\n    }\n    const toolCall = toolCallsByToolCallId[approvalRequest.toolCallId];\n    if (toolCall == null) {\n      throw new ToolCallNotFoundForApprovalError({\n        toolCallId: approvalRequest.toolCallId,\n        approvalId: approvalRequest.approvalId\n      });\n    }\n    const approval = {\n      approvalRequest,\n      approvalResponse,\n      toolCall\n    };\n    if (approvalResponse.approved) {\n      approvedToolApprovals.push(approval);\n    } else {\n      deniedToolApprovals.push(approval);\n    }\n  }\n  return { approvedToolApprovals, deniedToolApprovals };\n}\n\n// src/generate-text/execute-tool-call.ts\nimport { executeTool } from \"@ai-sdk/provider-utils\";\nasync function executeToolCall({\n  toolCall,\n  tools,\n  tracer,\n  telemetry,\n  messages,\n  abortSignal,\n  experimental_context,\n  onPreliminaryToolResult\n}) {\n  const { toolName, toolCallId, input } = toolCall;\n  const tool2 = tools == null ? void 0 : tools[toolName];\n  if ((tool2 == null ? void 0 : tool2.execute) == null) {\n    return void 0;\n  }\n  return recordSpan({\n    name: \"ai.toolCall\",\n    attributes: selectTelemetryAttributes({\n      telemetry,\n      attributes: {\n        ...assembleOperationName({\n          operationId: \"ai.toolCall\",\n          telemetry\n        }),\n        \"ai.toolCall.name\": toolName,\n        \"ai.toolCall.id\": toolCallId,\n        \"ai.toolCall.args\": {\n          output: () => JSON.stringify(input)\n        }\n      }\n    }),\n    tracer,\n    fn: async (span) => {\n      let output;\n      try {\n        const stream = executeTool({\n          execute: tool2.execute.bind(tool2),\n          input,\n          options: {\n            toolCallId,\n            messages,\n            abortSignal,\n            experimental_context\n          }\n        });\n        for await (const part of stream) {\n          if (part.type === \"preliminary\") {\n            onPreliminaryToolResult == null ? void 0 : onPreliminaryToolResult({\n              ...toolCall,\n              type: \"tool-result\",\n              output: part.output,\n              preliminary: true\n            });\n          } else {\n            output = part.output;\n          }\n        }\n      } catch (error) {\n        recordErrorOnSpan(span, error);\n        return {\n          type: \"tool-error\",\n          toolCallId,\n          toolName,\n          input,\n          error,\n          dynamic: tool2.type === \"dynamic\",\n          ...toolCall.providerMetadata != null ? { providerMetadata: toolCall.providerMetadata } : {}\n        };\n      }\n      try {\n        span.setAttributes(\n          await selectTelemetryAttributes({\n            telemetry,\n            attributes: {\n              \"ai.toolCall.result\": {\n                output: () => JSON.stringify(output)\n              }\n            }\n          })\n        );\n      } catch (ignored) {\n      }\n      return {\n        type: \"tool-result\",\n        toolCallId,\n        toolName,\n        input,\n        output,\n        dynamic: tool2.type === \"dynamic\",\n        ...toolCall.providerMetadata != null ? { providerMetadata: toolCall.providerMetadata } : {}\n      };\n    }\n  });\n}\n\n// src/generate-text/extract-text-content.ts\nfunction extractTextContent(content) {\n  const parts = content.filter(\n    (content2) => content2.type === \"text\"\n  );\n  if (parts.length === 0) {\n    return void 0;\n  }\n  return parts.map((content2) => content2.text).join(\"\");\n}\n\n// src/generate-text/generated-file.ts\nimport {\n  convertBase64ToUint8Array as convertBase64ToUint8Array3,\n  convertUint8ArrayToBase64 as convertUint8ArrayToBase642\n} from \"@ai-sdk/provider-utils\";\nvar DefaultGeneratedFile = class {\n  constructor({\n    data,\n    mediaType\n  }) {\n    const isUint8Array = data instanceof Uint8Array;\n    this.base64Data = isUint8Array ? void 0 : data;\n    this.uint8ArrayData = isUint8Array ? data : void 0;\n    this.mediaType = mediaType;\n  }\n  // lazy conversion with caching to avoid unnecessary conversion overhead:\n  get base64() {\n    if (this.base64Data == null) {\n      this.base64Data = convertUint8ArrayToBase642(this.uint8ArrayData);\n    }\n    return this.base64Data;\n  }\n  // lazy conversion with caching to avoid unnecessary conversion overhead:\n  get uint8Array() {\n    if (this.uint8ArrayData == null) {\n      this.uint8ArrayData = convertBase64ToUint8Array3(this.base64Data);\n    }\n    return this.uint8ArrayData;\n  }\n};\nvar DefaultGeneratedFileWithType = class extends DefaultGeneratedFile {\n  constructor(options) {\n    super(options);\n    this.type = \"file\";\n  }\n};\n\n// src/generate-text/is-approval-needed.ts\nasync function isApprovalNeeded({\n  tool: tool2,\n  toolCall,\n  messages,\n  experimental_context\n}) {\n  if (tool2.needsApproval == null) {\n    return false;\n  }\n  if (typeof tool2.needsApproval === \"boolean\") {\n    return tool2.needsApproval;\n  }\n  return await tool2.needsApproval(toolCall.input, {\n    toolCallId: toolCall.toolCallId,\n    messages,\n    experimental_context\n  });\n}\n\n// src/generate-text/output.ts\nvar output_exports = {};\n__export(output_exports, {\n  array: () => array,\n  choice: () => choice,\n  json: () => json,\n  object: () => object,\n  text: () => text\n});\nimport {\n  TypeValidationError as TypeValidationError2\n} from \"@ai-sdk/provider\";\nimport {\n  asSchema as asSchema2,\n  resolve,\n  safeParseJSON as safeParseJSON2,\n  safeValidateTypes as safeValidateTypes2\n} from \"@ai-sdk/provider-utils\";\n\n// src/util/parse-partial-json.ts\nimport { safeParseJSON } from \"@ai-sdk/provider-utils\";\n\n// src/util/fix-json.ts\nfunction fixJson(input) {\n  const stack = [\"ROOT\"];\n  let lastValidIndex = -1;\n  let literalStart = null;\n  function processValueStart(char, i, swapState) {\n    {\n      switch (char) {\n        case '\"': {\n          lastValidIndex = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_STRING\");\n          break;\n        }\n        case \"f\":\n        case \"t\":\n        case \"n\": {\n          lastValidIndex = i;\n          literalStart = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_LITERAL\");\n          break;\n        }\n        case \"-\": {\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_NUMBER\");\n          break;\n        }\n        case \"0\":\n        case \"1\":\n        case \"2\":\n        case \"3\":\n        case \"4\":\n        case \"5\":\n        case \"6\":\n        case \"7\":\n        case \"8\":\n        case \"9\": {\n          lastValidIndex = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_NUMBER\");\n          break;\n        }\n        case \"{\": {\n          lastValidIndex = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_OBJECT_START\");\n          break;\n        }\n        case \"[\": {\n          lastValidIndex = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_ARRAY_START\");\n          break;\n        }\n      }\n    }\n  }\n  function processAfterObjectValue(char, i) {\n    switch (char) {\n      case \",\": {\n        stack.pop();\n        stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n        break;\n      }\n      case \"}\": {\n        lastValidIndex = i;\n        stack.pop();\n        break;\n      }\n    }\n  }\n  function processAfterArrayValue(char, i) {\n    switch (char) {\n      case \",\": {\n        stack.pop();\n        stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n        break;\n      }\n      case \"]\": {\n        lastValidIndex = i;\n        stack.pop();\n        break;\n      }\n    }\n  }\n  for (let i = 0; i < input.length; i++) {\n    const char = input[i];\n    const currentState = stack[stack.length - 1];\n    switch (currentState) {\n      case \"ROOT\":\n        processValueStart(char, i, \"FINISH\");\n        break;\n      case \"INSIDE_OBJECT_START\": {\n        switch (char) {\n          case '\"': {\n            stack.pop();\n            stack.push(\"INSIDE_OBJECT_KEY\");\n            break;\n          }\n          case \"}\": {\n            lastValidIndex = i;\n            stack.pop();\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_OBJECT_AFTER_COMMA\": {\n        switch (char) {\n          case '\"': {\n            stack.pop();\n            stack.push(\"INSIDE_OBJECT_KEY\");\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_OBJECT_KEY\": {\n        switch (char) {\n          case '\"': {\n            stack.pop();\n            stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_OBJECT_AFTER_KEY\": {\n        switch (char) {\n          case \":\": {\n            stack.pop();\n            stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_OBJECT_BEFORE_VALUE\": {\n        processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n        break;\n      }\n      case \"INSIDE_OBJECT_AFTER_VALUE\": {\n        processAfterObjectValue(char, i);\n        break;\n      }\n      case \"INSIDE_STRING\": {\n        switch (char) {\n          case '\"': {\n            stack.pop();\n            lastValidIndex = i;\n            break;\n          }\n          case \"\\\\\": {\n            stack.push(\"INSIDE_STRING_ESCAPE\");\n            break;\n          }\n          default: {\n            lastValidIndex = i;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_ARRAY_START\": {\n        switch (char) {\n          case \"]\": {\n            lastValidIndex = i;\n            stack.pop();\n            break;\n          }\n          default: {\n            lastValidIndex = i;\n            processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_ARRAY_AFTER_VALUE\": {\n        switch (char) {\n          case \",\": {\n            stack.pop();\n            stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n            break;\n          }\n          case \"]\": {\n            lastValidIndex = i;\n            stack.pop();\n            break;\n          }\n          default: {\n            lastValidIndex = i;\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_ARRAY_AFTER_COMMA\": {\n        processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n        break;\n      }\n      case \"INSIDE_STRING_ESCAPE\": {\n        stack.pop();\n        lastValidIndex = i;\n        break;\n      }\n      case \"INSIDE_NUMBER\": {\n        switch (char) {\n          case \"0\":\n          case \"1\":\n          case \"2\":\n          case \"3\":\n          case \"4\":\n          case \"5\":\n          case \"6\":\n          case \"7\":\n          case \"8\":\n          case \"9\": {\n            lastValidIndex = i;\n            break;\n          }\n          case \"e\":\n          case \"E\":\n          case \"-\":\n          case \".\": {\n            break;\n          }\n          case \",\": {\n            stack.pop();\n            if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n              processAfterArrayValue(char, i);\n            }\n            if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n              processAfterObjectValue(char, i);\n            }\n            break;\n          }\n          case \"}\": {\n            stack.pop();\n            if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n              processAfterObjectValue(char, i);\n            }\n            break;\n          }\n          case \"]\": {\n            stack.pop();\n            if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n              processAfterArrayValue(char, i);\n            }\n            break;\n          }\n          default: {\n            stack.pop();\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_LITERAL\": {\n        const partialLiteral = input.substring(literalStart, i + 1);\n        if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n          stack.pop();\n          if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n            processAfterObjectValue(char, i);\n          } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n            processAfterArrayValue(char, i);\n          }\n        } else {\n          lastValidIndex = i;\n        }\n        break;\n      }\n    }\n  }\n  let result = input.slice(0, lastValidIndex + 1);\n  for (let i = stack.length - 1; i >= 0; i--) {\n    const state = stack[i];\n    switch (state) {\n      case \"INSIDE_STRING\": {\n        result += '\"';\n        break;\n      }\n      case \"INSIDE_OBJECT_KEY\":\n      case \"INSIDE_OBJECT_AFTER_KEY\":\n      case \"INSIDE_OBJECT_AFTER_COMMA\":\n      case \"INSIDE_OBJECT_START\":\n      case \"INSIDE_OBJECT_BEFORE_VALUE\":\n      case \"INSIDE_OBJECT_AFTER_VALUE\": {\n        result += \"}\";\n        break;\n      }\n      case \"INSIDE_ARRAY_START\":\n      case \"INSIDE_ARRAY_AFTER_COMMA\":\n      case \"INSIDE_ARRAY_AFTER_VALUE\": {\n        result += \"]\";\n        break;\n      }\n      case \"INSIDE_LITERAL\": {\n        const partialLiteral = input.substring(literalStart, input.length);\n        if (\"true\".startsWith(partialLiteral)) {\n          result += \"true\".slice(partialLiteral.length);\n        } else if (\"false\".startsWith(partialLiteral)) {\n          result += \"false\".slice(partialLiteral.length);\n        } else if (\"null\".startsWith(partialLiteral)) {\n          result += \"null\".slice(partialLiteral.length);\n        }\n      }\n    }\n  }\n  return result;\n}\n\n// src/util/parse-partial-json.ts\nasync function parsePartialJson(jsonText) {\n  if (jsonText === void 0) {\n    return { value: void 0, state: \"undefined-input\" };\n  }\n  let result = await safeParseJSON({ text: jsonText });\n  if (result.success) {\n    return { value: result.value, state: \"successful-parse\" };\n  }\n  result = await safeParseJSON({ text: fixJson(jsonText) });\n  if (result.success) {\n    return { value: result.value, state: \"repaired-parse\" };\n  }\n  return { value: void 0, state: \"failed-parse\" };\n}\n\n// src/generate-text/output.ts\nvar text = () => ({\n  name: \"text\",\n  responseFormat: Promise.resolve({ type: \"text\" }),\n  async parseCompleteOutput({ text: text2 }) {\n    return text2;\n  },\n  async parsePartialOutput({ text: text2 }) {\n    return { partial: text2 };\n  },\n  createElementStreamTransform() {\n    return void 0;\n  }\n});\nvar object = ({\n  schema: inputSchema,\n  name: name16,\n  description\n}) => {\n  const schema = asSchema2(inputSchema);\n  return {\n    name: \"object\",\n    responseFormat: resolve(schema.jsonSchema).then((jsonSchema2) => ({\n      type: \"json\",\n      schema: jsonSchema2,\n      ...name16 != null && { name: name16 },\n      ...description != null && { description }\n    })),\n    async parseCompleteOutput({ text: text2 }, context) {\n      const parseResult = await safeParseJSON2({ text: text2 });\n      if (!parseResult.success) {\n        throw new NoObjectGeneratedError({\n          message: \"No object generated: could not parse the response.\",\n          cause: parseResult.error,\n          text: text2,\n          response: context.response,\n          usage: context.usage,\n          finishReason: context.finishReason\n        });\n      }\n      const validationResult = await safeValidateTypes2({\n        value: parseResult.value,\n        schema\n      });\n      if (!validationResult.success) {\n        throw new NoObjectGeneratedError({\n          message: \"No object generated: response did not match schema.\",\n          cause: validationResult.error,\n          text: text2,\n          response: context.response,\n          usage: context.usage,\n          finishReason: context.finishReason\n        });\n      }\n      return validationResult.value;\n    },\n    async parsePartialOutput({ text: text2 }) {\n      const result = await parsePartialJson(text2);\n      switch (result.state) {\n        case \"failed-parse\":\n        case \"undefined-input\": {\n          return void 0;\n        }\n        case \"repaired-parse\":\n        case \"successful-parse\": {\n          return {\n            // Note: currently no validation of partial results:\n            partial: result.value\n          };\n        }\n      }\n    },\n    createElementStreamTransform() {\n      return void 0;\n    }\n  };\n};\nvar array = ({\n  element: inputElementSchema,\n  name: name16,\n  description\n}) => {\n  const elementSchema = asSchema2(inputElementSchema);\n  return {\n    name: \"array\",\n    // JSON schema that describes an array of elements:\n    responseFormat: resolve(elementSchema.jsonSchema).then((jsonSchema2) => {\n      const { $schema, ...itemSchema } = jsonSchema2;\n      return {\n        type: \"json\",\n        schema: {\n          $schema: \"http://json-schema.org/draft-07/schema#\",\n          type: \"object\",\n          properties: {\n            elements: { type: \"array\", items: itemSchema }\n          },\n          required: [\"elements\"],\n          additionalProperties: false\n        },\n        ...name16 != null && { name: name16 },\n        ...description != null && { description }\n      };\n    }),\n    async parseCompleteOutput({ text: text2 }, context) {\n      const parseResult = await safeParseJSON2({ text: text2 });\n      if (!parseResult.success) {\n        throw new NoObjectGeneratedError({\n          message: \"No object generated: could not parse the response.\",\n          cause: parseResult.error,\n          text: text2,\n          response: context.response,\n          usage: context.usage,\n          finishReason: context.finishReason\n        });\n      }\n      const outerValue = parseResult.value;\n      if (outerValue == null || typeof outerValue !== \"object\" || !(\"elements\" in outerValue) || !Array.isArray(outerValue.elements)) {\n        throw new NoObjectGeneratedError({\n          message: \"No object generated: response did not match schema.\",\n          cause: new TypeValidationError2({\n            value: outerValue,\n            cause: \"response must be an object with an elements array\"\n          }),\n          text: text2,\n          response: context.response,\n          usage: context.usage,\n          finishReason: context.finishReason\n        });\n      }\n      for (const element of outerValue.elements) {\n        const validationResult = await safeValidateTypes2({\n          value: element,\n          schema: elementSchema\n        });\n        if (!validationResult.success) {\n          throw new NoObjectGeneratedError({\n            message: \"No object generated: response did not match schema.\",\n            cause: validationResult.error,\n            text: text2,\n            response: context.response,\n            usage: context.usage,\n            finishReason: context.finishReason\n          });\n        }\n      }\n      return outerValue.elements;\n    },\n    async parsePartialOutput({ text: text2 }) {\n      const result = await parsePartialJson(text2);\n      switch (result.state) {\n        case \"failed-parse\":\n        case \"undefined-input\": {\n          return void 0;\n        }\n        case \"repaired-parse\":\n        case \"successful-parse\": {\n          const outerValue = result.value;\n          if (outerValue == null || typeof outerValue !== \"object\" || !(\"elements\" in outerValue) || !Array.isArray(outerValue.elements)) {\n            return void 0;\n          }\n          const rawElements = result.state === \"repaired-parse\" && outerValue.elements.length > 0 ? outerValue.elements.slice(0, -1) : outerValue.elements;\n          const parsedElements = [];\n          for (const rawElement of rawElements) {\n            const validationResult = await safeValidateTypes2({\n              value: rawElement,\n              schema: elementSchema\n            });\n            if (validationResult.success) {\n              parsedElements.push(validationResult.value);\n            }\n          }\n          return { partial: parsedElements };\n        }\n      }\n    },\n    createElementStreamTransform() {\n      let publishedElements = 0;\n      return new TransformStream({\n        transform({ partialOutput }, controller) {\n          if (partialOutput != null) {\n            for (; publishedElements < partialOutput.length; publishedElements++) {\n              controller.enqueue(partialOutput[publishedElements]);\n            }\n          }\n        }\n      });\n    }\n  };\n};\nvar choice = ({\n  options: choiceOptions,\n  name: name16,\n  description\n}) => {\n  return {\n    name: \"choice\",\n    // JSON schema that describes an enumeration:\n    responseFormat: Promise.resolve({\n      type: \"json\",\n      schema: {\n        $schema: \"http://json-schema.org/draft-07/schema#\",\n        type: \"object\",\n        properties: {\n          result: { type: \"string\", enum: choiceOptions }\n        },\n        required: [\"result\"],\n        additionalProperties: false\n      },\n      ...name16 != null && { name: name16 },\n      ...description != null && { description }\n    }),\n    async parseCompleteOutput({ text: text2 }, context) {\n      const parseResult = await safeParseJSON2({ text: text2 });\n      if (!parseResult.success) {\n        throw new NoObjectGeneratedError({\n          message: \"No object generated: could not parse the response.\",\n          cause: parseResult.error,\n          text: text2,\n          response: context.response,\n          usage: context.usage,\n          finishReason: context.finishReason\n        });\n      }\n      const outerValue = parseResult.value;\n      if (outerValue == null || typeof outerValue !== \"object\" || !(\"result\" in outerValue) || typeof outerValue.result !== \"string\" || !choiceOptions.includes(outerValue.result)) {\n        throw new NoObjectGeneratedError({\n          message: \"No object generated: response did not match schema.\",\n          cause: new TypeValidationError2({\n            value: outerValue,\n            cause: \"response must be an object that contains a choice value.\"\n          }),\n          text: text2,\n          response: context.response,\n          usage: context.usage,\n          finishReason: context.finishReason\n        });\n      }\n      return outerValue.result;\n    },\n    async parsePartialOutput({ text: text2 }) {\n      const result = await parsePartialJson(text2);\n      switch (result.state) {\n        case \"failed-parse\":\n        case \"undefined-input\": {\n          return void 0;\n        }\n        case \"repaired-parse\":\n        case \"successful-parse\": {\n          const outerValue = result.value;\n          if (outerValue == null || typeof outerValue !== \"object\" || !(\"result\" in outerValue) || typeof outerValue.result !== \"string\") {\n            return void 0;\n          }\n          const potentialMatches = choiceOptions.filter(\n            (choiceOption) => choiceOption.startsWith(outerValue.result)\n          );\n          if (result.state === \"successful-parse\") {\n            return potentialMatches.includes(outerValue.result) ? { partial: outerValue.result } : void 0;\n          } else {\n            return potentialMatches.length === 1 ? { partial: potentialMatches[0] } : void 0;\n          }\n        }\n      }\n    },\n    createElementStreamTransform() {\n      return void 0;\n    }\n  };\n};\nvar json = ({\n  name: name16,\n  description\n} = {}) => {\n  return {\n    name: \"json\",\n    responseFormat: Promise.resolve({\n      type: \"json\",\n      ...name16 != null && { name: name16 },\n      ...description != null && { description }\n    }),\n    async parseCompleteOutput({ text: text2 }, context) {\n      const parseResult = await safeParseJSON2({ text: text2 });\n      if (!parseResult.success) {\n        throw new NoObjectGeneratedError({\n          message: \"No object generated: could not parse the response.\",\n          cause: parseResult.error,\n          text: text2,\n          response: context.response,\n          usage: context.usage,\n          finishReason: context.finishReason\n        });\n      }\n      return parseResult.value;\n    },\n    async parsePartialOutput({ text: text2 }) {\n      const result = await parsePartialJson(text2);\n      switch (result.state) {\n        case \"failed-parse\":\n        case \"undefined-input\": {\n          return void 0;\n        }\n        case \"repaired-parse\":\n        case \"successful-parse\": {\n          return result.value === void 0 ? void 0 : { partial: result.value };\n        }\n      }\n    },\n    createElementStreamTransform() {\n      return void 0;\n    }\n  };\n};\n\n// src/generate-text/parse-tool-call.ts\nimport {\n  asSchema as asSchema3,\n  safeParseJSON as safeParseJSON3,\n  safeValidateTypes as safeValidateTypes3\n} from \"@ai-sdk/provider-utils\";\nasync function parseToolCall({\n  toolCall,\n  tools,\n  repairToolCall,\n  system,\n  messages\n}) {\n  var _a16;\n  try {\n    if (tools == null) {\n      if (toolCall.providerExecuted && toolCall.dynamic) {\n        return await parseProviderExecutedDynamicToolCall(toolCall);\n      }\n      throw new NoSuchToolError({ toolName: toolCall.toolName });\n    }\n    try {\n      return await doParseToolCall({ toolCall, tools });\n    } catch (error) {\n      if (repairToolCall == null || !(NoSuchToolError.isInstance(error) || InvalidToolInputError.isInstance(error))) {\n        throw error;\n      }\n      let repairedToolCall = null;\n      try {\n        repairedToolCall = await repairToolCall({\n          toolCall,\n          tools,\n          inputSchema: async ({ toolName }) => {\n            const { inputSchema } = tools[toolName];\n            return await asSchema3(inputSchema).jsonSchema;\n          },\n          system,\n          messages,\n          error\n        });\n      } catch (repairError) {\n        throw new ToolCallRepairError({\n          cause: repairError,\n          originalError: error\n        });\n      }\n      if (repairedToolCall == null) {\n        throw error;\n      }\n      return await doParseToolCall({ toolCall: repairedToolCall, tools });\n    }\n  } catch (error) {\n    const parsedInput = await safeParseJSON3({ text: toolCall.input });\n    const input = parsedInput.success ? parsedInput.value : toolCall.input;\n    return {\n      type: \"tool-call\",\n      toolCallId: toolCall.toolCallId,\n      toolName: toolCall.toolName,\n      input,\n      dynamic: true,\n      invalid: true,\n      error,\n      title: (_a16 = tools == null ? void 0 : tools[toolCall.toolName]) == null ? void 0 : _a16.title,\n      providerExecuted: toolCall.providerExecuted,\n      providerMetadata: toolCall.providerMetadata\n    };\n  }\n}\nasync function parseProviderExecutedDynamicToolCall(toolCall) {\n  const parseResult = toolCall.input.trim() === \"\" ? { success: true, value: {} } : await safeParseJSON3({ text: toolCall.input });\n  if (parseResult.success === false) {\n    throw new InvalidToolInputError({\n      toolName: toolCall.toolName,\n      toolInput: toolCall.input,\n      cause: parseResult.error\n    });\n  }\n  return {\n    type: \"tool-call\",\n    toolCallId: toolCall.toolCallId,\n    toolName: toolCall.toolName,\n    input: parseResult.value,\n    providerExecuted: true,\n    dynamic: true,\n    providerMetadata: toolCall.providerMetadata\n  };\n}\nasync function doParseToolCall({\n  toolCall,\n  tools\n}) {\n  const toolName = toolCall.toolName;\n  const tool2 = tools[toolName];\n  if (tool2 == null) {\n    if (toolCall.providerExecuted && toolCall.dynamic) {\n      return await parseProviderExecutedDynamicToolCall(toolCall);\n    }\n    throw new NoSuchToolError({\n      toolName: toolCall.toolName,\n      availableTools: Object.keys(tools)\n    });\n  }\n  const schema = asSchema3(tool2.inputSchema);\n  const parseResult = toolCall.input.trim() === \"\" ? await safeValidateTypes3({ value: {}, schema }) : await safeParseJSON3({ text: toolCall.input, schema });\n  if (parseResult.success === false) {\n    throw new InvalidToolInputError({\n      toolName,\n      toolInput: toolCall.input,\n      cause: parseResult.error\n    });\n  }\n  return tool2.type === \"dynamic\" ? {\n    type: \"tool-call\",\n    toolCallId: toolCall.toolCallId,\n    toolName: toolCall.toolName,\n    input: parseResult.value,\n    providerExecuted: toolCall.providerExecuted,\n    providerMetadata: toolCall.providerMetadata,\n    dynamic: true,\n    title: tool2.title\n  } : {\n    type: \"tool-call\",\n    toolCallId: toolCall.toolCallId,\n    toolName,\n    input: parseResult.value,\n    providerExecuted: toolCall.providerExecuted,\n    providerMetadata: toolCall.providerMetadata,\n    title: tool2.title\n  };\n}\n\n// src/generate-text/step-result.ts\nvar DefaultStepResult = class {\n  constructor({\n    content,\n    finishReason,\n    rawFinishReason,\n    usage,\n    warnings,\n    request,\n    response,\n    providerMetadata\n  }) {\n    this.content = content;\n    this.finishReason = finishReason;\n    this.rawFinishReason = rawFinishReason;\n    this.usage = usage;\n    this.warnings = warnings;\n    this.request = request;\n    this.response = response;\n    this.providerMetadata = providerMetadata;\n  }\n  get text() {\n    return this.content.filter((part) => part.type === \"text\").map((part) => part.text).join(\"\");\n  }\n  get reasoning() {\n    return this.content.filter((part) => part.type === \"reasoning\");\n  }\n  get reasoningText() {\n    return this.reasoning.length === 0 ? void 0 : this.reasoning.map((part) => part.text).join(\"\");\n  }\n  get files() {\n    return this.content.filter((part) => part.type === \"file\").map((part) => part.file);\n  }\n  get sources() {\n    return this.content.filter((part) => part.type === \"source\");\n  }\n  get toolCalls() {\n    return this.content.filter((part) => part.type === \"tool-call\");\n  }\n  get staticToolCalls() {\n    return this.toolCalls.filter(\n      (toolCall) => toolCall.dynamic !== true\n    );\n  }\n  get dynamicToolCalls() {\n    return this.toolCalls.filter(\n      (toolCall) => toolCall.dynamic === true\n    );\n  }\n  get toolResults() {\n    return this.content.filter((part) => part.type === \"tool-result\");\n  }\n  get staticToolResults() {\n    return this.toolResults.filter(\n      (toolResult) => toolResult.dynamic !== true\n    );\n  }\n  get dynamicToolResults() {\n    return this.toolResults.filter(\n      (toolResult) => toolResult.dynamic === true\n    );\n  }\n};\n\n// src/generate-text/stop-condition.ts\nfunction stepCountIs(stepCount) {\n  return ({ steps }) => steps.length === stepCount;\n}\nfunction hasToolCall(toolName) {\n  return ({ steps }) => {\n    var _a16, _b, _c;\n    return (_c = (_b = (_a16 = steps[steps.length - 1]) == null ? void 0 : _a16.toolCalls) == null ? void 0 : _b.some(\n      (toolCall) => toolCall.toolName === toolName\n    )) != null ? _c : false;\n  };\n}\nasync function isStopConditionMet({\n  stopConditions,\n  steps\n}) {\n  return (await Promise.all(stopConditions.map((condition) => condition({ steps })))).some((result) => result);\n}\n\n// src/generate-text/to-response-messages.ts\nasync function toResponseMessages({\n  content: inputContent,\n  tools\n}) {\n  const responseMessages = [];\n  const content = [];\n  for (const part of inputContent) {\n    if (part.type === \"source\") {\n      continue;\n    }\n    if ((part.type === \"tool-result\" || part.type === \"tool-error\") && !part.providerExecuted) {\n      continue;\n    }\n    if (part.type === \"text\" && part.text.length === 0) {\n      continue;\n    }\n    switch (part.type) {\n      case \"text\":\n        content.push({\n          type: \"text\",\n          text: part.text,\n          providerOptions: part.providerMetadata\n        });\n        break;\n      case \"reasoning\":\n        content.push({\n          type: \"reasoning\",\n          text: part.text,\n          providerOptions: part.providerMetadata\n        });\n        break;\n      case \"file\":\n        content.push({\n          type: \"file\",\n          data: part.file.base64,\n          mediaType: part.file.mediaType,\n          providerOptions: part.providerMetadata\n        });\n        break;\n      case \"tool-call\":\n        content.push({\n          type: \"tool-call\",\n          toolCallId: part.toolCallId,\n          toolName: part.toolName,\n          input: part.input,\n          providerExecuted: part.providerExecuted,\n          providerOptions: part.providerMetadata\n        });\n        break;\n      case \"tool-result\": {\n        const output = await createToolModelOutput({\n          toolCallId: part.toolCallId,\n          input: part.input,\n          tool: tools == null ? void 0 : tools[part.toolName],\n          output: part.output,\n          errorMode: \"none\"\n        });\n        content.push({\n          type: \"tool-result\",\n          toolCallId: part.toolCallId,\n          toolName: part.toolName,\n          output,\n          providerOptions: part.providerMetadata\n        });\n        break;\n      }\n      case \"tool-error\": {\n        const output = await createToolModelOutput({\n          toolCallId: part.toolCallId,\n          input: part.input,\n          tool: tools == null ? void 0 : tools[part.toolName],\n          output: part.error,\n          errorMode: \"json\"\n        });\n        content.push({\n          type: \"tool-result\",\n          toolCallId: part.toolCallId,\n          toolName: part.toolName,\n          output,\n          providerOptions: part.providerMetadata\n        });\n        break;\n      }\n      case \"tool-approval-request\":\n        content.push({\n          type: \"tool-approval-request\",\n          approvalId: part.approvalId,\n          toolCallId: part.toolCall.toolCallId\n        });\n        break;\n    }\n  }\n  if (content.length > 0) {\n    responseMessages.push({\n      role: \"assistant\",\n      content\n    });\n  }\n  const toolResultContent = [];\n  for (const part of inputContent) {\n    if (!(part.type === \"tool-result\" || part.type === \"tool-error\") || part.providerExecuted) {\n      continue;\n    }\n    const output = await createToolModelOutput({\n      toolCallId: part.toolCallId,\n      input: part.input,\n      tool: tools == null ? void 0 : tools[part.toolName],\n      output: part.type === \"tool-result\" ? part.output : part.error,\n      errorMode: part.type === \"tool-error\" ? \"text\" : \"none\"\n    });\n    toolResultContent.push({\n      type: \"tool-result\",\n      toolCallId: part.toolCallId,\n      toolName: part.toolName,\n      output,\n      ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}\n    });\n  }\n  if (toolResultContent.length > 0) {\n    responseMessages.push({\n      role: \"tool\",\n      content: toolResultContent\n    });\n  }\n  return responseMessages;\n}\n\n// src/util/merge-abort-signals.ts\nfunction mergeAbortSignals(...signals) {\n  const validSignals = signals.filter(\n    (signal) => signal != null\n  );\n  if (validSignals.length === 0) {\n    return void 0;\n  }\n  if (validSignals.length === 1) {\n    return validSignals[0];\n  }\n  const controller = new AbortController();\n  for (const signal of validSignals) {\n    if (signal.aborted) {\n      controller.abort(signal.reason);\n      return controller.signal;\n    }\n    signal.addEventListener(\n      \"abort\",\n      () => {\n        controller.abort(signal.reason);\n      },\n      { once: true }\n    );\n  }\n  return controller.signal;\n}\n\n// src/generate-text/generate-text.ts\nvar originalGenerateId = createIdGenerator({\n  prefix: \"aitxt\",\n  size: 24\n});\nasync function generateText({\n  model: modelArg,\n  tools,\n  toolChoice,\n  system,\n  prompt,\n  messages,\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  timeout,\n  headers,\n  stopWhen = stepCountIs(1),\n  experimental_output,\n  output = experimental_output,\n  experimental_telemetry: telemetry,\n  providerOptions,\n  experimental_activeTools,\n  activeTools = experimental_activeTools,\n  experimental_prepareStep,\n  prepareStep = experimental_prepareStep,\n  experimental_repairToolCall: repairToolCall,\n  experimental_download: download2,\n  experimental_context,\n  _internal: { generateId: generateId2 = originalGenerateId } = {},\n  onStepFinish,\n  onFinish,\n  ...settings\n}) {\n  const model = resolveLanguageModel(modelArg);\n  const stopConditions = asArray(stopWhen);\n  const totalTimeoutMs = getTotalTimeoutMs(timeout);\n  const stepTimeoutMs = getStepTimeoutMs(timeout);\n  const stepAbortController = stepTimeoutMs != null ? new AbortController() : void 0;\n  const mergedAbortSignal = mergeAbortSignals(\n    abortSignal,\n    totalTimeoutMs != null ? AbortSignal.timeout(totalTimeoutMs) : void 0,\n    stepAbortController == null ? void 0 : stepAbortController.signal\n  );\n  const { maxRetries, retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal: mergedAbortSignal\n  });\n  const callSettings = prepareCallSettings(settings);\n  const headersWithUserAgent = withUserAgentSuffix2(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const baseTelemetryAttributes = getBaseTelemetryAttributes({\n    model,\n    telemetry,\n    headers: headersWithUserAgent,\n    settings: { ...callSettings, maxRetries }\n  });\n  const initialPrompt = await standardizePrompt({\n    system,\n    prompt,\n    messages\n  });\n  const tracer = getTracer(telemetry);\n  try {\n    return await recordSpan({\n      name: \"ai.generateText\",\n      attributes: selectTelemetryAttributes({\n        telemetry,\n        attributes: {\n          ...assembleOperationName({\n            operationId: \"ai.generateText\",\n            telemetry\n          }),\n          ...baseTelemetryAttributes,\n          // model:\n          \"ai.model.provider\": model.provider,\n          \"ai.model.id\": model.modelId,\n          // specific settings that only make sense on the outer level:\n          \"ai.prompt\": {\n            input: () => JSON.stringify({ system, prompt, messages })\n          }\n        }\n      }),\n      tracer,\n      fn: async (span) => {\n        var _a16, _b, _c, _d, _e, _f, _g, _h;\n        const initialMessages = initialPrompt.messages;\n        const responseMessages = [];\n        const { approvedToolApprovals, deniedToolApprovals } = collectToolApprovals({ messages: initialMessages });\n        const localApprovedToolApprovals = approvedToolApprovals.filter(\n          (toolApproval) => !toolApproval.toolCall.providerExecuted\n        );\n        if (deniedToolApprovals.length > 0 || localApprovedToolApprovals.length > 0) {\n          const toolOutputs = await executeTools({\n            toolCalls: localApprovedToolApprovals.map(\n              (toolApproval) => toolApproval.toolCall\n            ),\n            tools,\n            tracer,\n            telemetry,\n            messages: initialMessages,\n            abortSignal: mergedAbortSignal,\n            experimental_context\n          });\n          const toolContent = [];\n          for (const output2 of toolOutputs) {\n            const modelOutput = await createToolModelOutput({\n              toolCallId: output2.toolCallId,\n              input: output2.input,\n              tool: tools == null ? void 0 : tools[output2.toolName],\n              output: output2.type === \"tool-result\" ? output2.output : output2.error,\n              errorMode: output2.type === \"tool-error\" ? \"json\" : \"none\"\n            });\n            toolContent.push({\n              type: \"tool-result\",\n              toolCallId: output2.toolCallId,\n              toolName: output2.toolName,\n              output: modelOutput\n            });\n          }\n          for (const toolApproval of deniedToolApprovals) {\n            toolContent.push({\n              type: \"tool-result\",\n              toolCallId: toolApproval.toolCall.toolCallId,\n              toolName: toolApproval.toolCall.toolName,\n              output: {\n                type: \"execution-denied\",\n                reason: toolApproval.approvalResponse.reason,\n                // For provider-executed tools, include approvalId so provider can correlate\n                ...toolApproval.toolCall.providerExecuted && {\n                  providerOptions: {\n                    openai: {\n                      approvalId: toolApproval.approvalResponse.approvalId\n                    }\n                  }\n                }\n              }\n            });\n          }\n          responseMessages.push({\n            role: \"tool\",\n            content: toolContent\n          });\n        }\n        const providerExecutedToolApprovals = [\n          ...approvedToolApprovals,\n          ...deniedToolApprovals\n        ].filter((toolApproval) => toolApproval.toolCall.providerExecuted);\n        if (providerExecutedToolApprovals.length > 0) {\n          responseMessages.push({\n            role: \"tool\",\n            content: providerExecutedToolApprovals.map(\n              (toolApproval) => ({\n                type: \"tool-approval-response\",\n                approvalId: toolApproval.approvalResponse.approvalId,\n                approved: toolApproval.approvalResponse.approved,\n                reason: toolApproval.approvalResponse.reason,\n                providerExecuted: true\n              })\n            )\n          });\n        }\n        const callSettings2 = prepareCallSettings(settings);\n        let currentModelResponse;\n        let clientToolCalls = [];\n        let clientToolOutputs = [];\n        const steps = [];\n        const pendingDeferredToolCalls = /* @__PURE__ */ new Map();\n        do {\n          const stepTimeoutId = stepTimeoutMs != null ? setTimeout(() => stepAbortController.abort(), stepTimeoutMs) : void 0;\n          try {\n            const stepInputMessages = [...initialMessages, ...responseMessages];\n            const prepareStepResult = await (prepareStep == null ? void 0 : prepareStep({\n              model,\n              steps,\n              stepNumber: steps.length,\n              messages: stepInputMessages,\n              experimental_context\n            }));\n            const stepModel = resolveLanguageModel(\n              (_a16 = prepareStepResult == null ? void 0 : prepareStepResult.model) != null ? _a16 : model\n            );\n            const promptMessages = await convertToLanguageModelPrompt({\n              prompt: {\n                system: (_b = prepareStepResult == null ? void 0 : prepareStepResult.system) != null ? _b : initialPrompt.system,\n                messages: (_c = prepareStepResult == null ? void 0 : prepareStepResult.messages) != null ? _c : stepInputMessages\n              },\n              supportedUrls: await stepModel.supportedUrls,\n              download: download2\n            });\n            experimental_context = (_d = prepareStepResult == null ? void 0 : prepareStepResult.experimental_context) != null ? _d : experimental_context;\n            const { toolChoice: stepToolChoice, tools: stepTools } = await prepareToolsAndToolChoice({\n              tools,\n              toolChoice: (_e = prepareStepResult == null ? void 0 : prepareStepResult.toolChoice) != null ? _e : toolChoice,\n              activeTools: (_f = prepareStepResult == null ? void 0 : prepareStepResult.activeTools) != null ? _f : activeTools\n            });\n            currentModelResponse = await retry(\n              () => {\n                var _a17;\n                return recordSpan({\n                  name: \"ai.generateText.doGenerate\",\n                  attributes: selectTelemetryAttributes({\n                    telemetry,\n                    attributes: {\n                      ...assembleOperationName({\n                        operationId: \"ai.generateText.doGenerate\",\n                        telemetry\n                      }),\n                      ...baseTelemetryAttributes,\n                      // model:\n                      \"ai.model.provider\": stepModel.provider,\n                      \"ai.model.id\": stepModel.modelId,\n                      // prompt:\n                      \"ai.prompt.messages\": {\n                        input: () => stringifyForTelemetry(promptMessages)\n                      },\n                      \"ai.prompt.tools\": {\n                        // convert the language model level tools:\n                        input: () => stepTools == null ? void 0 : stepTools.map((tool2) => JSON.stringify(tool2))\n                      },\n                      \"ai.prompt.toolChoice\": {\n                        input: () => stepToolChoice != null ? JSON.stringify(stepToolChoice) : void 0\n                      },\n                      // standardized gen-ai llm span attributes:\n                      \"gen_ai.system\": stepModel.provider,\n                      \"gen_ai.request.model\": stepModel.modelId,\n                      \"gen_ai.request.frequency_penalty\": settings.frequencyPenalty,\n                      \"gen_ai.request.max_tokens\": settings.maxOutputTokens,\n                      \"gen_ai.request.presence_penalty\": settings.presencePenalty,\n                      \"gen_ai.request.stop_sequences\": settings.stopSequences,\n                      \"gen_ai.request.temperature\": (_a17 = settings.temperature) != null ? _a17 : void 0,\n                      \"gen_ai.request.top_k\": settings.topK,\n                      \"gen_ai.request.top_p\": settings.topP\n                    }\n                  }),\n                  tracer,\n                  fn: async (span2) => {\n                    var _a18, _b2, _c2, _d2, _e2, _f2, _g2, _h2;\n                    const stepProviderOptions = mergeObjects(\n                      providerOptions,\n                      prepareStepResult == null ? void 0 : prepareStepResult.providerOptions\n                    );\n                    const result = await stepModel.doGenerate({\n                      ...callSettings2,\n                      tools: stepTools,\n                      toolChoice: stepToolChoice,\n                      responseFormat: await (output == null ? void 0 : output.responseFormat),\n                      prompt: promptMessages,\n                      providerOptions: stepProviderOptions,\n                      abortSignal: mergedAbortSignal,\n                      headers: headersWithUserAgent\n                    });\n                    const responseData = {\n                      id: (_b2 = (_a18 = result.response) == null ? void 0 : _a18.id) != null ? _b2 : generateId2(),\n                      timestamp: (_d2 = (_c2 = result.response) == null ? void 0 : _c2.timestamp) != null ? _d2 : /* @__PURE__ */ new Date(),\n                      modelId: (_f2 = (_e2 = result.response) == null ? void 0 : _e2.modelId) != null ? _f2 : stepModel.modelId,\n                      headers: (_g2 = result.response) == null ? void 0 : _g2.headers,\n                      body: (_h2 = result.response) == null ? void 0 : _h2.body\n                    };\n                    span2.setAttributes(\n                      await selectTelemetryAttributes({\n                        telemetry,\n                        attributes: {\n                          \"ai.response.finishReason\": result.finishReason.unified,\n                          \"ai.response.text\": {\n                            output: () => extractTextContent(result.content)\n                          },\n                          \"ai.response.toolCalls\": {\n                            output: () => {\n                              const toolCalls = asToolCalls(result.content);\n                              return toolCalls == null ? void 0 : JSON.stringify(toolCalls);\n                            }\n                          },\n                          \"ai.response.id\": responseData.id,\n                          \"ai.response.model\": responseData.modelId,\n                          \"ai.response.timestamp\": responseData.timestamp.toISOString(),\n                          \"ai.response.providerMetadata\": JSON.stringify(\n                            result.providerMetadata\n                          ),\n                          // TODO rename telemetry attributes to inputTokens and outputTokens\n                          \"ai.usage.promptTokens\": result.usage.inputTokens.total,\n                          \"ai.usage.completionTokens\": result.usage.outputTokens.total,\n                          // standardized gen-ai llm span attributes:\n                          \"gen_ai.response.finish_reasons\": [\n                            result.finishReason.unified\n                          ],\n                          \"gen_ai.response.id\": responseData.id,\n                          \"gen_ai.response.model\": responseData.modelId,\n                          \"gen_ai.usage.input_tokens\": result.usage.inputTokens.total,\n                          \"gen_ai.usage.output_tokens\": result.usage.outputTokens.total\n                        }\n                      })\n                    );\n                    return { ...result, response: responseData };\n                  }\n                });\n              }\n            );\n            const stepToolCalls = await Promise.all(\n              currentModelResponse.content.filter(\n                (part) => part.type === \"tool-call\"\n              ).map(\n                (toolCall) => parseToolCall({\n                  toolCall,\n                  tools,\n                  repairToolCall,\n                  system,\n                  messages: stepInputMessages\n                })\n              )\n            );\n            const toolApprovalRequests = {};\n            for (const toolCall of stepToolCalls) {\n              if (toolCall.invalid) {\n                continue;\n              }\n              const tool2 = tools == null ? void 0 : tools[toolCall.toolName];\n              if (tool2 == null) {\n                continue;\n              }\n              if ((tool2 == null ? void 0 : tool2.onInputAvailable) != null) {\n                await tool2.onInputAvailable({\n                  input: toolCall.input,\n                  toolCallId: toolCall.toolCallId,\n                  messages: stepInputMessages,\n                  abortSignal: mergedAbortSignal,\n                  experimental_context\n                });\n              }\n              if (await isApprovalNeeded({\n                tool: tool2,\n                toolCall,\n                messages: stepInputMessages,\n                experimental_context\n              })) {\n                toolApprovalRequests[toolCall.toolCallId] = {\n                  type: \"tool-approval-request\",\n                  approvalId: generateId2(),\n                  toolCall\n                };\n              }\n            }\n            const invalidToolCalls = stepToolCalls.filter(\n              (toolCall) => toolCall.invalid && toolCall.dynamic\n            );\n            clientToolOutputs = [];\n            for (const toolCall of invalidToolCalls) {\n              clientToolOutputs.push({\n                type: \"tool-error\",\n                toolCallId: toolCall.toolCallId,\n                toolName: toolCall.toolName,\n                input: toolCall.input,\n                error: getErrorMessage5(toolCall.error),\n                dynamic: true\n              });\n            }\n            clientToolCalls = stepToolCalls.filter(\n              (toolCall) => !toolCall.providerExecuted\n            );\n            if (tools != null) {\n              clientToolOutputs.push(\n                ...await executeTools({\n                  toolCalls: clientToolCalls.filter(\n                    (toolCall) => !toolCall.invalid && toolApprovalRequests[toolCall.toolCallId] == null\n                  ),\n                  tools,\n                  tracer,\n                  telemetry,\n                  messages: stepInputMessages,\n                  abortSignal: mergedAbortSignal,\n                  experimental_context\n                })\n              );\n            }\n            for (const toolCall of stepToolCalls) {\n              if (!toolCall.providerExecuted)\n                continue;\n              const tool2 = tools == null ? void 0 : tools[toolCall.toolName];\n              if ((tool2 == null ? void 0 : tool2.type) === \"provider\" && tool2.supportsDeferredResults) {\n                const hasResultInResponse = currentModelResponse.content.some(\n                  (part) => part.type === \"tool-result\" && part.toolCallId === toolCall.toolCallId\n                );\n                if (!hasResultInResponse) {\n                  pendingDeferredToolCalls.set(toolCall.toolCallId, {\n                    toolName: toolCall.toolName\n                  });\n                }\n              }\n            }\n            for (const part of currentModelResponse.content) {\n              if (part.type === \"tool-result\") {\n                pendingDeferredToolCalls.delete(part.toolCallId);\n              }\n            }\n            const stepContent = asContent({\n              content: currentModelResponse.content,\n              toolCalls: stepToolCalls,\n              toolOutputs: clientToolOutputs,\n              toolApprovalRequests: Object.values(toolApprovalRequests),\n              tools\n            });\n            responseMessages.push(\n              ...await toResponseMessages({\n                content: stepContent,\n                tools\n              })\n            );\n            const currentStepResult = new DefaultStepResult({\n              content: stepContent,\n              finishReason: currentModelResponse.finishReason.unified,\n              rawFinishReason: currentModelResponse.finishReason.raw,\n              usage: asLanguageModelUsage(currentModelResponse.usage),\n              warnings: currentModelResponse.warnings,\n              providerMetadata: currentModelResponse.providerMetadata,\n              request: (_g = currentModelResponse.request) != null ? _g : {},\n              response: {\n                ...currentModelResponse.response,\n                // deep clone msgs to avoid mutating past messages in multi-step:\n                messages: structuredClone(responseMessages)\n              }\n            });\n            logWarnings({\n              warnings: (_h = currentModelResponse.warnings) != null ? _h : [],\n              provider: stepModel.provider,\n              model: stepModel.modelId\n            });\n            steps.push(currentStepResult);\n            await (onStepFinish == null ? void 0 : onStepFinish(currentStepResult));\n          } finally {\n            if (stepTimeoutId != null) {\n              clearTimeout(stepTimeoutId);\n            }\n          }\n        } while (\n          // Continue if:\n          // 1. There are client tool calls that have all been executed, OR\n          // 2. There are pending deferred results from provider-executed tools\n          (clientToolCalls.length > 0 && clientToolOutputs.length === clientToolCalls.length || pendingDeferredToolCalls.size > 0) && // continue until a stop condition is met:\n          !await isStopConditionMet({ stopConditions, steps })\n        );\n        span.setAttributes(\n          await selectTelemetryAttributes({\n            telemetry,\n            attributes: {\n              \"ai.response.finishReason\": currentModelResponse.finishReason.unified,\n              \"ai.response.text\": {\n                output: () => extractTextContent(currentModelResponse.content)\n              },\n              \"ai.response.toolCalls\": {\n                output: () => {\n                  const toolCalls = asToolCalls(currentModelResponse.content);\n                  return toolCalls == null ? void 0 : JSON.stringify(toolCalls);\n                }\n              },\n              \"ai.response.providerMetadata\": JSON.stringify(\n                currentModelResponse.providerMetadata\n              ),\n              // TODO rename telemetry attributes to inputTokens and outputTokens\n              \"ai.usage.promptTokens\": currentModelResponse.usage.inputTokens.total,\n              \"ai.usage.completionTokens\": currentModelResponse.usage.outputTokens.total\n            }\n          })\n        );\n        const lastStep = steps[steps.length - 1];\n        const totalUsage = steps.reduce(\n          (totalUsage2, step) => {\n            return addLanguageModelUsage(totalUsage2, step.usage);\n          },\n          {\n            inputTokens: void 0,\n            outputTokens: void 0,\n            totalTokens: void 0,\n            reasoningTokens: void 0,\n            cachedInputTokens: void 0\n          }\n        );\n        await (onFinish == null ? void 0 : onFinish({\n          finishReason: lastStep.finishReason,\n          rawFinishReason: lastStep.rawFinishReason,\n          usage: lastStep.usage,\n          content: lastStep.content,\n          text: lastStep.text,\n          reasoningText: lastStep.reasoningText,\n          reasoning: lastStep.reasoning,\n          files: lastStep.files,\n          sources: lastStep.sources,\n          toolCalls: lastStep.toolCalls,\n          staticToolCalls: lastStep.staticToolCalls,\n          dynamicToolCalls: lastStep.dynamicToolCalls,\n          toolResults: lastStep.toolResults,\n          staticToolResults: lastStep.staticToolResults,\n          dynamicToolResults: lastStep.dynamicToolResults,\n          request: lastStep.request,\n          response: lastStep.response,\n          warnings: lastStep.warnings,\n          providerMetadata: lastStep.providerMetadata,\n          steps,\n          totalUsage,\n          experimental_context\n        }));\n        let resolvedOutput;\n        if (lastStep.finishReason === \"stop\") {\n          const outputSpecification = output != null ? output : text();\n          resolvedOutput = await outputSpecification.parseCompleteOutput(\n            { text: lastStep.text },\n            {\n              response: lastStep.response,\n              usage: lastStep.usage,\n              finishReason: lastStep.finishReason\n            }\n          );\n        }\n        return new DefaultGenerateTextResult({\n          steps,\n          totalUsage,\n          output: resolvedOutput\n        });\n      }\n    });\n  } catch (error) {\n    throw wrapGatewayError(error);\n  }\n}\nasync function executeTools({\n  toolCalls,\n  tools,\n  tracer,\n  telemetry,\n  messages,\n  abortSignal,\n  experimental_context\n}) {\n  const toolOutputs = await Promise.all(\n    toolCalls.map(\n      async (toolCall) => executeToolCall({\n        toolCall,\n        tools,\n        tracer,\n        telemetry,\n        messages,\n        abortSignal,\n        experimental_context\n      })\n    )\n  );\n  return toolOutputs.filter(\n    (output) => output != null\n  );\n}\nvar DefaultGenerateTextResult = class {\n  constructor(options) {\n    this.steps = options.steps;\n    this._output = options.output;\n    this.totalUsage = options.totalUsage;\n  }\n  get finalStep() {\n    return this.steps[this.steps.length - 1];\n  }\n  get content() {\n    return this.finalStep.content;\n  }\n  get text() {\n    return this.finalStep.text;\n  }\n  get files() {\n    return this.finalStep.files;\n  }\n  get reasoningText() {\n    return this.finalStep.reasoningText;\n  }\n  get reasoning() {\n    return this.finalStep.reasoning;\n  }\n  get toolCalls() {\n    return this.finalStep.toolCalls;\n  }\n  get staticToolCalls() {\n    return this.finalStep.staticToolCalls;\n  }\n  get dynamicToolCalls() {\n    return this.finalStep.dynamicToolCalls;\n  }\n  get toolResults() {\n    return this.finalStep.toolResults;\n  }\n  get staticToolResults() {\n    return this.finalStep.staticToolResults;\n  }\n  get dynamicToolResults() {\n    return this.finalStep.dynamicToolResults;\n  }\n  get sources() {\n    return this.finalStep.sources;\n  }\n  get finishReason() {\n    return this.finalStep.finishReason;\n  }\n  get rawFinishReason() {\n    return this.finalStep.rawFinishReason;\n  }\n  get warnings() {\n    return this.finalStep.warnings;\n  }\n  get providerMetadata() {\n    return this.finalStep.providerMetadata;\n  }\n  get response() {\n    return this.finalStep.response;\n  }\n  get request() {\n    return this.finalStep.request;\n  }\n  get usage() {\n    return this.finalStep.usage;\n  }\n  get experimental_output() {\n    return this.output;\n  }\n  get output() {\n    if (this._output == null) {\n      throw new NoOutputGeneratedError();\n    }\n    return this._output;\n  }\n};\nfunction asToolCalls(content) {\n  const parts = content.filter(\n    (part) => part.type === \"tool-call\"\n  );\n  if (parts.length === 0) {\n    return void 0;\n  }\n  return parts.map((toolCall) => ({\n    toolCallId: toolCall.toolCallId,\n    toolName: toolCall.toolName,\n    input: toolCall.input\n  }));\n}\nfunction asContent({\n  content,\n  toolCalls,\n  toolOutputs,\n  toolApprovalRequests,\n  tools\n}) {\n  const contentParts = [];\n  for (const part of content) {\n    switch (part.type) {\n      case \"text\":\n      case \"reasoning\":\n      case \"source\":\n        contentParts.push(part);\n        break;\n      case \"file\": {\n        contentParts.push({\n          type: \"file\",\n          file: new DefaultGeneratedFile(part),\n          ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n        });\n        break;\n      }\n      case \"tool-call\": {\n        contentParts.push(\n          toolCalls.find((toolCall) => toolCall.toolCallId === part.toolCallId)\n        );\n        break;\n      }\n      case \"tool-result\": {\n        const toolCall = toolCalls.find(\n          (toolCall2) => toolCall2.toolCallId === part.toolCallId\n        );\n        if (toolCall == null) {\n          const tool2 = tools == null ? void 0 : tools[part.toolName];\n          const supportsDeferredResults = (tool2 == null ? void 0 : tool2.type) === \"provider\" && tool2.supportsDeferredResults;\n          if (!supportsDeferredResults) {\n            throw new Error(`Tool call ${part.toolCallId} not found.`);\n          }\n          if (part.isError) {\n            contentParts.push({\n              type: \"tool-error\",\n              toolCallId: part.toolCallId,\n              toolName: part.toolName,\n              input: void 0,\n              error: part.result,\n              providerExecuted: true,\n              dynamic: part.dynamic\n            });\n          } else {\n            contentParts.push({\n              type: \"tool-result\",\n              toolCallId: part.toolCallId,\n              toolName: part.toolName,\n              input: void 0,\n              output: part.result,\n              providerExecuted: true,\n              dynamic: part.dynamic\n            });\n          }\n          break;\n        }\n        if (part.isError) {\n          contentParts.push({\n            type: \"tool-error\",\n            toolCallId: part.toolCallId,\n            toolName: part.toolName,\n            input: toolCall.input,\n            error: part.result,\n            providerExecuted: true,\n            dynamic: toolCall.dynamic\n          });\n        } else {\n          contentParts.push({\n            type: \"tool-result\",\n            toolCallId: part.toolCallId,\n            toolName: part.toolName,\n            input: toolCall.input,\n            output: part.result,\n            providerExecuted: true,\n            dynamic: toolCall.dynamic\n          });\n        }\n        break;\n      }\n      case \"tool-approval-request\": {\n        const toolCall = toolCalls.find(\n          (toolCall2) => toolCall2.toolCallId === part.toolCallId\n        );\n        if (toolCall == null) {\n          throw new ToolCallNotFoundForApprovalError({\n            toolCallId: part.toolCallId,\n            approvalId: part.approvalId\n          });\n        }\n        contentParts.push({\n          type: \"tool-approval-request\",\n          approvalId: part.approvalId,\n          toolCall\n        });\n        break;\n      }\n    }\n  }\n  return [...contentParts, ...toolOutputs, ...toolApprovalRequests];\n}\n\n// src/generate-text/stream-text.ts\nimport {\n  getErrorMessage as getErrorMessage7,\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError2\n} from \"@ai-sdk/provider\";\nimport {\n  createIdGenerator as createIdGenerator2,\n  DelayedPromise,\n  isAbortError as isAbortError2\n} from \"@ai-sdk/provider-utils\";\n\n// src/util/prepare-headers.ts\nfunction prepareHeaders(headers, defaultHeaders) {\n  const responseHeaders = new Headers(headers != null ? headers : {});\n  for (const [key, value] of Object.entries(defaultHeaders)) {\n    if (!responseHeaders.has(key)) {\n      responseHeaders.set(key, value);\n    }\n  }\n  return responseHeaders;\n}\n\n// src/text-stream/create-text-stream-response.ts\nfunction createTextStreamResponse({\n  status,\n  statusText,\n  headers,\n  textStream\n}) {\n  return new Response(textStream.pipeThrough(new TextEncoderStream()), {\n    status: status != null ? status : 200,\n    statusText,\n    headers: prepareHeaders(headers, {\n      \"content-type\": \"text/plain; charset=utf-8\"\n    })\n  });\n}\n\n// src/util/write-to-server-response.ts\nfunction writeToServerResponse({\n  response,\n  status,\n  statusText,\n  headers,\n  stream\n}) {\n  const statusCode = status != null ? status : 200;\n  if (statusText !== void 0) {\n    response.writeHead(statusCode, statusText, headers);\n  } else {\n    response.writeHead(statusCode, headers);\n  }\n  const reader = stream.getReader();\n  const read = async () => {\n    try {\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done)\n          break;\n        const canContinue = response.write(value);\n        if (!canContinue) {\n          await new Promise((resolve3) => {\n            response.once(\"drain\", resolve3);\n          });\n        }\n      }\n    } catch (error) {\n      throw error;\n    } finally {\n      response.end();\n    }\n  };\n  read();\n}\n\n// src/text-stream/pipe-text-stream-to-response.ts\nfunction pipeTextStreamToResponse({\n  response,\n  status,\n  statusText,\n  headers,\n  textStream\n}) {\n  writeToServerResponse({\n    response,\n    status,\n    statusText,\n    headers: Object.fromEntries(\n      prepareHeaders(headers, {\n        \"content-type\": \"text/plain; charset=utf-8\"\n      }).entries()\n    ),\n    stream: textStream.pipeThrough(new TextEncoderStream())\n  });\n}\n\n// src/ui-message-stream/json-to-sse-transform-stream.ts\nvar JsonToSseTransformStream = class extends TransformStream {\n  constructor() {\n    super({\n      transform(part, controller) {\n        controller.enqueue(`data: ${JSON.stringify(part)}\n\n`);\n      },\n      flush(controller) {\n        controller.enqueue(\"data: [DONE]\\n\\n\");\n      }\n    });\n  }\n};\n\n// src/ui-message-stream/ui-message-stream-headers.ts\nvar UI_MESSAGE_STREAM_HEADERS = {\n  \"content-type\": \"text/event-stream\",\n  \"cache-control\": \"no-cache\",\n  connection: \"keep-alive\",\n  \"x-vercel-ai-ui-message-stream\": \"v1\",\n  \"x-accel-buffering\": \"no\"\n  // disable nginx buffering\n};\n\n// src/ui-message-stream/create-ui-message-stream-response.ts\nfunction createUIMessageStreamResponse({\n  status,\n  statusText,\n  headers,\n  stream,\n  consumeSseStream\n}) {\n  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());\n  if (consumeSseStream) {\n    const [stream1, stream2] = sseStream.tee();\n    sseStream = stream1;\n    consumeSseStream({ stream: stream2 });\n  }\n  return new Response(sseStream.pipeThrough(new TextEncoderStream()), {\n    status,\n    statusText,\n    headers: prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS)\n  });\n}\n\n// src/ui-message-stream/get-response-ui-message-id.ts\nfunction getResponseUIMessageId({\n  originalMessages,\n  responseMessageId\n}) {\n  if (originalMessages == null) {\n    return void 0;\n  }\n  const lastMessage = originalMessages[originalMessages.length - 1];\n  return (lastMessage == null ? void 0 : lastMessage.role) === \"assistant\" ? lastMessage.id : typeof responseMessageId === \"function\" ? responseMessageId() : responseMessageId;\n}\n\n// src/ui/process-ui-message-stream.ts\nimport { validateTypes } from \"@ai-sdk/provider-utils\";\n\n// src/ui-message-stream/ui-message-chunks.ts\nimport { z as z7 } from \"zod/v4\";\nimport { lazySchema, zodSchema } from \"@ai-sdk/provider-utils\";\nvar uiMessageChunkSchema = lazySchema(\n  () => zodSchema(\n    z7.union([\n      z7.strictObject({\n        type: z7.literal(\"text-start\"),\n        id: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"text-delta\"),\n        id: z7.string(),\n        delta: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"text-end\"),\n        id: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"error\"),\n        errorText: z7.string()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-input-start\"),\n        toolCallId: z7.string(),\n        toolName: z7.string(),\n        providerExecuted: z7.boolean().optional(),\n        dynamic: z7.boolean().optional(),\n        title: z7.string().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-input-delta\"),\n        toolCallId: z7.string(),\n        inputTextDelta: z7.string()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-input-available\"),\n        toolCallId: z7.string(),\n        toolName: z7.string(),\n        input: z7.unknown(),\n        providerExecuted: z7.boolean().optional(),\n        providerMetadata: providerMetadataSchema.optional(),\n        dynamic: z7.boolean().optional(),\n        title: z7.string().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-input-error\"),\n        toolCallId: z7.string(),\n        toolName: z7.string(),\n        input: z7.unknown(),\n        providerExecuted: z7.boolean().optional(),\n        providerMetadata: providerMetadataSchema.optional(),\n        dynamic: z7.boolean().optional(),\n        errorText: z7.string(),\n        title: z7.string().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-approval-request\"),\n        approvalId: z7.string(),\n        toolCallId: z7.string()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-output-available\"),\n        toolCallId: z7.string(),\n        output: z7.unknown(),\n        providerExecuted: z7.boolean().optional(),\n        dynamic: z7.boolean().optional(),\n        preliminary: z7.boolean().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-output-error\"),\n        toolCallId: z7.string(),\n        errorText: z7.string(),\n        providerExecuted: z7.boolean().optional(),\n        dynamic: z7.boolean().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-output-denied\"),\n        toolCallId: z7.string()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"reasoning-start\"),\n        id: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"reasoning-delta\"),\n        id: z7.string(),\n        delta: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"reasoning-end\"),\n        id: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"source-url\"),\n        sourceId: z7.string(),\n        url: z7.string(),\n        title: z7.string().optional(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"source-document\"),\n        sourceId: z7.string(),\n        mediaType: z7.string(),\n        title: z7.string(),\n        filename: z7.string().optional(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"file\"),\n        url: z7.string(),\n        mediaType: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.custom(\n          (value) => typeof value === \"string\" && value.startsWith(\"data-\"),\n          { message: 'Type must start with \"data-\"' }\n        ),\n        id: z7.string().optional(),\n        data: z7.unknown(),\n        transient: z7.boolean().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"start-step\")\n      }),\n      z7.strictObject({\n        type: z7.literal(\"finish-step\")\n      }),\n      z7.strictObject({\n        type: z7.literal(\"start\"),\n        messageId: z7.string().optional(),\n        messageMetadata: z7.unknown().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"finish\"),\n        finishReason: z7.enum([\n          \"stop\",\n          \"length\",\n          \"content-filter\",\n          \"tool-calls\",\n          \"error\",\n          \"other\"\n        ]).optional(),\n        messageMetadata: z7.unknown().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"abort\"),\n        reason: z7.string().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"message-metadata\"),\n        messageMetadata: z7.unknown()\n      })\n    ])\n  )\n);\nfunction isDataUIMessageChunk(chunk) {\n  return chunk.type.startsWith(\"data-\");\n}\n\n// src/ui/ui-messages.ts\nfunction isDataUIPart(part) {\n  return part.type.startsWith(\"data-\");\n}\nfunction isTextUIPart(part) {\n  return part.type === \"text\";\n}\nfunction isFileUIPart(part) {\n  return part.type === \"file\";\n}\nfunction isReasoningUIPart(part) {\n  return part.type === \"reasoning\";\n}\nfunction isStaticToolUIPart(part) {\n  return part.type.startsWith(\"tool-\");\n}\nfunction isDynamicToolUIPart(part) {\n  return part.type === \"dynamic-tool\";\n}\nfunction isToolUIPart(part) {\n  return isStaticToolUIPart(part) || isDynamicToolUIPart(part);\n}\nvar isToolOrDynamicToolUIPart = isToolUIPart;\nfunction getStaticToolName(part) {\n  return part.type.split(\"-\").slice(1).join(\"-\");\n}\nfunction getToolName(part) {\n  return isDynamicToolUIPart(part) ? part.toolName : getStaticToolName(part);\n}\nvar getToolOrDynamicToolName = getToolName;\n\n// src/ui/process-ui-message-stream.ts\nfunction createStreamingUIMessageState({\n  lastMessage,\n  messageId\n}) {\n  return {\n    message: (lastMessage == null ? void 0 : lastMessage.role) === \"assistant\" ? lastMessage : {\n      id: messageId,\n      metadata: void 0,\n      role: \"assistant\",\n      parts: []\n    },\n    activeTextParts: {},\n    activeReasoningParts: {},\n    partialToolCalls: {}\n  };\n}\nfunction processUIMessageStream({\n  stream,\n  messageMetadataSchema,\n  dataPartSchemas,\n  runUpdateMessageJob,\n  onError,\n  onToolCall,\n  onData\n}) {\n  return stream.pipeThrough(\n    new TransformStream({\n      async transform(chunk, controller) {\n        await runUpdateMessageJob(async ({ state, write }) => {\n          var _a16, _b, _c, _d;\n          function getToolInvocation(toolCallId) {\n            const toolInvocations = state.message.parts.filter(isToolUIPart);\n            const toolInvocation = toolInvocations.find(\n              (invocation) => invocation.toolCallId === toolCallId\n            );\n            if (toolInvocation == null) {\n              throw new Error(\n                `no tool invocation found for tool call ${toolCallId}`\n              );\n            }\n            return toolInvocation;\n          }\n          function updateToolPart(options) {\n            var _a17;\n            const part = state.message.parts.find(\n              (part2) => isStaticToolUIPart(part2) && part2.toolCallId === options.toolCallId\n            );\n            const anyOptions = options;\n            const anyPart = part;\n            if (part != null) {\n              part.state = options.state;\n              anyPart.input = anyOptions.input;\n              anyPart.output = anyOptions.output;\n              anyPart.errorText = anyOptions.errorText;\n              anyPart.rawInput = anyOptions.rawInput;\n              anyPart.preliminary = anyOptions.preliminary;\n              if (options.title !== void 0) {\n                anyPart.title = options.title;\n              }\n              anyPart.providerExecuted = (_a17 = anyOptions.providerExecuted) != null ? _a17 : part.providerExecuted;\n              if (anyOptions.providerMetadata != null && part.state === \"input-available\") {\n                part.callProviderMetadata = anyOptions.providerMetadata;\n              }\n            } else {\n              state.message.parts.push({\n                type: `tool-${options.toolName}`,\n                toolCallId: options.toolCallId,\n                state: options.state,\n                title: options.title,\n                input: anyOptions.input,\n                output: anyOptions.output,\n                rawInput: anyOptions.rawInput,\n                errorText: anyOptions.errorText,\n                providerExecuted: anyOptions.providerExecuted,\n                preliminary: anyOptions.preliminary,\n                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}\n              });\n            }\n          }\n          function updateDynamicToolPart(options) {\n            var _a17, _b2;\n            const part = state.message.parts.find(\n              (part2) => part2.type === \"dynamic-tool\" && part2.toolCallId === options.toolCallId\n            );\n            const anyOptions = options;\n            const anyPart = part;\n            if (part != null) {\n              part.state = options.state;\n              anyPart.toolName = options.toolName;\n              anyPart.input = anyOptions.input;\n              anyPart.output = anyOptions.output;\n              anyPart.errorText = anyOptions.errorText;\n              anyPart.rawInput = (_a17 = anyOptions.rawInput) != null ? _a17 : anyPart.rawInput;\n              anyPart.preliminary = anyOptions.preliminary;\n              if (options.title !== void 0) {\n                anyPart.title = options.title;\n              }\n              anyPart.providerExecuted = (_b2 = anyOptions.providerExecuted) != null ? _b2 : part.providerExecuted;\n              if (anyOptions.providerMetadata != null && part.state === \"input-available\") {\n                part.callProviderMetadata = anyOptions.providerMetadata;\n              }\n            } else {\n              state.message.parts.push({\n                type: \"dynamic-tool\",\n                toolName: options.toolName,\n                toolCallId: options.toolCallId,\n                state: options.state,\n                input: anyOptions.input,\n                output: anyOptions.output,\n                errorText: anyOptions.errorText,\n                preliminary: anyOptions.preliminary,\n                providerExecuted: anyOptions.providerExecuted,\n                title: options.title,\n                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}\n              });\n            }\n          }\n          async function updateMessageMetadata(metadata) {\n            if (metadata != null) {\n              const mergedMetadata = state.message.metadata != null ? mergeObjects(state.message.metadata, metadata) : metadata;\n              if (messageMetadataSchema != null) {\n                await validateTypes({\n                  value: mergedMetadata,\n                  schema: messageMetadataSchema\n                });\n              }\n              state.message.metadata = mergedMetadata;\n            }\n          }\n          switch (chunk.type) {\n            case \"text-start\": {\n              const textPart = {\n                type: \"text\",\n                text: \"\",\n                providerMetadata: chunk.providerMetadata,\n                state: \"streaming\"\n              };\n              state.activeTextParts[chunk.id] = textPart;\n              state.message.parts.push(textPart);\n              write();\n              break;\n            }\n            case \"text-delta\": {\n              const textPart = state.activeTextParts[chunk.id];\n              textPart.text += chunk.delta;\n              textPart.providerMetadata = (_a16 = chunk.providerMetadata) != null ? _a16 : textPart.providerMetadata;\n              write();\n              break;\n            }\n            case \"text-end\": {\n              const textPart = state.activeTextParts[chunk.id];\n              textPart.state = \"done\";\n              textPart.providerMetadata = (_b = chunk.providerMetadata) != null ? _b : textPart.providerMetadata;\n              delete state.activeTextParts[chunk.id];\n              write();\n              break;\n            }\n            case \"reasoning-start\": {\n              const reasoningPart = {\n                type: \"reasoning\",\n                text: \"\",\n                providerMetadata: chunk.providerMetadata,\n                state: \"streaming\"\n              };\n              state.activeReasoningParts[chunk.id] = reasoningPart;\n              state.message.parts.push(reasoningPart);\n              write();\n              break;\n            }\n            case \"reasoning-delta\": {\n              const reasoningPart = state.activeReasoningParts[chunk.id];\n              reasoningPart.text += chunk.delta;\n              reasoningPart.providerMetadata = (_c = chunk.providerMetadata) != null ? _c : reasoningPart.providerMetadata;\n              write();\n              break;\n            }\n            case \"reasoning-end\": {\n              const reasoningPart = state.activeReasoningParts[chunk.id];\n              reasoningPart.providerMetadata = (_d = chunk.providerMetadata) != null ? _d : reasoningPart.providerMetadata;\n              reasoningPart.state = \"done\";\n              delete state.activeReasoningParts[chunk.id];\n              write();\n              break;\n            }\n            case \"file\": {\n              state.message.parts.push({\n                type: \"file\",\n                mediaType: chunk.mediaType,\n                url: chunk.url\n              });\n              write();\n              break;\n            }\n            case \"source-url\": {\n              state.message.parts.push({\n                type: \"source-url\",\n                sourceId: chunk.sourceId,\n                url: chunk.url,\n                title: chunk.title,\n                providerMetadata: chunk.providerMetadata\n              });\n              write();\n              break;\n            }\n            case \"source-document\": {\n              state.message.parts.push({\n                type: \"source-document\",\n                sourceId: chunk.sourceId,\n                mediaType: chunk.mediaType,\n                title: chunk.title,\n                filename: chunk.filename,\n                providerMetadata: chunk.providerMetadata\n              });\n              write();\n              break;\n            }\n            case \"tool-input-start\": {\n              const toolInvocations = state.message.parts.filter(isStaticToolUIPart);\n              state.partialToolCalls[chunk.toolCallId] = {\n                text: \"\",\n                toolName: chunk.toolName,\n                index: toolInvocations.length,\n                dynamic: chunk.dynamic,\n                title: chunk.title\n              };\n              if (chunk.dynamic) {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"input-streaming\",\n                  input: void 0,\n                  providerExecuted: chunk.providerExecuted,\n                  title: chunk.title\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"input-streaming\",\n                  input: void 0,\n                  providerExecuted: chunk.providerExecuted,\n                  title: chunk.title\n                });\n              }\n              write();\n              break;\n            }\n            case \"tool-input-delta\": {\n              const partialToolCall = state.partialToolCalls[chunk.toolCallId];\n              partialToolCall.text += chunk.inputTextDelta;\n              const { value: partialArgs } = await parsePartialJson(\n                partialToolCall.text\n              );\n              if (partialToolCall.dynamic) {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: partialToolCall.toolName,\n                  state: \"input-streaming\",\n                  input: partialArgs,\n                  title: partialToolCall.title\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: partialToolCall.toolName,\n                  state: \"input-streaming\",\n                  input: partialArgs,\n                  title: partialToolCall.title\n                });\n              }\n              write();\n              break;\n            }\n            case \"tool-input-available\": {\n              if (chunk.dynamic) {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"input-available\",\n                  input: chunk.input,\n                  providerExecuted: chunk.providerExecuted,\n                  providerMetadata: chunk.providerMetadata,\n                  title: chunk.title\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"input-available\",\n                  input: chunk.input,\n                  providerExecuted: chunk.providerExecuted,\n                  providerMetadata: chunk.providerMetadata,\n                  title: chunk.title\n                });\n              }\n              write();\n              if (onToolCall && !chunk.providerExecuted) {\n                await onToolCall({\n                  toolCall: chunk\n                });\n              }\n              break;\n            }\n            case \"tool-input-error\": {\n              if (chunk.dynamic) {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"output-error\",\n                  input: chunk.input,\n                  errorText: chunk.errorText,\n                  providerExecuted: chunk.providerExecuted,\n                  providerMetadata: chunk.providerMetadata\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"output-error\",\n                  input: void 0,\n                  rawInput: chunk.input,\n                  errorText: chunk.errorText,\n                  providerExecuted: chunk.providerExecuted,\n                  providerMetadata: chunk.providerMetadata\n                });\n              }\n              write();\n              break;\n            }\n            case \"tool-approval-request\": {\n              const toolInvocation = getToolInvocation(chunk.toolCallId);\n              toolInvocation.state = \"approval-requested\";\n              toolInvocation.approval = { id: chunk.approvalId };\n              write();\n              break;\n            }\n            case \"tool-output-denied\": {\n              const toolInvocation = getToolInvocation(chunk.toolCallId);\n              toolInvocation.state = \"output-denied\";\n              write();\n              break;\n            }\n            case \"tool-output-available\": {\n              const toolInvocation = getToolInvocation(chunk.toolCallId);\n              if (toolInvocation.type === \"dynamic-tool\") {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: toolInvocation.toolName,\n                  state: \"output-available\",\n                  input: toolInvocation.input,\n                  output: chunk.output,\n                  preliminary: chunk.preliminary,\n                  providerExecuted: chunk.providerExecuted,\n                  title: toolInvocation.title\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: getStaticToolName(toolInvocation),\n                  state: \"output-available\",\n                  input: toolInvocation.input,\n                  output: chunk.output,\n                  providerExecuted: chunk.providerExecuted,\n                  preliminary: chunk.preliminary,\n                  title: toolInvocation.title\n                });\n              }\n              write();\n              break;\n            }\n            case \"tool-output-error\": {\n              const toolInvocation = getToolInvocation(chunk.toolCallId);\n              if (toolInvocation.type === \"dynamic-tool\") {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: toolInvocation.toolName,\n                  state: \"output-error\",\n                  input: toolInvocation.input,\n                  errorText: chunk.errorText,\n                  providerExecuted: chunk.providerExecuted,\n                  title: toolInvocation.title\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: getStaticToolName(toolInvocation),\n                  state: \"output-error\",\n                  input: toolInvocation.input,\n                  rawInput: toolInvocation.rawInput,\n                  errorText: chunk.errorText,\n                  providerExecuted: chunk.providerExecuted,\n                  title: toolInvocation.title\n                });\n              }\n              write();\n              break;\n            }\n            case \"start-step\": {\n              state.message.parts.push({ type: \"step-start\" });\n              break;\n            }\n            case \"finish-step\": {\n              state.activeTextParts = {};\n              state.activeReasoningParts = {};\n              break;\n            }\n            case \"start\": {\n              if (chunk.messageId != null) {\n                state.message.id = chunk.messageId;\n              }\n              await updateMessageMetadata(chunk.messageMetadata);\n              if (chunk.messageId != null || chunk.messageMetadata != null) {\n                write();\n              }\n              break;\n            }\n            case \"finish\": {\n              if (chunk.finishReason != null) {\n                state.finishReason = chunk.finishReason;\n              }\n              await updateMessageMetadata(chunk.messageMetadata);\n              if (chunk.messageMetadata != null) {\n                write();\n              }\n              break;\n            }\n            case \"message-metadata\": {\n              await updateMessageMetadata(chunk.messageMetadata);\n              if (chunk.messageMetadata != null) {\n                write();\n              }\n              break;\n            }\n            case \"error\": {\n              onError == null ? void 0 : onError(new Error(chunk.errorText));\n              break;\n            }\n            default: {\n              if (isDataUIMessageChunk(chunk)) {\n                if ((dataPartSchemas == null ? void 0 : dataPartSchemas[chunk.type]) != null) {\n                  await validateTypes({\n                    value: chunk.data,\n                    schema: dataPartSchemas[chunk.type]\n                  });\n                }\n                const dataChunk = chunk;\n                if (dataChunk.transient) {\n                  onData == null ? void 0 : onData(dataChunk);\n                  break;\n                }\n                const existingUIPart = dataChunk.id != null ? state.message.parts.find(\n                  (chunkArg) => dataChunk.type === chunkArg.type && dataChunk.id === chunkArg.id\n                ) : void 0;\n                if (existingUIPart != null) {\n                  existingUIPart.data = dataChunk.data;\n                } else {\n                  state.message.parts.push(dataChunk);\n                }\n                onData == null ? void 0 : onData(dataChunk);\n                write();\n              }\n            }\n          }\n          controller.enqueue(chunk);\n        });\n      }\n    })\n  );\n}\n\n// src/ui-message-stream/handle-ui-message-stream-finish.ts\nfunction handleUIMessageStreamFinish({\n  messageId,\n  originalMessages = [],\n  onFinish,\n  onError,\n  stream\n}) {\n  let lastMessage = originalMessages == null ? void 0 : originalMessages[originalMessages.length - 1];\n  if ((lastMessage == null ? void 0 : lastMessage.role) !== \"assistant\") {\n    lastMessage = void 0;\n  } else {\n    messageId = lastMessage.id;\n  }\n  let isAborted = false;\n  const idInjectedStream = stream.pipeThrough(\n    new TransformStream({\n      transform(chunk, controller) {\n        if (chunk.type === \"start\") {\n          const startChunk = chunk;\n          if (startChunk.messageId == null && messageId != null) {\n            startChunk.messageId = messageId;\n          }\n        }\n        if (chunk.type === \"abort\") {\n          isAborted = true;\n        }\n        controller.enqueue(chunk);\n      }\n    })\n  );\n  if (onFinish == null) {\n    return idInjectedStream;\n  }\n  const state = createStreamingUIMessageState({\n    lastMessage: lastMessage ? structuredClone(lastMessage) : void 0,\n    messageId: messageId != null ? messageId : \"\"\n    // will be overridden by the stream\n  });\n  const runUpdateMessageJob = async (job) => {\n    await job({ state, write: () => {\n    } });\n  };\n  let finishCalled = false;\n  const callOnFinish = async () => {\n    if (finishCalled || !onFinish) {\n      return;\n    }\n    finishCalled = true;\n    const isContinuation = state.message.id === (lastMessage == null ? void 0 : lastMessage.id);\n    await onFinish({\n      isAborted,\n      isContinuation,\n      responseMessage: state.message,\n      messages: [\n        ...isContinuation ? originalMessages.slice(0, -1) : originalMessages,\n        state.message\n      ],\n      finishReason: state.finishReason\n    });\n  };\n  return processUIMessageStream({\n    stream: idInjectedStream,\n    runUpdateMessageJob,\n    onError\n  }).pipeThrough(\n    new TransformStream({\n      transform(chunk, controller) {\n        controller.enqueue(chunk);\n      },\n      // @ts-expect-error cancel is still new and missing from types https://developer.mozilla.org/en-US/docs/Web/API/TransformStream#browser_compatibility\n      async cancel() {\n        await callOnFinish();\n      },\n      async flush() {\n        await callOnFinish();\n      }\n    })\n  );\n}\n\n// src/ui-message-stream/pipe-ui-message-stream-to-response.ts\nfunction pipeUIMessageStreamToResponse({\n  response,\n  status,\n  statusText,\n  headers,\n  stream,\n  consumeSseStream\n}) {\n  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());\n  if (consumeSseStream) {\n    const [stream1, stream2] = sseStream.tee();\n    sseStream = stream1;\n    consumeSseStream({ stream: stream2 });\n  }\n  writeToServerResponse({\n    response,\n    status,\n    statusText,\n    headers: Object.fromEntries(\n      prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS).entries()\n    ),\n    stream: sseStream.pipeThrough(new TextEncoderStream())\n  });\n}\n\n// src/util/async-iterable-stream.ts\nfunction createAsyncIterableStream(source) {\n  const stream = source.pipeThrough(new TransformStream());\n  stream[Symbol.asyncIterator] = function() {\n    const reader = this.getReader();\n    let finished = false;\n    async function cleanup(cancelStream) {\n      var _a16;\n      if (finished)\n        return;\n      finished = true;\n      try {\n        if (cancelStream) {\n          await ((_a16 = reader.cancel) == null ? void 0 : _a16.call(reader));\n        }\n      } finally {\n        try {\n          reader.releaseLock();\n        } catch (e) {\n        }\n      }\n    }\n    return {\n      /**\n       * Reads the next chunk from the stream.\n       * @returns A promise resolving to the next IteratorResult.\n       */\n      async next() {\n        if (finished) {\n          return { done: true, value: void 0 };\n        }\n        const { done, value } = await reader.read();\n        if (done) {\n          await cleanup(true);\n          return { done: true, value: void 0 };\n        }\n        return { done: false, value };\n      },\n      /**\n       * May be called on early exit (e.g., break from for-await) or after completion.\n       * Ensures the stream is cancelled and resources are released.\n       * @returns A promise resolving to a completed IteratorResult.\n       */\n      async return() {\n        await cleanup(true);\n        return { done: true, value: void 0 };\n      },\n      /**\n       * Called on early exit with error.\n       * Ensures the stream is cancelled and resources are released, then rethrows the error.\n       * @param err The error to throw.\n       * @returns A promise that rejects with the provided error.\n       */\n      async throw(err) {\n        await cleanup(true);\n        throw err;\n      }\n    };\n  };\n  return stream;\n}\n\n// src/util/consume-stream.ts\nasync function consumeStream({\n  stream,\n  onError\n}) {\n  const reader = stream.getReader();\n  try {\n    while (true) {\n      const { done } = await reader.read();\n      if (done)\n        break;\n    }\n  } catch (error) {\n    onError == null ? void 0 : onError(error);\n  } finally {\n    reader.releaseLock();\n  }\n}\n\n// src/util/create-resolvable-promise.ts\nfunction createResolvablePromise() {\n  let resolve3;\n  let reject;\n  const promise = new Promise((res, rej) => {\n    resolve3 = res;\n    reject = rej;\n  });\n  return {\n    promise,\n    resolve: resolve3,\n    reject\n  };\n}\n\n// src/util/create-stitchable-stream.ts\nfunction createStitchableStream() {\n  let innerStreamReaders = [];\n  let controller = null;\n  let isClosed = false;\n  let waitForNewStream = createResolvablePromise();\n  const terminate = () => {\n    isClosed = true;\n    waitForNewStream.resolve();\n    innerStreamReaders.forEach((reader) => reader.cancel());\n    innerStreamReaders = [];\n    controller == null ? void 0 : controller.close();\n  };\n  const processPull = async () => {\n    if (isClosed && innerStreamReaders.length === 0) {\n      controller == null ? void 0 : controller.close();\n      return;\n    }\n    if (innerStreamReaders.length === 0) {\n      waitForNewStream = createResolvablePromise();\n      await waitForNewStream.promise;\n      return processPull();\n    }\n    try {\n      const { value, done } = await innerStreamReaders[0].read();\n      if (done) {\n        innerStreamReaders.shift();\n        if (innerStreamReaders.length === 0 && isClosed) {\n          controller == null ? void 0 : controller.close();\n        } else {\n          await processPull();\n        }\n      } else {\n        controller == null ? void 0 : controller.enqueue(value);\n      }\n    } catch (error) {\n      controller == null ? void 0 : controller.error(error);\n      innerStreamReaders.shift();\n      terminate();\n    }\n  };\n  return {\n    stream: new ReadableStream({\n      start(controllerParam) {\n        controller = controllerParam;\n      },\n      pull: processPull,\n      async cancel() {\n        for (const reader of innerStreamReaders) {\n          await reader.cancel();\n        }\n        innerStreamReaders = [];\n        isClosed = true;\n      }\n    }),\n    addStream: (innerStream) => {\n      if (isClosed) {\n        throw new Error(\"Cannot add inner stream: outer stream is closed\");\n      }\n      innerStreamReaders.push(innerStream.getReader());\n      waitForNewStream.resolve();\n    },\n    /**\n     * Gracefully close the outer stream. This will let the inner streams\n     * finish processing and then close the outer stream.\n     */\n    close: () => {\n      isClosed = true;\n      waitForNewStream.resolve();\n      if (innerStreamReaders.length === 0) {\n        controller == null ? void 0 : controller.close();\n      }\n    },\n    /**\n     * Immediately close the outer stream. This will cancel all inner streams\n     * and close the outer stream.\n     */\n    terminate\n  };\n}\n\n// src/util/now.ts\nfunction now() {\n  var _a16, _b;\n  return (_b = (_a16 = globalThis == null ? void 0 : globalThis.performance) == null ? void 0 : _a16.now()) != null ? _b : Date.now();\n}\n\n// src/generate-text/run-tools-transformation.ts\nimport {\n  getErrorMessage as getErrorMessage6\n} from \"@ai-sdk/provider-utils\";\nfunction runToolsTransformation({\n  tools,\n  generatorStream,\n  tracer,\n  telemetry,\n  system,\n  messages,\n  abortSignal,\n  repairToolCall,\n  experimental_context,\n  generateId: generateId2\n}) {\n  let toolResultsStreamController = null;\n  const toolResultsStream = new ReadableStream({\n    start(controller) {\n      toolResultsStreamController = controller;\n    }\n  });\n  const outstandingToolResults = /* @__PURE__ */ new Set();\n  const toolInputs = /* @__PURE__ */ new Map();\n  const toolCallsByToolCallId = /* @__PURE__ */ new Map();\n  let canClose = false;\n  let finishChunk = void 0;\n  function attemptClose() {\n    if (canClose && outstandingToolResults.size === 0) {\n      if (finishChunk != null) {\n        toolResultsStreamController.enqueue(finishChunk);\n      }\n      toolResultsStreamController.close();\n    }\n  }\n  const forwardStream = new TransformStream({\n    async transform(chunk, controller) {\n      const chunkType = chunk.type;\n      switch (chunkType) {\n        case \"stream-start\":\n        case \"text-start\":\n        case \"text-delta\":\n        case \"text-end\":\n        case \"reasoning-start\":\n        case \"reasoning-delta\":\n        case \"reasoning-end\":\n        case \"tool-input-start\":\n        case \"tool-input-delta\":\n        case \"tool-input-end\":\n        case \"source\":\n        case \"response-metadata\":\n        case \"error\":\n        case \"raw\": {\n          controller.enqueue(chunk);\n          break;\n        }\n        case \"file\": {\n          controller.enqueue({\n            type: \"file\",\n            file: new DefaultGeneratedFileWithType({\n              data: chunk.data,\n              mediaType: chunk.mediaType\n            })\n          });\n          break;\n        }\n        case \"finish\": {\n          finishChunk = {\n            type: \"finish\",\n            finishReason: chunk.finishReason.unified,\n            rawFinishReason: chunk.finishReason.raw,\n            usage: asLanguageModelUsage(chunk.usage),\n            providerMetadata: chunk.providerMetadata\n          };\n          break;\n        }\n        case \"tool-approval-request\": {\n          const toolCall = toolCallsByToolCallId.get(chunk.toolCallId);\n          if (toolCall == null) {\n            toolResultsStreamController.enqueue({\n              type: \"error\",\n              error: new ToolCallNotFoundForApprovalError({\n                toolCallId: chunk.toolCallId,\n                approvalId: chunk.approvalId\n              })\n            });\n            break;\n          }\n          controller.enqueue({\n            type: \"tool-approval-request\",\n            approvalId: chunk.approvalId,\n            toolCall\n          });\n          break;\n        }\n        case \"tool-call\": {\n          try {\n            const toolCall = await parseToolCall({\n              toolCall: chunk,\n              tools,\n              repairToolCall,\n              system,\n              messages\n            });\n            toolCallsByToolCallId.set(toolCall.toolCallId, toolCall);\n            controller.enqueue(toolCall);\n            if (toolCall.invalid) {\n              toolResultsStreamController.enqueue({\n                type: \"tool-error\",\n                toolCallId: toolCall.toolCallId,\n                toolName: toolCall.toolName,\n                input: toolCall.input,\n                error: getErrorMessage6(toolCall.error),\n                dynamic: true,\n                title: toolCall.title\n              });\n              break;\n            }\n            const tool2 = tools == null ? void 0 : tools[toolCall.toolName];\n            if (tool2 == null) {\n              break;\n            }\n            if (tool2.onInputAvailable != null) {\n              await tool2.onInputAvailable({\n                input: toolCall.input,\n                toolCallId: toolCall.toolCallId,\n                messages,\n                abortSignal,\n                experimental_context\n              });\n            }\n            if (await isApprovalNeeded({\n              tool: tool2,\n              toolCall,\n              messages,\n              experimental_context\n            })) {\n              toolResultsStreamController.enqueue({\n                type: \"tool-approval-request\",\n                approvalId: generateId2(),\n                toolCall\n              });\n              break;\n            }\n            toolInputs.set(toolCall.toolCallId, toolCall.input);\n            if (tool2.execute != null && toolCall.providerExecuted !== true) {\n              const toolExecutionId = generateId2();\n              outstandingToolResults.add(toolExecutionId);\n              executeToolCall({\n                toolCall,\n                tools,\n                tracer,\n                telemetry,\n                messages,\n                abortSignal,\n                experimental_context,\n                onPreliminaryToolResult: (result) => {\n                  toolResultsStreamController.enqueue(result);\n                }\n              }).then((result) => {\n                toolResultsStreamController.enqueue(result);\n              }).catch((error) => {\n                toolResultsStreamController.enqueue({\n                  type: \"error\",\n                  error\n                });\n              }).finally(() => {\n                outstandingToolResults.delete(toolExecutionId);\n                attemptClose();\n              });\n            }\n          } catch (error) {\n            toolResultsStreamController.enqueue({ type: \"error\", error });\n          }\n          break;\n        }\n        case \"tool-result\": {\n          const toolName = chunk.toolName;\n          if (chunk.isError) {\n            toolResultsStreamController.enqueue({\n              type: \"tool-error\",\n              toolCallId: chunk.toolCallId,\n              toolName,\n              input: toolInputs.get(chunk.toolCallId),\n              providerExecuted: true,\n              error: chunk.result,\n              dynamic: chunk.dynamic\n            });\n          } else {\n            controller.enqueue({\n              type: \"tool-result\",\n              toolCallId: chunk.toolCallId,\n              toolName,\n              input: toolInputs.get(chunk.toolCallId),\n              output: chunk.result,\n              providerExecuted: true,\n              dynamic: chunk.dynamic\n            });\n          }\n          break;\n        }\n        default: {\n          const _exhaustiveCheck = chunkType;\n          throw new Error(`Unhandled chunk type: ${_exhaustiveCheck}`);\n        }\n      }\n    },\n    flush() {\n      canClose = true;\n      attemptClose();\n    }\n  });\n  return new ReadableStream({\n    async start(controller) {\n      return Promise.all([\n        generatorStream.pipeThrough(forwardStream).pipeTo(\n          new WritableStream({\n            write(chunk) {\n              controller.enqueue(chunk);\n            },\n            close() {\n            }\n          })\n        ),\n        toolResultsStream.pipeTo(\n          new WritableStream({\n            write(chunk) {\n              controller.enqueue(chunk);\n            },\n            close() {\n              controller.close();\n            }\n          })\n        )\n      ]);\n    }\n  });\n}\n\n// src/generate-text/stream-text.ts\nvar originalGenerateId2 = createIdGenerator2({\n  prefix: \"aitxt\",\n  size: 24\n});\nfunction streamText({\n  model,\n  tools,\n  toolChoice,\n  system,\n  prompt,\n  messages,\n  maxRetries,\n  abortSignal,\n  timeout,\n  headers,\n  stopWhen = stepCountIs(1),\n  experimental_output,\n  output = experimental_output,\n  experimental_telemetry: telemetry,\n  prepareStep,\n  providerOptions,\n  experimental_activeTools,\n  activeTools = experimental_activeTools,\n  experimental_repairToolCall: repairToolCall,\n  experimental_transform: transform,\n  experimental_download: download2,\n  includeRawChunks = false,\n  onChunk,\n  onError = ({ error }) => {\n    console.error(error);\n  },\n  onFinish,\n  onAbort,\n  onStepFinish,\n  experimental_context,\n  _internal: { now: now2 = now, generateId: generateId2 = originalGenerateId2 } = {},\n  ...settings\n}) {\n  const totalTimeoutMs = getTotalTimeoutMs(timeout);\n  const stepTimeoutMs = getStepTimeoutMs(timeout);\n  const chunkTimeoutMs = getChunkTimeoutMs(timeout);\n  const stepAbortController = stepTimeoutMs != null ? new AbortController() : void 0;\n  const chunkAbortController = chunkTimeoutMs != null ? new AbortController() : void 0;\n  return new DefaultStreamTextResult({\n    model: resolveLanguageModel(model),\n    telemetry,\n    headers,\n    settings,\n    maxRetries,\n    abortSignal: mergeAbortSignals(\n      abortSignal,\n      totalTimeoutMs != null ? AbortSignal.timeout(totalTimeoutMs) : void 0,\n      stepAbortController == null ? void 0 : stepAbortController.signal,\n      chunkAbortController == null ? void 0 : chunkAbortController.signal\n    ),\n    stepTimeoutMs,\n    stepAbortController,\n    chunkTimeoutMs,\n    chunkAbortController,\n    system,\n    prompt,\n    messages,\n    tools,\n    toolChoice,\n    transforms: asArray(transform),\n    activeTools,\n    repairToolCall,\n    stopConditions: asArray(stopWhen),\n    output,\n    providerOptions,\n    prepareStep,\n    includeRawChunks,\n    onChunk,\n    onError,\n    onFinish,\n    onAbort,\n    onStepFinish,\n    now: now2,\n    generateId: generateId2,\n    experimental_context,\n    download: download2\n  });\n}\nfunction createOutputTransformStream(output) {\n  let firstTextChunkId = void 0;\n  let text2 = \"\";\n  let textChunk = \"\";\n  let textProviderMetadata = void 0;\n  let lastPublishedJson = \"\";\n  function publishTextChunk({\n    controller,\n    partialOutput = void 0\n  }) {\n    controller.enqueue({\n      part: {\n        type: \"text-delta\",\n        id: firstTextChunkId,\n        text: textChunk,\n        providerMetadata: textProviderMetadata\n      },\n      partialOutput\n    });\n    textChunk = \"\";\n  }\n  return new TransformStream({\n    async transform(chunk, controller) {\n      var _a16;\n      if (chunk.type === \"finish-step\" && textChunk.length > 0) {\n        publishTextChunk({ controller });\n      }\n      if (chunk.type !== \"text-delta\" && chunk.type !== \"text-start\" && chunk.type !== \"text-end\") {\n        controller.enqueue({ part: chunk, partialOutput: void 0 });\n        return;\n      }\n      if (firstTextChunkId == null) {\n        firstTextChunkId = chunk.id;\n      } else if (chunk.id !== firstTextChunkId) {\n        controller.enqueue({ part: chunk, partialOutput: void 0 });\n        return;\n      }\n      if (chunk.type === \"text-start\") {\n        controller.enqueue({ part: chunk, partialOutput: void 0 });\n        return;\n      }\n      if (chunk.type === \"text-end\") {\n        if (textChunk.length > 0) {\n          publishTextChunk({ controller });\n        }\n        controller.enqueue({ part: chunk, partialOutput: void 0 });\n        return;\n      }\n      text2 += chunk.text;\n      textChunk += chunk.text;\n      textProviderMetadata = (_a16 = chunk.providerMetadata) != null ? _a16 : textProviderMetadata;\n      const result = await output.parsePartialOutput({ text: text2 });\n      if (result !== void 0) {\n        const currentJson = JSON.stringify(result.partial);\n        if (currentJson !== lastPublishedJson) {\n          publishTextChunk({ controller, partialOutput: result.partial });\n          lastPublishedJson = currentJson;\n        }\n      }\n    }\n  });\n}\nvar DefaultStreamTextResult = class {\n  constructor({\n    model,\n    telemetry,\n    headers,\n    settings,\n    maxRetries: maxRetriesArg,\n    abortSignal,\n    stepTimeoutMs,\n    stepAbortController,\n    chunkTimeoutMs,\n    chunkAbortController,\n    system,\n    prompt,\n    messages,\n    tools,\n    toolChoice,\n    transforms,\n    activeTools,\n    repairToolCall,\n    stopConditions,\n    output,\n    providerOptions,\n    prepareStep,\n    includeRawChunks,\n    now: now2,\n    generateId: generateId2,\n    onChunk,\n    onError,\n    onFinish,\n    onAbort,\n    onStepFinish,\n    experimental_context,\n    download: download2\n  }) {\n    this._totalUsage = new DelayedPromise();\n    this._finishReason = new DelayedPromise();\n    this._rawFinishReason = new DelayedPromise();\n    this._steps = new DelayedPromise();\n    this.outputSpecification = output;\n    this.includeRawChunks = includeRawChunks;\n    this.tools = tools;\n    let stepFinish;\n    let recordedContent = [];\n    const recordedResponseMessages = [];\n    let recordedFinishReason = void 0;\n    let recordedRawFinishReason = void 0;\n    let recordedTotalUsage = void 0;\n    let recordedRequest = {};\n    let recordedWarnings = [];\n    const recordedSteps = [];\n    const pendingDeferredToolCalls = /* @__PURE__ */ new Map();\n    let rootSpan;\n    let activeTextContent = {};\n    let activeReasoningContent = {};\n    const eventProcessor = new TransformStream({\n      async transform(chunk, controller) {\n        var _a16, _b, _c, _d;\n        controller.enqueue(chunk);\n        const { part } = chunk;\n        if (part.type === \"text-delta\" || part.type === \"reasoning-delta\" || part.type === \"source\" || part.type === \"tool-call\" || part.type === \"tool-result\" || part.type === \"tool-input-start\" || part.type === \"tool-input-delta\" || part.type === \"raw\") {\n          await (onChunk == null ? void 0 : onChunk({ chunk: part }));\n        }\n        if (part.type === \"error\") {\n          await onError({ error: wrapGatewayError(part.error) });\n        }\n        if (part.type === \"text-start\") {\n          activeTextContent[part.id] = {\n            type: \"text\",\n            text: \"\",\n            providerMetadata: part.providerMetadata\n          };\n          recordedContent.push(activeTextContent[part.id]);\n        }\n        if (part.type === \"text-delta\") {\n          const activeText = activeTextContent[part.id];\n          if (activeText == null) {\n            controller.enqueue({\n              part: {\n                type: \"error\",\n                error: `text part ${part.id} not found`\n              },\n              partialOutput: void 0\n            });\n            return;\n          }\n          activeText.text += part.text;\n          activeText.providerMetadata = (_a16 = part.providerMetadata) != null ? _a16 : activeText.providerMetadata;\n        }\n        if (part.type === \"text-end\") {\n          const activeText = activeTextContent[part.id];\n          if (activeText == null) {\n            controller.enqueue({\n              part: {\n                type: \"error\",\n                error: `text part ${part.id} not found`\n              },\n              partialOutput: void 0\n            });\n            return;\n          }\n          activeText.providerMetadata = (_b = part.providerMetadata) != null ? _b : activeText.providerMetadata;\n          delete activeTextContent[part.id];\n        }\n        if (part.type === \"reasoning-start\") {\n          activeReasoningContent[part.id] = {\n            type: \"reasoning\",\n            text: \"\",\n            providerMetadata: part.providerMetadata\n          };\n          recordedContent.push(activeReasoningContent[part.id]);\n        }\n        if (part.type === \"reasoning-delta\") {\n          const activeReasoning = activeReasoningContent[part.id];\n          if (activeReasoning == null) {\n            controller.enqueue({\n              part: {\n                type: \"error\",\n                error: `reasoning part ${part.id} not found`\n              },\n              partialOutput: void 0\n            });\n            return;\n          }\n          activeReasoning.text += part.text;\n          activeReasoning.providerMetadata = (_c = part.providerMetadata) != null ? _c : activeReasoning.providerMetadata;\n        }\n        if (part.type === \"reasoning-end\") {\n          const activeReasoning = activeReasoningContent[part.id];\n          if (activeReasoning == null) {\n            controller.enqueue({\n              part: {\n                type: \"error\",\n                error: `reasoning part ${part.id} not found`\n              },\n              partialOutput: void 0\n            });\n            return;\n          }\n          activeReasoning.providerMetadata = (_d = part.providerMetadata) != null ? _d : activeReasoning.providerMetadata;\n          delete activeReasoningContent[part.id];\n        }\n        if (part.type === \"file\") {\n          recordedContent.push({ type: \"file\", file: part.file });\n        }\n        if (part.type === \"source\") {\n          recordedContent.push(part);\n        }\n        if (part.type === \"tool-call\") {\n          recordedContent.push(part);\n        }\n        if (part.type === \"tool-result\" && !part.preliminary) {\n          recordedContent.push(part);\n        }\n        if (part.type === \"tool-approval-request\") {\n          recordedContent.push(part);\n        }\n        if (part.type === \"tool-error\") {\n          recordedContent.push(part);\n        }\n        if (part.type === \"start-step\") {\n          recordedContent = [];\n          activeReasoningContent = {};\n          activeTextContent = {};\n          recordedRequest = part.request;\n          recordedWarnings = part.warnings;\n        }\n        if (part.type === \"finish-step\") {\n          const stepMessages = await toResponseMessages({\n            content: recordedContent,\n            tools\n          });\n          const currentStepResult = new DefaultStepResult({\n            content: recordedContent,\n            finishReason: part.finishReason,\n            rawFinishReason: part.rawFinishReason,\n            usage: part.usage,\n            warnings: recordedWarnings,\n            request: recordedRequest,\n            response: {\n              ...part.response,\n              messages: [...recordedResponseMessages, ...stepMessages]\n            },\n            providerMetadata: part.providerMetadata\n          });\n          await (onStepFinish == null ? void 0 : onStepFinish(currentStepResult));\n          logWarnings({\n            warnings: recordedWarnings,\n            provider: model.provider,\n            model: model.modelId\n          });\n          recordedSteps.push(currentStepResult);\n          recordedResponseMessages.push(...stepMessages);\n          stepFinish.resolve();\n        }\n        if (part.type === \"finish\") {\n          recordedTotalUsage = part.totalUsage;\n          recordedFinishReason = part.finishReason;\n          recordedRawFinishReason = part.rawFinishReason;\n        }\n      },\n      async flush(controller) {\n        try {\n          if (recordedSteps.length === 0) {\n            const error = (abortSignal == null ? void 0 : abortSignal.aborted) ? abortSignal.reason : new NoOutputGeneratedError({\n              message: \"No output generated. Check the stream for errors.\"\n            });\n            self._finishReason.reject(error);\n            self._rawFinishReason.reject(error);\n            self._totalUsage.reject(error);\n            self._steps.reject(error);\n            return;\n          }\n          const finishReason = recordedFinishReason != null ? recordedFinishReason : \"other\";\n          const totalUsage = recordedTotalUsage != null ? recordedTotalUsage : createNullLanguageModelUsage();\n          self._finishReason.resolve(finishReason);\n          self._rawFinishReason.resolve(recordedRawFinishReason);\n          self._totalUsage.resolve(totalUsage);\n          self._steps.resolve(recordedSteps);\n          const finalStep = recordedSteps[recordedSteps.length - 1];\n          await (onFinish == null ? void 0 : onFinish({\n            finishReason: finalStep.finishReason,\n            rawFinishReason: finalStep.rawFinishReason,\n            totalUsage,\n            usage: finalStep.usage,\n            content: finalStep.content,\n            text: finalStep.text,\n            reasoningText: finalStep.reasoningText,\n            reasoning: finalStep.reasoning,\n            files: finalStep.files,\n            sources: finalStep.sources,\n            toolCalls: finalStep.toolCalls,\n            staticToolCalls: finalStep.staticToolCalls,\n            dynamicToolCalls: finalStep.dynamicToolCalls,\n            toolResults: finalStep.toolResults,\n            staticToolResults: finalStep.staticToolResults,\n            dynamicToolResults: finalStep.dynamicToolResults,\n            request: finalStep.request,\n            response: finalStep.response,\n            warnings: finalStep.warnings,\n            providerMetadata: finalStep.providerMetadata,\n            steps: recordedSteps,\n            experimental_context\n          }));\n          rootSpan.setAttributes(\n            await selectTelemetryAttributes({\n              telemetry,\n              attributes: {\n                \"ai.response.finishReason\": finishReason,\n                \"ai.response.text\": { output: () => finalStep.text },\n                \"ai.response.toolCalls\": {\n                  output: () => {\n                    var _a16;\n                    return ((_a16 = finalStep.toolCalls) == null ? void 0 : _a16.length) ? JSON.stringify(finalStep.toolCalls) : void 0;\n                  }\n                },\n                \"ai.response.providerMetadata\": JSON.stringify(\n                  finalStep.providerMetadata\n                ),\n                \"ai.usage.inputTokens\": totalUsage.inputTokens,\n                \"ai.usage.outputTokens\": totalUsage.outputTokens,\n                \"ai.usage.totalTokens\": totalUsage.totalTokens,\n                \"ai.usage.reasoningTokens\": totalUsage.reasoningTokens,\n                \"ai.usage.cachedInputTokens\": totalUsage.cachedInputTokens\n              }\n            })\n          );\n        } catch (error) {\n          controller.error(error);\n        } finally {\n          rootSpan.end();\n        }\n      }\n    });\n    const stitchableStream = createStitchableStream();\n    this.addStream = stitchableStream.addStream;\n    this.closeStream = stitchableStream.close;\n    const reader = stitchableStream.stream.getReader();\n    let stream = new ReadableStream({\n      async start(controller) {\n        controller.enqueue({ type: \"start\" });\n      },\n      async pull(controller) {\n        function abort() {\n          onAbort == null ? void 0 : onAbort({ steps: recordedSteps });\n          controller.enqueue({\n            type: \"abort\",\n            // The `reason` is usually of type DOMException, but it can also be of any type,\n            // so we use getErrorMessage for serialization because it is already designed to accept values of the unknown type.\n            // See: https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal/reason\n            ...(abortSignal == null ? void 0 : abortSignal.reason) !== void 0 ? { reason: getErrorMessage7(abortSignal.reason) } : {}\n          });\n          controller.close();\n        }\n        try {\n          const { done, value } = await reader.read();\n          if (done) {\n            controller.close();\n            return;\n          }\n          if (abortSignal == null ? void 0 : abortSignal.aborted) {\n            abort();\n            return;\n          }\n          controller.enqueue(value);\n        } catch (error) {\n          if (isAbortError2(error) && (abortSignal == null ? void 0 : abortSignal.aborted)) {\n            abort();\n          } else {\n            controller.error(error);\n          }\n        }\n      },\n      cancel(reason) {\n        return stitchableStream.stream.cancel(reason);\n      }\n    });\n    for (const transform of transforms) {\n      stream = stream.pipeThrough(\n        transform({\n          tools,\n          stopStream() {\n            stitchableStream.terminate();\n          }\n        })\n      );\n    }\n    this.baseStream = stream.pipeThrough(createOutputTransformStream(output != null ? output : text())).pipeThrough(eventProcessor);\n    const { maxRetries, retry } = prepareRetries({\n      maxRetries: maxRetriesArg,\n      abortSignal\n    });\n    const tracer = getTracer(telemetry);\n    const callSettings = prepareCallSettings(settings);\n    const baseTelemetryAttributes = getBaseTelemetryAttributes({\n      model,\n      telemetry,\n      headers,\n      settings: { ...callSettings, maxRetries }\n    });\n    const self = this;\n    recordSpan({\n      name: \"ai.streamText\",\n      attributes: selectTelemetryAttributes({\n        telemetry,\n        attributes: {\n          ...assembleOperationName({ operationId: \"ai.streamText\", telemetry }),\n          ...baseTelemetryAttributes,\n          // specific settings that only make sense on the outer level:\n          \"ai.prompt\": {\n            input: () => JSON.stringify({ system, prompt, messages })\n          }\n        }\n      }),\n      tracer,\n      endWhenDone: false,\n      fn: async (rootSpanArg) => {\n        rootSpan = rootSpanArg;\n        const initialPrompt = await standardizePrompt({\n          system,\n          prompt,\n          messages\n        });\n        const initialMessages = initialPrompt.messages;\n        const initialResponseMessages = [];\n        const { approvedToolApprovals, deniedToolApprovals } = collectToolApprovals({ messages: initialMessages });\n        if (deniedToolApprovals.length > 0 || approvedToolApprovals.length > 0) {\n          const providerExecutedToolApprovals = [\n            ...approvedToolApprovals,\n            ...deniedToolApprovals\n          ].filter((toolApproval) => toolApproval.toolCall.providerExecuted);\n          const localApprovedToolApprovals = approvedToolApprovals.filter(\n            (toolApproval) => !toolApproval.toolCall.providerExecuted\n          );\n          const localDeniedToolApprovals = deniedToolApprovals.filter(\n            (toolApproval) => !toolApproval.toolCall.providerExecuted\n          );\n          const deniedProviderExecutedToolApprovals = deniedToolApprovals.filter(\n            (toolApproval) => toolApproval.toolCall.providerExecuted\n          );\n          let toolExecutionStepStreamController;\n          const toolExecutionStepStream = new ReadableStream({\n            start(controller) {\n              toolExecutionStepStreamController = controller;\n            }\n          });\n          self.addStream(toolExecutionStepStream);\n          try {\n            for (const toolApproval of [\n              ...localDeniedToolApprovals,\n              ...deniedProviderExecutedToolApprovals\n            ]) {\n              toolExecutionStepStreamController == null ? void 0 : toolExecutionStepStreamController.enqueue({\n                type: \"tool-output-denied\",\n                toolCallId: toolApproval.toolCall.toolCallId,\n                toolName: toolApproval.toolCall.toolName\n              });\n            }\n            const toolOutputs = [];\n            await Promise.all(\n              localApprovedToolApprovals.map(async (toolApproval) => {\n                const result = await executeToolCall({\n                  toolCall: toolApproval.toolCall,\n                  tools,\n                  tracer,\n                  telemetry,\n                  messages: initialMessages,\n                  abortSignal,\n                  experimental_context,\n                  onPreliminaryToolResult: (result2) => {\n                    toolExecutionStepStreamController == null ? void 0 : toolExecutionStepStreamController.enqueue(result2);\n                  }\n                });\n                if (result != null) {\n                  toolExecutionStepStreamController == null ? void 0 : toolExecutionStepStreamController.enqueue(result);\n                  toolOutputs.push(result);\n                }\n              })\n            );\n            if (providerExecutedToolApprovals.length > 0) {\n              initialResponseMessages.push({\n                role: \"tool\",\n                content: providerExecutedToolApprovals.map(\n                  (toolApproval) => ({\n                    type: \"tool-approval-response\",\n                    approvalId: toolApproval.approvalResponse.approvalId,\n                    approved: toolApproval.approvalResponse.approved,\n                    reason: toolApproval.approvalResponse.reason,\n                    providerExecuted: true\n                  })\n                )\n              });\n            }\n            if (toolOutputs.length > 0 || localDeniedToolApprovals.length > 0) {\n              const localToolContent = [];\n              for (const output2 of toolOutputs) {\n                localToolContent.push({\n                  type: \"tool-result\",\n                  toolCallId: output2.toolCallId,\n                  toolName: output2.toolName,\n                  output: await createToolModelOutput({\n                    toolCallId: output2.toolCallId,\n                    input: output2.input,\n                    tool: tools == null ? void 0 : tools[output2.toolName],\n                    output: output2.type === \"tool-result\" ? output2.output : output2.error,\n                    errorMode: output2.type === \"tool-error\" ? \"json\" : \"none\"\n                  })\n                });\n              }\n              for (const toolApproval of localDeniedToolApprovals) {\n                localToolContent.push({\n                  type: \"tool-result\",\n                  toolCallId: toolApproval.toolCall.toolCallId,\n                  toolName: toolApproval.toolCall.toolName,\n                  output: {\n                    type: \"execution-denied\",\n                    reason: toolApproval.approvalResponse.reason\n                  }\n                });\n              }\n              initialResponseMessages.push({\n                role: \"tool\",\n                content: localToolContent\n              });\n            }\n          } finally {\n            toolExecutionStepStreamController == null ? void 0 : toolExecutionStepStreamController.close();\n          }\n        }\n        recordedResponseMessages.push(...initialResponseMessages);\n        async function streamStep({\n          currentStep,\n          responseMessages,\n          usage\n        }) {\n          var _a16, _b, _c, _d, _e, _f;\n          const includeRawChunks2 = self.includeRawChunks;\n          const stepTimeoutId = stepTimeoutMs != null ? setTimeout(() => stepAbortController.abort(), stepTimeoutMs) : void 0;\n          let chunkTimeoutId = void 0;\n          function resetChunkTimeout() {\n            if (chunkTimeoutMs != null) {\n              if (chunkTimeoutId != null) {\n                clearTimeout(chunkTimeoutId);\n              }\n              chunkTimeoutId = setTimeout(\n                () => chunkAbortController.abort(),\n                chunkTimeoutMs\n              );\n            }\n          }\n          function clearChunkTimeout() {\n            if (chunkTimeoutId != null) {\n              clearTimeout(chunkTimeoutId);\n              chunkTimeoutId = void 0;\n            }\n          }\n          function clearStepTimeout() {\n            if (stepTimeoutId != null) {\n              clearTimeout(stepTimeoutId);\n            }\n          }\n          stepFinish = new DelayedPromise();\n          const stepInputMessages = [...initialMessages, ...responseMessages];\n          const prepareStepResult = await (prepareStep == null ? void 0 : prepareStep({\n            model,\n            steps: recordedSteps,\n            stepNumber: recordedSteps.length,\n            messages: stepInputMessages,\n            experimental_context\n          }));\n          const stepModel = resolveLanguageModel(\n            (_a16 = prepareStepResult == null ? void 0 : prepareStepResult.model) != null ? _a16 : model\n          );\n          const promptMessages = await convertToLanguageModelPrompt({\n            prompt: {\n              system: (_b = prepareStepResult == null ? void 0 : prepareStepResult.system) != null ? _b : initialPrompt.system,\n              messages: (_c = prepareStepResult == null ? void 0 : prepareStepResult.messages) != null ? _c : stepInputMessages\n            },\n            supportedUrls: await stepModel.supportedUrls,\n            download: download2\n          });\n          const { toolChoice: stepToolChoice, tools: stepTools } = await prepareToolsAndToolChoice({\n            tools,\n            toolChoice: (_d = prepareStepResult == null ? void 0 : prepareStepResult.toolChoice) != null ? _d : toolChoice,\n            activeTools: (_e = prepareStepResult == null ? void 0 : prepareStepResult.activeTools) != null ? _e : activeTools\n          });\n          experimental_context = (_f = prepareStepResult == null ? void 0 : prepareStepResult.experimental_context) != null ? _f : experimental_context;\n          const stepProviderOptions = mergeObjects(\n            providerOptions,\n            prepareStepResult == null ? void 0 : prepareStepResult.providerOptions\n          );\n          const {\n            result: { stream: stream2, response, request },\n            doStreamSpan,\n            startTimestampMs\n          } = await retry(\n            () => recordSpan({\n              name: \"ai.streamText.doStream\",\n              attributes: selectTelemetryAttributes({\n                telemetry,\n                attributes: {\n                  ...assembleOperationName({\n                    operationId: \"ai.streamText.doStream\",\n                    telemetry\n                  }),\n                  ...baseTelemetryAttributes,\n                  // model:\n                  \"ai.model.provider\": stepModel.provider,\n                  \"ai.model.id\": stepModel.modelId,\n                  // prompt:\n                  \"ai.prompt.messages\": {\n                    input: () => stringifyForTelemetry(promptMessages)\n                  },\n                  \"ai.prompt.tools\": {\n                    // convert the language model level tools:\n                    input: () => stepTools == null ? void 0 : stepTools.map((tool2) => JSON.stringify(tool2))\n                  },\n                  \"ai.prompt.toolChoice\": {\n                    input: () => stepToolChoice != null ? JSON.stringify(stepToolChoice) : void 0\n                  },\n                  // standardized gen-ai llm span attributes:\n                  \"gen_ai.system\": stepModel.provider,\n                  \"gen_ai.request.model\": stepModel.modelId,\n                  \"gen_ai.request.frequency_penalty\": callSettings.frequencyPenalty,\n                  \"gen_ai.request.max_tokens\": callSettings.maxOutputTokens,\n                  \"gen_ai.request.presence_penalty\": callSettings.presencePenalty,\n                  \"gen_ai.request.stop_sequences\": callSettings.stopSequences,\n                  \"gen_ai.request.temperature\": callSettings.temperature,\n                  \"gen_ai.request.top_k\": callSettings.topK,\n                  \"gen_ai.request.top_p\": callSettings.topP\n                }\n              }),\n              tracer,\n              endWhenDone: false,\n              fn: async (doStreamSpan2) => ({\n                startTimestampMs: now2(),\n                // get before the call\n                doStreamSpan: doStreamSpan2,\n                result: await stepModel.doStream({\n                  ...callSettings,\n                  tools: stepTools,\n                  toolChoice: stepToolChoice,\n                  responseFormat: await (output == null ? void 0 : output.responseFormat),\n                  prompt: promptMessages,\n                  providerOptions: stepProviderOptions,\n                  abortSignal,\n                  headers,\n                  includeRawChunks: includeRawChunks2\n                })\n              })\n            })\n          );\n          const streamWithToolResults = runToolsTransformation({\n            tools,\n            generatorStream: stream2,\n            tracer,\n            telemetry,\n            system,\n            messages: stepInputMessages,\n            repairToolCall,\n            abortSignal,\n            experimental_context,\n            generateId: generateId2\n          });\n          const stepRequest = request != null ? request : {};\n          const stepToolCalls = [];\n          const stepToolOutputs = [];\n          let warnings;\n          const activeToolCallToolNames = {};\n          let stepFinishReason = \"other\";\n          let stepRawFinishReason = void 0;\n          let stepUsage = createNullLanguageModelUsage();\n          let stepProviderMetadata;\n          let stepFirstChunk = true;\n          let stepResponse = {\n            id: generateId2(),\n            timestamp: /* @__PURE__ */ new Date(),\n            modelId: model.modelId\n          };\n          let activeText = \"\";\n          self.addStream(\n            streamWithToolResults.pipeThrough(\n              new TransformStream({\n                async transform(chunk, controller) {\n                  var _a17, _b2, _c2, _d2, _e2;\n                  resetChunkTimeout();\n                  if (chunk.type === \"stream-start\") {\n                    warnings = chunk.warnings;\n                    return;\n                  }\n                  if (stepFirstChunk) {\n                    const msToFirstChunk = now2() - startTimestampMs;\n                    stepFirstChunk = false;\n                    doStreamSpan.addEvent(\"ai.stream.firstChunk\", {\n                      \"ai.response.msToFirstChunk\": msToFirstChunk\n                    });\n                    doStreamSpan.setAttributes({\n                      \"ai.response.msToFirstChunk\": msToFirstChunk\n                    });\n                    controller.enqueue({\n                      type: \"start-step\",\n                      request: stepRequest,\n                      warnings: warnings != null ? warnings : []\n                    });\n                  }\n                  const chunkType = chunk.type;\n                  switch (chunkType) {\n                    case \"tool-approval-request\":\n                    case \"text-start\":\n                    case \"text-end\": {\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"text-delta\": {\n                      if (chunk.delta.length > 0) {\n                        controller.enqueue({\n                          type: \"text-delta\",\n                          id: chunk.id,\n                          text: chunk.delta,\n                          providerMetadata: chunk.providerMetadata\n                        });\n                        activeText += chunk.delta;\n                      }\n                      break;\n                    }\n                    case \"reasoning-start\":\n                    case \"reasoning-end\": {\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"reasoning-delta\": {\n                      controller.enqueue({\n                        type: \"reasoning-delta\",\n                        id: chunk.id,\n                        text: chunk.delta,\n                        providerMetadata: chunk.providerMetadata\n                      });\n                      break;\n                    }\n                    case \"tool-call\": {\n                      controller.enqueue(chunk);\n                      stepToolCalls.push(chunk);\n                      break;\n                    }\n                    case \"tool-result\": {\n                      controller.enqueue(chunk);\n                      if (!chunk.preliminary) {\n                        stepToolOutputs.push(chunk);\n                      }\n                      break;\n                    }\n                    case \"tool-error\": {\n                      controller.enqueue(chunk);\n                      stepToolOutputs.push(chunk);\n                      break;\n                    }\n                    case \"response-metadata\": {\n                      stepResponse = {\n                        id: (_a17 = chunk.id) != null ? _a17 : stepResponse.id,\n                        timestamp: (_b2 = chunk.timestamp) != null ? _b2 : stepResponse.timestamp,\n                        modelId: (_c2 = chunk.modelId) != null ? _c2 : stepResponse.modelId\n                      };\n                      break;\n                    }\n                    case \"finish\": {\n                      stepUsage = chunk.usage;\n                      stepFinishReason = chunk.finishReason;\n                      stepRawFinishReason = chunk.rawFinishReason;\n                      stepProviderMetadata = chunk.providerMetadata;\n                      const msToFinish = now2() - startTimestampMs;\n                      doStreamSpan.addEvent(\"ai.stream.finish\");\n                      doStreamSpan.setAttributes({\n                        \"ai.response.msToFinish\": msToFinish,\n                        \"ai.response.avgOutputTokensPerSecond\": 1e3 * ((_d2 = stepUsage.outputTokens) != null ? _d2 : 0) / msToFinish\n                      });\n                      break;\n                    }\n                    case \"file\": {\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"source\": {\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"tool-input-start\": {\n                      activeToolCallToolNames[chunk.id] = chunk.toolName;\n                      const tool2 = tools == null ? void 0 : tools[chunk.toolName];\n                      if ((tool2 == null ? void 0 : tool2.onInputStart) != null) {\n                        await tool2.onInputStart({\n                          toolCallId: chunk.id,\n                          messages: stepInputMessages,\n                          abortSignal,\n                          experimental_context\n                        });\n                      }\n                      controller.enqueue({\n                        ...chunk,\n                        dynamic: (_e2 = chunk.dynamic) != null ? _e2 : (tool2 == null ? void 0 : tool2.type) === \"dynamic\",\n                        title: tool2 == null ? void 0 : tool2.title\n                      });\n                      break;\n                    }\n                    case \"tool-input-end\": {\n                      delete activeToolCallToolNames[chunk.id];\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"tool-input-delta\": {\n                      const toolName = activeToolCallToolNames[chunk.id];\n                      const tool2 = tools == null ? void 0 : tools[toolName];\n                      if ((tool2 == null ? void 0 : tool2.onInputDelta) != null) {\n                        await tool2.onInputDelta({\n                          inputTextDelta: chunk.delta,\n                          toolCallId: chunk.id,\n                          messages: stepInputMessages,\n                          abortSignal,\n                          experimental_context\n                        });\n                      }\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"error\": {\n                      controller.enqueue(chunk);\n                      stepFinishReason = \"error\";\n                      break;\n                    }\n                    case \"raw\": {\n                      if (includeRawChunks2) {\n                        controller.enqueue(chunk);\n                      }\n                      break;\n                    }\n                    default: {\n                      const exhaustiveCheck = chunkType;\n                      throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);\n                    }\n                  }\n                },\n                // invoke onFinish callback and resolve toolResults promise when the stream is about to close:\n                async flush(controller) {\n                  const stepToolCallsJson = stepToolCalls.length > 0 ? JSON.stringify(stepToolCalls) : void 0;\n                  try {\n                    doStreamSpan.setAttributes(\n                      await selectTelemetryAttributes({\n                        telemetry,\n                        attributes: {\n                          \"ai.response.finishReason\": stepFinishReason,\n                          \"ai.response.text\": {\n                            output: () => activeText\n                          },\n                          \"ai.response.toolCalls\": {\n                            output: () => stepToolCallsJson\n                          },\n                          \"ai.response.id\": stepResponse.id,\n                          \"ai.response.model\": stepResponse.modelId,\n                          \"ai.response.timestamp\": stepResponse.timestamp.toISOString(),\n                          \"ai.response.providerMetadata\": JSON.stringify(stepProviderMetadata),\n                          \"ai.usage.inputTokens\": stepUsage.inputTokens,\n                          \"ai.usage.outputTokens\": stepUsage.outputTokens,\n                          \"ai.usage.totalTokens\": stepUsage.totalTokens,\n                          \"ai.usage.reasoningTokens\": stepUsage.reasoningTokens,\n                          \"ai.usage.cachedInputTokens\": stepUsage.cachedInputTokens,\n                          // standardized gen-ai llm span attributes:\n                          \"gen_ai.response.finish_reasons\": [stepFinishReason],\n                          \"gen_ai.response.id\": stepResponse.id,\n                          \"gen_ai.response.model\": stepResponse.modelId,\n                          \"gen_ai.usage.input_tokens\": stepUsage.inputTokens,\n                          \"gen_ai.usage.output_tokens\": stepUsage.outputTokens\n                        }\n                      })\n                    );\n                  } catch (error) {\n                  } finally {\n                    doStreamSpan.end();\n                  }\n                  controller.enqueue({\n                    type: \"finish-step\",\n                    finishReason: stepFinishReason,\n                    rawFinishReason: stepRawFinishReason,\n                    usage: stepUsage,\n                    providerMetadata: stepProviderMetadata,\n                    response: {\n                      ...stepResponse,\n                      headers: response == null ? void 0 : response.headers\n                    }\n                  });\n                  const combinedUsage = addLanguageModelUsage(usage, stepUsage);\n                  await stepFinish.promise;\n                  const clientToolCalls = stepToolCalls.filter(\n                    (toolCall) => toolCall.providerExecuted !== true\n                  );\n                  const clientToolOutputs = stepToolOutputs.filter(\n                    (toolOutput) => toolOutput.providerExecuted !== true\n                  );\n                  for (const toolCall of stepToolCalls) {\n                    if (toolCall.providerExecuted !== true)\n                      continue;\n                    const tool2 = tools == null ? void 0 : tools[toolCall.toolName];\n                    if ((tool2 == null ? void 0 : tool2.type) === \"provider\" && tool2.supportsDeferredResults) {\n                      const hasResultInStep = stepToolOutputs.some(\n                        (output2) => output2.type === \"tool-result\" && output2.toolCallId === toolCall.toolCallId\n                      );\n                      if (!hasResultInStep) {\n                        pendingDeferredToolCalls.set(toolCall.toolCallId, {\n                          toolName: toolCall.toolName\n                        });\n                      }\n                    }\n                  }\n                  for (const output2 of stepToolOutputs) {\n                    if (output2.type === \"tool-result\") {\n                      pendingDeferredToolCalls.delete(output2.toolCallId);\n                    }\n                  }\n                  clearStepTimeout();\n                  clearChunkTimeout();\n                  if (\n                    // Continue if:\n                    // 1. There are client tool calls that have all been executed, OR\n                    // 2. There are pending deferred results from provider-executed tools\n                    (clientToolCalls.length > 0 && clientToolOutputs.length === clientToolCalls.length || pendingDeferredToolCalls.size > 0) && // continue until a stop condition is met:\n                    !await isStopConditionMet({\n                      stopConditions,\n                      steps: recordedSteps\n                    })\n                  ) {\n                    responseMessages.push(\n                      ...await toResponseMessages({\n                        content: (\n                          // use transformed content to create the messages for the next step:\n                          recordedSteps[recordedSteps.length - 1].content\n                        ),\n                        tools\n                      })\n                    );\n                    try {\n                      await streamStep({\n                        currentStep: currentStep + 1,\n                        responseMessages,\n                        usage: combinedUsage\n                      });\n                    } catch (error) {\n                      controller.enqueue({\n                        type: \"error\",\n                        error\n                      });\n                      self.closeStream();\n                    }\n                  } else {\n                    controller.enqueue({\n                      type: \"finish\",\n                      finishReason: stepFinishReason,\n                      rawFinishReason: stepRawFinishReason,\n                      totalUsage: combinedUsage\n                    });\n                    self.closeStream();\n                  }\n                }\n              })\n            )\n          );\n        }\n        await streamStep({\n          currentStep: 0,\n          responseMessages: initialResponseMessages,\n          usage: createNullLanguageModelUsage()\n        });\n      }\n    }).catch((error) => {\n      self.addStream(\n        new ReadableStream({\n          start(controller) {\n            controller.enqueue({ type: \"error\", error });\n            controller.close();\n          }\n        })\n      );\n      self.closeStream();\n    });\n  }\n  get steps() {\n    this.consumeStream();\n    return this._steps.promise;\n  }\n  get finalStep() {\n    return this.steps.then((steps) => steps[steps.length - 1]);\n  }\n  get content() {\n    return this.finalStep.then((step) => step.content);\n  }\n  get warnings() {\n    return this.finalStep.then((step) => step.warnings);\n  }\n  get providerMetadata() {\n    return this.finalStep.then((step) => step.providerMetadata);\n  }\n  get text() {\n    return this.finalStep.then((step) => step.text);\n  }\n  get reasoningText() {\n    return this.finalStep.then((step) => step.reasoningText);\n  }\n  get reasoning() {\n    return this.finalStep.then((step) => step.reasoning);\n  }\n  get sources() {\n    return this.finalStep.then((step) => step.sources);\n  }\n  get files() {\n    return this.finalStep.then((step) => step.files);\n  }\n  get toolCalls() {\n    return this.finalStep.then((step) => step.toolCalls);\n  }\n  get staticToolCalls() {\n    return this.finalStep.then((step) => step.staticToolCalls);\n  }\n  get dynamicToolCalls() {\n    return this.finalStep.then((step) => step.dynamicToolCalls);\n  }\n  get toolResults() {\n    return this.finalStep.then((step) => step.toolResults);\n  }\n  get staticToolResults() {\n    return this.finalStep.then((step) => step.staticToolResults);\n  }\n  get dynamicToolResults() {\n    return this.finalStep.then((step) => step.dynamicToolResults);\n  }\n  get usage() {\n    return this.finalStep.then((step) => step.usage);\n  }\n  get request() {\n    return this.finalStep.then((step) => step.request);\n  }\n  get response() {\n    return this.finalStep.then((step) => step.response);\n  }\n  get totalUsage() {\n    this.consumeStream();\n    return this._totalUsage.promise;\n  }\n  get finishReason() {\n    this.consumeStream();\n    return this._finishReason.promise;\n  }\n  get rawFinishReason() {\n    this.consumeStream();\n    return this._rawFinishReason.promise;\n  }\n  /**\n  Split out a new stream from the original stream.\n  The original stream is replaced to allow for further splitting,\n  since we do not know how many times the stream will be split.\n  \n  Note: this leads to buffering the stream content on the server.\n  However, the LLM results are expected to be small enough to not cause issues.\n     */\n  teeStream() {\n    const [stream1, stream2] = this.baseStream.tee();\n    this.baseStream = stream2;\n    return stream1;\n  }\n  get textStream() {\n    return createAsyncIterableStream(\n      this.teeStream().pipeThrough(\n        new TransformStream({\n          transform({ part }, controller) {\n            if (part.type === \"text-delta\") {\n              controller.enqueue(part.text);\n            }\n          }\n        })\n      )\n    );\n  }\n  get fullStream() {\n    return createAsyncIterableStream(\n      this.teeStream().pipeThrough(\n        new TransformStream({\n          transform({ part }, controller) {\n            controller.enqueue(part);\n          }\n        })\n      )\n    );\n  }\n  async consumeStream(options) {\n    var _a16;\n    try {\n      await consumeStream({\n        stream: this.fullStream,\n        onError: options == null ? void 0 : options.onError\n      });\n    } catch (error) {\n      (_a16 = options == null ? void 0 : options.onError) == null ? void 0 : _a16.call(options, error);\n    }\n  }\n  get experimental_partialOutputStream() {\n    return this.partialOutputStream;\n  }\n  get partialOutputStream() {\n    return createAsyncIterableStream(\n      this.teeStream().pipeThrough(\n        new TransformStream({\n          transform({ partialOutput }, controller) {\n            if (partialOutput != null) {\n              controller.enqueue(partialOutput);\n            }\n          }\n        })\n      )\n    );\n  }\n  get elementStream() {\n    var _a16, _b, _c;\n    const transform = (_a16 = this.outputSpecification) == null ? void 0 : _a16.createElementStreamTransform();\n    if (transform == null) {\n      throw new UnsupportedFunctionalityError2({\n        functionality: `element streams in ${(_c = (_b = this.outputSpecification) == null ? void 0 : _b.name) != null ? _c : \"text\"} mode`\n      });\n    }\n    return createAsyncIterableStream(this.teeStream().pipeThrough(transform));\n  }\n  get output() {\n    return this.finalStep.then((step) => {\n      var _a16;\n      const output = (_a16 = this.outputSpecification) != null ? _a16 : text();\n      return output.parseCompleteOutput(\n        { text: step.text },\n        {\n          response: step.response,\n          usage: step.usage,\n          finishReason: step.finishReason\n        }\n      );\n    });\n  }\n  toUIMessageStream({\n    originalMessages,\n    generateMessageId,\n    onFinish,\n    messageMetadata,\n    sendReasoning = true,\n    sendSources = false,\n    sendStart = true,\n    sendFinish = true,\n    onError = getErrorMessage7\n  } = {}) {\n    const responseMessageId = generateMessageId != null ? getResponseUIMessageId({\n      originalMessages,\n      responseMessageId: generateMessageId\n    }) : void 0;\n    const isDynamic = (part) => {\n      var _a16;\n      const tool2 = (_a16 = this.tools) == null ? void 0 : _a16[part.toolName];\n      if (tool2 == null) {\n        return part.dynamic;\n      }\n      return (tool2 == null ? void 0 : tool2.type) === \"dynamic\" ? true : void 0;\n    };\n    const baseStream = this.fullStream.pipeThrough(\n      new TransformStream({\n        transform: async (part, controller) => {\n          const messageMetadataValue = messageMetadata == null ? void 0 : messageMetadata({ part });\n          const partType = part.type;\n          switch (partType) {\n            case \"text-start\": {\n              controller.enqueue({\n                type: \"text-start\",\n                id: part.id,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"text-delta\": {\n              controller.enqueue({\n                type: \"text-delta\",\n                id: part.id,\n                delta: part.text,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"text-end\": {\n              controller.enqueue({\n                type: \"text-end\",\n                id: part.id,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"reasoning-start\": {\n              controller.enqueue({\n                type: \"reasoning-start\",\n                id: part.id,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"reasoning-delta\": {\n              if (sendReasoning) {\n                controller.enqueue({\n                  type: \"reasoning-delta\",\n                  id: part.id,\n                  delta: part.text,\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n                });\n              }\n              break;\n            }\n            case \"reasoning-end\": {\n              controller.enqueue({\n                type: \"reasoning-end\",\n                id: part.id,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"file\": {\n              controller.enqueue({\n                type: \"file\",\n                mediaType: part.file.mediaType,\n                url: `data:${part.file.mediaType};base64,${part.file.base64}`\n              });\n              break;\n            }\n            case \"source\": {\n              if (sendSources && part.sourceType === \"url\") {\n                controller.enqueue({\n                  type: \"source-url\",\n                  sourceId: part.id,\n                  url: part.url,\n                  title: part.title,\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n                });\n              }\n              if (sendSources && part.sourceType === \"document\") {\n                controller.enqueue({\n                  type: \"source-document\",\n                  sourceId: part.id,\n                  mediaType: part.mediaType,\n                  title: part.title,\n                  filename: part.filename,\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n                });\n              }\n              break;\n            }\n            case \"tool-input-start\": {\n              const dynamic = isDynamic(part);\n              controller.enqueue({\n                type: \"tool-input-start\",\n                toolCallId: part.id,\n                toolName: part.toolName,\n                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                ...dynamic != null ? { dynamic } : {},\n                ...part.title != null ? { title: part.title } : {}\n              });\n              break;\n            }\n            case \"tool-input-delta\": {\n              controller.enqueue({\n                type: \"tool-input-delta\",\n                toolCallId: part.id,\n                inputTextDelta: part.delta\n              });\n              break;\n            }\n            case \"tool-call\": {\n              const dynamic = isDynamic(part);\n              if (part.invalid) {\n                controller.enqueue({\n                  type: \"tool-input-error\",\n                  toolCallId: part.toolCallId,\n                  toolName: part.toolName,\n                  input: part.input,\n                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},\n                  ...dynamic != null ? { dynamic } : {},\n                  errorText: onError(part.error),\n                  ...part.title != null ? { title: part.title } : {}\n                });\n              } else {\n                controller.enqueue({\n                  type: \"tool-input-available\",\n                  toolCallId: part.toolCallId,\n                  toolName: part.toolName,\n                  input: part.input,\n                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},\n                  ...dynamic != null ? { dynamic } : {},\n                  ...part.title != null ? { title: part.title } : {}\n                });\n              }\n              break;\n            }\n            case \"tool-approval-request\": {\n              controller.enqueue({\n                type: \"tool-approval-request\",\n                approvalId: part.approvalId,\n                toolCallId: part.toolCall.toolCallId\n              });\n              break;\n            }\n            case \"tool-result\": {\n              const dynamic = isDynamic(part);\n              controller.enqueue({\n                type: \"tool-output-available\",\n                toolCallId: part.toolCallId,\n                output: part.output,\n                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                ...part.preliminary != null ? { preliminary: part.preliminary } : {},\n                ...dynamic != null ? { dynamic } : {}\n              });\n              break;\n            }\n            case \"tool-error\": {\n              const dynamic = isDynamic(part);\n              controller.enqueue({\n                type: \"tool-output-error\",\n                toolCallId: part.toolCallId,\n                errorText: onError(part.error),\n                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                ...dynamic != null ? { dynamic } : {}\n              });\n              break;\n            }\n            case \"tool-output-denied\": {\n              controller.enqueue({\n                type: \"tool-output-denied\",\n                toolCallId: part.toolCallId\n              });\n              break;\n            }\n            case \"error\": {\n              controller.enqueue({\n                type: \"error\",\n                errorText: onError(part.error)\n              });\n              break;\n            }\n            case \"start-step\": {\n              controller.enqueue({ type: \"start-step\" });\n              break;\n            }\n            case \"finish-step\": {\n              controller.enqueue({ type: \"finish-step\" });\n              break;\n            }\n            case \"start\": {\n              if (sendStart) {\n                controller.enqueue({\n                  type: \"start\",\n                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {},\n                  ...responseMessageId != null ? { messageId: responseMessageId } : {}\n                });\n              }\n              break;\n            }\n            case \"finish\": {\n              if (sendFinish) {\n                controller.enqueue({\n                  type: \"finish\",\n                  finishReason: part.finishReason,\n                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {}\n                });\n              }\n              break;\n            }\n            case \"abort\": {\n              controller.enqueue(part);\n              break;\n            }\n            case \"tool-input-end\": {\n              break;\n            }\n            case \"raw\": {\n              break;\n            }\n            default: {\n              const exhaustiveCheck = partType;\n              throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);\n            }\n          }\n          if (messageMetadataValue != null && partType !== \"start\" && partType !== \"finish\") {\n            controller.enqueue({\n              type: \"message-metadata\",\n              messageMetadata: messageMetadataValue\n            });\n          }\n        }\n      })\n    );\n    return createAsyncIterableStream(\n      handleUIMessageStreamFinish({\n        stream: baseStream,\n        messageId: responseMessageId != null ? responseMessageId : generateMessageId == null ? void 0 : generateMessageId(),\n        originalMessages,\n        onFinish,\n        onError\n      })\n    );\n  }\n  pipeUIMessageStreamToResponse(response, {\n    originalMessages,\n    generateMessageId,\n    onFinish,\n    messageMetadata,\n    sendReasoning,\n    sendSources,\n    sendFinish,\n    sendStart,\n    onError,\n    ...init\n  } = {}) {\n    pipeUIMessageStreamToResponse({\n      response,\n      stream: this.toUIMessageStream({\n        originalMessages,\n        generateMessageId,\n        onFinish,\n        messageMetadata,\n        sendReasoning,\n        sendSources,\n        sendFinish,\n        sendStart,\n        onError\n      }),\n      ...init\n    });\n  }\n  pipeTextStreamToResponse(response, init) {\n    pipeTextStreamToResponse({\n      response,\n      textStream: this.textStream,\n      ...init\n    });\n  }\n  toUIMessageStreamResponse({\n    originalMessages,\n    generateMessageId,\n    onFinish,\n    messageMetadata,\n    sendReasoning,\n    sendSources,\n    sendFinish,\n    sendStart,\n    onError,\n    ...init\n  } = {}) {\n    return createUIMessageStreamResponse({\n      stream: this.toUIMessageStream({\n        originalMessages,\n        generateMessageId,\n        onFinish,\n        messageMetadata,\n        sendReasoning,\n        sendSources,\n        sendFinish,\n        sendStart,\n        onError\n      }),\n      ...init\n    });\n  }\n  toTextStreamResponse(init) {\n    return createTextStreamResponse({\n      textStream: this.textStream,\n      ...init\n    });\n  }\n};\n\n// src/agent/tool-loop-agent.ts\nvar ToolLoopAgent = class {\n  constructor(settings) {\n    this.version = \"agent-v1\";\n    this.settings = settings;\n  }\n  /**\n   * The id of the agent.\n   */\n  get id() {\n    return this.settings.id;\n  }\n  /**\n   * The tools that the agent can use.\n   */\n  get tools() {\n    return this.settings.tools;\n  }\n  async prepareCall(options) {\n    var _a16, _b, _c, _d;\n    const baseCallArgs = {\n      ...this.settings,\n      stopWhen: (_a16 = this.settings.stopWhen) != null ? _a16 : stepCountIs(20),\n      ...options\n    };\n    const preparedCallArgs = (_d = await ((_c = (_b = this.settings).prepareCall) == null ? void 0 : _c.call(_b, baseCallArgs))) != null ? _d : baseCallArgs;\n    const { instructions, messages, prompt, ...callArgs } = preparedCallArgs;\n    return {\n      ...callArgs,\n      // restore prompt types\n      ...{ system: instructions, messages, prompt }\n    };\n  }\n  /**\n   * Generates an output from the agent (non-streaming).\n   */\n  async generate({\n    abortSignal,\n    timeout,\n    ...options\n  }) {\n    return generateText({\n      ...await this.prepareCall(options),\n      abortSignal,\n      timeout\n    });\n  }\n  /**\n   * Streams an output from the agent (streaming).\n   */\n  async stream({\n    abortSignal,\n    timeout,\n    experimental_transform,\n    ...options\n  }) {\n    return streamText({\n      ...await this.prepareCall(options),\n      abortSignal,\n      timeout,\n      experimental_transform\n    });\n  }\n};\n\n// src/ui-message-stream/create-ui-message-stream.ts\nimport {\n  generateId as generateIdFunc,\n  getErrorMessage as getErrorMessage8\n} from \"@ai-sdk/provider-utils\";\nfunction createUIMessageStream({\n  execute,\n  onError = getErrorMessage8,\n  originalMessages,\n  onFinish,\n  generateId: generateId2 = generateIdFunc\n}) {\n  let controller;\n  const ongoingStreamPromises = [];\n  const stream = new ReadableStream({\n    start(controllerArg) {\n      controller = controllerArg;\n    }\n  });\n  function safeEnqueue(data) {\n    try {\n      controller.enqueue(data);\n    } catch (error) {\n    }\n  }\n  try {\n    const result = execute({\n      writer: {\n        write(part) {\n          safeEnqueue(part);\n        },\n        merge(streamArg) {\n          ongoingStreamPromises.push(\n            (async () => {\n              const reader = streamArg.getReader();\n              while (true) {\n                const { done, value } = await reader.read();\n                if (done)\n                  break;\n                safeEnqueue(value);\n              }\n            })().catch((error) => {\n              safeEnqueue({\n                type: \"error\",\n                errorText: onError(error)\n              });\n            })\n          );\n        },\n        onError\n      }\n    });\n    if (result) {\n      ongoingStreamPromises.push(\n        result.catch((error) => {\n          safeEnqueue({\n            type: \"error\",\n            errorText: onError(error)\n          });\n        })\n      );\n    }\n  } catch (error) {\n    safeEnqueue({\n      type: \"error\",\n      errorText: onError(error)\n    });\n  }\n  const waitForStreams = new Promise(async (resolve3) => {\n    while (ongoingStreamPromises.length > 0) {\n      await ongoingStreamPromises.shift();\n    }\n    resolve3();\n  });\n  waitForStreams.finally(() => {\n    try {\n      controller.close();\n    } catch (error) {\n    }\n  });\n  return handleUIMessageStreamFinish({\n    stream,\n    messageId: generateId2(),\n    originalMessages,\n    onFinish,\n    onError\n  });\n}\n\n// src/ui-message-stream/read-ui-message-stream.ts\nfunction readUIMessageStream({\n  message,\n  stream,\n  onError,\n  terminateOnError = false\n}) {\n  var _a16;\n  let controller;\n  let hasErrored = false;\n  const outputStream = new ReadableStream({\n    start(controllerParam) {\n      controller = controllerParam;\n    }\n  });\n  const state = createStreamingUIMessageState({\n    messageId: (_a16 = message == null ? void 0 : message.id) != null ? _a16 : \"\",\n    lastMessage: message\n  });\n  const handleError = (error) => {\n    onError == null ? void 0 : onError(error);\n    if (!hasErrored && terminateOnError) {\n      hasErrored = true;\n      controller == null ? void 0 : controller.error(error);\n    }\n  };\n  consumeStream({\n    stream: processUIMessageStream({\n      stream,\n      runUpdateMessageJob(job) {\n        return job({\n          state,\n          write: () => {\n            controller == null ? void 0 : controller.enqueue(structuredClone(state.message));\n          }\n        });\n      },\n      onError: handleError\n    }),\n    onError: handleError\n  }).finally(() => {\n    if (!hasErrored) {\n      controller == null ? void 0 : controller.close();\n    }\n  });\n  return createAsyncIterableStream(outputStream);\n}\n\n// src/ui/convert-to-model-messages.ts\nimport {\n  isNonNullable\n} from \"@ai-sdk/provider-utils\";\nasync function convertToModelMessages(messages, options) {\n  const modelMessages = [];\n  if (options == null ? void 0 : options.ignoreIncompleteToolCalls) {\n    messages = messages.map((message) => ({\n      ...message,\n      parts: message.parts.filter(\n        (part) => !isToolUIPart(part) || part.state !== \"input-streaming\" && part.state !== \"input-available\"\n      )\n    }));\n  }\n  for (const message of messages) {\n    switch (message.role) {\n      case \"system\": {\n        const textParts = message.parts.filter(\n          (part) => part.type === \"text\"\n        );\n        const providerMetadata = textParts.reduce((acc, part) => {\n          if (part.providerMetadata != null) {\n            return { ...acc, ...part.providerMetadata };\n          }\n          return acc;\n        }, {});\n        modelMessages.push({\n          role: \"system\",\n          content: textParts.map((part) => part.text).join(\"\"),\n          ...Object.keys(providerMetadata).length > 0 ? { providerOptions: providerMetadata } : {}\n        });\n        break;\n      }\n      case \"user\": {\n        modelMessages.push({\n          role: \"user\",\n          content: message.parts.map((part) => {\n            var _a16;\n            if (isTextUIPart(part)) {\n              return {\n                type: \"text\",\n                text: part.text,\n                ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}\n              };\n            }\n            if (isFileUIPart(part)) {\n              return {\n                type: \"file\",\n                mediaType: part.mediaType,\n                filename: part.filename,\n                data: part.url,\n                ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}\n              };\n            }\n            if (isDataUIPart(part)) {\n              return (_a16 = options == null ? void 0 : options.convertDataPart) == null ? void 0 : _a16.call(\n                options,\n                part\n              );\n            }\n          }).filter(isNonNullable)\n        });\n        break;\n      }\n      case \"assistant\": {\n        if (message.parts != null) {\n          let block = [];\n          async function processBlock() {\n            var _a16, _b, _c, _d, _e, _f;\n            if (block.length === 0) {\n              return;\n            }\n            const content = [];\n            for (const part of block) {\n              if (isTextUIPart(part)) {\n                content.push({\n                  type: \"text\",\n                  text: part.text,\n                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}\n                });\n              } else if (isFileUIPart(part)) {\n                content.push({\n                  type: \"file\",\n                  mediaType: part.mediaType,\n                  filename: part.filename,\n                  data: part.url\n                });\n              } else if (isReasoningUIPart(part)) {\n                content.push({\n                  type: \"reasoning\",\n                  text: part.text,\n                  providerOptions: part.providerMetadata\n                });\n              } else if (isToolUIPart(part)) {\n                const toolName = getToolName(part);\n                if (part.state !== \"input-streaming\") {\n                  content.push({\n                    type: \"tool-call\",\n                    toolCallId: part.toolCallId,\n                    toolName,\n                    input: part.state === \"output-error\" ? (_a16 = part.input) != null ? _a16 : \"rawInput\" in part ? part.rawInput : void 0 : part.input,\n                    providerExecuted: part.providerExecuted,\n                    ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}\n                  });\n                  if (part.approval != null) {\n                    content.push({\n                      type: \"tool-approval-request\",\n                      approvalId: part.approval.id,\n                      toolCallId: part.toolCallId\n                    });\n                  }\n                  if (part.providerExecuted === true && part.state !== \"approval-responded\" && (part.state === \"output-available\" || part.state === \"output-error\")) {\n                    content.push({\n                      type: \"tool-result\",\n                      toolCallId: part.toolCallId,\n                      toolName,\n                      output: await createToolModelOutput({\n                        toolCallId: part.toolCallId,\n                        input: part.input,\n                        output: part.state === \"output-error\" ? part.errorText : part.output,\n                        tool: (_b = options == null ? void 0 : options.tools) == null ? void 0 : _b[toolName],\n                        errorMode: part.state === \"output-error\" ? \"json\" : \"none\"\n                      }),\n                      ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}\n                    });\n                  }\n                }\n              } else if (isDataUIPart(part)) {\n                const dataPart = (_c = options == null ? void 0 : options.convertDataPart) == null ? void 0 : _c.call(\n                  options,\n                  part\n                );\n                if (dataPart != null) {\n                  content.push(dataPart);\n                }\n              } else {\n                const _exhaustiveCheck = part;\n                throw new Error(`Unsupported part: ${_exhaustiveCheck}`);\n              }\n            }\n            modelMessages.push({\n              role: \"assistant\",\n              content\n            });\n            const toolParts = block.filter(\n              (part) => {\n                var _a17;\n                return isToolUIPart(part) && (part.providerExecuted !== true || ((_a17 = part.approval) == null ? void 0 : _a17.approved) != null);\n              }\n            );\n            if (toolParts.length > 0) {\n              {\n                const content2 = [];\n                for (const toolPart of toolParts) {\n                  if (((_d = toolPart.approval) == null ? void 0 : _d.approved) != null) {\n                    content2.push({\n                      type: \"tool-approval-response\",\n                      approvalId: toolPart.approval.id,\n                      approved: toolPart.approval.approved,\n                      reason: toolPart.approval.reason,\n                      providerExecuted: toolPart.providerExecuted\n                    });\n                  }\n                  if (toolPart.providerExecuted === true) {\n                    continue;\n                  }\n                  switch (toolPart.state) {\n                    case \"output-denied\": {\n                      content2.push({\n                        type: \"tool-result\",\n                        toolCallId: toolPart.toolCallId,\n                        toolName: getToolName(toolPart),\n                        output: {\n                          type: \"error-text\",\n                          value: (_e = toolPart.approval.reason) != null ? _e : \"Tool execution denied.\"\n                        },\n                        ...toolPart.callProviderMetadata != null ? { providerOptions: toolPart.callProviderMetadata } : {}\n                      });\n                      break;\n                    }\n                    case \"output-error\":\n                    case \"output-available\": {\n                      const toolName = getToolName(toolPart);\n                      content2.push({\n                        type: \"tool-result\",\n                        toolCallId: toolPart.toolCallId,\n                        toolName,\n                        output: await createToolModelOutput({\n                          toolCallId: toolPart.toolCallId,\n                          input: toolPart.input,\n                          output: toolPart.state === \"output-error\" ? toolPart.errorText : toolPart.output,\n                          tool: (_f = options == null ? void 0 : options.tools) == null ? void 0 : _f[toolName],\n                          errorMode: toolPart.state === \"output-error\" ? \"text\" : \"none\"\n                        }),\n                        ...toolPart.callProviderMetadata != null ? { providerOptions: toolPart.callProviderMetadata } : {}\n                      });\n                      break;\n                    }\n                  }\n                }\n                if (content2.length > 0) {\n                  modelMessages.push({\n                    role: \"tool\",\n                    content: content2\n                  });\n                }\n              }\n            }\n            block = [];\n          }\n          for (const part of message.parts) {\n            if (isTextUIPart(part) || isReasoningUIPart(part) || isFileUIPart(part) || isToolUIPart(part) || isDataUIPart(part)) {\n              block.push(part);\n            } else if (part.type === \"step-start\") {\n              await processBlock();\n            }\n          }\n          await processBlock();\n          break;\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = message.role;\n        throw new MessageConversionError({\n          originalMessage: message,\n          message: `Unsupported role: ${_exhaustiveCheck}`\n        });\n      }\n    }\n  }\n  return modelMessages;\n}\n\n// src/ui/validate-ui-messages.ts\nimport { TypeValidationError as TypeValidationError3 } from \"@ai-sdk/provider\";\nimport {\n  lazySchema as lazySchema2,\n  validateTypes as validateTypes2,\n  zodSchema as zodSchema2\n} from \"@ai-sdk/provider-utils\";\nimport { z as z8 } from \"zod/v4\";\nvar uiMessagesSchema = lazySchema2(\n  () => zodSchema2(\n    z8.array(\n      z8.object({\n        id: z8.string(),\n        role: z8.enum([\"system\", \"user\", \"assistant\"]),\n        metadata: z8.unknown().optional(),\n        parts: z8.array(\n          z8.union([\n            z8.object({\n              type: z8.literal(\"text\"),\n              text: z8.string(),\n              state: z8.enum([\"streaming\", \"done\"]).optional(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"reasoning\"),\n              text: z8.string(),\n              state: z8.enum([\"streaming\", \"done\"]).optional(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"source-url\"),\n              sourceId: z8.string(),\n              url: z8.string(),\n              title: z8.string().optional(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"source-document\"),\n              sourceId: z8.string(),\n              mediaType: z8.string(),\n              title: z8.string(),\n              filename: z8.string().optional(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"file\"),\n              mediaType: z8.string(),\n              filename: z8.string().optional(),\n              url: z8.string(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"step-start\")\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"data-\"),\n              id: z8.string().optional(),\n              data: z8.unknown()\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"input-streaming\"),\n              input: z8.unknown().optional(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              approval: z8.never().optional()\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"input-available\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.never().optional()\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"approval-requested\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.never().optional(),\n                reason: z8.never().optional()\n              })\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"approval-responded\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.boolean(),\n                reason: z8.string().optional()\n              })\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-available\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.unknown(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              preliminary: z8.boolean().optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.literal(true),\n                reason: z8.string().optional()\n              }).optional()\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-error\"),\n              input: z8.unknown(),\n              rawInput: z8.unknown().optional(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.string(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.literal(true),\n                reason: z8.string().optional()\n              }).optional()\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-denied\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.literal(false),\n                reason: z8.string().optional()\n              })\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"input-streaming\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              approval: z8.never().optional()\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"input-available\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.never().optional()\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"approval-requested\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.never().optional(),\n                reason: z8.never().optional()\n              })\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"approval-responded\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.boolean(),\n                reason: z8.string().optional()\n              })\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-available\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown(),\n              output: z8.unknown(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              preliminary: z8.boolean().optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.literal(true),\n                reason: z8.string().optional()\n              }).optional()\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-error\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown(),\n              rawInput: z8.unknown().optional(),\n              output: z8.never().optional(),\n              errorText: z8.string(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.literal(true),\n                reason: z8.string().optional()\n              }).optional()\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-denied\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.literal(false),\n                reason: z8.string().optional()\n              })\n            })\n          ])\n        ).nonempty(\"Message must contain at least one part\")\n      })\n    ).nonempty(\"Messages array must not be empty\")\n  )\n);\nasync function safeValidateUIMessages({\n  messages,\n  metadataSchema,\n  dataSchemas,\n  tools\n}) {\n  try {\n    if (messages == null) {\n      return {\n        success: false,\n        error: new InvalidArgumentError({\n          parameter: \"messages\",\n          value: messages,\n          message: \"messages parameter must be provided\"\n        })\n      };\n    }\n    const validatedMessages = await validateTypes2({\n      value: messages,\n      schema: uiMessagesSchema\n    });\n    if (metadataSchema) {\n      for (const message of validatedMessages) {\n        await validateTypes2({\n          value: message.metadata,\n          schema: metadataSchema\n        });\n      }\n    }\n    if (dataSchemas) {\n      for (const message of validatedMessages) {\n        const dataParts = message.parts.filter(\n          (part) => part.type.startsWith(\"data-\")\n        );\n        for (const dataPart of dataParts) {\n          const dataName = dataPart.type.slice(5);\n          const dataSchema = dataSchemas[dataName];\n          if (!dataSchema) {\n            return {\n              success: false,\n              error: new TypeValidationError3({\n                value: dataPart.data,\n                cause: `No data schema found for data part ${dataName}`\n              })\n            };\n          }\n          await validateTypes2({\n            value: dataPart.data,\n            schema: dataSchema\n          });\n        }\n      }\n    }\n    if (tools) {\n      for (const message of validatedMessages) {\n        const toolParts = message.parts.filter(\n          (part) => part.type.startsWith(\"tool-\")\n        );\n        for (const toolPart of toolParts) {\n          const toolName = toolPart.type.slice(5);\n          const tool2 = tools[toolName];\n          if (!tool2) {\n            return {\n              success: false,\n              error: new TypeValidationError3({\n                value: toolPart.input,\n                cause: `No tool schema found for tool part ${toolName}`\n              })\n            };\n          }\n          if (toolPart.state === \"input-available\" || toolPart.state === \"output-available\" || toolPart.state === \"output-error\" && toolPart.input !== void 0) {\n            await validateTypes2({\n              value: toolPart.input,\n              schema: tool2.inputSchema\n            });\n          }\n          if (toolPart.state === \"output-available\" && tool2.outputSchema) {\n            await validateTypes2({\n              value: toolPart.output,\n              schema: tool2.outputSchema\n            });\n          }\n        }\n      }\n    }\n    return {\n      success: true,\n      data: validatedMessages\n    };\n  } catch (error) {\n    const err = error;\n    return {\n      success: false,\n      error: err\n    };\n  }\n}\nasync function validateUIMessages({\n  messages,\n  metadataSchema,\n  dataSchemas,\n  tools\n}) {\n  const response = await safeValidateUIMessages({\n    messages,\n    metadataSchema,\n    dataSchemas,\n    tools\n  });\n  if (!response.success)\n    throw response.error;\n  return response.data;\n}\n\n// src/agent/create-agent-ui-stream.ts\nasync function createAgentUIStream({\n  agent,\n  uiMessages,\n  options,\n  abortSignal,\n  timeout,\n  experimental_transform,\n  ...uiMessageStreamOptions\n}) {\n  const validatedMessages = await validateUIMessages({\n    messages: uiMessages,\n    tools: agent.tools\n  });\n  const modelMessages = await convertToModelMessages(validatedMessages, {\n    tools: agent.tools\n  });\n  const result = await agent.stream({\n    prompt: modelMessages,\n    options,\n    abortSignal,\n    timeout,\n    experimental_transform\n  });\n  return result.toUIMessageStream(uiMessageStreamOptions);\n}\n\n// src/agent/create-agent-ui-stream-response.ts\nasync function createAgentUIStreamResponse({\n  headers,\n  status,\n  statusText,\n  consumeSseStream,\n  ...options\n}) {\n  return createUIMessageStreamResponse({\n    headers,\n    status,\n    statusText,\n    consumeSseStream,\n    stream: await createAgentUIStream(options)\n  });\n}\n\n// src/agent/pipe-agent-ui-stream-to-response.ts\nasync function pipeAgentUIStreamToResponse({\n  response,\n  headers,\n  status,\n  statusText,\n  consumeSseStream,\n  ...options\n}) {\n  pipeUIMessageStreamToResponse({\n    response,\n    headers,\n    status,\n    statusText,\n    consumeSseStream,\n    stream: await createAgentUIStream(options)\n  });\n}\n\n// src/embed/embed.ts\nimport { withUserAgentSuffix as withUserAgentSuffix3 } from \"@ai-sdk/provider-utils\";\nasync function embed({\n  model: modelArg,\n  value,\n  providerOptions,\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers,\n  experimental_telemetry: telemetry\n}) {\n  const model = resolveEmbeddingModel(modelArg);\n  const { maxRetries, retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const headersWithUserAgent = withUserAgentSuffix3(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const baseTelemetryAttributes = getBaseTelemetryAttributes({\n    model,\n    telemetry,\n    headers: headersWithUserAgent,\n    settings: { maxRetries }\n  });\n  const tracer = getTracer(telemetry);\n  return recordSpan({\n    name: \"ai.embed\",\n    attributes: selectTelemetryAttributes({\n      telemetry,\n      attributes: {\n        ...assembleOperationName({ operationId: \"ai.embed\", telemetry }),\n        ...baseTelemetryAttributes,\n        \"ai.value\": { input: () => JSON.stringify(value) }\n      }\n    }),\n    tracer,\n    fn: async (span) => {\n      const { embedding, usage, warnings, response, providerMetadata } = await retry(\n        () => (\n          // nested spans to align with the embedMany telemetry data:\n          recordSpan({\n            name: \"ai.embed.doEmbed\",\n            attributes: selectTelemetryAttributes({\n              telemetry,\n              attributes: {\n                ...assembleOperationName({\n                  operationId: \"ai.embed.doEmbed\",\n                  telemetry\n                }),\n                ...baseTelemetryAttributes,\n                // specific settings that only make sense on the outer level:\n                \"ai.values\": { input: () => [JSON.stringify(value)] }\n              }\n            }),\n            tracer,\n            fn: async (doEmbedSpan) => {\n              var _a16;\n              const modelResponse = await model.doEmbed({\n                values: [value],\n                abortSignal,\n                headers: headersWithUserAgent,\n                providerOptions\n              });\n              const embedding2 = modelResponse.embeddings[0];\n              const usage2 = (_a16 = modelResponse.usage) != null ? _a16 : { tokens: NaN };\n              doEmbedSpan.setAttributes(\n                await selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    \"ai.embeddings\": {\n                      output: () => modelResponse.embeddings.map(\n                        (embedding3) => JSON.stringify(embedding3)\n                      )\n                    },\n                    \"ai.usage.tokens\": usage2.tokens\n                  }\n                })\n              );\n              return {\n                embedding: embedding2,\n                usage: usage2,\n                warnings: modelResponse.warnings,\n                providerMetadata: modelResponse.providerMetadata,\n                response: modelResponse.response\n              };\n            }\n          })\n        )\n      );\n      span.setAttributes(\n        await selectTelemetryAttributes({\n          telemetry,\n          attributes: {\n            \"ai.embedding\": { output: () => JSON.stringify(embedding) },\n            \"ai.usage.tokens\": usage.tokens\n          }\n        })\n      );\n      logWarnings({ warnings, provider: model.provider, model: model.modelId });\n      return new DefaultEmbedResult({\n        value,\n        embedding,\n        usage,\n        warnings,\n        providerMetadata,\n        response\n      });\n    }\n  });\n}\nvar DefaultEmbedResult = class {\n  constructor(options) {\n    this.value = options.value;\n    this.embedding = options.embedding;\n    this.usage = options.usage;\n    this.warnings = options.warnings;\n    this.providerMetadata = options.providerMetadata;\n    this.response = options.response;\n  }\n};\n\n// src/embed/embed-many.ts\nimport { withUserAgentSuffix as withUserAgentSuffix4 } from \"@ai-sdk/provider-utils\";\n\n// src/util/split-array.ts\nfunction splitArray(array2, chunkSize) {\n  if (chunkSize <= 0) {\n    throw new Error(\"chunkSize must be greater than 0\");\n  }\n  const result = [];\n  for (let i = 0; i < array2.length; i += chunkSize) {\n    result.push(array2.slice(i, i + chunkSize));\n  }\n  return result;\n}\n\n// src/embed/embed-many.ts\nasync function embedMany({\n  model: modelArg,\n  values,\n  maxParallelCalls = Infinity,\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers,\n  providerOptions,\n  experimental_telemetry: telemetry\n}) {\n  const model = resolveEmbeddingModel(modelArg);\n  const { maxRetries, retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const headersWithUserAgent = withUserAgentSuffix4(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const baseTelemetryAttributes = getBaseTelemetryAttributes({\n    model,\n    telemetry,\n    headers: headersWithUserAgent,\n    settings: { maxRetries }\n  });\n  const tracer = getTracer(telemetry);\n  return recordSpan({\n    name: \"ai.embedMany\",\n    attributes: selectTelemetryAttributes({\n      telemetry,\n      attributes: {\n        ...assembleOperationName({ operationId: \"ai.embedMany\", telemetry }),\n        ...baseTelemetryAttributes,\n        // specific settings that only make sense on the outer level:\n        \"ai.values\": {\n          input: () => values.map((value) => JSON.stringify(value))\n        }\n      }\n    }),\n    tracer,\n    fn: async (span) => {\n      var _a16;\n      const [maxEmbeddingsPerCall, supportsParallelCalls] = await Promise.all([\n        model.maxEmbeddingsPerCall,\n        model.supportsParallelCalls\n      ]);\n      if (maxEmbeddingsPerCall == null || maxEmbeddingsPerCall === Infinity) {\n        const { embeddings: embeddings2, usage, warnings: warnings2, response, providerMetadata: providerMetadata2 } = await retry(() => {\n          return recordSpan({\n            name: \"ai.embedMany.doEmbed\",\n            attributes: selectTelemetryAttributes({\n              telemetry,\n              attributes: {\n                ...assembleOperationName({\n                  operationId: \"ai.embedMany.doEmbed\",\n                  telemetry\n                }),\n                ...baseTelemetryAttributes,\n                // specific settings that only make sense on the outer level:\n                \"ai.values\": {\n                  input: () => values.map((value) => JSON.stringify(value))\n                }\n              }\n            }),\n            tracer,\n            fn: async (doEmbedSpan) => {\n              var _a17;\n              const modelResponse = await model.doEmbed({\n                values,\n                abortSignal,\n                headers: headersWithUserAgent,\n                providerOptions\n              });\n              const embeddings3 = modelResponse.embeddings;\n              const usage2 = (_a17 = modelResponse.usage) != null ? _a17 : { tokens: NaN };\n              doEmbedSpan.setAttributes(\n                await selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    \"ai.embeddings\": {\n                      output: () => embeddings3.map(\n                        (embedding) => JSON.stringify(embedding)\n                      )\n                    },\n                    \"ai.usage.tokens\": usage2.tokens\n                  }\n                })\n              );\n              return {\n                embeddings: embeddings3,\n                usage: usage2,\n                warnings: modelResponse.warnings,\n                providerMetadata: modelResponse.providerMetadata,\n                response: modelResponse.response\n              };\n            }\n          });\n        });\n        span.setAttributes(\n          await selectTelemetryAttributes({\n            telemetry,\n            attributes: {\n              \"ai.embeddings\": {\n                output: () => embeddings2.map((embedding) => JSON.stringify(embedding))\n              },\n              \"ai.usage.tokens\": usage.tokens\n            }\n          })\n        );\n        logWarnings({\n          warnings: warnings2,\n          provider: model.provider,\n          model: model.modelId\n        });\n        return new DefaultEmbedManyResult({\n          values,\n          embeddings: embeddings2,\n          usage,\n          warnings: warnings2,\n          providerMetadata: providerMetadata2,\n          responses: [response]\n        });\n      }\n      const valueChunks = splitArray(values, maxEmbeddingsPerCall);\n      const embeddings = [];\n      const warnings = [];\n      const responses = [];\n      let tokens = 0;\n      let providerMetadata;\n      const parallelChunks = splitArray(\n        valueChunks,\n        supportsParallelCalls ? maxParallelCalls : 1\n      );\n      for (const parallelChunk of parallelChunks) {\n        const results = await Promise.all(\n          parallelChunk.map((chunk) => {\n            return retry(() => {\n              return recordSpan({\n                name: \"ai.embedMany.doEmbed\",\n                attributes: selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    ...assembleOperationName({\n                      operationId: \"ai.embedMany.doEmbed\",\n                      telemetry\n                    }),\n                    ...baseTelemetryAttributes,\n                    // specific settings that only make sense on the outer level:\n                    \"ai.values\": {\n                      input: () => chunk.map((value) => JSON.stringify(value))\n                    }\n                  }\n                }),\n                tracer,\n                fn: async (doEmbedSpan) => {\n                  var _a17;\n                  const modelResponse = await model.doEmbed({\n                    values: chunk,\n                    abortSignal,\n                    headers: headersWithUserAgent,\n                    providerOptions\n                  });\n                  const embeddings2 = modelResponse.embeddings;\n                  const usage = (_a17 = modelResponse.usage) != null ? _a17 : { tokens: NaN };\n                  doEmbedSpan.setAttributes(\n                    await selectTelemetryAttributes({\n                      telemetry,\n                      attributes: {\n                        \"ai.embeddings\": {\n                          output: () => embeddings2.map(\n                            (embedding) => JSON.stringify(embedding)\n                          )\n                        },\n                        \"ai.usage.tokens\": usage.tokens\n                      }\n                    })\n                  );\n                  return {\n                    embeddings: embeddings2,\n                    usage,\n                    warnings: modelResponse.warnings,\n                    providerMetadata: modelResponse.providerMetadata,\n                    response: modelResponse.response\n                  };\n                }\n              });\n            });\n          })\n        );\n        for (const result of results) {\n          embeddings.push(...result.embeddings);\n          warnings.push(...result.warnings);\n          responses.push(result.response);\n          tokens += result.usage.tokens;\n          if (result.providerMetadata) {\n            if (!providerMetadata) {\n              providerMetadata = { ...result.providerMetadata };\n            } else {\n              for (const [providerName, metadata] of Object.entries(\n                result.providerMetadata\n              )) {\n                providerMetadata[providerName] = {\n                  ...(_a16 = providerMetadata[providerName]) != null ? _a16 : {},\n                  ...metadata\n                };\n              }\n            }\n          }\n        }\n      }\n      span.setAttributes(\n        await selectTelemetryAttributes({\n          telemetry,\n          attributes: {\n            \"ai.embeddings\": {\n              output: () => embeddings.map((embedding) => JSON.stringify(embedding))\n            },\n            \"ai.usage.tokens\": tokens\n          }\n        })\n      );\n      logWarnings({\n        warnings,\n        provider: model.provider,\n        model: model.modelId\n      });\n      return new DefaultEmbedManyResult({\n        values,\n        embeddings,\n        usage: { tokens },\n        warnings,\n        providerMetadata,\n        responses\n      });\n    }\n  });\n}\nvar DefaultEmbedManyResult = class {\n  constructor(options) {\n    this.values = options.values;\n    this.embeddings = options.embeddings;\n    this.usage = options.usage;\n    this.warnings = options.warnings;\n    this.providerMetadata = options.providerMetadata;\n    this.responses = options.responses;\n  }\n};\n\n// src/generate-image/generate-image.ts\nimport {\n  convertBase64ToUint8Array as convertBase64ToUint8Array4,\n  withUserAgentSuffix as withUserAgentSuffix5\n} from \"@ai-sdk/provider-utils\";\nasync function generateImage({\n  model: modelArg,\n  prompt: promptArg,\n  n = 1,\n  maxImagesPerCall,\n  size,\n  aspectRatio,\n  seed,\n  providerOptions,\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers\n}) {\n  var _a16, _b;\n  const model = resolveImageModel(modelArg);\n  const headersWithUserAgent = withUserAgentSuffix5(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const { retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const maxImagesPerCallWithDefault = (_a16 = maxImagesPerCall != null ? maxImagesPerCall : await invokeModelMaxImagesPerCall(model)) != null ? _a16 : 1;\n  const callCount = Math.ceil(n / maxImagesPerCallWithDefault);\n  const callImageCounts = Array.from({ length: callCount }, (_, i) => {\n    if (i < callCount - 1) {\n      return maxImagesPerCallWithDefault;\n    }\n    const remainder = n % maxImagesPerCallWithDefault;\n    return remainder === 0 ? maxImagesPerCallWithDefault : remainder;\n  });\n  const results = await Promise.all(\n    callImageCounts.map(\n      async (callImageCount) => retry(() => {\n        const { prompt, files, mask } = normalizePrompt(promptArg);\n        return model.doGenerate({\n          prompt,\n          files,\n          mask,\n          n: callImageCount,\n          abortSignal,\n          headers: headersWithUserAgent,\n          size,\n          aspectRatio,\n          seed,\n          providerOptions: providerOptions != null ? providerOptions : {}\n        });\n      })\n    )\n  );\n  const images = [];\n  const warnings = [];\n  const responses = [];\n  const providerMetadata = {};\n  let totalUsage = {\n    inputTokens: void 0,\n    outputTokens: void 0,\n    totalTokens: void 0\n  };\n  for (const result of results) {\n    images.push(\n      ...result.images.map(\n        (image) => {\n          var _a17;\n          return new DefaultGeneratedFile({\n            data: image,\n            mediaType: (_a17 = detectMediaType({\n              data: image,\n              signatures: imageMediaTypeSignatures\n            })) != null ? _a17 : \"image/png\"\n          });\n        }\n      )\n    );\n    warnings.push(...result.warnings);\n    if (result.usage != null) {\n      totalUsage = addImageModelUsage(totalUsage, result.usage);\n    }\n    if (result.providerMetadata) {\n      for (const [providerName, metadata] of Object.entries(result.providerMetadata)) {\n        if (providerName === \"gateway\") {\n          const currentEntry = providerMetadata[providerName];\n          if (currentEntry != null && typeof currentEntry === \"object\") {\n            providerMetadata[providerName] = {\n              ...currentEntry,\n              ...metadata\n            };\n          } else {\n            providerMetadata[providerName] = metadata;\n          }\n          const imagesValue = providerMetadata[providerName].images;\n          if (Array.isArray(imagesValue) && imagesValue.length === 0) {\n            delete providerMetadata[providerName].images;\n          }\n        } else {\n          (_b = providerMetadata[providerName]) != null ? _b : providerMetadata[providerName] = { images: [] };\n          providerMetadata[providerName].images.push(\n            ...result.providerMetadata[providerName].images\n          );\n        }\n      }\n    }\n    responses.push(result.response);\n  }\n  logWarnings({ warnings, provider: model.provider, model: model.modelId });\n  if (!images.length) {\n    throw new NoImageGeneratedError({ responses });\n  }\n  return new DefaultGenerateImageResult({\n    images,\n    warnings,\n    responses,\n    providerMetadata,\n    usage: totalUsage\n  });\n}\nvar DefaultGenerateImageResult = class {\n  constructor(options) {\n    this.images = options.images;\n    this.warnings = options.warnings;\n    this.responses = options.responses;\n    this.providerMetadata = options.providerMetadata;\n    this.usage = options.usage;\n  }\n  get image() {\n    return this.images[0];\n  }\n};\nasync function invokeModelMaxImagesPerCall(model) {\n  const isFunction = model.maxImagesPerCall instanceof Function;\n  if (!isFunction) {\n    return model.maxImagesPerCall;\n  }\n  return model.maxImagesPerCall({\n    modelId: model.modelId\n  });\n}\nfunction normalizePrompt(prompt) {\n  if (typeof prompt === \"string\") {\n    return { prompt, files: void 0, mask: void 0 };\n  }\n  return {\n    prompt: prompt.text,\n    files: prompt.images.map(toImageModelV3File),\n    mask: prompt.mask ? toImageModelV3File(prompt.mask) : void 0\n  };\n}\nfunction toImageModelV3File(dataContent) {\n  if (typeof dataContent === \"string\" && dataContent.startsWith(\"http\")) {\n    return {\n      type: \"url\",\n      url: dataContent\n    };\n  }\n  if (typeof dataContent === \"string\" && dataContent.startsWith(\"data:\")) {\n    const { mediaType: dataUrlMediaType, base64Content } = splitDataUrl(dataContent);\n    if (base64Content != null) {\n      const uint8Data2 = convertBase64ToUint8Array4(base64Content);\n      return {\n        type: \"file\",\n        data: uint8Data2,\n        mediaType: dataUrlMediaType || detectMediaType({\n          data: uint8Data2,\n          signatures: imageMediaTypeSignatures\n        }) || \"image/png\"\n      };\n    }\n  }\n  const uint8Data = convertDataContentToUint8Array(dataContent);\n  return {\n    type: \"file\",\n    data: uint8Data,\n    mediaType: detectMediaType({\n      data: uint8Data,\n      signatures: imageMediaTypeSignatures\n    }) || \"image/png\"\n  };\n}\n\n// src/generate-image/index.ts\nvar experimental_generateImage = generateImage;\n\n// src/generate-object/generate-object.ts\nimport {\n  createIdGenerator as createIdGenerator3,\n  withUserAgentSuffix as withUserAgentSuffix6\n} from \"@ai-sdk/provider-utils\";\n\n// src/generate-text/extract-reasoning-content.ts\nfunction extractReasoningContent(content) {\n  const parts = content.filter(\n    (content2) => content2.type === \"reasoning\"\n  );\n  return parts.length === 0 ? void 0 : parts.map((content2) => content2.text).join(\"\\n\");\n}\n\n// src/generate-object/output-strategy.ts\nimport {\n  isJSONArray,\n  isJSONObject,\n  TypeValidationError as TypeValidationError4,\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError3\n} from \"@ai-sdk/provider\";\nimport {\n  asSchema as asSchema4,\n  safeValidateTypes as safeValidateTypes4\n} from \"@ai-sdk/provider-utils\";\nvar noSchemaOutputStrategy = {\n  type: \"no-schema\",\n  jsonSchema: async () => void 0,\n  async validatePartialResult({ value, textDelta }) {\n    return { success: true, value: { partial: value, textDelta } };\n  },\n  async validateFinalResult(value, context) {\n    return value === void 0 ? {\n      success: false,\n      error: new NoObjectGeneratedError({\n        message: \"No object generated: response did not match schema.\",\n        text: context.text,\n        response: context.response,\n        usage: context.usage,\n        finishReason: context.finishReason\n      })\n    } : { success: true, value };\n  },\n  createElementStream() {\n    throw new UnsupportedFunctionalityError3({\n      functionality: \"element streams in no-schema mode\"\n    });\n  }\n};\nvar objectOutputStrategy = (schema) => ({\n  type: \"object\",\n  jsonSchema: async () => await schema.jsonSchema,\n  async validatePartialResult({ value, textDelta }) {\n    return {\n      success: true,\n      value: {\n        // Note: currently no validation of partial results:\n        partial: value,\n        textDelta\n      }\n    };\n  },\n  async validateFinalResult(value) {\n    return safeValidateTypes4({ value, schema });\n  },\n  createElementStream() {\n    throw new UnsupportedFunctionalityError3({\n      functionality: \"element streams in object mode\"\n    });\n  }\n});\nvar arrayOutputStrategy = (schema) => {\n  return {\n    type: \"array\",\n    // wrap in object that contains array of elements, since most LLMs will not\n    // be able to generate an array directly:\n    // possible future optimization: use arrays directly when model supports grammar-guided generation\n    jsonSchema: async () => {\n      const { $schema, ...itemSchema } = await schema.jsonSchema;\n      return {\n        $schema: \"http://json-schema.org/draft-07/schema#\",\n        type: \"object\",\n        properties: {\n          elements: { type: \"array\", items: itemSchema }\n        },\n        required: [\"elements\"],\n        additionalProperties: false\n      };\n    },\n    async validatePartialResult({\n      value,\n      latestObject,\n      isFirstDelta,\n      isFinalDelta\n    }) {\n      var _a16;\n      if (!isJSONObject(value) || !isJSONArray(value.elements)) {\n        return {\n          success: false,\n          error: new TypeValidationError4({\n            value,\n            cause: \"value must be an object that contains an array of elements\"\n          })\n        };\n      }\n      const inputArray = value.elements;\n      const resultArray = [];\n      for (let i = 0; i < inputArray.length; i++) {\n        const element = inputArray[i];\n        const result = await safeValidateTypes4({ value: element, schema });\n        if (i === inputArray.length - 1 && !isFinalDelta) {\n          continue;\n        }\n        if (!result.success) {\n          return result;\n        }\n        resultArray.push(result.value);\n      }\n      const publishedElementCount = (_a16 = latestObject == null ? void 0 : latestObject.length) != null ? _a16 : 0;\n      let textDelta = \"\";\n      if (isFirstDelta) {\n        textDelta += \"[\";\n      }\n      if (publishedElementCount > 0) {\n        textDelta += \",\";\n      }\n      textDelta += resultArray.slice(publishedElementCount).map((element) => JSON.stringify(element)).join(\",\");\n      if (isFinalDelta) {\n        textDelta += \"]\";\n      }\n      return {\n        success: true,\n        value: {\n          partial: resultArray,\n          textDelta\n        }\n      };\n    },\n    async validateFinalResult(value) {\n      if (!isJSONObject(value) || !isJSONArray(value.elements)) {\n        return {\n          success: false,\n          error: new TypeValidationError4({\n            value,\n            cause: \"value must be an object that contains an array of elements\"\n          })\n        };\n      }\n      const inputArray = value.elements;\n      for (const element of inputArray) {\n        const result = await safeValidateTypes4({ value: element, schema });\n        if (!result.success) {\n          return result;\n        }\n      }\n      return { success: true, value: inputArray };\n    },\n    createElementStream(originalStream) {\n      let publishedElements = 0;\n      return createAsyncIterableStream(\n        originalStream.pipeThrough(\n          new TransformStream({\n            transform(chunk, controller) {\n              switch (chunk.type) {\n                case \"object\": {\n                  const array2 = chunk.object;\n                  for (; publishedElements < array2.length; publishedElements++) {\n                    controller.enqueue(array2[publishedElements]);\n                  }\n                  break;\n                }\n                case \"text-delta\":\n                case \"finish\":\n                case \"error\":\n                  break;\n                default: {\n                  const _exhaustiveCheck = chunk;\n                  throw new Error(\n                    `Unsupported chunk type: ${_exhaustiveCheck}`\n                  );\n                }\n              }\n            }\n          })\n        )\n      );\n    }\n  };\n};\nvar enumOutputStrategy = (enumValues) => {\n  return {\n    type: \"enum\",\n    // wrap in object that contains result, since most LLMs will not\n    // be able to generate an enum value directly:\n    // possible future optimization: use enums directly when model supports top-level enums\n    jsonSchema: async () => ({\n      $schema: \"http://json-schema.org/draft-07/schema#\",\n      type: \"object\",\n      properties: {\n        result: { type: \"string\", enum: enumValues }\n      },\n      required: [\"result\"],\n      additionalProperties: false\n    }),\n    async validateFinalResult(value) {\n      if (!isJSONObject(value) || typeof value.result !== \"string\") {\n        return {\n          success: false,\n          error: new TypeValidationError4({\n            value,\n            cause: 'value must be an object that contains a string in the \"result\" property.'\n          })\n        };\n      }\n      const result = value.result;\n      return enumValues.includes(result) ? { success: true, value: result } : {\n        success: false,\n        error: new TypeValidationError4({\n          value,\n          cause: \"value must be a string in the enum\"\n        })\n      };\n    },\n    async validatePartialResult({ value, textDelta }) {\n      if (!isJSONObject(value) || typeof value.result !== \"string\") {\n        return {\n          success: false,\n          error: new TypeValidationError4({\n            value,\n            cause: 'value must be an object that contains a string in the \"result\" property.'\n          })\n        };\n      }\n      const result = value.result;\n      const possibleEnumValues = enumValues.filter(\n        (enumValue) => enumValue.startsWith(result)\n      );\n      if (value.result.length === 0 || possibleEnumValues.length === 0) {\n        return {\n          success: false,\n          error: new TypeValidationError4({\n            value,\n            cause: \"value must be a string in the enum\"\n          })\n        };\n      }\n      return {\n        success: true,\n        value: {\n          partial: possibleEnumValues.length > 1 ? result : possibleEnumValues[0],\n          textDelta\n        }\n      };\n    },\n    createElementStream() {\n      throw new UnsupportedFunctionalityError3({\n        functionality: \"element streams in enum mode\"\n      });\n    }\n  };\n};\nfunction getOutputStrategy({\n  output,\n  schema,\n  enumValues\n}) {\n  switch (output) {\n    case \"object\":\n      return objectOutputStrategy(asSchema4(schema));\n    case \"array\":\n      return arrayOutputStrategy(asSchema4(schema));\n    case \"enum\":\n      return enumOutputStrategy(enumValues);\n    case \"no-schema\":\n      return noSchemaOutputStrategy;\n    default: {\n      const _exhaustiveCheck = output;\n      throw new Error(`Unsupported output: ${_exhaustiveCheck}`);\n    }\n  }\n}\n\n// src/generate-object/parse-and-validate-object-result.ts\nimport { JSONParseError as JSONParseError2, TypeValidationError as TypeValidationError5 } from \"@ai-sdk/provider\";\nimport { safeParseJSON as safeParseJSON4 } from \"@ai-sdk/provider-utils\";\nasync function parseAndValidateObjectResult(result, outputStrategy, context) {\n  const parseResult = await safeParseJSON4({ text: result });\n  if (!parseResult.success) {\n    throw new NoObjectGeneratedError({\n      message: \"No object generated: could not parse the response.\",\n      cause: parseResult.error,\n      text: result,\n      response: context.response,\n      usage: context.usage,\n      finishReason: context.finishReason\n    });\n  }\n  const validationResult = await outputStrategy.validateFinalResult(\n    parseResult.value,\n    {\n      text: result,\n      response: context.response,\n      usage: context.usage\n    }\n  );\n  if (!validationResult.success) {\n    throw new NoObjectGeneratedError({\n      message: \"No object generated: response did not match schema.\",\n      cause: validationResult.error,\n      text: result,\n      response: context.response,\n      usage: context.usage,\n      finishReason: context.finishReason\n    });\n  }\n  return validationResult.value;\n}\nasync function parseAndValidateObjectResultWithRepair(result, outputStrategy, repairText, context) {\n  try {\n    return await parseAndValidateObjectResult(result, outputStrategy, context);\n  } catch (error) {\n    if (repairText != null && NoObjectGeneratedError.isInstance(error) && (JSONParseError2.isInstance(error.cause) || TypeValidationError5.isInstance(error.cause))) {\n      const repairedText = await repairText({\n        text: result,\n        error: error.cause\n      });\n      if (repairedText === null) {\n        throw error;\n      }\n      return await parseAndValidateObjectResult(\n        repairedText,\n        outputStrategy,\n        context\n      );\n    }\n    throw error;\n  }\n}\n\n// src/generate-object/validate-object-generation-input.ts\nfunction validateObjectGenerationInput({\n  output,\n  schema,\n  schemaName,\n  schemaDescription,\n  enumValues\n}) {\n  if (output != null && output !== \"object\" && output !== \"array\" && output !== \"enum\" && output !== \"no-schema\") {\n    throw new InvalidArgumentError({\n      parameter: \"output\",\n      value: output,\n      message: \"Invalid output type.\"\n    });\n  }\n  if (output === \"no-schema\") {\n    if (schema != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schema\",\n        value: schema,\n        message: \"Schema is not supported for no-schema output.\"\n      });\n    }\n    if (schemaDescription != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schemaDescription\",\n        value: schemaDescription,\n        message: \"Schema description is not supported for no-schema output.\"\n      });\n    }\n    if (schemaName != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schemaName\",\n        value: schemaName,\n        message: \"Schema name is not supported for no-schema output.\"\n      });\n    }\n    if (enumValues != null) {\n      throw new InvalidArgumentError({\n        parameter: \"enumValues\",\n        value: enumValues,\n        message: \"Enum values are not supported for no-schema output.\"\n      });\n    }\n  }\n  if (output === \"object\") {\n    if (schema == null) {\n      throw new InvalidArgumentError({\n        parameter: \"schema\",\n        value: schema,\n        message: \"Schema is required for object output.\"\n      });\n    }\n    if (enumValues != null) {\n      throw new InvalidArgumentError({\n        parameter: \"enumValues\",\n        value: enumValues,\n        message: \"Enum values are not supported for object output.\"\n      });\n    }\n  }\n  if (output === \"array\") {\n    if (schema == null) {\n      throw new InvalidArgumentError({\n        parameter: \"schema\",\n        value: schema,\n        message: \"Element schema is required for array output.\"\n      });\n    }\n    if (enumValues != null) {\n      throw new InvalidArgumentError({\n        parameter: \"enumValues\",\n        value: enumValues,\n        message: \"Enum values are not supported for array output.\"\n      });\n    }\n  }\n  if (output === \"enum\") {\n    if (schema != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schema\",\n        value: schema,\n        message: \"Schema is not supported for enum output.\"\n      });\n    }\n    if (schemaDescription != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schemaDescription\",\n        value: schemaDescription,\n        message: \"Schema description is not supported for enum output.\"\n      });\n    }\n    if (schemaName != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schemaName\",\n        value: schemaName,\n        message: \"Schema name is not supported for enum output.\"\n      });\n    }\n    if (enumValues == null) {\n      throw new InvalidArgumentError({\n        parameter: \"enumValues\",\n        value: enumValues,\n        message: \"Enum values are required for enum output.\"\n      });\n    }\n    for (const value of enumValues) {\n      if (typeof value !== \"string\") {\n        throw new InvalidArgumentError({\n          parameter: \"enumValues\",\n          value,\n          message: \"Enum values must be strings.\"\n        });\n      }\n    }\n  }\n}\n\n// src/generate-object/generate-object.ts\nvar originalGenerateId3 = createIdGenerator3({ prefix: \"aiobj\", size: 24 });\nasync function generateObject(options) {\n  const {\n    model: modelArg,\n    output = \"object\",\n    system,\n    prompt,\n    messages,\n    maxRetries: maxRetriesArg,\n    abortSignal,\n    headers,\n    experimental_repairText: repairText,\n    experimental_telemetry: telemetry,\n    experimental_download: download2,\n    providerOptions,\n    _internal: {\n      generateId: generateId2 = originalGenerateId3,\n      currentDate = () => /* @__PURE__ */ new Date()\n    } = {},\n    ...settings\n  } = options;\n  const model = resolveLanguageModel(modelArg);\n  const enumValues = \"enum\" in options ? options.enum : void 0;\n  const {\n    schema: inputSchema,\n    schemaDescription,\n    schemaName\n  } = \"schema\" in options ? options : {};\n  validateObjectGenerationInput({\n    output,\n    schema: inputSchema,\n    schemaName,\n    schemaDescription,\n    enumValues\n  });\n  const { maxRetries, retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const outputStrategy = getOutputStrategy({\n    output,\n    schema: inputSchema,\n    enumValues\n  });\n  const callSettings = prepareCallSettings(settings);\n  const headersWithUserAgent = withUserAgentSuffix6(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const baseTelemetryAttributes = getBaseTelemetryAttributes({\n    model,\n    telemetry,\n    headers: headersWithUserAgent,\n    settings: { ...callSettings, maxRetries }\n  });\n  const tracer = getTracer(telemetry);\n  const jsonSchema2 = await outputStrategy.jsonSchema();\n  try {\n    return await recordSpan({\n      name: \"ai.generateObject\",\n      attributes: selectTelemetryAttributes({\n        telemetry,\n        attributes: {\n          ...assembleOperationName({\n            operationId: \"ai.generateObject\",\n            telemetry\n          }),\n          ...baseTelemetryAttributes,\n          // specific settings that only make sense on the outer level:\n          \"ai.prompt\": {\n            input: () => JSON.stringify({ system, prompt, messages })\n          },\n          \"ai.schema\": jsonSchema2 != null ? { input: () => JSON.stringify(jsonSchema2) } : void 0,\n          \"ai.schema.name\": schemaName,\n          \"ai.schema.description\": schemaDescription,\n          \"ai.settings.output\": outputStrategy.type\n        }\n      }),\n      tracer,\n      fn: async (span) => {\n        var _a16;\n        let result;\n        let finishReason;\n        let usage;\n        let warnings;\n        let response;\n        let request;\n        let resultProviderMetadata;\n        let reasoning;\n        const standardizedPrompt = await standardizePrompt({\n          system,\n          prompt,\n          messages\n        });\n        const promptMessages = await convertToLanguageModelPrompt({\n          prompt: standardizedPrompt,\n          supportedUrls: await model.supportedUrls,\n          download: download2\n        });\n        const generateResult = await retry(\n          () => recordSpan({\n            name: \"ai.generateObject.doGenerate\",\n            attributes: selectTelemetryAttributes({\n              telemetry,\n              attributes: {\n                ...assembleOperationName({\n                  operationId: \"ai.generateObject.doGenerate\",\n                  telemetry\n                }),\n                ...baseTelemetryAttributes,\n                \"ai.prompt.messages\": {\n                  input: () => stringifyForTelemetry(promptMessages)\n                },\n                // standardized gen-ai llm span attributes:\n                \"gen_ai.system\": model.provider,\n                \"gen_ai.request.model\": model.modelId,\n                \"gen_ai.request.frequency_penalty\": callSettings.frequencyPenalty,\n                \"gen_ai.request.max_tokens\": callSettings.maxOutputTokens,\n                \"gen_ai.request.presence_penalty\": callSettings.presencePenalty,\n                \"gen_ai.request.temperature\": callSettings.temperature,\n                \"gen_ai.request.top_k\": callSettings.topK,\n                \"gen_ai.request.top_p\": callSettings.topP\n              }\n            }),\n            tracer,\n            fn: async (span2) => {\n              var _a17, _b, _c, _d, _e, _f, _g, _h;\n              const result2 = await model.doGenerate({\n                responseFormat: {\n                  type: \"json\",\n                  schema: jsonSchema2,\n                  name: schemaName,\n                  description: schemaDescription\n                },\n                ...prepareCallSettings(settings),\n                prompt: promptMessages,\n                providerOptions,\n                abortSignal,\n                headers: headersWithUserAgent\n              });\n              const responseData = {\n                id: (_b = (_a17 = result2.response) == null ? void 0 : _a17.id) != null ? _b : generateId2(),\n                timestamp: (_d = (_c = result2.response) == null ? void 0 : _c.timestamp) != null ? _d : currentDate(),\n                modelId: (_f = (_e = result2.response) == null ? void 0 : _e.modelId) != null ? _f : model.modelId,\n                headers: (_g = result2.response) == null ? void 0 : _g.headers,\n                body: (_h = result2.response) == null ? void 0 : _h.body\n              };\n              const text2 = extractTextContent(result2.content);\n              const reasoning2 = extractReasoningContent(result2.content);\n              if (text2 === void 0) {\n                throw new NoObjectGeneratedError({\n                  message: \"No object generated: the model did not return a response.\",\n                  response: responseData,\n                  usage: asLanguageModelUsage(result2.usage),\n                  finishReason: result2.finishReason.unified\n                });\n              }\n              span2.setAttributes(\n                await selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    \"ai.response.finishReason\": result2.finishReason.unified,\n                    \"ai.response.object\": { output: () => text2 },\n                    \"ai.response.id\": responseData.id,\n                    \"ai.response.model\": responseData.modelId,\n                    \"ai.response.timestamp\": responseData.timestamp.toISOString(),\n                    \"ai.response.providerMetadata\": JSON.stringify(\n                      result2.providerMetadata\n                    ),\n                    // TODO rename telemetry attributes to inputTokens and outputTokens\n                    \"ai.usage.promptTokens\": result2.usage.inputTokens.total,\n                    \"ai.usage.completionTokens\": result2.usage.outputTokens.total,\n                    // standardized gen-ai llm span attributes:\n                    \"gen_ai.response.finish_reasons\": [\n                      result2.finishReason.unified\n                    ],\n                    \"gen_ai.response.id\": responseData.id,\n                    \"gen_ai.response.model\": responseData.modelId,\n                    \"gen_ai.usage.input_tokens\": result2.usage.inputTokens.total,\n                    \"gen_ai.usage.output_tokens\": result2.usage.outputTokens.total\n                  }\n                })\n              );\n              return {\n                ...result2,\n                objectText: text2,\n                reasoning: reasoning2,\n                responseData\n              };\n            }\n          })\n        );\n        result = generateResult.objectText;\n        finishReason = generateResult.finishReason.unified;\n        usage = asLanguageModelUsage(generateResult.usage);\n        warnings = generateResult.warnings;\n        resultProviderMetadata = generateResult.providerMetadata;\n        request = (_a16 = generateResult.request) != null ? _a16 : {};\n        response = generateResult.responseData;\n        reasoning = generateResult.reasoning;\n        logWarnings({\n          warnings,\n          provider: model.provider,\n          model: model.modelId\n        });\n        const object2 = await parseAndValidateObjectResultWithRepair(\n          result,\n          outputStrategy,\n          repairText,\n          {\n            response,\n            usage,\n            finishReason\n          }\n        );\n        span.setAttributes(\n          await selectTelemetryAttributes({\n            telemetry,\n            attributes: {\n              \"ai.response.finishReason\": finishReason,\n              \"ai.response.object\": {\n                output: () => JSON.stringify(object2)\n              },\n              \"ai.response.providerMetadata\": JSON.stringify(\n                resultProviderMetadata\n              ),\n              // TODO rename telemetry attributes to inputTokens and outputTokens\n              \"ai.usage.promptTokens\": usage.inputTokens,\n              \"ai.usage.completionTokens\": usage.outputTokens\n            }\n          })\n        );\n        return new DefaultGenerateObjectResult({\n          object: object2,\n          reasoning,\n          finishReason,\n          usage,\n          warnings,\n          request,\n          response,\n          providerMetadata: resultProviderMetadata\n        });\n      }\n    });\n  } catch (error) {\n    throw wrapGatewayError(error);\n  }\n}\nvar DefaultGenerateObjectResult = class {\n  constructor(options) {\n    this.object = options.object;\n    this.finishReason = options.finishReason;\n    this.usage = options.usage;\n    this.warnings = options.warnings;\n    this.providerMetadata = options.providerMetadata;\n    this.response = options.response;\n    this.request = options.request;\n    this.reasoning = options.reasoning;\n  }\n  toJsonResponse(init) {\n    var _a16;\n    return new Response(JSON.stringify(this.object), {\n      status: (_a16 = init == null ? void 0 : init.status) != null ? _a16 : 200,\n      headers: prepareHeaders(init == null ? void 0 : init.headers, {\n        \"content-type\": \"application/json; charset=utf-8\"\n      })\n    });\n  }\n};\n\n// src/generate-object/stream-object.ts\nimport {\n  createIdGenerator as createIdGenerator4,\n  DelayedPromise as DelayedPromise2\n} from \"@ai-sdk/provider-utils\";\n\n// src/util/cosine-similarity.ts\nfunction cosineSimilarity(vector1, vector2) {\n  if (vector1.length !== vector2.length) {\n    throw new InvalidArgumentError({\n      parameter: \"vector1,vector2\",\n      value: { vector1Length: vector1.length, vector2Length: vector2.length },\n      message: `Vectors must have the same length`\n    });\n  }\n  const n = vector1.length;\n  if (n === 0) {\n    return 0;\n  }\n  let magnitudeSquared1 = 0;\n  let magnitudeSquared2 = 0;\n  let dotProduct = 0;\n  for (let i = 0; i < n; i++) {\n    const value1 = vector1[i];\n    const value2 = vector2[i];\n    magnitudeSquared1 += value1 * value1;\n    magnitudeSquared2 += value2 * value2;\n    dotProduct += value1 * value2;\n  }\n  return magnitudeSquared1 === 0 || magnitudeSquared2 === 0 ? 0 : dotProduct / (Math.sqrt(magnitudeSquared1) * Math.sqrt(magnitudeSquared2));\n}\n\n// src/util/data-url.ts\nfunction getTextFromDataUrl(dataUrl) {\n  const [header, base64Content] = dataUrl.split(\",\");\n  const mediaType = header.split(\";\")[0].split(\":\")[1];\n  if (mediaType == null || base64Content == null) {\n    throw new Error(\"Invalid data URL format\");\n  }\n  try {\n    return window.atob(base64Content);\n  } catch (error) {\n    throw new Error(`Error decoding data URL`);\n  }\n}\n\n// src/util/is-deep-equal-data.ts\nfunction isDeepEqualData(obj1, obj2) {\n  if (obj1 === obj2)\n    return true;\n  if (obj1 == null || obj2 == null)\n    return false;\n  if (typeof obj1 !== \"object\" && typeof obj2 !== \"object\")\n    return obj1 === obj2;\n  if (obj1.constructor !== obj2.constructor)\n    return false;\n  if (obj1 instanceof Date && obj2 instanceof Date) {\n    return obj1.getTime() === obj2.getTime();\n  }\n  if (Array.isArray(obj1)) {\n    if (obj1.length !== obj2.length)\n      return false;\n    for (let i = 0; i < obj1.length; i++) {\n      if (!isDeepEqualData(obj1[i], obj2[i]))\n        return false;\n    }\n    return true;\n  }\n  const keys1 = Object.keys(obj1);\n  const keys2 = Object.keys(obj2);\n  if (keys1.length !== keys2.length)\n    return false;\n  for (const key of keys1) {\n    if (!keys2.includes(key))\n      return false;\n    if (!isDeepEqualData(obj1[key], obj2[key]))\n      return false;\n  }\n  return true;\n}\n\n// src/util/serial-job-executor.ts\nvar SerialJobExecutor = class {\n  constructor() {\n    this.queue = [];\n    this.isProcessing = false;\n  }\n  async processQueue() {\n    if (this.isProcessing) {\n      return;\n    }\n    this.isProcessing = true;\n    while (this.queue.length > 0) {\n      await this.queue[0]();\n      this.queue.shift();\n    }\n    this.isProcessing = false;\n  }\n  async run(job) {\n    return new Promise((resolve3, reject) => {\n      this.queue.push(async () => {\n        try {\n          await job();\n          resolve3();\n        } catch (error) {\n          reject(error);\n        }\n      });\n      void this.processQueue();\n    });\n  }\n};\n\n// src/util/simulate-readable-stream.ts\nimport { delay as delayFunction } from \"@ai-sdk/provider-utils\";\nfunction simulateReadableStream({\n  chunks,\n  initialDelayInMs = 0,\n  chunkDelayInMs = 0,\n  _internal\n}) {\n  var _a16;\n  const delay2 = (_a16 = _internal == null ? void 0 : _internal.delay) != null ? _a16 : delayFunction;\n  let index = 0;\n  return new ReadableStream({\n    async pull(controller) {\n      if (index < chunks.length) {\n        await delay2(index === 0 ? initialDelayInMs : chunkDelayInMs);\n        controller.enqueue(chunks[index++]);\n      } else {\n        controller.close();\n      }\n    }\n  });\n}\n\n// src/generate-object/stream-object.ts\nvar originalGenerateId4 = createIdGenerator4({ prefix: \"aiobj\", size: 24 });\nfunction streamObject(options) {\n  const {\n    model,\n    output = \"object\",\n    system,\n    prompt,\n    messages,\n    maxRetries,\n    abortSignal,\n    headers,\n    experimental_repairText: repairText,\n    experimental_telemetry: telemetry,\n    experimental_download: download2,\n    providerOptions,\n    onError = ({ error }) => {\n      console.error(error);\n    },\n    onFinish,\n    _internal: {\n      generateId: generateId2 = originalGenerateId4,\n      currentDate = () => /* @__PURE__ */ new Date(),\n      now: now2 = now\n    } = {},\n    ...settings\n  } = options;\n  const enumValues = \"enum\" in options && options.enum ? options.enum : void 0;\n  const {\n    schema: inputSchema,\n    schemaDescription,\n    schemaName\n  } = \"schema\" in options ? options : {};\n  validateObjectGenerationInput({\n    output,\n    schema: inputSchema,\n    schemaName,\n    schemaDescription,\n    enumValues\n  });\n  const outputStrategy = getOutputStrategy({\n    output,\n    schema: inputSchema,\n    enumValues\n  });\n  return new DefaultStreamObjectResult({\n    model,\n    telemetry,\n    headers,\n    settings,\n    maxRetries,\n    abortSignal,\n    outputStrategy,\n    system,\n    prompt,\n    messages,\n    schemaName,\n    schemaDescription,\n    providerOptions,\n    repairText,\n    onError,\n    onFinish,\n    download: download2,\n    generateId: generateId2,\n    currentDate,\n    now: now2\n  });\n}\nvar DefaultStreamObjectResult = class {\n  constructor({\n    model: modelArg,\n    headers,\n    telemetry,\n    settings,\n    maxRetries: maxRetriesArg,\n    abortSignal,\n    outputStrategy,\n    system,\n    prompt,\n    messages,\n    schemaName,\n    schemaDescription,\n    providerOptions,\n    repairText,\n    onError,\n    onFinish,\n    download: download2,\n    generateId: generateId2,\n    currentDate,\n    now: now2\n  }) {\n    this._object = new DelayedPromise2();\n    this._usage = new DelayedPromise2();\n    this._providerMetadata = new DelayedPromise2();\n    this._warnings = new DelayedPromise2();\n    this._request = new DelayedPromise2();\n    this._response = new DelayedPromise2();\n    this._finishReason = new DelayedPromise2();\n    const model = resolveLanguageModel(modelArg);\n    const { maxRetries, retry } = prepareRetries({\n      maxRetries: maxRetriesArg,\n      abortSignal\n    });\n    const callSettings = prepareCallSettings(settings);\n    const baseTelemetryAttributes = getBaseTelemetryAttributes({\n      model,\n      telemetry,\n      headers,\n      settings: { ...callSettings, maxRetries }\n    });\n    const tracer = getTracer(telemetry);\n    const self = this;\n    const stitchableStream = createStitchableStream();\n    const eventProcessor = new TransformStream({\n      transform(chunk, controller) {\n        controller.enqueue(chunk);\n        if (chunk.type === \"error\") {\n          onError({ error: wrapGatewayError(chunk.error) });\n        }\n      }\n    });\n    this.baseStream = stitchableStream.stream.pipeThrough(eventProcessor);\n    recordSpan({\n      name: \"ai.streamObject\",\n      attributes: selectTelemetryAttributes({\n        telemetry,\n        attributes: {\n          ...assembleOperationName({\n            operationId: \"ai.streamObject\",\n            telemetry\n          }),\n          ...baseTelemetryAttributes,\n          // specific settings that only make sense on the outer level:\n          \"ai.prompt\": {\n            input: () => JSON.stringify({ system, prompt, messages })\n          },\n          \"ai.schema\": {\n            input: async () => JSON.stringify(await outputStrategy.jsonSchema())\n          },\n          \"ai.schema.name\": schemaName,\n          \"ai.schema.description\": schemaDescription,\n          \"ai.settings.output\": outputStrategy.type\n        }\n      }),\n      tracer,\n      endWhenDone: false,\n      fn: async (rootSpan) => {\n        const standardizedPrompt = await standardizePrompt({\n          system,\n          prompt,\n          messages\n        });\n        const callOptions = {\n          responseFormat: {\n            type: \"json\",\n            schema: await outputStrategy.jsonSchema(),\n            name: schemaName,\n            description: schemaDescription\n          },\n          ...prepareCallSettings(settings),\n          prompt: await convertToLanguageModelPrompt({\n            prompt: standardizedPrompt,\n            supportedUrls: await model.supportedUrls,\n            download: download2\n          }),\n          providerOptions,\n          abortSignal,\n          headers,\n          includeRawChunks: false\n        };\n        const transformer = {\n          transform: (chunk, controller) => {\n            switch (chunk.type) {\n              case \"text-delta\":\n                controller.enqueue(chunk.delta);\n                break;\n              case \"response-metadata\":\n              case \"finish\":\n              case \"error\":\n              case \"stream-start\":\n                controller.enqueue(chunk);\n                break;\n            }\n          }\n        };\n        const {\n          result: { stream, response, request },\n          doStreamSpan,\n          startTimestampMs\n        } = await retry(\n          () => recordSpan({\n            name: \"ai.streamObject.doStream\",\n            attributes: selectTelemetryAttributes({\n              telemetry,\n              attributes: {\n                ...assembleOperationName({\n                  operationId: \"ai.streamObject.doStream\",\n                  telemetry\n                }),\n                ...baseTelemetryAttributes,\n                \"ai.prompt.messages\": {\n                  input: () => stringifyForTelemetry(callOptions.prompt)\n                },\n                // standardized gen-ai llm span attributes:\n                \"gen_ai.system\": model.provider,\n                \"gen_ai.request.model\": model.modelId,\n                \"gen_ai.request.frequency_penalty\": callSettings.frequencyPenalty,\n                \"gen_ai.request.max_tokens\": callSettings.maxOutputTokens,\n                \"gen_ai.request.presence_penalty\": callSettings.presencePenalty,\n                \"gen_ai.request.temperature\": callSettings.temperature,\n                \"gen_ai.request.top_k\": callSettings.topK,\n                \"gen_ai.request.top_p\": callSettings.topP\n              }\n            }),\n            tracer,\n            endWhenDone: false,\n            fn: async (doStreamSpan2) => ({\n              startTimestampMs: now2(),\n              doStreamSpan: doStreamSpan2,\n              result: await model.doStream(callOptions)\n            })\n          })\n        );\n        self._request.resolve(request != null ? request : {});\n        let warnings;\n        let usage = createNullLanguageModelUsage();\n        let finishReason;\n        let providerMetadata;\n        let object2;\n        let error;\n        let accumulatedText = \"\";\n        let textDelta = \"\";\n        let fullResponse = {\n          id: generateId2(),\n          timestamp: currentDate(),\n          modelId: model.modelId\n        };\n        let latestObjectJson = void 0;\n        let latestObject = void 0;\n        let isFirstChunk = true;\n        let isFirstDelta = true;\n        const transformedStream = stream.pipeThrough(new TransformStream(transformer)).pipeThrough(\n          new TransformStream({\n            async transform(chunk, controller) {\n              var _a16, _b, _c;\n              if (typeof chunk === \"object\" && chunk.type === \"stream-start\") {\n                warnings = chunk.warnings;\n                return;\n              }\n              if (isFirstChunk) {\n                const msToFirstChunk = now2() - startTimestampMs;\n                isFirstChunk = false;\n                doStreamSpan.addEvent(\"ai.stream.firstChunk\", {\n                  \"ai.stream.msToFirstChunk\": msToFirstChunk\n                });\n                doStreamSpan.setAttributes({\n                  \"ai.stream.msToFirstChunk\": msToFirstChunk\n                });\n              }\n              if (typeof chunk === \"string\") {\n                accumulatedText += chunk;\n                textDelta += chunk;\n                const { value: currentObjectJson, state: parseState } = await parsePartialJson(accumulatedText);\n                if (currentObjectJson !== void 0 && !isDeepEqualData(latestObjectJson, currentObjectJson)) {\n                  const validationResult = await outputStrategy.validatePartialResult({\n                    value: currentObjectJson,\n                    textDelta,\n                    latestObject,\n                    isFirstDelta,\n                    isFinalDelta: parseState === \"successful-parse\"\n                  });\n                  if (validationResult.success && !isDeepEqualData(\n                    latestObject,\n                    validationResult.value.partial\n                  )) {\n                    latestObjectJson = currentObjectJson;\n                    latestObject = validationResult.value.partial;\n                    controller.enqueue({\n                      type: \"object\",\n                      object: latestObject\n                    });\n                    controller.enqueue({\n                      type: \"text-delta\",\n                      textDelta: validationResult.value.textDelta\n                    });\n                    textDelta = \"\";\n                    isFirstDelta = false;\n                  }\n                }\n                return;\n              }\n              switch (chunk.type) {\n                case \"response-metadata\": {\n                  fullResponse = {\n                    id: (_a16 = chunk.id) != null ? _a16 : fullResponse.id,\n                    timestamp: (_b = chunk.timestamp) != null ? _b : fullResponse.timestamp,\n                    modelId: (_c = chunk.modelId) != null ? _c : fullResponse.modelId\n                  };\n                  break;\n                }\n                case \"finish\": {\n                  if (textDelta !== \"\") {\n                    controller.enqueue({ type: \"text-delta\", textDelta });\n                  }\n                  finishReason = chunk.finishReason.unified;\n                  usage = asLanguageModelUsage(chunk.usage);\n                  providerMetadata = chunk.providerMetadata;\n                  controller.enqueue({\n                    ...chunk,\n                    finishReason: chunk.finishReason.unified,\n                    usage,\n                    response: fullResponse\n                  });\n                  logWarnings({\n                    warnings: warnings != null ? warnings : [],\n                    provider: model.provider,\n                    model: model.modelId\n                  });\n                  self._usage.resolve(usage);\n                  self._providerMetadata.resolve(providerMetadata);\n                  self._warnings.resolve(warnings);\n                  self._response.resolve({\n                    ...fullResponse,\n                    headers: response == null ? void 0 : response.headers\n                  });\n                  self._finishReason.resolve(finishReason != null ? finishReason : \"other\");\n                  try {\n                    object2 = await parseAndValidateObjectResultWithRepair(\n                      accumulatedText,\n                      outputStrategy,\n                      repairText,\n                      {\n                        response: fullResponse,\n                        usage,\n                        finishReason\n                      }\n                    );\n                    self._object.resolve(object2);\n                  } catch (e) {\n                    error = e;\n                    self._object.reject(e);\n                  }\n                  break;\n                }\n                default: {\n                  controller.enqueue(chunk);\n                  break;\n                }\n              }\n            },\n            // invoke onFinish callback and resolve toolResults promise when the stream is about to close:\n            async flush(controller) {\n              try {\n                const finalUsage = usage != null ? usage : {\n                  promptTokens: NaN,\n                  completionTokens: NaN,\n                  totalTokens: NaN\n                };\n                doStreamSpan.setAttributes(\n                  await selectTelemetryAttributes({\n                    telemetry,\n                    attributes: {\n                      \"ai.response.finishReason\": finishReason,\n                      \"ai.response.object\": {\n                        output: () => JSON.stringify(object2)\n                      },\n                      \"ai.response.id\": fullResponse.id,\n                      \"ai.response.model\": fullResponse.modelId,\n                      \"ai.response.timestamp\": fullResponse.timestamp.toISOString(),\n                      \"ai.response.providerMetadata\": JSON.stringify(providerMetadata),\n                      \"ai.usage.inputTokens\": finalUsage.inputTokens,\n                      \"ai.usage.outputTokens\": finalUsage.outputTokens,\n                      \"ai.usage.totalTokens\": finalUsage.totalTokens,\n                      \"ai.usage.reasoningTokens\": finalUsage.reasoningTokens,\n                      \"ai.usage.cachedInputTokens\": finalUsage.cachedInputTokens,\n                      // standardized gen-ai llm span attributes:\n                      \"gen_ai.response.finish_reasons\": [finishReason],\n                      \"gen_ai.response.id\": fullResponse.id,\n                      \"gen_ai.response.model\": fullResponse.modelId,\n                      \"gen_ai.usage.input_tokens\": finalUsage.inputTokens,\n                      \"gen_ai.usage.output_tokens\": finalUsage.outputTokens\n                    }\n                  })\n                );\n                doStreamSpan.end();\n                rootSpan.setAttributes(\n                  await selectTelemetryAttributes({\n                    telemetry,\n                    attributes: {\n                      \"ai.usage.inputTokens\": finalUsage.inputTokens,\n                      \"ai.usage.outputTokens\": finalUsage.outputTokens,\n                      \"ai.usage.totalTokens\": finalUsage.totalTokens,\n                      \"ai.usage.reasoningTokens\": finalUsage.reasoningTokens,\n                      \"ai.usage.cachedInputTokens\": finalUsage.cachedInputTokens,\n                      \"ai.response.object\": {\n                        output: () => JSON.stringify(object2)\n                      },\n                      \"ai.response.providerMetadata\": JSON.stringify(providerMetadata)\n                    }\n                  })\n                );\n                await (onFinish == null ? void 0 : onFinish({\n                  usage: finalUsage,\n                  object: object2,\n                  error,\n                  response: {\n                    ...fullResponse,\n                    headers: response == null ? void 0 : response.headers\n                  },\n                  warnings,\n                  providerMetadata\n                }));\n              } catch (error2) {\n                controller.enqueue({ type: \"error\", error: error2 });\n              } finally {\n                rootSpan.end();\n              }\n            }\n          })\n        );\n        stitchableStream.addStream(transformedStream);\n      }\n    }).catch((error) => {\n      stitchableStream.addStream(\n        new ReadableStream({\n          start(controller) {\n            controller.enqueue({ type: \"error\", error });\n            controller.close();\n          }\n        })\n      );\n    }).finally(() => {\n      stitchableStream.close();\n    });\n    this.outputStrategy = outputStrategy;\n  }\n  get object() {\n    return this._object.promise;\n  }\n  get usage() {\n    return this._usage.promise;\n  }\n  get providerMetadata() {\n    return this._providerMetadata.promise;\n  }\n  get warnings() {\n    return this._warnings.promise;\n  }\n  get request() {\n    return this._request.promise;\n  }\n  get response() {\n    return this._response.promise;\n  }\n  get finishReason() {\n    return this._finishReason.promise;\n  }\n  get partialObjectStream() {\n    return createAsyncIterableStream(\n      this.baseStream.pipeThrough(\n        new TransformStream({\n          transform(chunk, controller) {\n            switch (chunk.type) {\n              case \"object\":\n                controller.enqueue(chunk.object);\n                break;\n              case \"text-delta\":\n              case \"finish\":\n              case \"error\":\n                break;\n              default: {\n                const _exhaustiveCheck = chunk;\n                throw new Error(`Unsupported chunk type: ${_exhaustiveCheck}`);\n              }\n            }\n          }\n        })\n      )\n    );\n  }\n  get elementStream() {\n    return this.outputStrategy.createElementStream(this.baseStream);\n  }\n  get textStream() {\n    return createAsyncIterableStream(\n      this.baseStream.pipeThrough(\n        new TransformStream({\n          transform(chunk, controller) {\n            switch (chunk.type) {\n              case \"text-delta\":\n                controller.enqueue(chunk.textDelta);\n                break;\n              case \"object\":\n              case \"finish\":\n              case \"error\":\n                break;\n              default: {\n                const _exhaustiveCheck = chunk;\n                throw new Error(`Unsupported chunk type: ${_exhaustiveCheck}`);\n              }\n            }\n          }\n        })\n      )\n    );\n  }\n  get fullStream() {\n    return createAsyncIterableStream(this.baseStream);\n  }\n  pipeTextStreamToResponse(response, init) {\n    pipeTextStreamToResponse({\n      response,\n      textStream: this.textStream,\n      ...init\n    });\n  }\n  toTextStreamResponse(init) {\n    return createTextStreamResponse({\n      textStream: this.textStream,\n      ...init\n    });\n  }\n};\n\n// src/generate-speech/generate-speech.ts\nimport { withUserAgentSuffix as withUserAgentSuffix7 } from \"@ai-sdk/provider-utils\";\n\n// src/generate-speech/generated-audio-file.ts\nvar DefaultGeneratedAudioFile = class extends DefaultGeneratedFile {\n  constructor({\n    data,\n    mediaType\n  }) {\n    super({ data, mediaType });\n    let format = \"mp3\";\n    if (mediaType) {\n      const mediaTypeParts = mediaType.split(\"/\");\n      if (mediaTypeParts.length === 2) {\n        if (mediaType !== \"audio/mpeg\") {\n          format = mediaTypeParts[1];\n        }\n      }\n    }\n    if (!format) {\n      throw new Error(\n        \"Audio format must be provided or determinable from media type\"\n      );\n    }\n    this.format = format;\n  }\n};\n\n// src/generate-speech/generate-speech.ts\nasync function generateSpeech({\n  model,\n  text: text2,\n  voice,\n  outputFormat,\n  instructions,\n  speed,\n  language,\n  providerOptions = {},\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers\n}) {\n  var _a16;\n  const resolvedModel = resolveSpeechModel(model);\n  if (!resolvedModel) {\n    throw new Error(\"Model could not be resolved\");\n  }\n  const headersWithUserAgent = withUserAgentSuffix7(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const { retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const result = await retry(\n    () => resolvedModel.doGenerate({\n      text: text2,\n      voice,\n      outputFormat,\n      instructions,\n      speed,\n      language,\n      abortSignal,\n      headers: headersWithUserAgent,\n      providerOptions\n    })\n  );\n  if (!result.audio || result.audio.length === 0) {\n    throw new NoSpeechGeneratedError({ responses: [result.response] });\n  }\n  logWarnings({\n    warnings: result.warnings,\n    provider: resolvedModel.provider,\n    model: resolvedModel.modelId\n  });\n  return new DefaultSpeechResult({\n    audio: new DefaultGeneratedAudioFile({\n      data: result.audio,\n      mediaType: (_a16 = detectMediaType({\n        data: result.audio,\n        signatures: audioMediaTypeSignatures\n      })) != null ? _a16 : \"audio/mp3\"\n    }),\n    warnings: result.warnings,\n    responses: [result.response],\n    providerMetadata: result.providerMetadata\n  });\n}\nvar DefaultSpeechResult = class {\n  constructor(options) {\n    var _a16;\n    this.audio = options.audio;\n    this.warnings = options.warnings;\n    this.responses = options.responses;\n    this.providerMetadata = (_a16 = options.providerMetadata) != null ? _a16 : {};\n  }\n};\n\n// src/generate-text/prune-messages.ts\nfunction pruneMessages({\n  messages,\n  reasoning = \"none\",\n  toolCalls = [],\n  emptyMessages = \"remove\"\n}) {\n  if (reasoning === \"all\" || reasoning === \"before-last-message\") {\n    messages = messages.map((message, messageIndex) => {\n      if (message.role !== \"assistant\" || typeof message.content === \"string\" || reasoning === \"before-last-message\" && messageIndex === messages.length - 1) {\n        return message;\n      }\n      return {\n        ...message,\n        content: message.content.filter((part) => part.type !== \"reasoning\")\n      };\n    });\n  }\n  if (toolCalls === \"none\") {\n    toolCalls = [];\n  } else if (toolCalls === \"all\") {\n    toolCalls = [{ type: \"all\" }];\n  } else if (toolCalls === \"before-last-message\") {\n    toolCalls = [{ type: \"before-last-message\" }];\n  } else if (typeof toolCalls === \"string\") {\n    toolCalls = [{ type: toolCalls }];\n  }\n  for (const toolCall of toolCalls) {\n    const keepLastMessagesCount = toolCall.type === \"all\" ? void 0 : toolCall.type === \"before-last-message\" ? 1 : Number(\n      toolCall.type.slice(\"before-last-\".length).slice(0, -\"-messages\".length)\n    );\n    const keptToolCallIds = /* @__PURE__ */ new Set();\n    const keptApprovalIds = /* @__PURE__ */ new Set();\n    if (keepLastMessagesCount != null) {\n      for (const message of messages.slice(-keepLastMessagesCount)) {\n        if ((message.role === \"assistant\" || message.role === \"tool\") && typeof message.content !== \"string\") {\n          for (const part of message.content) {\n            if (part.type === \"tool-call\" || part.type === \"tool-result\") {\n              keptToolCallIds.add(part.toolCallId);\n            } else if (part.type === \"tool-approval-request\" || part.type === \"tool-approval-response\") {\n              keptApprovalIds.add(part.approvalId);\n            }\n          }\n        }\n      }\n    }\n    messages = messages.map((message, messageIndex) => {\n      if (message.role !== \"assistant\" && message.role !== \"tool\" || typeof message.content === \"string\" || keepLastMessagesCount && messageIndex >= messages.length - keepLastMessagesCount) {\n        return message;\n      }\n      const toolCallIdToToolName = {};\n      const approvalIdToToolName = {};\n      return {\n        ...message,\n        content: message.content.filter((part) => {\n          if (part.type !== \"tool-call\" && part.type !== \"tool-result\" && part.type !== \"tool-approval-request\" && part.type !== \"tool-approval-response\") {\n            return true;\n          }\n          if (part.type === \"tool-call\") {\n            toolCallIdToToolName[part.toolCallId] = part.toolName;\n          } else if (part.type === \"tool-approval-request\") {\n            approvalIdToToolName[part.approvalId] = toolCallIdToToolName[part.toolCallId];\n          }\n          if ((part.type === \"tool-call\" || part.type === \"tool-result\") && keptToolCallIds.has(part.toolCallId) || (part.type === \"tool-approval-request\" || part.type === \"tool-approval-response\") && keptApprovalIds.has(part.approvalId)) {\n            return true;\n          }\n          return toolCall.tools != null && !toolCall.tools.includes(\n            part.type === \"tool-call\" || part.type === \"tool-result\" ? part.toolName : approvalIdToToolName[part.approvalId]\n          );\n        })\n      };\n    });\n  }\n  if (emptyMessages === \"remove\") {\n    messages = messages.filter((message) => message.content.length > 0);\n  }\n  return messages;\n}\n\n// src/generate-text/smooth-stream.ts\nimport { delay as originalDelay } from \"@ai-sdk/provider-utils\";\nimport { InvalidArgumentError as InvalidArgumentError2 } from \"@ai-sdk/provider\";\nvar CHUNKING_REGEXPS = {\n  word: /\\S+\\s+/m,\n  line: /\\n+/m\n};\nfunction smoothStream({\n  delayInMs = 10,\n  chunking = \"word\",\n  _internal: { delay: delay2 = originalDelay } = {}\n} = {}) {\n  let detectChunk;\n  if (chunking != null && typeof chunking === \"object\" && \"segment\" in chunking && typeof chunking.segment === \"function\") {\n    const segmenter = chunking;\n    detectChunk = (buffer) => {\n      if (buffer.length === 0)\n        return null;\n      const iterator = segmenter.segment(buffer)[Symbol.iterator]();\n      const first = iterator.next().value;\n      return (first == null ? void 0 : first.segment) || null;\n    };\n  } else if (typeof chunking === \"function\") {\n    detectChunk = (buffer) => {\n      const match = chunking(buffer);\n      if (match == null) {\n        return null;\n      }\n      if (!match.length) {\n        throw new Error(`Chunking function must return a non-empty string.`);\n      }\n      if (!buffer.startsWith(match)) {\n        throw new Error(\n          `Chunking function must return a match that is a prefix of the buffer. Received: \"${match}\" expected to start with \"${buffer}\"`\n        );\n      }\n      return match;\n    };\n  } else {\n    const chunkingRegex = typeof chunking === \"string\" ? CHUNKING_REGEXPS[chunking] : chunking instanceof RegExp ? chunking : void 0;\n    if (chunkingRegex == null) {\n      throw new InvalidArgumentError2({\n        argument: \"chunking\",\n        message: `Chunking must be \"word\", \"line\", a RegExp, an Intl.Segmenter, or a ChunkDetector function. Received: ${chunking}`\n      });\n    }\n    detectChunk = (buffer) => {\n      const match = chunkingRegex.exec(buffer);\n      if (!match) {\n        return null;\n      }\n      return buffer.slice(0, match.index) + (match == null ? void 0 : match[0]);\n    };\n  }\n  return () => {\n    let buffer = \"\";\n    let id = \"\";\n    let type = void 0;\n    let providerMetadata = void 0;\n    function flushBuffer(controller) {\n      if (buffer.length > 0 && type !== void 0) {\n        controller.enqueue({\n          type,\n          text: buffer,\n          id,\n          ...providerMetadata != null ? { providerMetadata } : {}\n        });\n        buffer = \"\";\n        providerMetadata = void 0;\n      }\n    }\n    return new TransformStream({\n      async transform(chunk, controller) {\n        if (chunk.type !== \"text-delta\" && chunk.type !== \"reasoning-delta\") {\n          flushBuffer(controller);\n          controller.enqueue(chunk);\n          return;\n        }\n        if ((chunk.type !== type || chunk.id !== id) && buffer.length > 0) {\n          flushBuffer(controller);\n        }\n        buffer += chunk.text;\n        id = chunk.id;\n        type = chunk.type;\n        if (chunk.providerMetadata != null) {\n          providerMetadata = chunk.providerMetadata;\n        }\n        let match;\n        while ((match = detectChunk(buffer)) != null) {\n          controller.enqueue({ type, text: match, id });\n          buffer = buffer.slice(match.length);\n          await delay2(delayInMs);\n        }\n      }\n    });\n  };\n}\n\n// src/middleware/default-embedding-settings-middleware.ts\nfunction defaultEmbeddingSettingsMiddleware({\n  settings\n}) {\n  return {\n    specificationVersion: \"v3\",\n    transformParams: async ({ params }) => {\n      return mergeObjects(settings, params);\n    }\n  };\n}\n\n// src/middleware/default-settings-middleware.ts\nfunction defaultSettingsMiddleware({\n  settings\n}) {\n  return {\n    specificationVersion: \"v3\",\n    transformParams: async ({ params }) => {\n      return mergeObjects(settings, params);\n    }\n  };\n}\n\n// src/middleware/extract-json-middleware.ts\nfunction defaultTransform(text2) {\n  return text2.replace(/^```(?:json)?\\s*\\n?/, \"\").replace(/\\n?```\\s*$/, \"\").trim();\n}\nfunction extractJsonMiddleware(options) {\n  var _a16;\n  const transform = (_a16 = options == null ? void 0 : options.transform) != null ? _a16 : defaultTransform;\n  const hasCustomTransform = (options == null ? void 0 : options.transform) !== void 0;\n  return {\n    specificationVersion: \"v3\",\n    wrapGenerate: async ({ doGenerate }) => {\n      const { content, ...rest } = await doGenerate();\n      const transformedContent = [];\n      for (const part of content) {\n        if (part.type !== \"text\") {\n          transformedContent.push(part);\n          continue;\n        }\n        transformedContent.push({\n          ...part,\n          text: transform(part.text)\n        });\n      }\n      return { content: transformedContent, ...rest };\n    },\n    wrapStream: async ({ doStream }) => {\n      const { stream, ...rest } = await doStream();\n      const textBlocks = {};\n      const SUFFIX_BUFFER_SIZE = 12;\n      return {\n        stream: stream.pipeThrough(\n          new TransformStream({\n            transform: (chunk, controller) => {\n              if (chunk.type === \"text-start\") {\n                textBlocks[chunk.id] = {\n                  startEvent: chunk,\n                  // Custom transforms need to buffer all content\n                  phase: hasCustomTransform ? \"buffering\" : \"prefix\",\n                  buffer: \"\",\n                  prefixStripped: false\n                };\n                return;\n              }\n              if (chunk.type === \"text-delta\") {\n                const block = textBlocks[chunk.id];\n                if (!block) {\n                  controller.enqueue(chunk);\n                  return;\n                }\n                block.buffer += chunk.delta;\n                if (block.phase === \"buffering\") {\n                  return;\n                }\n                if (block.phase === \"prefix\") {\n                  if (block.buffer.length > 0 && !block.buffer.startsWith(\"`\")) {\n                    block.phase = \"streaming\";\n                    controller.enqueue(block.startEvent);\n                  } else if (block.buffer.startsWith(\"```\")) {\n                    if (block.buffer.includes(\"\\n\")) {\n                      const prefixMatch = block.buffer.match(/^```(?:json)?\\s*\\n/);\n                      if (prefixMatch) {\n                        block.buffer = block.buffer.slice(\n                          prefixMatch[0].length\n                        );\n                        block.prefixStripped = true;\n                        block.phase = \"streaming\";\n                        controller.enqueue(block.startEvent);\n                      } else {\n                        block.phase = \"streaming\";\n                        controller.enqueue(block.startEvent);\n                      }\n                    }\n                  } else if (block.buffer.length >= 3 && !block.buffer.startsWith(\"```\")) {\n                    block.phase = \"streaming\";\n                    controller.enqueue(block.startEvent);\n                  }\n                }\n                if (block.phase === \"streaming\" && block.buffer.length > SUFFIX_BUFFER_SIZE) {\n                  const toStream = block.buffer.slice(0, -SUFFIX_BUFFER_SIZE);\n                  block.buffer = block.buffer.slice(-SUFFIX_BUFFER_SIZE);\n                  controller.enqueue({\n                    type: \"text-delta\",\n                    id: chunk.id,\n                    delta: toStream\n                  });\n                }\n                return;\n              }\n              if (chunk.type === \"text-end\") {\n                const block = textBlocks[chunk.id];\n                if (block) {\n                  if (block.phase === \"prefix\" || block.phase === \"buffering\") {\n                    controller.enqueue(block.startEvent);\n                  }\n                  let remaining = block.buffer;\n                  if (block.phase === \"buffering\") {\n                    remaining = transform(remaining);\n                  } else if (block.prefixStripped) {\n                    remaining = remaining.replace(/\\n?```\\s*$/, \"\").trimEnd();\n                  } else {\n                    remaining = transform(remaining);\n                  }\n                  if (remaining.length > 0) {\n                    controller.enqueue({\n                      type: \"text-delta\",\n                      id: chunk.id,\n                      delta: remaining\n                    });\n                  }\n                  controller.enqueue(chunk);\n                  delete textBlocks[chunk.id];\n                  return;\n                }\n              }\n              controller.enqueue(chunk);\n            }\n          })\n        ),\n        ...rest\n      };\n    }\n  };\n}\n\n// src/util/get-potential-start-index.ts\nfunction getPotentialStartIndex(text2, searchedText) {\n  if (searchedText.length === 0) {\n    return null;\n  }\n  const directIndex = text2.indexOf(searchedText);\n  if (directIndex !== -1) {\n    return directIndex;\n  }\n  for (let i = text2.length - 1; i >= 0; i--) {\n    const suffix = text2.substring(i);\n    if (searchedText.startsWith(suffix)) {\n      return i;\n    }\n  }\n  return null;\n}\n\n// src/middleware/extract-reasoning-middleware.ts\nfunction extractReasoningMiddleware({\n  tagName,\n  separator = \"\\n\",\n  startWithReasoning = false\n}) {\n  const openingTag = `<${tagName}>`;\n  const closingTag = `</${tagName}>`;\n  return {\n    specificationVersion: \"v3\",\n    wrapGenerate: async ({ doGenerate }) => {\n      const { content, ...rest } = await doGenerate();\n      const transformedContent = [];\n      for (const part of content) {\n        if (part.type !== \"text\") {\n          transformedContent.push(part);\n          continue;\n        }\n        const text2 = startWithReasoning ? openingTag + part.text : part.text;\n        const regexp = new RegExp(`${openingTag}(.*?)${closingTag}`, \"gs\");\n        const matches = Array.from(text2.matchAll(regexp));\n        if (!matches.length) {\n          transformedContent.push(part);\n          continue;\n        }\n        const reasoningText = matches.map((match) => match[1]).join(separator);\n        let textWithoutReasoning = text2;\n        for (let i = matches.length - 1; i >= 0; i--) {\n          const match = matches[i];\n          const beforeMatch = textWithoutReasoning.slice(0, match.index);\n          const afterMatch = textWithoutReasoning.slice(\n            match.index + match[0].length\n          );\n          textWithoutReasoning = beforeMatch + (beforeMatch.length > 0 && afterMatch.length > 0 ? separator : \"\") + afterMatch;\n        }\n        transformedContent.push({\n          type: \"reasoning\",\n          text: reasoningText\n        });\n        transformedContent.push({\n          type: \"text\",\n          text: textWithoutReasoning\n        });\n      }\n      return { content: transformedContent, ...rest };\n    },\n    wrapStream: async ({ doStream }) => {\n      const { stream, ...rest } = await doStream();\n      const reasoningExtractions = {};\n      let delayedTextStart;\n      return {\n        stream: stream.pipeThrough(\n          new TransformStream({\n            transform: (chunk, controller) => {\n              if (chunk.type === \"text-start\") {\n                delayedTextStart = chunk;\n                return;\n              }\n              if (chunk.type === \"text-end\" && delayedTextStart) {\n                controller.enqueue(delayedTextStart);\n                delayedTextStart = void 0;\n              }\n              if (chunk.type !== \"text-delta\") {\n                controller.enqueue(chunk);\n                return;\n              }\n              if (reasoningExtractions[chunk.id] == null) {\n                reasoningExtractions[chunk.id] = {\n                  isFirstReasoning: true,\n                  isFirstText: true,\n                  afterSwitch: false,\n                  isReasoning: startWithReasoning,\n                  buffer: \"\",\n                  idCounter: 0,\n                  textId: chunk.id\n                };\n              }\n              const activeExtraction = reasoningExtractions[chunk.id];\n              activeExtraction.buffer += chunk.delta;\n              function publish(text2) {\n                if (text2.length > 0) {\n                  const prefix = activeExtraction.afterSwitch && (activeExtraction.isReasoning ? !activeExtraction.isFirstReasoning : !activeExtraction.isFirstText) ? separator : \"\";\n                  if (activeExtraction.isReasoning && (activeExtraction.afterSwitch || activeExtraction.isFirstReasoning)) {\n                    controller.enqueue({\n                      type: \"reasoning-start\",\n                      id: `reasoning-${activeExtraction.idCounter}`\n                    });\n                  }\n                  if (activeExtraction.isReasoning) {\n                    controller.enqueue({\n                      type: \"reasoning-delta\",\n                      delta: prefix + text2,\n                      id: `reasoning-${activeExtraction.idCounter}`\n                    });\n                  } else {\n                    if (delayedTextStart) {\n                      controller.enqueue(delayedTextStart);\n                      delayedTextStart = void 0;\n                    }\n                    controller.enqueue({\n                      type: \"text-delta\",\n                      delta: prefix + text2,\n                      id: activeExtraction.textId\n                    });\n                  }\n                  activeExtraction.afterSwitch = false;\n                  if (activeExtraction.isReasoning) {\n                    activeExtraction.isFirstReasoning = false;\n                  } else {\n                    activeExtraction.isFirstText = false;\n                  }\n                }\n              }\n              do {\n                const nextTag = activeExtraction.isReasoning ? closingTag : openingTag;\n                const startIndex = getPotentialStartIndex(\n                  activeExtraction.buffer,\n                  nextTag\n                );\n                if (startIndex == null) {\n                  publish(activeExtraction.buffer);\n                  activeExtraction.buffer = \"\";\n                  break;\n                }\n                publish(activeExtraction.buffer.slice(0, startIndex));\n                const foundFullMatch = startIndex + nextTag.length <= activeExtraction.buffer.length;\n                if (foundFullMatch) {\n                  activeExtraction.buffer = activeExtraction.buffer.slice(\n                    startIndex + nextTag.length\n                  );\n                  if (activeExtraction.isReasoning) {\n                    controller.enqueue({\n                      type: \"reasoning-end\",\n                      id: `reasoning-${activeExtraction.idCounter++}`\n                    });\n                  }\n                  activeExtraction.isReasoning = !activeExtraction.isReasoning;\n                  activeExtraction.afterSwitch = true;\n                } else {\n                  activeExtraction.buffer = activeExtraction.buffer.slice(startIndex);\n                  break;\n                }\n              } while (true);\n            }\n          })\n        ),\n        ...rest\n      };\n    }\n  };\n}\n\n// src/middleware/simulate-streaming-middleware.ts\nfunction simulateStreamingMiddleware() {\n  return {\n    specificationVersion: \"v3\",\n    wrapStream: async ({ doGenerate }) => {\n      const result = await doGenerate();\n      let id = 0;\n      const simulatedStream = new ReadableStream({\n        start(controller) {\n          controller.enqueue({\n            type: \"stream-start\",\n            warnings: result.warnings\n          });\n          controller.enqueue({ type: \"response-metadata\", ...result.response });\n          for (const part of result.content) {\n            switch (part.type) {\n              case \"text\": {\n                if (part.text.length > 0) {\n                  controller.enqueue({ type: \"text-start\", id: String(id) });\n                  controller.enqueue({\n                    type: \"text-delta\",\n                    id: String(id),\n                    delta: part.text\n                  });\n                  controller.enqueue({ type: \"text-end\", id: String(id) });\n                  id++;\n                }\n                break;\n              }\n              case \"reasoning\": {\n                controller.enqueue({\n                  type: \"reasoning-start\",\n                  id: String(id),\n                  providerMetadata: part.providerMetadata\n                });\n                controller.enqueue({\n                  type: \"reasoning-delta\",\n                  id: String(id),\n                  delta: part.text\n                });\n                controller.enqueue({ type: \"reasoning-end\", id: String(id) });\n                id++;\n                break;\n              }\n              default: {\n                controller.enqueue(part);\n                break;\n              }\n            }\n          }\n          controller.enqueue({\n            type: \"finish\",\n            finishReason: result.finishReason,\n            usage: result.usage,\n            providerMetadata: result.providerMetadata\n          });\n          controller.close();\n        }\n      });\n      return {\n        stream: simulatedStream,\n        request: result.request,\n        response: result.response\n      };\n    }\n  };\n}\n\n// src/middleware/add-tool-input-examples-middleware.ts\nfunction defaultFormatExample(example) {\n  return JSON.stringify(example.input);\n}\nfunction addToolInputExamplesMiddleware({\n  prefix = \"Input Examples:\",\n  format = defaultFormatExample,\n  remove = true\n} = {}) {\n  return {\n    specificationVersion: \"v3\",\n    transformParams: async ({ params }) => {\n      var _a16;\n      if (!((_a16 = params.tools) == null ? void 0 : _a16.length)) {\n        return params;\n      }\n      const transformedTools = params.tools.map((tool2) => {\n        var _a17;\n        if (tool2.type !== \"function\" || !((_a17 = tool2.inputExamples) == null ? void 0 : _a17.length)) {\n          return tool2;\n        }\n        const formattedExamples = tool2.inputExamples.map((example, index) => format(example, index)).join(\"\\n\");\n        const examplesSection = `${prefix}\n${formattedExamples}`;\n        const toolDescription = tool2.description ? `${tool2.description}\n\n${examplesSection}` : examplesSection;\n        return {\n          ...tool2,\n          description: toolDescription,\n          inputExamples: remove ? void 0 : tool2.inputExamples\n        };\n      });\n      return {\n        ...params,\n        tools: transformedTools\n      };\n    }\n  };\n}\n\n// src/middleware/wrap-language-model.ts\nvar wrapLanguageModel = ({\n  model,\n  middleware: middlewareArg,\n  modelId,\n  providerId\n}) => {\n  return [...asArray(middlewareArg)].reverse().reduce((wrappedModel, middleware) => {\n    return doWrap({ model: wrappedModel, middleware, modelId, providerId });\n  }, model);\n};\nvar doWrap = ({\n  model,\n  middleware: {\n    transformParams,\n    wrapGenerate,\n    wrapStream,\n    overrideProvider,\n    overrideModelId,\n    overrideSupportedUrls\n  },\n  modelId,\n  providerId\n}) => {\n  var _a16, _b, _c;\n  async function doTransform({\n    params,\n    type\n  }) {\n    return transformParams ? await transformParams({ params, type, model }) : params;\n  }\n  return {\n    specificationVersion: \"v3\",\n    provider: (_a16 = providerId != null ? providerId : overrideProvider == null ? void 0 : overrideProvider({ model })) != null ? _a16 : model.provider,\n    modelId: (_b = modelId != null ? modelId : overrideModelId == null ? void 0 : overrideModelId({ model })) != null ? _b : model.modelId,\n    supportedUrls: (_c = overrideSupportedUrls == null ? void 0 : overrideSupportedUrls({ model })) != null ? _c : model.supportedUrls,\n    async doGenerate(params) {\n      const transformedParams = await doTransform({ params, type: \"generate\" });\n      const doGenerate = async () => model.doGenerate(transformedParams);\n      const doStream = async () => model.doStream(transformedParams);\n      return wrapGenerate ? wrapGenerate({\n        doGenerate,\n        doStream,\n        params: transformedParams,\n        model\n      }) : doGenerate();\n    },\n    async doStream(params) {\n      const transformedParams = await doTransform({ params, type: \"stream\" });\n      const doGenerate = async () => model.doGenerate(transformedParams);\n      const doStream = async () => model.doStream(transformedParams);\n      return wrapStream ? wrapStream({ doGenerate, doStream, params: transformedParams, model }) : doStream();\n    }\n  };\n};\n\n// src/middleware/wrap-embedding-model.ts\nvar wrapEmbeddingModel = ({\n  model,\n  middleware: middlewareArg,\n  modelId,\n  providerId\n}) => {\n  return [...asArray(middlewareArg)].reverse().reduce((wrappedModel, middleware) => {\n    return doWrap2({ model: wrappedModel, middleware, modelId, providerId });\n  }, model);\n};\nvar doWrap2 = ({\n  model,\n  middleware: {\n    transformParams,\n    wrapEmbed,\n    overrideProvider,\n    overrideModelId,\n    overrideMaxEmbeddingsPerCall,\n    overrideSupportsParallelCalls\n  },\n  modelId,\n  providerId\n}) => {\n  var _a16, _b, _c, _d;\n  async function doTransform({\n    params\n  }) {\n    return transformParams ? await transformParams({ params, model }) : params;\n  }\n  return {\n    specificationVersion: \"v3\",\n    provider: (_a16 = providerId != null ? providerId : overrideProvider == null ? void 0 : overrideProvider({ model })) != null ? _a16 : model.provider,\n    modelId: (_b = modelId != null ? modelId : overrideModelId == null ? void 0 : overrideModelId({ model })) != null ? _b : model.modelId,\n    maxEmbeddingsPerCall: (_c = overrideMaxEmbeddingsPerCall == null ? void 0 : overrideMaxEmbeddingsPerCall({ model })) != null ? _c : model.maxEmbeddingsPerCall,\n    supportsParallelCalls: (_d = overrideSupportsParallelCalls == null ? void 0 : overrideSupportsParallelCalls({ model })) != null ? _d : model.supportsParallelCalls,\n    async doEmbed(params) {\n      const transformedParams = await doTransform({ params });\n      const doEmbed = async () => model.doEmbed(transformedParams);\n      return wrapEmbed ? wrapEmbed({\n        doEmbed,\n        params: transformedParams,\n        model\n      }) : doEmbed();\n    }\n  };\n};\n\n// src/middleware/wrap-image-model.ts\nvar wrapImageModel = ({\n  model,\n  middleware: middlewareArg,\n  modelId,\n  providerId\n}) => {\n  return [...asArray(middlewareArg)].reverse().reduce((wrappedModel, middleware) => {\n    return doWrap3({ model: wrappedModel, middleware, modelId, providerId });\n  }, model);\n};\nvar doWrap3 = ({\n  model,\n  middleware: {\n    transformParams,\n    wrapGenerate,\n    overrideProvider,\n    overrideModelId,\n    overrideMaxImagesPerCall\n  },\n  modelId,\n  providerId\n}) => {\n  var _a16, _b, _c;\n  async function doTransform({ params }) {\n    return transformParams ? await transformParams({ params, model }) : params;\n  }\n  const maxImagesPerCallRaw = (_a16 = overrideMaxImagesPerCall == null ? void 0 : overrideMaxImagesPerCall({ model })) != null ? _a16 : model.maxImagesPerCall;\n  const maxImagesPerCall = maxImagesPerCallRaw instanceof Function ? maxImagesPerCallRaw.bind(model) : maxImagesPerCallRaw;\n  return {\n    specificationVersion: \"v3\",\n    provider: (_b = providerId != null ? providerId : overrideProvider == null ? void 0 : overrideProvider({ model })) != null ? _b : model.provider,\n    modelId: (_c = modelId != null ? modelId : overrideModelId == null ? void 0 : overrideModelId({ model })) != null ? _c : model.modelId,\n    maxImagesPerCall,\n    async doGenerate(params) {\n      const transformedParams = await doTransform({ params });\n      const doGenerate = async () => model.doGenerate(transformedParams);\n      return wrapGenerate ? wrapGenerate({\n        doGenerate,\n        params: transformedParams,\n        model\n      }) : doGenerate();\n    }\n  };\n};\n\n// src/model/as-provider-v3.ts\nfunction asProviderV3(provider) {\n  if (\"specificationVersion\" in provider && provider.specificationVersion === \"v3\") {\n    return provider;\n  }\n  const v2Provider = provider;\n  return {\n    specificationVersion: \"v3\",\n    languageModel: (modelId) => asLanguageModelV3(v2Provider.languageModel(modelId)),\n    embeddingModel: (modelId) => asEmbeddingModelV3(v2Provider.textEmbeddingModel(modelId)),\n    imageModel: (modelId) => asImageModelV3(v2Provider.imageModel(modelId)),\n    transcriptionModel: v2Provider.transcriptionModel ? (modelId) => asTranscriptionModelV3(v2Provider.transcriptionModel(modelId)) : void 0,\n    speechModel: v2Provider.speechModel ? (modelId) => asSpeechModelV3(v2Provider.speechModel(modelId)) : void 0,\n    rerankingModel: void 0\n    // v2 providers don't have reranking models\n  };\n}\n\n// src/middleware/wrap-provider.ts\nfunction wrapProvider({\n  provider,\n  languageModelMiddleware,\n  imageModelMiddleware\n}) {\n  const providerV3 = asProviderV3(provider);\n  return {\n    specificationVersion: \"v3\",\n    languageModel: (modelId) => wrapLanguageModel({\n      model: providerV3.languageModel(modelId),\n      middleware: languageModelMiddleware\n    }),\n    embeddingModel: providerV3.embeddingModel,\n    imageModel: (modelId) => {\n      let model = providerV3.imageModel(modelId);\n      if (imageModelMiddleware != null) {\n        model = wrapImageModel({ model, middleware: imageModelMiddleware });\n      }\n      return model;\n    },\n    transcriptionModel: providerV3.transcriptionModel,\n    speechModel: providerV3.speechModel,\n    rerankingModel: providerV3.rerankingModel\n  };\n}\n\n// src/registry/custom-provider.ts\nimport {\n  NoSuchModelError as NoSuchModelError2\n} from \"@ai-sdk/provider\";\nfunction customProvider({\n  languageModels,\n  embeddingModels,\n  imageModels,\n  transcriptionModels,\n  speechModels,\n  rerankingModels,\n  fallbackProvider: fallbackProviderArg\n}) {\n  const fallbackProvider = fallbackProviderArg ? asProviderV3(fallbackProviderArg) : void 0;\n  return {\n    specificationVersion: \"v3\",\n    languageModel(modelId) {\n      if (languageModels != null && modelId in languageModels) {\n        return languageModels[modelId];\n      }\n      if (fallbackProvider) {\n        return fallbackProvider.languageModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"languageModel\" });\n    },\n    embeddingModel(modelId) {\n      if (embeddingModels != null && modelId in embeddingModels) {\n        return embeddingModels[modelId];\n      }\n      if (fallbackProvider) {\n        return fallbackProvider.embeddingModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"embeddingModel\" });\n    },\n    imageModel(modelId) {\n      if (imageModels != null && modelId in imageModels) {\n        return imageModels[modelId];\n      }\n      if (fallbackProvider == null ? void 0 : fallbackProvider.imageModel) {\n        return fallbackProvider.imageModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"imageModel\" });\n    },\n    transcriptionModel(modelId) {\n      if (transcriptionModels != null && modelId in transcriptionModels) {\n        return transcriptionModels[modelId];\n      }\n      if (fallbackProvider == null ? void 0 : fallbackProvider.transcriptionModel) {\n        return fallbackProvider.transcriptionModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"transcriptionModel\" });\n    },\n    speechModel(modelId) {\n      if (speechModels != null && modelId in speechModels) {\n        return speechModels[modelId];\n      }\n      if (fallbackProvider == null ? void 0 : fallbackProvider.speechModel) {\n        return fallbackProvider.speechModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"speechModel\" });\n    },\n    rerankingModel(modelId) {\n      if (rerankingModels != null && modelId in rerankingModels) {\n        return rerankingModels[modelId];\n      }\n      if (fallbackProvider == null ? void 0 : fallbackProvider.rerankingModel) {\n        return fallbackProvider.rerankingModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"rerankingModel\" });\n    }\n  };\n}\nvar experimental_customProvider = customProvider;\n\n// src/registry/no-such-provider-error.ts\nimport { AISDKError as AISDKError20, NoSuchModelError as NoSuchModelError3 } from \"@ai-sdk/provider\";\nvar name15 = \"AI_NoSuchProviderError\";\nvar marker15 = `vercel.ai.error.${name15}`;\nvar symbol15 = Symbol.for(marker15);\nvar _a15;\nvar NoSuchProviderError = class extends NoSuchModelError3 {\n  constructor({\n    modelId,\n    modelType,\n    providerId,\n    availableProviders,\n    message = `No such provider: ${providerId} (available providers: ${availableProviders.join()})`\n  }) {\n    super({ errorName: name15, modelId, modelType, message });\n    this[_a15] = true;\n    this.providerId = providerId;\n    this.availableProviders = availableProviders;\n  }\n  static isInstance(error) {\n    return AISDKError20.hasMarker(error, marker15);\n  }\n};\n_a15 = symbol15;\n\n// src/registry/provider-registry.ts\nimport {\n  NoSuchModelError as NoSuchModelError4\n} from \"@ai-sdk/provider\";\nfunction createProviderRegistry(providers, {\n  separator = \":\",\n  languageModelMiddleware,\n  imageModelMiddleware\n} = {}) {\n  const registry = new DefaultProviderRegistry({\n    separator,\n    languageModelMiddleware,\n    imageModelMiddleware\n  });\n  for (const [id, provider] of Object.entries(providers)) {\n    registry.registerProvider({ id, provider });\n  }\n  return registry;\n}\nvar experimental_createProviderRegistry = createProviderRegistry;\nvar DefaultProviderRegistry = class {\n  constructor({\n    separator,\n    languageModelMiddleware,\n    imageModelMiddleware\n  }) {\n    this.providers = {};\n    this.separator = separator;\n    this.languageModelMiddleware = languageModelMiddleware;\n    this.imageModelMiddleware = imageModelMiddleware;\n  }\n  registerProvider({\n    id,\n    provider\n  }) {\n    this.providers[id] = provider;\n  }\n  getProvider(id, modelType) {\n    const provider = this.providers[id];\n    if (provider == null) {\n      throw new NoSuchProviderError({\n        modelId: id,\n        modelType,\n        providerId: id,\n        availableProviders: Object.keys(this.providers)\n      });\n    }\n    return provider;\n  }\n  splitId(id, modelType) {\n    const index = id.indexOf(this.separator);\n    if (index === -1) {\n      throw new NoSuchModelError4({\n        modelId: id,\n        modelType,\n        message: `Invalid ${modelType} id for registry: ${id} (must be in the format \"providerId${this.separator}modelId\")`\n      });\n    }\n    return [id.slice(0, index), id.slice(index + this.separator.length)];\n  }\n  languageModel(id) {\n    var _a16, _b;\n    const [providerId, modelId] = this.splitId(id, \"languageModel\");\n    let model = (_b = (_a16 = this.getProvider(providerId, \"languageModel\")).languageModel) == null ? void 0 : _b.call(\n      _a16,\n      modelId\n    );\n    if (model == null) {\n      throw new NoSuchModelError4({ modelId: id, modelType: \"languageModel\" });\n    }\n    if (this.languageModelMiddleware != null) {\n      model = wrapLanguageModel({\n        model,\n        middleware: this.languageModelMiddleware\n      });\n    }\n    return model;\n  }\n  embeddingModel(id) {\n    var _a16;\n    const [providerId, modelId] = this.splitId(id, \"embeddingModel\");\n    const provider = this.getProvider(providerId, \"embeddingModel\");\n    const model = (_a16 = provider.embeddingModel) == null ? void 0 : _a16.call(provider, modelId);\n    if (model == null) {\n      throw new NoSuchModelError4({\n        modelId: id,\n        modelType: \"embeddingModel\"\n      });\n    }\n    return model;\n  }\n  imageModel(id) {\n    var _a16;\n    const [providerId, modelId] = this.splitId(id, \"imageModel\");\n    const provider = this.getProvider(providerId, \"imageModel\");\n    let model = (_a16 = provider.imageModel) == null ? void 0 : _a16.call(provider, modelId);\n    if (model == null) {\n      throw new NoSuchModelError4({ modelId: id, modelType: \"imageModel\" });\n    }\n    if (this.imageModelMiddleware != null) {\n      model = wrapImageModel({\n        model,\n        middleware: this.imageModelMiddleware\n      });\n    }\n    return model;\n  }\n  transcriptionModel(id) {\n    var _a16;\n    const [providerId, modelId] = this.splitId(id, \"transcriptionModel\");\n    const provider = this.getProvider(providerId, \"transcriptionModel\");\n    const model = (_a16 = provider.transcriptionModel) == null ? void 0 : _a16.call(provider, modelId);\n    if (model == null) {\n      throw new NoSuchModelError4({\n        modelId: id,\n        modelType: \"transcriptionModel\"\n      });\n    }\n    return model;\n  }\n  speechModel(id) {\n    var _a16;\n    const [providerId, modelId] = this.splitId(id, \"speechModel\");\n    const provider = this.getProvider(providerId, \"speechModel\");\n    const model = (_a16 = provider.speechModel) == null ? void 0 : _a16.call(provider, modelId);\n    if (model == null) {\n      throw new NoSuchModelError4({ modelId: id, modelType: \"speechModel\" });\n    }\n    return model;\n  }\n  rerankingModel(id) {\n    var _a16;\n    const [providerId, modelId] = this.splitId(id, \"rerankingModel\");\n    const provider = this.getProvider(providerId, \"rerankingModel\");\n    const model = (_a16 = provider.rerankingModel) == null ? void 0 : _a16.call(provider, modelId);\n    if (model == null) {\n      throw new NoSuchModelError4({ modelId: id, modelType: \"rerankingModel\" });\n    }\n    return model;\n  }\n};\n\n// src/rerank/rerank.ts\nasync function rerank({\n  model,\n  documents,\n  query,\n  topN,\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers,\n  providerOptions,\n  experimental_telemetry: telemetry\n}) {\n  if (documents.length === 0) {\n    return new DefaultRerankResult({\n      originalDocuments: [],\n      ranking: [],\n      providerMetadata: void 0,\n      response: {\n        timestamp: /* @__PURE__ */ new Date(),\n        modelId: model.modelId\n      }\n    });\n  }\n  const { maxRetries, retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const documentsToSend = typeof documents[0] === \"string\" ? { type: \"text\", values: documents } : { type: \"object\", values: documents };\n  const baseTelemetryAttributes = getBaseTelemetryAttributes({\n    model,\n    telemetry,\n    headers,\n    settings: { maxRetries }\n  });\n  const tracer = getTracer(telemetry);\n  return recordSpan({\n    name: \"ai.rerank\",\n    attributes: selectTelemetryAttributes({\n      telemetry,\n      attributes: {\n        ...assembleOperationName({ operationId: \"ai.rerank\", telemetry }),\n        ...baseTelemetryAttributes,\n        \"ai.documents\": {\n          input: () => documents.map((document) => JSON.stringify(document))\n        }\n      }\n    }),\n    tracer,\n    fn: async () => {\n      var _a16, _b;\n      const { ranking, response, providerMetadata, warnings } = await retry(\n        () => recordSpan({\n          name: \"ai.rerank.doRerank\",\n          attributes: selectTelemetryAttributes({\n            telemetry,\n            attributes: {\n              ...assembleOperationName({\n                operationId: \"ai.rerank.doRerank\",\n                telemetry\n              }),\n              ...baseTelemetryAttributes,\n              // specific settings that only make sense on the outer level:\n              \"ai.documents\": {\n                input: () => documents.map((document) => JSON.stringify(document))\n              }\n            }\n          }),\n          tracer,\n          fn: async (doRerankSpan) => {\n            const modelResponse = await model.doRerank({\n              documents: documentsToSend,\n              query,\n              topN,\n              providerOptions,\n              abortSignal,\n              headers\n            });\n            const ranking2 = modelResponse.ranking;\n            doRerankSpan.setAttributes(\n              await selectTelemetryAttributes({\n                telemetry,\n                attributes: {\n                  \"ai.ranking.type\": documentsToSend.type,\n                  \"ai.ranking\": {\n                    output: () => ranking2.map((ranking3) => JSON.stringify(ranking3))\n                  }\n                }\n              })\n            );\n            return {\n              ranking: ranking2,\n              providerMetadata: modelResponse.providerMetadata,\n              response: modelResponse.response,\n              warnings: modelResponse.warnings\n            };\n          }\n        })\n      );\n      logWarnings({\n        warnings: warnings != null ? warnings : [],\n        provider: model.provider,\n        model: model.modelId\n      });\n      return new DefaultRerankResult({\n        originalDocuments: documents,\n        ranking: ranking.map((ranking2) => ({\n          originalIndex: ranking2.index,\n          score: ranking2.relevanceScore,\n          document: documents[ranking2.index]\n        })),\n        providerMetadata,\n        response: {\n          id: response == null ? void 0 : response.id,\n          timestamp: (_a16 = response == null ? void 0 : response.timestamp) != null ? _a16 : /* @__PURE__ */ new Date(),\n          modelId: (_b = response == null ? void 0 : response.modelId) != null ? _b : model.modelId,\n          headers: response == null ? void 0 : response.headers,\n          body: response == null ? void 0 : response.body\n        }\n      });\n    }\n  });\n}\nvar DefaultRerankResult = class {\n  constructor(options) {\n    this.originalDocuments = options.originalDocuments;\n    this.ranking = options.ranking;\n    this.response = options.response;\n    this.providerMetadata = options.providerMetadata;\n  }\n  get rerankedDocuments() {\n    return this.ranking.map((ranking) => ranking.document);\n  }\n};\n\n// src/transcribe/transcribe.ts\nimport { withUserAgentSuffix as withUserAgentSuffix8 } from \"@ai-sdk/provider-utils\";\n\n// src/error/no-transcript-generated-error.ts\nimport { AISDKError as AISDKError21 } from \"@ai-sdk/provider\";\nvar NoTranscriptGeneratedError = class extends AISDKError21 {\n  constructor(options) {\n    super({\n      name: \"AI_NoTranscriptGeneratedError\",\n      message: \"No transcript generated.\"\n    });\n    this.responses = options.responses;\n  }\n};\n\n// src/transcribe/transcribe.ts\nasync function transcribe({\n  model,\n  audio,\n  providerOptions = {},\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers\n}) {\n  const resolvedModel = resolveTranscriptionModel(model);\n  if (!resolvedModel) {\n    throw new Error(\"Model could not be resolved\");\n  }\n  const { retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const headersWithUserAgent = withUserAgentSuffix8(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const audioData = audio instanceof URL ? (await download({ url: audio })).data : convertDataContentToUint8Array(audio);\n  const result = await retry(\n    () => {\n      var _a16;\n      return resolvedModel.doGenerate({\n        audio: audioData,\n        abortSignal,\n        headers: headersWithUserAgent,\n        providerOptions,\n        mediaType: (_a16 = detectMediaType({\n          data: audioData,\n          signatures: audioMediaTypeSignatures\n        })) != null ? _a16 : \"audio/wav\"\n      });\n    }\n  );\n  logWarnings({\n    warnings: result.warnings,\n    provider: resolvedModel.provider,\n    model: resolvedModel.modelId\n  });\n  if (!result.text) {\n    throw new NoTranscriptGeneratedError({ responses: [result.response] });\n  }\n  return new DefaultTranscriptionResult({\n    text: result.text,\n    segments: result.segments,\n    language: result.language,\n    durationInSeconds: result.durationInSeconds,\n    warnings: result.warnings,\n    responses: [result.response],\n    providerMetadata: result.providerMetadata\n  });\n}\nvar DefaultTranscriptionResult = class {\n  constructor(options) {\n    var _a16;\n    this.text = options.text;\n    this.segments = options.segments;\n    this.language = options.language;\n    this.durationInSeconds = options.durationInSeconds;\n    this.warnings = options.warnings;\n    this.responses = options.responses;\n    this.providerMetadata = (_a16 = options.providerMetadata) != null ? _a16 : {};\n  }\n};\n\n// src/ui/call-completion-api.ts\nimport {\n  parseJsonEventStream,\n  withUserAgentSuffix as withUserAgentSuffix9,\n  getRuntimeEnvironmentUserAgent as getRuntimeEnvironmentUserAgent2\n} from \"@ai-sdk/provider-utils\";\n\n// src/ui/process-text-stream.ts\nasync function processTextStream({\n  stream,\n  onTextPart\n}) {\n  const reader = stream.pipeThrough(new TextDecoderStream()).getReader();\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    await onTextPart(value);\n  }\n}\n\n// src/ui/call-completion-api.ts\nvar getOriginalFetch = () => fetch;\nasync function callCompletionApi({\n  api,\n  prompt,\n  credentials,\n  headers,\n  body,\n  streamProtocol = \"data\",\n  setCompletion,\n  setLoading,\n  setError,\n  setAbortController,\n  onFinish,\n  onError,\n  fetch: fetch2 = getOriginalFetch()\n}) {\n  var _a16;\n  try {\n    setLoading(true);\n    setError(void 0);\n    const abortController = new AbortController();\n    setAbortController(abortController);\n    setCompletion(\"\");\n    const response = await fetch2(api, {\n      method: \"POST\",\n      body: JSON.stringify({\n        prompt,\n        ...body\n      }),\n      credentials,\n      headers: withUserAgentSuffix9(\n        {\n          \"Content-Type\": \"application/json\",\n          ...headers\n        },\n        `ai-sdk/${VERSION}`,\n        getRuntimeEnvironmentUserAgent2()\n      ),\n      signal: abortController.signal\n    }).catch((err) => {\n      throw err;\n    });\n    if (!response.ok) {\n      throw new Error(\n        (_a16 = await response.text()) != null ? _a16 : \"Failed to fetch the chat response.\"\n      );\n    }\n    if (!response.body) {\n      throw new Error(\"The response body is empty.\");\n    }\n    let result = \"\";\n    switch (streamProtocol) {\n      case \"text\": {\n        await processTextStream({\n          stream: response.body,\n          onTextPart: (chunk) => {\n            result += chunk;\n            setCompletion(result);\n          }\n        });\n        break;\n      }\n      case \"data\": {\n        await consumeStream({\n          stream: parseJsonEventStream({\n            stream: response.body,\n            schema: uiMessageChunkSchema\n          }).pipeThrough(\n            new TransformStream({\n              async transform(part) {\n                if (!part.success) {\n                  throw part.error;\n                }\n                const streamPart = part.value;\n                if (streamPart.type === \"text-delta\") {\n                  result += streamPart.delta;\n                  setCompletion(result);\n                } else if (streamPart.type === \"error\") {\n                  throw new Error(streamPart.errorText);\n                }\n              }\n            })\n          ),\n          onError: (error) => {\n            throw error;\n          }\n        });\n        break;\n      }\n      default: {\n        const exhaustiveCheck = streamProtocol;\n        throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n      }\n    }\n    if (onFinish) {\n      onFinish(prompt, result);\n    }\n    setAbortController(null);\n    return result;\n  } catch (err) {\n    if (err.name === \"AbortError\") {\n      setAbortController(null);\n      return null;\n    }\n    if (err instanceof Error) {\n      if (onError) {\n        onError(err);\n      }\n    }\n    setError(err);\n  } finally {\n    setLoading(false);\n  }\n}\n\n// src/ui/chat.ts\nimport {\n  generateId as generateIdFunc2\n} from \"@ai-sdk/provider-utils\";\n\n// src/ui/convert-file-list-to-file-ui-parts.ts\nasync function convertFileListToFileUIParts(files) {\n  if (files == null) {\n    return [];\n  }\n  if (!globalThis.FileList || !(files instanceof globalThis.FileList)) {\n    throw new Error(\"FileList is not supported in the current environment\");\n  }\n  return Promise.all(\n    Array.from(files).map(async (file) => {\n      const { name: name16, type } = file;\n      const dataUrl = await new Promise((resolve3, reject) => {\n        const reader = new FileReader();\n        reader.onload = (readerEvent) => {\n          var _a16;\n          resolve3((_a16 = readerEvent.target) == null ? void 0 : _a16.result);\n        };\n        reader.onerror = (error) => reject(error);\n        reader.readAsDataURL(file);\n      });\n      return {\n        type: \"file\",\n        mediaType: type,\n        filename: name16,\n        url: dataUrl\n      };\n    })\n  );\n}\n\n// src/ui/default-chat-transport.ts\nimport { parseJsonEventStream as parseJsonEventStream2 } from \"@ai-sdk/provider-utils\";\n\n// src/ui/http-chat-transport.ts\nimport {\n  normalizeHeaders,\n  resolve as resolve2,\n  withUserAgentSuffix as withUserAgentSuffix10,\n  getRuntimeEnvironmentUserAgent as getRuntimeEnvironmentUserAgent3\n} from \"@ai-sdk/provider-utils\";\nvar HttpChatTransport = class {\n  constructor({\n    api = \"/api/chat\",\n    credentials,\n    headers,\n    body,\n    fetch: fetch2,\n    prepareSendMessagesRequest,\n    prepareReconnectToStreamRequest\n  }) {\n    this.api = api;\n    this.credentials = credentials;\n    this.headers = headers;\n    this.body = body;\n    this.fetch = fetch2;\n    this.prepareSendMessagesRequest = prepareSendMessagesRequest;\n    this.prepareReconnectToStreamRequest = prepareReconnectToStreamRequest;\n  }\n  async sendMessages({\n    abortSignal,\n    ...options\n  }) {\n    var _a16, _b, _c, _d, _e;\n    const resolvedBody = await resolve2(this.body);\n    const resolvedHeaders = await resolve2(this.headers);\n    const resolvedCredentials = await resolve2(this.credentials);\n    const baseHeaders = {\n      ...normalizeHeaders(resolvedHeaders),\n      ...normalizeHeaders(options.headers)\n    };\n    const preparedRequest = await ((_a16 = this.prepareSendMessagesRequest) == null ? void 0 : _a16.call(this, {\n      api: this.api,\n      id: options.chatId,\n      messages: options.messages,\n      body: { ...resolvedBody, ...options.body },\n      headers: baseHeaders,\n      credentials: resolvedCredentials,\n      requestMetadata: options.metadata,\n      trigger: options.trigger,\n      messageId: options.messageId\n    }));\n    const api = (_b = preparedRequest == null ? void 0 : preparedRequest.api) != null ? _b : this.api;\n    const headers = (preparedRequest == null ? void 0 : preparedRequest.headers) !== void 0 ? normalizeHeaders(preparedRequest.headers) : baseHeaders;\n    const body = (preparedRequest == null ? void 0 : preparedRequest.body) !== void 0 ? preparedRequest.body : {\n      ...resolvedBody,\n      ...options.body,\n      id: options.chatId,\n      messages: options.messages,\n      trigger: options.trigger,\n      messageId: options.messageId\n    };\n    const credentials = (_c = preparedRequest == null ? void 0 : preparedRequest.credentials) != null ? _c : resolvedCredentials;\n    const fetch2 = (_d = this.fetch) != null ? _d : globalThis.fetch;\n    const response = await fetch2(api, {\n      method: \"POST\",\n      headers: withUserAgentSuffix10(\n        {\n          \"Content-Type\": \"application/json\",\n          ...headers\n        },\n        `ai-sdk/${VERSION}`,\n        getRuntimeEnvironmentUserAgent3()\n      ),\n      body: JSON.stringify(body),\n      credentials,\n      signal: abortSignal\n    });\n    if (!response.ok) {\n      throw new Error(\n        (_e = await response.text()) != null ? _e : \"Failed to fetch the chat response.\"\n      );\n    }\n    if (!response.body) {\n      throw new Error(\"The response body is empty.\");\n    }\n    return this.processResponseStream(response.body);\n  }\n  async reconnectToStream(options) {\n    var _a16, _b, _c, _d, _e;\n    const resolvedBody = await resolve2(this.body);\n    const resolvedHeaders = await resolve2(this.headers);\n    const resolvedCredentials = await resolve2(this.credentials);\n    const baseHeaders = {\n      ...normalizeHeaders(resolvedHeaders),\n      ...normalizeHeaders(options.headers)\n    };\n    const preparedRequest = await ((_a16 = this.prepareReconnectToStreamRequest) == null ? void 0 : _a16.call(this, {\n      api: this.api,\n      id: options.chatId,\n      body: { ...resolvedBody, ...options.body },\n      headers: baseHeaders,\n      credentials: resolvedCredentials,\n      requestMetadata: options.metadata\n    }));\n    const api = (_b = preparedRequest == null ? void 0 : preparedRequest.api) != null ? _b : `${this.api}/${options.chatId}/stream`;\n    const headers = (preparedRequest == null ? void 0 : preparedRequest.headers) !== void 0 ? normalizeHeaders(preparedRequest.headers) : baseHeaders;\n    const credentials = (_c = preparedRequest == null ? void 0 : preparedRequest.credentials) != null ? _c : resolvedCredentials;\n    const fetch2 = (_d = this.fetch) != null ? _d : globalThis.fetch;\n    const response = await fetch2(api, {\n      method: \"GET\",\n      headers: withUserAgentSuffix10(\n        headers,\n        `ai-sdk/${VERSION}`,\n        getRuntimeEnvironmentUserAgent3()\n      ),\n      credentials\n    });\n    if (response.status === 204) {\n      return null;\n    }\n    if (!response.ok) {\n      throw new Error(\n        (_e = await response.text()) != null ? _e : \"Failed to fetch the chat response.\"\n      );\n    }\n    if (!response.body) {\n      throw new Error(\"The response body is empty.\");\n    }\n    return this.processResponseStream(response.body);\n  }\n};\n\n// src/ui/default-chat-transport.ts\nvar DefaultChatTransport = class extends HttpChatTransport {\n  constructor(options = {}) {\n    super(options);\n  }\n  processResponseStream(stream) {\n    return parseJsonEventStream2({\n      stream,\n      schema: uiMessageChunkSchema\n    }).pipeThrough(\n      new TransformStream({\n        async transform(chunk, controller) {\n          if (!chunk.success) {\n            throw chunk.error;\n          }\n          controller.enqueue(chunk.value);\n        }\n      })\n    );\n  }\n};\n\n// src/ui/chat.ts\nvar AbstractChat = class {\n  constructor({\n    generateId: generateId2 = generateIdFunc2,\n    id = generateId2(),\n    transport = new DefaultChatTransport(),\n    messageMetadataSchema,\n    dataPartSchemas,\n    state,\n    onError,\n    onToolCall,\n    onFinish,\n    onData,\n    sendAutomaticallyWhen\n  }) {\n    this.activeResponse = void 0;\n    this.jobExecutor = new SerialJobExecutor();\n    /**\n     * Appends or replaces a user message to the chat list. This triggers the API call to fetch\n     * the assistant's response.\n     *\n     * If a messageId is provided, the message will be replaced.\n     */\n    this.sendMessage = async (message, options) => {\n      var _a16, _b, _c, _d;\n      if (message == null) {\n        await this.makeRequest({\n          trigger: \"submit-message\",\n          messageId: (_a16 = this.lastMessage) == null ? void 0 : _a16.id,\n          ...options\n        });\n        return;\n      }\n      let uiMessage;\n      if (\"text\" in message || \"files\" in message) {\n        const fileParts = Array.isArray(message.files) ? message.files : await convertFileListToFileUIParts(message.files);\n        uiMessage = {\n          parts: [\n            ...fileParts,\n            ...\"text\" in message && message.text != null ? [{ type: \"text\", text: message.text }] : []\n          ]\n        };\n      } else {\n        uiMessage = message;\n      }\n      if (message.messageId != null) {\n        const messageIndex = this.state.messages.findIndex(\n          (m) => m.id === message.messageId\n        );\n        if (messageIndex === -1) {\n          throw new Error(`message with id ${message.messageId} not found`);\n        }\n        if (this.state.messages[messageIndex].role !== \"user\") {\n          throw new Error(\n            `message with id ${message.messageId} is not a user message`\n          );\n        }\n        this.state.messages = this.state.messages.slice(0, messageIndex + 1);\n        this.state.replaceMessage(messageIndex, {\n          ...uiMessage,\n          id: message.messageId,\n          role: (_b = uiMessage.role) != null ? _b : \"user\",\n          metadata: message.metadata\n        });\n      } else {\n        this.state.pushMessage({\n          ...uiMessage,\n          id: (_c = uiMessage.id) != null ? _c : this.generateId(),\n          role: (_d = uiMessage.role) != null ? _d : \"user\",\n          metadata: message.metadata\n        });\n      }\n      await this.makeRequest({\n        trigger: \"submit-message\",\n        messageId: message.messageId,\n        ...options\n      });\n    };\n    /**\n     * Regenerate the assistant message with the provided message id.\n     * If no message id is provided, the last assistant message will be regenerated.\n     */\n    this.regenerate = async ({\n      messageId,\n      ...options\n    } = {}) => {\n      const messageIndex = messageId == null ? this.state.messages.length - 1 : this.state.messages.findIndex((message) => message.id === messageId);\n      if (messageIndex === -1) {\n        throw new Error(`message ${messageId} not found`);\n      }\n      this.state.messages = this.state.messages.slice(\n        0,\n        // if the message is a user message, we need to include it in the request:\n        this.messages[messageIndex].role === \"assistant\" ? messageIndex : messageIndex + 1\n      );\n      await this.makeRequest({\n        trigger: \"regenerate-message\",\n        messageId,\n        ...options\n      });\n    };\n    /**\n     * Attempt to resume an ongoing streaming response.\n     */\n    this.resumeStream = async (options = {}) => {\n      await this.makeRequest({ trigger: \"resume-stream\", ...options });\n    };\n    /**\n     * Clear the error state and set the status to ready if the chat is in an error state.\n     */\n    this.clearError = () => {\n      if (this.status === \"error\") {\n        this.state.error = void 0;\n        this.setStatus({ status: \"ready\" });\n      }\n    };\n    this.addToolApprovalResponse = async ({\n      id,\n      approved,\n      reason\n    }) => this.jobExecutor.run(async () => {\n      var _a16, _b;\n      const messages = this.state.messages;\n      const lastMessage = messages[messages.length - 1];\n      const updatePart = (part) => isToolUIPart(part) && part.state === \"approval-requested\" && part.approval.id === id ? {\n        ...part,\n        state: \"approval-responded\",\n        approval: { id, approved, reason }\n      } : part;\n      this.state.replaceMessage(messages.length - 1, {\n        ...lastMessage,\n        parts: lastMessage.parts.map(updatePart)\n      });\n      if (this.activeResponse) {\n        this.activeResponse.state.message.parts = this.activeResponse.state.message.parts.map(updatePart);\n      }\n      if (this.status !== \"streaming\" && this.status !== \"submitted\" && ((_a16 = this.sendAutomaticallyWhen) == null ? void 0 : _a16.call(this, { messages: this.state.messages }))) {\n        this.makeRequest({\n          trigger: \"submit-message\",\n          messageId: (_b = this.lastMessage) == null ? void 0 : _b.id\n        });\n      }\n    });\n    this.addToolOutput = async ({\n      state = \"output-available\",\n      tool: tool2,\n      toolCallId,\n      output,\n      errorText\n    }) => this.jobExecutor.run(async () => {\n      var _a16, _b;\n      const messages = this.state.messages;\n      const lastMessage = messages[messages.length - 1];\n      const updatePart = (part) => isToolUIPart(part) && part.toolCallId === toolCallId ? { ...part, state, output, errorText } : part;\n      this.state.replaceMessage(messages.length - 1, {\n        ...lastMessage,\n        parts: lastMessage.parts.map(updatePart)\n      });\n      if (this.activeResponse) {\n        this.activeResponse.state.message.parts = this.activeResponse.state.message.parts.map(updatePart);\n      }\n      if (this.status !== \"streaming\" && this.status !== \"submitted\" && ((_a16 = this.sendAutomaticallyWhen) == null ? void 0 : _a16.call(this, { messages: this.state.messages }))) {\n        this.makeRequest({\n          trigger: \"submit-message\",\n          messageId: (_b = this.lastMessage) == null ? void 0 : _b.id\n        });\n      }\n    });\n    /** @deprecated Use addToolOutput */\n    this.addToolResult = this.addToolOutput;\n    /**\n     * Abort the current request immediately, keep the generated tokens if any.\n     */\n    this.stop = async () => {\n      var _a16;\n      if (this.status !== \"streaming\" && this.status !== \"submitted\")\n        return;\n      if ((_a16 = this.activeResponse) == null ? void 0 : _a16.abortController) {\n        this.activeResponse.abortController.abort();\n      }\n    };\n    this.id = id;\n    this.transport = transport;\n    this.generateId = generateId2;\n    this.messageMetadataSchema = messageMetadataSchema;\n    this.dataPartSchemas = dataPartSchemas;\n    this.state = state;\n    this.onError = onError;\n    this.onToolCall = onToolCall;\n    this.onFinish = onFinish;\n    this.onData = onData;\n    this.sendAutomaticallyWhen = sendAutomaticallyWhen;\n  }\n  /**\n   * Hook status:\n   *\n   * - `submitted`: The message has been sent to the API and we're awaiting the start of the response stream.\n   * - `streaming`: The response is actively streaming in from the API, receiving chunks of data.\n   * - `ready`: The full response has been received and processed; a new user message can be submitted.\n   * - `error`: An error occurred during the API request, preventing successful completion.\n   */\n  get status() {\n    return this.state.status;\n  }\n  setStatus({\n    status,\n    error\n  }) {\n    if (this.status === status)\n      return;\n    this.state.status = status;\n    this.state.error = error;\n  }\n  get error() {\n    return this.state.error;\n  }\n  get messages() {\n    return this.state.messages;\n  }\n  get lastMessage() {\n    return this.state.messages[this.state.messages.length - 1];\n  }\n  set messages(messages) {\n    this.state.messages = messages;\n  }\n  async makeRequest({\n    trigger,\n    metadata,\n    headers,\n    body,\n    messageId\n  }) {\n    var _a16, _b, _c, _d;\n    this.setStatus({ status: \"submitted\", error: void 0 });\n    const lastMessage = this.lastMessage;\n    let isAbort = false;\n    let isDisconnect = false;\n    let isError = false;\n    try {\n      const activeResponse = {\n        state: createStreamingUIMessageState({\n          lastMessage: this.state.snapshot(lastMessage),\n          messageId: this.generateId()\n        }),\n        abortController: new AbortController()\n      };\n      activeResponse.abortController.signal.addEventListener(\"abort\", () => {\n        isAbort = true;\n      });\n      this.activeResponse = activeResponse;\n      let stream;\n      if (trigger === \"resume-stream\") {\n        const reconnect = await this.transport.reconnectToStream({\n          chatId: this.id,\n          metadata,\n          headers,\n          body\n        });\n        if (reconnect == null) {\n          this.setStatus({ status: \"ready\" });\n          return;\n        }\n        stream = reconnect;\n      } else {\n        stream = await this.transport.sendMessages({\n          chatId: this.id,\n          messages: this.state.messages,\n          abortSignal: activeResponse.abortController.signal,\n          metadata,\n          headers,\n          body,\n          trigger,\n          messageId\n        });\n      }\n      const runUpdateMessageJob = (job) => (\n        // serialize the job execution to avoid race conditions:\n        this.jobExecutor.run(\n          () => job({\n            state: activeResponse.state,\n            write: () => {\n              var _a17;\n              this.setStatus({ status: \"streaming\" });\n              const replaceLastMessage = activeResponse.state.message.id === ((_a17 = this.lastMessage) == null ? void 0 : _a17.id);\n              if (replaceLastMessage) {\n                this.state.replaceMessage(\n                  this.state.messages.length - 1,\n                  activeResponse.state.message\n                );\n              } else {\n                this.state.pushMessage(activeResponse.state.message);\n              }\n            }\n          })\n        )\n      );\n      await consumeStream({\n        stream: processUIMessageStream({\n          stream,\n          onToolCall: this.onToolCall,\n          onData: this.onData,\n          messageMetadataSchema: this.messageMetadataSchema,\n          dataPartSchemas: this.dataPartSchemas,\n          runUpdateMessageJob,\n          onError: (error) => {\n            throw error;\n          }\n        }),\n        onError: (error) => {\n          throw error;\n        }\n      });\n      this.setStatus({ status: \"ready\" });\n    } catch (err) {\n      if (isAbort || err.name === \"AbortError\") {\n        isAbort = true;\n        this.setStatus({ status: \"ready\" });\n        return null;\n      }\n      isError = true;\n      if (err instanceof TypeError && (err.message.toLowerCase().includes(\"fetch\") || err.message.toLowerCase().includes(\"network\"))) {\n        isDisconnect = true;\n      }\n      if (this.onError && err instanceof Error) {\n        this.onError(err);\n      }\n      this.setStatus({ status: \"error\", error: err });\n    } finally {\n      try {\n        (_b = this.onFinish) == null ? void 0 : _b.call(this, {\n          message: this.activeResponse.state.message,\n          messages: this.state.messages,\n          isAbort,\n          isDisconnect,\n          isError,\n          finishReason: (_a16 = this.activeResponse) == null ? void 0 : _a16.state.finishReason\n        });\n      } catch (err) {\n        console.error(err);\n      }\n      this.activeResponse = void 0;\n    }\n    if (((_c = this.sendAutomaticallyWhen) == null ? void 0 : _c.call(this, { messages: this.state.messages })) && !isError) {\n      await this.makeRequest({\n        trigger: \"submit-message\",\n        messageId: (_d = this.lastMessage) == null ? void 0 : _d.id,\n        metadata,\n        headers,\n        body\n      });\n    }\n  }\n};\n\n// src/ui/direct-chat-transport.ts\nvar DirectChatTransport = class {\n  constructor({\n    agent,\n    options,\n    ...uiMessageStreamOptions\n  }) {\n    this.agent = agent;\n    this.agentOptions = options;\n    this.uiMessageStreamOptions = uiMessageStreamOptions;\n  }\n  async sendMessages({\n    messages,\n    abortSignal\n  }) {\n    const validatedMessages = await validateUIMessages({\n      messages,\n      tools: this.agent.tools\n    });\n    const modelMessages = await convertToModelMessages(validatedMessages, {\n      tools: this.agent.tools\n    });\n    const result = await this.agent.stream({\n      prompt: modelMessages,\n      abortSignal,\n      ...this.agentOptions !== void 0 ? { options: this.agentOptions } : {}\n    });\n    return result.toUIMessageStream(this.uiMessageStreamOptions);\n  }\n  /**\n   * Direct transport does not support reconnection since there is no\n   * persistent server-side stream to reconnect to.\n   *\n   * @returns Always returns `null`\n   */\n  async reconnectToStream(_options) {\n    return null;\n  }\n};\n\n// src/ui/last-assistant-message-is-complete-with-approval-responses.ts\nfunction lastAssistantMessageIsCompleteWithApprovalResponses({\n  messages\n}) {\n  const message = messages[messages.length - 1];\n  if (!message) {\n    return false;\n  }\n  if (message.role !== \"assistant\") {\n    return false;\n  }\n  const lastStepStartIndex = message.parts.reduce((lastIndex, part, index) => {\n    return part.type === \"step-start\" ? index : lastIndex;\n  }, -1);\n  const lastStepToolInvocations = message.parts.slice(lastStepStartIndex + 1).filter(isToolUIPart).filter((part) => !part.providerExecuted);\n  return (\n    // has at least one tool approval response\n    lastStepToolInvocations.filter((part) => part.state === \"approval-responded\").length > 0 && // all tool approvals must have a response\n    lastStepToolInvocations.every(\n      (part) => part.state === \"output-available\" || part.state === \"output-error\" || part.state === \"approval-responded\"\n    )\n  );\n}\n\n// src/ui/last-assistant-message-is-complete-with-tool-calls.ts\nfunction lastAssistantMessageIsCompleteWithToolCalls({\n  messages\n}) {\n  const message = messages[messages.length - 1];\n  if (!message) {\n    return false;\n  }\n  if (message.role !== \"assistant\") {\n    return false;\n  }\n  const lastStepStartIndex = message.parts.reduce((lastIndex, part, index) => {\n    return part.type === \"step-start\" ? index : lastIndex;\n  }, -1);\n  const lastStepToolInvocations = message.parts.slice(lastStepStartIndex + 1).filter(isToolUIPart).filter((part) => !part.providerExecuted);\n  return lastStepToolInvocations.length > 0 && lastStepToolInvocations.every(\n    (part) => part.state === \"output-available\" || part.state === \"output-error\"\n  );\n}\n\n// src/ui/transform-text-to-ui-message-stream.ts\nfunction transformTextToUiMessageStream({\n  stream\n}) {\n  return stream.pipeThrough(\n    new TransformStream({\n      start(controller) {\n        controller.enqueue({ type: \"start\" });\n        controller.enqueue({ type: \"start-step\" });\n        controller.enqueue({ type: \"text-start\", id: \"text-1\" });\n      },\n      async transform(part, controller) {\n        controller.enqueue({ type: \"text-delta\", id: \"text-1\", delta: part });\n      },\n      async flush(controller) {\n        controller.enqueue({ type: \"text-end\", id: \"text-1\" });\n        controller.enqueue({ type: \"finish-step\" });\n        controller.enqueue({ type: \"finish\" });\n      }\n    })\n  );\n}\n\n// src/ui/text-stream-chat-transport.ts\nvar TextStreamChatTransport = class extends HttpChatTransport {\n  constructor(options = {}) {\n    super(options);\n  }\n  processResponseStream(stream) {\n    return transformTextToUiMessageStream({\n      stream: stream.pipeThrough(new TextDecoderStream())\n    });\n  }\n};\nexport {\n  AISDKError17 as AISDKError,\n  APICallError,\n  AbstractChat,\n  DefaultChatTransport,\n  DirectChatTransport,\n  DownloadError,\n  EmptyResponseBodyError,\n  ToolLoopAgent as Experimental_Agent,\n  HttpChatTransport,\n  InvalidArgumentError,\n  InvalidDataContentError,\n  InvalidMessageRoleError,\n  InvalidPromptError,\n  InvalidResponseDataError,\n  InvalidStreamPartError,\n  InvalidToolApprovalError,\n  InvalidToolInputError,\n  JSONParseError,\n  JsonToSseTransformStream,\n  LoadAPIKeyError,\n  LoadSettingError,\n  MessageConversionError,\n  NoContentGeneratedError,\n  NoImageGeneratedError,\n  NoObjectGeneratedError,\n  NoOutputGeneratedError,\n  NoSpeechGeneratedError,\n  NoSuchModelError,\n  NoSuchProviderError,\n  NoSuchToolError,\n  output_exports as Output,\n  RetryError,\n  SerialJobExecutor,\n  TextStreamChatTransport,\n  TooManyEmbeddingValuesForCallError,\n  ToolCallNotFoundForApprovalError,\n  ToolCallRepairError,\n  ToolLoopAgent,\n  TypeValidationError,\n  UI_MESSAGE_STREAM_HEADERS,\n  UnsupportedFunctionalityError,\n  UnsupportedModelVersionError,\n  addToolInputExamplesMiddleware,\n  asSchema5 as asSchema,\n  assistantModelMessageSchema,\n  callCompletionApi,\n  consumeStream,\n  convertFileListToFileUIParts,\n  convertToModelMessages,\n  cosineSimilarity,\n  createAgentUIStream,\n  createAgentUIStreamResponse,\n  createGateway,\n  createIdGenerator5 as createIdGenerator,\n  createProviderRegistry,\n  createTextStreamResponse,\n  createUIMessageStream,\n  createUIMessageStreamResponse,\n  customProvider,\n  defaultEmbeddingSettingsMiddleware,\n  defaultSettingsMiddleware,\n  dynamicTool,\n  embed,\n  embedMany,\n  experimental_createProviderRegistry,\n  experimental_customProvider,\n  experimental_generateImage,\n  generateSpeech as experimental_generateSpeech,\n  transcribe as experimental_transcribe,\n  extractJsonMiddleware,\n  extractReasoningMiddleware,\n  gateway2 as gateway,\n  generateId,\n  generateImage,\n  generateObject,\n  generateText,\n  getStaticToolName,\n  getTextFromDataUrl,\n  getToolName,\n  getToolOrDynamicToolName,\n  hasToolCall,\n  isDataUIPart,\n  isDeepEqualData,\n  isFileUIPart,\n  isReasoningUIPart,\n  isStaticToolUIPart,\n  isTextUIPart,\n  isToolOrDynamicToolUIPart,\n  isToolUIPart,\n  jsonSchema,\n  lastAssistantMessageIsCompleteWithApprovalResponses,\n  lastAssistantMessageIsCompleteWithToolCalls,\n  modelMessageSchema,\n  parseJsonEventStream3 as parseJsonEventStream,\n  parsePartialJson,\n  pipeAgentUIStreamToResponse,\n  pipeTextStreamToResponse,\n  pipeUIMessageStreamToResponse,\n  pruneMessages,\n  readUIMessageStream,\n  rerank,\n  safeValidateUIMessages,\n  simulateReadableStream,\n  simulateStreamingMiddleware,\n  smoothStream,\n  stepCountIs,\n  streamObject,\n  streamText,\n  systemModelMessageSchema,\n  tool,\n  toolModelMessageSchema,\n  uiMessageChunkSchema,\n  userModelMessageSchema,\n  validateUIMessages,\n  wrapEmbeddingModel,\n  wrapImageModel,\n  wrapLanguageModel,\n  wrapProvider,\n  zodSchema3 as zodSchema\n};\n//# sourceMappingURL=index.mjs.map","import type { AiConfig, Logger } from '@/types'\nimport { anthropic } from '@ai-sdk/anthropic'\nimport { createGoogleGenerativeAI } from '@ai-sdk/google'\nimport { openai } from '@ai-sdk/openai'\nimport { generateText } from 'ai'\n\nexport class AIService {\n  private readonly config: AiConfig\n  private readonly logger: Logger\n\n  constructor(config: AiConfig, logger: Logger) {\n    this.config = config\n    this.logger = logger\n  }\n\n  private getModel() {\n    if (this.config.provider === 'openai') {\n      return openai(this.config.model)\n    }\n\n    if (this.config.provider === 'anthropic') {\n      return anthropic(this.config.model)\n    }\n\n    if (this.config.provider === 'google') {\n      const google = createGoogleGenerativeAI({\n        apiKey: this.config.apiKey,\n      })\n      return google(this.config.model)\n    }\n\n    throw new Error(`Unsupported AI provider: ${this.config.provider}`)\n  }\n\n  public async generate(prompt: string, temperature: number): Promise<string> {\n    this.logger.info('Generating AI text...')\n\n    const model = this.getModel()\n\n    try {\n      const { text } = await generateText({\n        model: model as Parameters<typeof generateText>[0]['model'],\n        prompt,\n        temperature,\n      })\n\n      return text\n    } catch (error) {\n      this.logger.error(`Failed to generate text: ${error}`)\n      throw error\n    }\n  }\n}\n","import {\n  getPluginRegistry,\n  isFormatterPlugin,\n  isInputPlugin,\n  isOutputPlugin,\n} from '@/plugins/autoload'\nimport { AIService } from '@/services/ai'\nimport type { PluginContext, PluginSummaryResult } from '@/types'\nimport { logger } from '@/utils/logger'\nimport type { Config } from './schema'\n\nexport interface RunWorkflowOptions {\n  workflowFile: string\n}\n\nexport async function runWorkflow(date: Date, config: Config): Promise<void> {\n  const registry = await getPluginRegistry()\n\n  const ai = new AIService(config.ai, logger)\n  const ctx: PluginContext = {\n    date,\n    config: { dateFormat: config.dateFormat ?? 'YYYY-MM-DD' },\n    logger,\n  }\n\n  /*\n   * Retrieve data from input plugins\n   */\n  const summarizedResults = await Promise.allSettled(\n    config.inputs.map(async (input) => {\n      if (!input.enabled) {\n        return\n      }\n      const plugin = registry.get(input.plugin)\n      if (!isInputPlugin(plugin)) {\n        throw new Error(`Plugin ${input.plugin} does not implement a input capability`)\n      }\n\n      const parsedConfig = plugin.parseConfig(input.config ?? {})\n\n      logger.info(`Retrieving data: ${input.id} (${input.plugin})`)\n\n      const result = await plugin.retrieve(\n        {\n          ...ctx,\n          aiSummarizer: (prompt: string) => ai.generate(prompt, 0.7),\n        },\n        parsedConfig,\n      )\n\n      return { id: input.id, plugin, config: parsedConfig, summaryResult: result }\n    }),\n  )\n\n  const inputsSummaries: PluginSummaryResult[] = []\n  for (const res of summarizedResults) {\n    if (res.status === 'fulfilled' && res.value) {\n      inputsSummaries.push(res.value.summaryResult)\n    } else if (res.status === 'rejected') {\n      logger.error(`Error during input retrieval: ${res.reason}`)\n    }\n  }\n\n  /*\n   * Format the plugin summaries for output plugins\n   */\n\n  const formatterPlugin = registry.get(config.formatter.plugin)\n\n  if (!isFormatterPlugin(formatterPlugin)) {\n    throw new Error(`Plugin ${config.formatter.plugin} does not implement a formatter capability`)\n  }\n\n  const formatterConfig = formatterPlugin.parseConfig(config.formatter.config ?? {})\n\n  const output = await formatterPlugin.format(ctx, inputsSummaries, formatterConfig)\n\n  await Promise.allSettled(\n    config.outputs.map(async (outputPlugin) => {\n      if (!outputPlugin.enabled) {\n        return\n      }\n      const plugin = registry.get(outputPlugin.plugin)\n      if (!isOutputPlugin(plugin)) {\n        throw new Error(`Plugin ${outputPlugin.plugin} does not implement a output capability`)\n      }\n\n      const parsedConfig = plugin.parseConfig(outputPlugin.config ?? {})\n      logger.info(`Writing output: ${outputPlugin.plugin}`)\n      await plugin.output(ctx, output, parsedConfig)\n    }),\n  )\n}\n","import { z } from 'zod/v4'\n\nexport type AIProvider = 'openai' | 'anthropic' | 'google'\n\nexport type GlobalConfig = {\n  dateFormat?: string\n}\n\nexport const aiConfigSchema = z.object({\n  provider: z.enum(['openai', 'anthropic', 'google']),\n  apiKey: z.string().min(1),\n  model: z.string().min(1),\n  temperature: z.number().min(0).max(1).optional().default(0.7),\n})\n\nexport type AiConfig = z.infer<typeof aiConfigSchema>\n","import { aiConfigSchema } from '@/types'\nimport { z } from 'zod/v4'\n\nexport const PluginInstanceSchema = z.object({\n  id: z.string().min(1).optional(),\n  plugin: z.string().min(1),\n  enabled: z.boolean().optional().default(true),\n  config: z.unknown().optional(),\n})\n\nexport const ConfigSchema = z.object({\n  ai: aiConfigSchema,\n  inputs: z.array(PluginInstanceSchema).min(1),\n  formatter: z.object({\n    plugin: z.string().min(1),\n    config: z.unknown().optional(),\n  }),\n  outputs: z.array(PluginInstanceSchema).min(1),\n  dateFormat: z.string().optional(),\n})\n\nexport type Config = z.infer<typeof ConfigSchema>\nexport type PluginInstance = z.infer<typeof PluginInstanceSchema>\n","#!/usr/bin/env node\n\nimport { logger } from '@/utils/logger'\nimport { Command } from 'commander'\nimport dotenv from 'dotenv'\nimport path from 'node:path'\nimport process from 'node:process'\nimport { runWorkflow } from './workflows/run'\nimport { ConfigSchema } from './workflows/schema'\n\n// Load environment variables early\ndotenv.config()\n\ntype CliOptions = {\n  config: string\n  date?: string\n  debug?: boolean\n}\n\nconst resolveEnvPlaceholders = (value: unknown): unknown => {\n  if (typeof value === 'string') {\n    const envMatch = value.match(/^env:(.+)$/i)\n\n    if (envMatch && envMatch[1]) {\n      const envVar = envMatch[1]\n      const envValue = process.env[envVar]\n\n      if (envValue === undefined) {\n        throw new Error(`Environment variable ${envVar} is not set`)\n      }\n\n      return envValue\n    }\n\n    return value\n  }\n\n  if (Array.isArray(value)) {\n    return value.map(resolveEnvPlaceholders)\n  }\n\n  if (value && typeof value === 'object') {\n    return Object.fromEntries(\n      Object.entries(value).map(([key, val]) => [key, resolveEnvPlaceholders(val)]),\n    )\n  }\n\n  return value\n}\n\nconst getConfig = async (configPath: string) => {\n  const fs = await import('node:fs/promises')\n  const yaml = await import('yaml')\n\n  const configContent = await fs.readFile(configPath, 'utf-8')\n  const configData = yaml.parse(configContent)\n  const resolvedConfigData = resolveEnvPlaceholders(configData)\n  const config = ConfigSchema.parse(resolvedConfigData)\n\n  return config\n}\n\nasync function main(): Promise<void> {\n  try {\n    const program = new Command()\n      .name('workdiary')\n      .description('Generate a daily work diary from configured plugins')\n      .option('-c, --config <path>', 'Path to config file', 'workdiary.config.yaml')\n      .option('-d, --date <date>', 'Date to summarize (YYYY-MM-DD)')\n      .option('--debug', 'Enable verbose debug logging', false)\n\n    const options = program.parse(process.argv).opts<CliOptions>()\n\n    if (options.debug) {\n      process.env.DEBUG = '1'\n      logger.debug('Debug logging enabled')\n    }\n\n    const config = await getConfig(path.resolve(process.cwd(), options.config))\n\n    if (!options.date) {\n      logger.info('No date specified, using current date')\n    }\n\n    await runWorkflow(options.date ? new Date(options.date) : new Date(), config)\n  } catch (error) {\n    console.log(error)\n    logger.error(`Workflow failed: ${error}`)\n    process.exit(1)\n  }\n}\n\nvoid main()\n"],"names":["styles","integer","brand","string","object","chalk","level","self","CommanderError","InvalidArgumentError","require$$0","Argument","name","Help","cmd","option","argument","command","choice","Option","str","suggestSimilar","suggestSimilar_1","path","require$$2","fs","process","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","Command","config","unknown","getErrorMessage","text","require$$1","require$$3","commander","version","parse","error","mainModule","logger","files","registry","marker","symbol","_a","_b","name14","marker2","symbol2","_a2","_b2","name2","marker3","symbol3","_a3","_b3","name3","marker4","symbol4","_a4","_b4","name4","marker5","symbol5","_a5","_b5","name5","marker6","symbol6","_a6","_b6","name6","marker7","symbol7","_a7","_b7","name7","marker8","symbol8","_a8","name10","marker12","symbol12","_a12","name12","marker14","symbol14","_a14","initializer","proto","util.jsonStringifyReplacer","issue","_parse","core.$ZodAsyncError","util.finalizeIssue","core.config","util.captureStackTrace","errors.$ZodError","safeParse","errors.$ZodRealError","safeParseAsync","duration","_emoji","date","time","datetime","number","boolean","_null","core.$constructor","inst","util.floatSafeRemainder","util.NUMBER_FORMAT_RANGES","regexes.integer","util.nullish","util.getLengthableOrigin","regexes.lowercase","regexes.uppercase","util.escapeRegex","checks","util.aborted","checkResult","canary","result","util.defineLazy","regexes.string","_","checks.$ZodCheckStringFormat","regexes.guid","regexes.uuid","regexes.email","regexes.emoji","regexes.nanoid","regexes.cuid","regexes.cuid2","regexes.ulid","regexes.xid","regexes.ksuid","regexes.datetime","regexes.date","regexes.time","regexes.duration","regexes.ipv4","regexes.ipv6","regexes.cidrv4","regexes.cidrv6","regexes.base64","regexes.base64url","base64","regexes.e164","regexes.number","checks.$ZodCheckNumberFormat","regexes.boolean","regexes.null","util.prefixIssues","util.optionalKeys","r","util.cached","isObject","util.isObject","util.esc","core.globalConfig","allowsEval","util.allowsEval","util.cleanRegex","results","left","right","util.isPlainObject","util.getEnumValues","util.propertyKeyTypes","core.$ZodEncodeError","output","checks.$ZodCheck","util.issue","util.normalizeParams","checks.$ZodCheckLessThan","checks.$ZodCheckGreaterThan","checks.$ZodCheckMultipleOf","checks.$ZodCheckMaxLength","checks.$ZodCheckMinLength","checks.$ZodCheckLengthEquals","checks.$ZodCheckRegex","checks.$ZodCheckLowerCase","checks.$ZodCheckUpperCase","checks.$ZodCheckIncludes","checks.$ZodCheckStartsWith","checks.$ZodCheckEndsWith","checks.$ZodCheckOverwrite","util.slugify","id","schema","zodSchema","json","ctx","core.$ZodISODateTime","schemas.ZodStringFormat","core._isoDateTime","core.$ZodISODate","core._isoDate","core.$ZodISOTime","core._isoTime","core.$ZodISODuration","core._isoDuration","core.formatError","core.flattenError","issues","core._parse","core._parseAsync","core._safeParse","core._safeParseAsync","core._encode","core._decode","core._encodeAsync","core._decodeAsync","core._safeEncode","core._safeDecode","core._safeEncodeAsync","core._safeDecodeAsync","core.$ZodType","util.mergeDefs","def","core.clone","parse.parse","parse.safeParse","parse.parseAsync","parse.safeParseAsync","parse.encode","parse.decode","parse.encodeAsync","parse.decodeAsync","parse.safeEncode","parse.safeDecode","parse.safeEncodeAsync","parse.safeDecodeAsync","checks.overwrite","array","core.globalRegistry","core.$ZodString","processors.stringProcessor","checks.regex","checks.includes","checks.startsWith","checks.endsWith","checks.minLength","checks.maxLength","checks.length","checks.lowercase","checks.uppercase","checks.trim","checks.normalize","checks.toLowerCase","checks.toUpperCase","checks.slugify","core._email","core._url","core._jwt","core._emoji","core._guid","core._uuid","core._uuidv4","core._uuidv6","core._uuidv7","core._nanoid","core._cuid","core._cuid2","core._ulid","core._base64","core._base64url","core._xid","core._ksuid","core._ipv4","core._ipv6","core._cidrv4","core._cidrv6","core._e164","iso.datetime","iso.date","iso.time","iso.duration","core._string","core.$ZodStringFormat","core.$ZodEmail","core.$ZodGUID","core.$ZodUUID","core.$ZodURL","core.$ZodEmoji","core.$ZodNanoID","core.$ZodCUID","core.$ZodCUID2","core.$ZodULID","core.$ZodXID","core.$ZodKSUID","core.$ZodIPv4","core.$ZodIPv6","core.$ZodCIDRv4","core.$ZodCIDRv6","core.$ZodBase64","core.$ZodBase64URL","core.$ZodE164","core.$ZodJWT","core.$ZodNumber","processors.numberProcessor","checks.gt","checks.gte","checks.lt","checks.lte","checks.multipleOf","core._number","core.$ZodNumberFormat","core._int","core.$ZodBoolean","processors.booleanProcessor","core._boolean","core.$ZodNull","processors.nullProcessor","core._null","core.$ZodAny","processors.anyProcessor","core._any","core.$ZodUnknown","processors.unknownProcessor","core._unknown","core.$ZodNever","processors.neverProcessor","core._never","core.$ZodArray","processors.arrayProcessor","core._array","core.$ZodObjectJIT","processors.objectProcessor","util.extend","util.safeExtend","util.merge","util.pick","util.omit","util.partial","util.required","core.$ZodUnion","processors.unionProcessor","core.$ZodDiscriminatedUnion","core.$ZodIntersection","processors.intersectionProcessor","core.$ZodTuple","processors.tupleProcessor","core.$ZodRecord","processors.recordProcessor","core.$ZodEnum","processors.enumProcessor","core.$ZodLiteral","processors.literalProcessor","core.$ZodTransform","processors.transformProcessor","core.$ZodOptional","processors.optionalProcessor","core.$ZodExactOptional","core.$ZodNullable","processors.nullableProcessor","core.$ZodDefault","processors.defaultProcessor","util.shallowClone","core.$ZodPrefault","processors.prefaultProcessor","core.$ZodNonOptional","processors.nonoptionalProcessor","core.$ZodCatch","processors.catchProcessor","core.$ZodPipe","processors.pipeProcessor","core.$ZodReadonly","processors.readonlyProcessor","core.$ZodLazy","processors.lazyProcessor","core.$ZodCustom","processors.customProcessor","core._custom","core._refine","core._superRefine","core._coercedNumber","schemas.ZodNumber","util","objectUtil","errorUtil","ZodFirstPartyTypeKind","btoa","atob","VERSION","APICallError2","literal","ZodFirstPartyTypeKind2","required","ZodFirstPartyTypeKind3","main","z4.toJSONSchema","z4.safeParseAsync","TypeValidationError2","TypeValidationError3","InvalidArgumentError2","APICallError3","outputSchema","APICallError4","chunkSchema","responseSchema","z.object","z.literal","z.string","lazySchema2","zodSchema2","z2.object","z2.literal","z2.string","z2.array","z2.discriminatedUnion","z2.number","z2.unknown","z2.union","z2.record","z2.boolean","z2.looseObject","z3.object","z3.boolean","z3.string","z3.enum","z3.union","z3.literal","z3.number","z3.array","z3.discriminatedUnion","lazySchema3","zodSchema3","z4.object","z4.number","z4.enum","z4.string","z4.array","lazySchema4","zodSchema4","z5.object","z5.number","z5.array","z5.string","z5.literal","lazySchema5","zodSchema5","z6.object","z6.number","z6.array","z6.string","z6.boolean","z6.literal","z6.union","createProviderToolFactoryWithOutputSchema2","prepareTools","tool","lazySchema6","zodSchema6","z7.object","z7.literal","z7.string","z7.number","z7.array","createProviderToolFactoryWithOutputSchema3","lazySchema7","zodSchema7","z8.discriminatedUnion","z8.object","z8.literal","z8.string","z8.number","z8.array","z8.boolean","createProviderToolFactoryWithOutputSchema4","lazySchema8","zodSchema8","z9.array","z9.object","z9.literal","z9.string","z9.number","createProviderToolFactoryWithOutputSchema5","UnsupportedFunctionalityError2","validateTypes2","parseProviderOptions2","lazySchema9","zodSchema9","z10.object","z10.string","z10.boolean","createProviderToolFactory2","lazySchema10","zodSchema10","z11.object","z11.string","z11.boolean","createProviderToolFactory3","lazySchema11","zodSchema11","z12.object","z12.enum","z12.array","z12.number","z12.string","createProviderToolFactory4","lazySchema12","zodSchema12","z13.object","z13.enum","z13.tuple","z13.number","z13.string","createProviderToolFactory5","lazySchema13","zodSchema13","z14.discriminatedUnion","z14.object","z14.literal","z14.string","z14.tuple","z14.number","createProviderToolFactory6","lazySchema14","zodSchema14","z15.object","z15.enum","z15.string","z15.number","z15.array","createProviderToolFactory7","lazySchema15","zodSchema15","z16.object","z16.enum","z16.string","z16.number","z16.array","createProviderToolFactory8","lazySchema16","zodSchema16","z17.object","z17.enum","z17.string","z17.number","z17.array","createProviderToolFactory9","lazySchema17","zodSchema17","z18.array","z18.object","z18.literal","z18.string","z18.number","createProviderToolFactoryWithOutputSchema6","generateId2","z.number","z2.enum","jsonSchema","z4.boolean","z4.record","combineHeaders2","resolve2","postJsonToApi2","createJsonResponseHandler2","z5.union","z5.unknown","z5.boolean","fileSearchArgsSchema","fileSearch","z10.enum","z10.number","parseProviderOptions3","postJsonToApi3","combineHeaders3","resolve3","createJsonResponseHandler3","z13.array","z.any","z.union","z3.record","z3.coerce.number","z3.any","UnsupportedFunctionalityError3","z4.union","z5.record","createEventSourceResponseHandler2","combineHeaders4","createJsonResponseHandler4","postJsonToApi4","z9.discriminatedUnion","z9.enum","z10.array","z10.discriminatedUnion","z10.literal","z10.union","z11.enum","z11.union","z11.number","z11.array","z11.lazy","z11.record","z11.unknown","z13.literal","z13.record","z14.array","z15.boolean","z15.literal","z15.discriminatedUnion","createProviderToolFactoryWithOutputSchema7","z16.literal","z16.discriminatedUnion","createProviderToolFactoryWithOutputSchema8","jsonValueSchema","z17.lazy","z17.union","z17.boolean","z17.null","z17.record","z17.literal","createProviderToolFactoryWithOutputSchema9","convertToBase642","UnsupportedFunctionalityError4","parseProviderOptions4","z19.union","z19.object","z19.literal","z19.string","z19.array","z19.number","z19.enum","z19.discriminatedUnion","z19.record","z19.boolean","z19.any","z19.unknown","lazySchema18","zodSchema18","z20.object","z20.string","z20.array","z20.enum","z20.union","z20.boolean","z20.number","z20.any","filter","UnsupportedFunctionalityError5","parseProviderOptions5","postJsonToApi5","combineHeaders5","createJsonResponseHandler5","createEventSourceResponseHandler3","lazySchema19","zodSchema19","z21.object","z21.string","z21.number","parseProviderOptions6","postJsonToApi6","combineHeaders6","lazySchema20","zodSchema20","z22.object","z22.string","z22.number","z22.array","lazySchema21","zodSchema21","z23.object","z23.array","z23.string","z23.number","z23.enum","parseProviderOptions7","convertBase64ToUint8Array2","postFormDataToApi2","combineHeaders7","createJsonResponseHandler6","__defProp","__export","safeValidateTypes2","z4.any","z4.literal","z5.any","createJsonErrorResponseHandler2","createJsonErrorResponseHandler3","z6.any","z6.record","z6.unknown","resolve4","createJsonErrorResponseHandler4","z7.any","z7.unknown","z7.record","z8.union","z8.enum","getContext","_b8","_a9","getVercelOidcToken","isCompatible","__read","__spreadArray","DiagComponentLogger","DiagLogLevel","API_NAME","DiagAPI","BaseContext","NoopContextManager","ContextAPI","TraceFlags","NonRecordingSpan","NoopTracer","ProxyTracer","NoopTracerProvider","ProxyTracerProvider","SpanStatusCode","TraceAPI","AISDKError3","AISDKError4","AISDKError5","AISDKError7","AISDKError8","AISDKError10","AISDKError11","getErrorMessage2","AISDKError12","AISDKError14","AISDKError16","DownloadError2","z.instanceof","z.custom","AISDKError18","getErrorMessage3","z2.lazy","z2.null","z4.instanceof","z4.unknown","z4.discriminatedUnion","InvalidPromptError2","AISDKError19","getErrorMessage4","convertUint8ArrayToBase642","convertBase64ToUint8Array3","asSchema2","safeParseJSON2","asSchema3","safeParseJSON3","safeValidateTypes3","withUserAgentSuffix2","getErrorMessage5","createIdGenerator2","createIdGenerator3","createIdGenerator4","z.enum","z.boolean","z.unknown","z.array","program"],"mappings":";;;;;;;;;;;;AAAA,MAAM,yBAAyB;AAE/B,MAAM,aAAa,CAAC,SAAS,MAAM,UAAQ,QAAU,OAAO,MAAM;AAElE,MAAM,cAAc,CAAC,SAAS,MAAM,UAAQ,QAAU,KAAK,MAAM,MAAM,IAAI;AAE3E,MAAM,cAAc,CAAC,SAAS,MAAM,CAAC,KAAK,OAAO,SAAS,QAAU,KAAK,MAAM,MAAM,GAAG,IAAI,KAAK,IAAI,IAAI;AAEzG,MAAMA,WAAS;AAAA,EACd,UAAU;AAAA,IACT,OAAO,CAAC,GAAG,CAAC;AAAA;AAAA,IAEZ,MAAM,CAAC,GAAG,EAAE;AAAA,IACZ,KAAK,CAAC,GAAG,EAAE;AAAA,IACX,QAAQ,CAAC,GAAG,EAAE;AAAA,IACd,WAAW,CAAC,GAAG,EAAE;AAAA,IACjB,UAAU,CAAC,IAAI,EAAE;AAAA,IACjB,SAAS,CAAC,GAAG,EAAE;AAAA,IACf,QAAQ,CAAC,GAAG,EAAE;AAAA,IACd,eAAe,CAAC,GAAG,EAAE;AAAA,EACvB;AAAA,EACC,OAAO;AAAA,IACN,OAAO,CAAC,IAAI,EAAE;AAAA,IACd,KAAK,CAAC,IAAI,EAAE;AAAA,IACZ,OAAO,CAAC,IAAI,EAAE;AAAA,IACd,QAAQ,CAAC,IAAI,EAAE;AAAA,IACf,MAAM,CAAC,IAAI,EAAE;AAAA,IACb,SAAS,CAAC,IAAI,EAAE;AAAA,IAChB,MAAM,CAAC,IAAI,EAAE;AAAA,IACb,OAAO,CAAC,IAAI,EAAE;AAAA;AAAA,IAGd,aAAa,CAAC,IAAI,EAAE;AAAA,IACpB,MAAM,CAAC,IAAI,EAAE;AAAA;AAAA,IACb,MAAM,CAAC,IAAI,EAAE;AAAA;AAAA,IACb,WAAW,CAAC,IAAI,EAAE;AAAA,IAClB,aAAa,CAAC,IAAI,EAAE;AAAA,IACpB,cAAc,CAAC,IAAI,EAAE;AAAA,IACrB,YAAY,CAAC,IAAI,EAAE;AAAA,IACnB,eAAe,CAAC,IAAI,EAAE;AAAA,IACtB,YAAY,CAAC,IAAI,EAAE;AAAA,IACnB,aAAa,CAAC,IAAI,EAAE;AAAA,EACtB;AAAA,EACC,SAAS;AAAA,IACR,SAAS,CAAC,IAAI,EAAE;AAAA,IAChB,OAAO,CAAC,IAAI,EAAE;AAAA,IACd,SAAS,CAAC,IAAI,EAAE;AAAA,IAChB,UAAU,CAAC,IAAI,EAAE;AAAA,IACjB,QAAQ,CAAC,IAAI,EAAE;AAAA,IACf,WAAW,CAAC,IAAI,EAAE;AAAA,IAClB,QAAQ,CAAC,IAAI,EAAE;AAAA,IACf,SAAS,CAAC,IAAI,EAAE;AAAA;AAAA,IAGhB,eAAe,CAAC,KAAK,EAAE;AAAA,IACvB,QAAQ,CAAC,KAAK,EAAE;AAAA;AAAA,IAChB,QAAQ,CAAC,KAAK,EAAE;AAAA;AAAA,IAChB,aAAa,CAAC,KAAK,EAAE;AAAA,IACrB,eAAe,CAAC,KAAK,EAAE;AAAA,IACvB,gBAAgB,CAAC,KAAK,EAAE;AAAA,IACxB,cAAc,CAAC,KAAK,EAAE;AAAA,IACtB,iBAAiB,CAAC,KAAK,EAAE;AAAA,IACzB,cAAc,CAAC,KAAK,EAAE;AAAA,IACtB,eAAe,CAAC,KAAK,EAAE;AAAA,EACzB;AACA;AAE6B,OAAO,KAAKA,SAAO,QAAQ;AACjD,MAAM,uBAAuB,OAAO,KAAKA,SAAO,KAAK;AACrD,MAAM,uBAAuB,OAAO,KAAKA,SAAO,OAAO;AACpC,CAAC,GAAG,sBAAsB,GAAG,oBAAoB;AAE3E,SAAS,iBAAiB;AACzB,QAAM,QAAQ,oBAAI,IAAG;AAErB,aAAW,CAAC,WAAW,KAAK,KAAK,OAAO,QAAQA,QAAM,GAAG;AACxD,eAAW,CAAC,WAAW,KAAK,KAAK,OAAO,QAAQ,KAAK,GAAG;AACvDA,eAAO,SAAS,IAAI;AAAA,QACnB,MAAM,QAAU,MAAM,CAAC,CAAC;AAAA,QACxB,OAAO,QAAU,MAAM,CAAC,CAAC;AAAA,MAC7B;AAEG,YAAM,SAAS,IAAIA,SAAO,SAAS;AAEnC,YAAM,IAAI,MAAM,CAAC,GAAG,MAAM,CAAC,CAAC;AAAA,IAC7B;AAEA,WAAO,eAAeA,UAAQ,WAAW;AAAA,MACxC,OAAO;AAAA,MACP,YAAY;AAAA,IACf,CAAG;AAAA,EACF;AAEA,SAAO,eAAeA,UAAQ,SAAS;AAAA,IACtC,OAAO;AAAA,IACP,YAAY;AAAA,EACd,CAAE;AAEDA,WAAO,MAAM,QAAQ;AACrBA,WAAO,QAAQ,QAAQ;AAEvBA,WAAO,MAAM,OAAO,WAAU;AAC9BA,WAAO,MAAM,UAAU,YAAW;AAClCA,WAAO,MAAM,UAAU,YAAW;AAClCA,WAAO,QAAQ,OAAO,WAAW,sBAAsB;AACvDA,WAAO,QAAQ,UAAU,YAAY,sBAAsB;AAC3DA,WAAO,QAAQ,UAAU,YAAY,sBAAsB;AAG3D,SAAO,iBAAiBA,UAAQ;AAAA,IAC/B,cAAc;AAAA,MACb,MAAM,KAAK,OAAO,MAAM;AAGvB,YAAI,QAAQ,SAAS,UAAU,MAAM;AACpC,cAAI,MAAM,GAAG;AACZ,mBAAO;AAAA,UACR;AAEA,cAAI,MAAM,KAAK;AACd,mBAAO;AAAA,UACR;AAEA,iBAAO,KAAK,OAAQ,MAAM,KAAK,MAAO,EAAE,IAAI;AAAA,QAC7C;AAEA,eAAO,KACH,KAAK,KAAK,MAAM,MAAM,MAAM,CAAC,IAC7B,IAAI,KAAK,MAAM,QAAQ,MAAM,CAAC,IAC/B,KAAK,MAAM,OAAO,MAAM,CAAC;AAAA,MAC7B;AAAA,MACA,YAAY;AAAA,IACf;AAAA,IACE,UAAU;AAAA,MACT,MAAM,KAAK;AACV,cAAM,UAAU,yBAAyB,KAAK,IAAI,SAAS,EAAE,CAAC;AAC9D,YAAI,CAAC,SAAS;AACb,iBAAO,CAAC,GAAG,GAAG,CAAC;AAAA,QAChB;AAEA,YAAI,CAAC,WAAW,IAAI;AAEpB,YAAI,YAAY,WAAW,GAAG;AAC7B,wBAAc,CAAC,GAAG,WAAW,EAAE,IAAI,eAAa,YAAY,SAAS,EAAE,KAAK,EAAE;AAAA,QAC/E;AAEA,cAAMC,WAAU,OAAO,SAAS,aAAa,EAAE;AAE/C,eAAO;AAAA;AAAA,UAELA,YAAW,KAAM;AAAA,UACjBA,YAAW,IAAK;AAAA,UACjBA,WAAU;AAAA;AAAA,QAEf;AAAA,MACG;AAAA,MACA,YAAY;AAAA,IACf;AAAA,IACE,cAAc;AAAA,MACb,OAAO,SAAOD,SAAO,aAAa,GAAGA,SAAO,SAAS,GAAG,CAAC;AAAA,MACzD,YAAY;AAAA,IACf;AAAA,IACE,eAAe;AAAA,MACd,MAAM,MAAM;AACX,YAAI,OAAO,GAAG;AACb,iBAAO,KAAK;AAAA,QACb;AAEA,YAAI,OAAO,IAAI;AACd,iBAAO,MAAM,OAAO;AAAA,QACrB;AAEA,YAAI;AACJ,YAAI;AACJ,YAAI;AAEJ,YAAI,QAAQ,KAAK;AAChB,kBAAS,OAAO,OAAO,KAAM,KAAK;AAClC,kBAAQ;AACR,iBAAO;AAAA,QACR,OAAO;AACN,kBAAQ;AAER,gBAAM,YAAY,OAAO;AAEzB,gBAAM,KAAK,MAAM,OAAO,EAAE,IAAI;AAC9B,kBAAQ,KAAK,MAAM,YAAY,CAAC,IAAI;AACpC,iBAAQ,YAAY,IAAK;AAAA,QAC1B;AAEA,cAAM,QAAQ,KAAK,IAAI,KAAK,OAAO,IAAI,IAAI;AAE3C,YAAI,UAAU,GAAG;AAChB,iBAAO;AAAA,QACR;AAGA,YAAI,SAAS,MAAO,KAAK,MAAM,IAAI,KAAK,IAAM,KAAK,MAAM,KAAK,KAAK,IAAK,KAAK,MAAM,GAAG;AAEtF,YAAI,UAAU,GAAG;AAChB,oBAAU;AAAA,QACX;AAEA,eAAO;AAAA,MACR;AAAA,MACA,YAAY;AAAA,IACf;AAAA,IACE,WAAW;AAAA,MACV,OAAO,CAAC,KAAK,OAAO,SAASA,SAAO,cAAcA,SAAO,aAAa,KAAK,OAAO,IAAI,CAAC;AAAA,MACvF,YAAY;AAAA,IACf;AAAA,IACE,WAAW;AAAA,MACV,OAAO,SAAOA,SAAO,cAAcA,SAAO,aAAa,GAAG,CAAC;AAAA,MAC3D,YAAY;AAAA,IACf;AAAA,EACA,CAAE;AAED,SAAOA;AACR;AAEA,MAAM,aAAa,eAAc;AC1NjC,MAAM,SAAS,MAAM;AACpB,MAAI,EAAE,eAAe,aAAa;AACjC,WAAO;AAAA,EACR;AAEA,MAAI,WAAW,UAAU,eAAe;AACvC,UAAM,QAAQ,UAAU,cAAc,OAAO,KAAK,CAAC,EAAC,OAAAE,OAAK,MAAMA,WAAU,UAAU;AACnF,QAAI,SAAS,MAAM,UAAU,IAAI;AAChC,aAAO;AAAA,IACR;AAAA,EACD;AAEA,MAAI,wBAAwB,KAAK,WAAW,UAAU,SAAS,GAAG;AACjE,WAAO;AAAA,EACR;AAEA,SAAO;AACR,GAAC;AAED,MAAM,eAAe,UAAU,KAAK;AAAA,EACnC;AAID;AAEA,MAAM,gBAAgB;AAAA,EACrB,QAAQ;AAAA,EACR,QAAQ;AACT;AC9BO,SAAS,iBAAiBC,SAAQ,WAAW,UAAU;AAC7D,MAAI,QAAQA,QAAO,QAAQ,SAAS;AACpC,MAAI,UAAU,IAAI;AACjB,WAAOA;AAAA,EACR;AAEA,QAAM,kBAAkB,UAAU;AAClC,MAAI,WAAW;AACf,MAAI,cAAc;AAClB,KAAG;AACF,mBAAeA,QAAO,MAAM,UAAU,KAAK,IAAI,YAAY;AAC3D,eAAW,QAAQ;AACnB,YAAQA,QAAO,QAAQ,WAAW,QAAQ;AAAA,EAC3C,SAAS,UAAU;AAEnB,iBAAeA,QAAO,MAAM,QAAQ;AACpC,SAAO;AACR;AAEO,SAAS,+BAA+BA,SAAQ,QAAQ,SAAS,OAAO;AAC9E,MAAI,WAAW;AACf,MAAI,cAAc;AAClB,KAAG;AACF,UAAM,QAAQA,QAAO,QAAQ,CAAC,MAAM;AACpC,mBAAeA,QAAO,MAAM,UAAW,QAAQ,QAAQ,IAAI,KAAK,IAAK,UAAU,QAAQ,SAAS,QAAQ;AACxG,eAAW,QAAQ;AACnB,YAAQA,QAAO,QAAQ,MAAM,QAAQ;AAAA,EACtC,SAAS,UAAU;AAEnB,iBAAeA,QAAO,MAAM,QAAQ;AACpC,SAAO;AACR;ACzBA,MAAM,EAAC,QAAQ,aAAa,QAAQ,YAAW,IAAI;AAEnD,MAAM,YAAY,OAAO,WAAW;AACpC,MAAM,SAAS,OAAO,QAAQ;AAC9B,MAAM,WAAW,OAAO,UAAU;AAGlC,MAAM,eAAe;AAAA,EACpB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD;AAEA,MAAM,SAAS,uBAAO,OAAO,IAAI;AAEjC,MAAM,eAAe,CAACC,SAAQ,UAAU,OAAO;AAC9C,MAAI,QAAQ,SAAS,EAAE,OAAO,UAAU,QAAQ,KAAK,KAAK,QAAQ,SAAS,KAAK,QAAQ,SAAS,IAAI;AACpG,UAAM,IAAI,MAAM,qDAAqD;AAAA,EACtE;AAGA,QAAM,aAAa,cAAc,YAAY,QAAQ;AACrD,EAAAA,QAAO,QAAQ,QAAQ,UAAU,SAAY,aAAa,QAAQ;AACnE;AASA,MAAM,eAAe,aAAW;AAC/B,QAAMC,SAAQ,IAAI,YAAY,QAAQ,KAAK,GAAG;AAC9C,eAAaA,QAAO,OAAO;AAE3B,SAAO,eAAeA,QAAO,YAAY,SAAS;AAElD,SAAOA;AACR;AAEA,SAAS,YAAY,SAAS;AAC7B,SAAO,aAAa,OAAO;AAC5B;AAEA,OAAO,eAAe,YAAY,WAAW,SAAS,SAAS;AAE/D,WAAW,CAAC,WAAW,KAAK,KAAK,OAAO,QAAQ,UAAU,GAAG;AAC5D,SAAO,SAAS,IAAI;AAAA,IACnB,MAAM;AACL,YAAM,UAAU,cAAc,MAAM,aAAa,MAAM,MAAM,MAAM,OAAO,KAAK,MAAM,CAAC,GAAG,KAAK,QAAQ,CAAC;AACvG,aAAO,eAAe,MAAM,WAAW,EAAC,OAAO,QAAO,CAAC;AACvD,aAAO;AAAA,IACR;AAAA,EACF;AACA;AAEA,OAAO,UAAU;AAAA,EAChB,MAAM;AACL,UAAM,UAAU,cAAc,MAAM,KAAK,MAAM,GAAG,IAAI;AACtD,WAAO,eAAe,MAAM,WAAW,EAAC,OAAO,QAAO,CAAC;AACvD,WAAO;AAAA,EACR;AACD;AAEA,MAAM,eAAe,CAAC,OAAOC,QAAO,SAAS,eAAe;AAC3D,MAAI,UAAU,OAAO;AACpB,QAAIA,WAAU,WAAW;AACxB,aAAO,WAAW,IAAI,EAAE,QAAQ,GAAG,UAAU;AAAA,IAC9C;AAEA,QAAIA,WAAU,WAAW;AACxB,aAAO,WAAW,IAAI,EAAE,QAAQ,WAAW,aAAa,GAAG,UAAU,CAAC;AAAA,IACvE;AAEA,WAAO,WAAW,IAAI,EAAE,KAAK,WAAW,UAAU,GAAG,UAAU,CAAC;AAAA,EACjE;AAEA,MAAI,UAAU,OAAO;AACpB,WAAO,aAAa,OAAOA,QAAO,MAAM,GAAG,WAAW,SAAS,GAAG,UAAU,CAAC;AAAA,EAC9E;AAEA,SAAO,WAAW,IAAI,EAAE,KAAK,EAAE,GAAG,UAAU;AAC7C;AAEA,MAAM,aAAa,CAAC,OAAO,OAAO,SAAS;AAE3C,WAAW,SAAS,YAAY;AAC/B,SAAO,KAAK,IAAI;AAAA,IACf,MAAM;AACL,YAAM,EAAC,OAAAA,OAAK,IAAI;AAChB,aAAO,YAAa,YAAY;AAC/B,cAAM,SAAS,aAAa,aAAa,OAAO,aAAaA,MAAK,GAAG,SAAS,GAAG,UAAU,GAAG,WAAW,MAAM,OAAO,KAAK,MAAM,CAAC;AAClI,eAAO,cAAc,MAAM,QAAQ,KAAK,QAAQ,CAAC;AAAA,MAClD;AAAA,IACD;AAAA,EACF;AAEC,QAAM,UAAU,OAAO,MAAM,CAAC,EAAE,gBAAgB,MAAM,MAAM,CAAC;AAC7D,SAAO,OAAO,IAAI;AAAA,IACjB,MAAM;AACL,YAAM,EAAC,OAAAA,OAAK,IAAI;AAChB,aAAO,YAAa,YAAY;AAC/B,cAAM,SAAS,aAAa,aAAa,OAAO,aAAaA,MAAK,GAAG,WAAW,GAAG,UAAU,GAAG,WAAW,QAAQ,OAAO,KAAK,MAAM,CAAC;AACtI,eAAO,cAAc,MAAM,QAAQ,KAAK,QAAQ,CAAC;AAAA,MAClD;AAAA,IACD;AAAA,EACF;AACA;AAEA,MAAM,QAAQ,OAAO,iBAAiB,MAAM;AAAC,GAAG;AAAA,EAC/C,GAAG;AAAA,EACH,OAAO;AAAA,IACN,YAAY;AAAA,IACZ,MAAM;AACL,aAAO,KAAK,SAAS,EAAE;AAAA,IACxB;AAAA,IACA,IAAIA,QAAO;AACV,WAAK,SAAS,EAAE,QAAQA;AAAA,IACzB;AAAA,EACF;AACA,CAAC;AAED,MAAM,eAAe,CAAC,MAAM,OAAO,WAAW;AAC7C,MAAI;AACJ,MAAI;AACJ,MAAI,WAAW,QAAW;AACzB,cAAU;AACV,eAAW;AAAA,EACZ,OAAO;AACN,cAAU,OAAO,UAAU;AAC3B,eAAW,QAAQ,OAAO;AAAA,EAC3B;AAEA,SAAO;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF;AACA;AAEA,MAAM,gBAAgB,CAACC,OAAM,SAAS,aAAa;AAGlD,QAAM,UAAU,IAAI,eAAe,WAAW,SAAU,WAAW,WAAW,IAAM,KAAK,WAAW,CAAC,IAAK,WAAW,KAAK,GAAG,CAAC;AAI9H,SAAO,eAAe,SAAS,KAAK;AAEpC,UAAQ,SAAS,IAAIA;AACrB,UAAQ,MAAM,IAAI;AAClB,UAAQ,QAAQ,IAAI;AAEpB,SAAO;AACR;AAEA,MAAM,aAAa,CAACA,OAAMJ,YAAW;AACpC,MAAII,MAAK,SAAS,KAAK,CAACJ,SAAQ;AAC/B,WAAOI,MAAK,QAAQ,IAAI,KAAKJ;AAAA,EAC9B;AAEA,MAAI,SAASI,MAAK,MAAM;AAExB,MAAI,WAAW,QAAW;AACzB,WAAOJ;AAAA,EACR;AAEA,QAAM,EAAC,SAAS,SAAQ,IAAI;AAC5B,MAAIA,QAAO,SAAS,MAAQ,GAAG;AAC9B,WAAO,WAAW,QAAW;AAI5B,MAAAA,UAAS,iBAAiBA,SAAQ,OAAO,OAAO,OAAO,IAAI;AAE3D,eAAS,OAAO;AAAA,IACjB;AAAA,EACD;AAKA,QAAM,UAAUA,QAAO,QAAQ,IAAI;AACnC,MAAI,YAAY,IAAI;AACnB,IAAAA,UAAS,+BAA+BA,SAAQ,UAAU,SAAS,OAAO;AAAA,EAC3E;AAEA,SAAO,UAAUA,UAAS;AAC3B;AAEA,OAAO,iBAAiB,YAAY,WAAW,MAAM;AAErD,MAAM,QAAQ,YAAW;AACE,YAAY,EAAC,OAAO,cAAc,YAAY,QAAQ,EAAC,CAAC;ACzM5E,MAAM,SAAiB;AAAA,EAC5B,MAAM,CAAC,YAAoB;AACzB,YAAQ,IAAI,MAAM,KAAK,GAAG,GAAG,OAAO;AAAA,EACtC;AAAA,EAEA,SAAS,CAAC,YAAoB;AAC5B,YAAQ,IAAI,MAAM,MAAM,GAAG,GAAG,OAAO;AAAA,EACvC;AAAA,EAEA,OAAO,CAAC,YAAoB;AAC1B,YAAQ,MAAM,MAAM,IAAI,GAAG,GAAG,OAAO;AAAA,EACvC;AAAA,EAEA,MAAM,CAAC,YAAoB;AACzB,YAAQ,KAAK,MAAM,OAAO,GAAG,GAAG,OAAO;AAAA,EACzC;AAAA,EAEA,OAAO,CAAC,YAAoB;AAC1B,QAAI,QAAQ,IAAI,OAAO;AACrB,cAAQ,IAAI,MAAM,KAAK,IAAI,GAAG,OAAO;AAAA,IACvC;AAAA,EACF;AACF;;;;;;;;;;;ECtBA,MAAMK,wBAAuB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOjC,YAAY,UAAU,MAAM,SAAS;AACnC,YAAM,OAAO;AAEb,YAAM,kBAAkB,MAAM,KAAK,WAAW;AAC9C,WAAK,OAAO,KAAK,YAAY;AAC7B,WAAK,OAAO;AACZ,WAAK,WAAW;AAChB,WAAK,cAAc;AAAA,IACvB;AAAA,EACA;AAAA,EAKA,MAAMC,8BAA6BD,gBAAe;AAAA;AAAA;AAAA;AAAA;AAAA,IAKhD,YAAY,SAAS;AACnB,YAAM,GAAG,6BAA6B,OAAO;AAE7C,YAAM,kBAAkB,MAAM,KAAK,WAAW;AAC9C,WAAK,OAAO,KAAK,YAAY;AAAA,IACjC;AAAA,EACA;AAEA,QAAA,iBAAyBA;AACzB,QAAA,uBAA+BC;;;;;;;ACtC/B,QAAM,EAAE,sBAAAA,sBAAoB,IAAKC,aAAA;AAAA,EAEjC,MAAMC,UAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUb,YAAYC,QAAM,aAAa;AAC7B,WAAK,cAAc,eAAe;AAClC,WAAK,WAAW;AAChB,WAAK,WAAW;AAChB,WAAK,eAAe;AACpB,WAAK,0BAA0B;AAC/B,WAAK,aAAa;AAElB,cAAQA,OAAK,CAAC,GAAC;AAAA,QACb,KAAK;AACH,eAAK,WAAW;AAChB,eAAK,QAAQA,OAAK,MAAM,GAAG,EAAE;AAC7B;AAAA,QACF,KAAK;AACH,eAAK,WAAW;AAChB,eAAK,QAAQA,OAAK,MAAM,GAAG,EAAE;AAC7B;AAAA,QACF;AACE,eAAK,WAAW;AAChB,eAAK,QAAQA;AACb;AAAA,MACR;AAEI,UAAI,KAAK,MAAM,SAAS,KAAK,KAAK,MAAM,MAAM,EAAE,MAAM,OAAO;AAC3D,aAAK,WAAW;AAChB,aAAK,QAAQ,KAAK,MAAM,MAAM,GAAG,EAAE;AAAA,MACzC;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,OAAO;AACL,aAAO,KAAK;AAAA,IAChB;AAAA;AAAA;AAAA;AAAA,IAME,aAAa,OAAO,UAAU;AAC5B,UAAI,aAAa,KAAK,gBAAgB,CAAC,MAAM,QAAQ,QAAQ,GAAG;AAC9D,eAAO,CAAC,KAAK;AAAA,MACnB;AAEI,aAAO,SAAS,OAAO,KAAK;AAAA,IAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,QAAQ,OAAO,aAAa;AAC1B,WAAK,eAAe;AACpB,WAAK,0BAA0B;AAC/B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,UAAU,IAAI;AACZ,WAAK,WAAW;AAChB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,QAAQ,QAAQ;AACd,WAAK,aAAa,OAAO,MAAK;AAC9B,WAAK,WAAW,CAAC,KAAK,aAAa;AACjC,YAAI,CAAC,KAAK,WAAW,SAAS,GAAG,GAAG;AAClC,gBAAM,IAAIH;AAAA,YACR,uBAAuB,KAAK,WAAW,KAAK,IAAI,CAAC;AAAA;QAE3D;AACM,YAAI,KAAK,UAAU;AACjB,iBAAO,KAAK,aAAa,KAAK,QAAQ;AAAA,QAC9C;AACM,eAAO;AAAA,MACb;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOE,cAAc;AACZ,WAAK,WAAW;AAChB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOE,cAAc;AACZ,WAAK,WAAW;AAChB,aAAO;AAAA,IACX;AAAA,EACA;AAUA,WAAS,qBAAqB,KAAK;AACjC,UAAM,aAAa,IAAI,KAAI,KAAM,IAAI,aAAa,OAAO,QAAQ;AAEjE,WAAO,IAAI,WAAW,MAAM,aAAa,MAAM,MAAM,aAAa;AAAA,EACpE;AAEA,WAAA,WAAmBE;AACnB,WAAA,uBAA+B;;;;;;;;;ACpJ/B,QAAM,EAAE,qBAAoB,IAAKD,gBAAA;AAAA,EAWjC,MAAMG,MAAK;AAAA,IACT,cAAc;AACZ,WAAK,YAAY;AACjB,WAAK,kBAAkB;AACvB,WAAK,cAAc;AACnB,WAAK,oBAAoB;AAAA,IAC7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,gBAAgB,KAAK;AACnB,YAAM,kBAAkB,IAAI,SAAS,OAAO,CAACC,SAAQ,CAACA,KAAI,OAAO;AACjE,YAAM,cAAc,IAAI,gBAAe;AACvC,UAAI,eAAe,CAAC,YAAY,SAAS;AACvC,wBAAgB,KAAK,WAAW;AAAA,MACtC;AACI,UAAI,KAAK,iBAAiB;AACxB,wBAAgB,KAAK,CAAC,GAAG,MAAM;AAE7B,iBAAO,EAAE,KAAI,EAAG,cAAc,EAAE,KAAI,CAAE;AAAA,QAC9C,CAAO;AAAA,MACP;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,eAAe,GAAG,GAAG;AACnB,YAAM,aAAa,CAACC,YAAW;AAE7B,eAAOA,QAAO,QACVA,QAAO,MAAM,QAAQ,MAAM,EAAE,IAC7BA,QAAO,KAAK,QAAQ,OAAO,EAAE;AAAA,MACvC;AACI,aAAO,WAAW,CAAC,EAAE,cAAc,WAAW,CAAC,CAAC;AAAA,IACpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,eAAe,KAAK;AAClB,YAAM,iBAAiB,IAAI,QAAQ,OAAO,CAACA,YAAW,CAACA,QAAO,MAAM;AAEpE,YAAM,aAAa,IAAI,eAAc;AACrC,UAAI,cAAc,CAAC,WAAW,QAAQ;AAEpC,cAAM,cAAc,WAAW,SAAS,IAAI,YAAY,WAAW,KAAK;AACxE,cAAM,aAAa,WAAW,QAAQ,IAAI,YAAY,WAAW,IAAI;AACrE,YAAI,CAAC,eAAe,CAAC,YAAY;AAC/B,yBAAe,KAAK,UAAU;AAAA,QACtC,WAAiB,WAAW,QAAQ,CAAC,YAAY;AACzC,yBAAe;AAAA,YACb,IAAI,aAAa,WAAW,MAAM,WAAW,WAAW;AAAA;QAElE,WAAiB,WAAW,SAAS,CAAC,aAAa;AAC3C,yBAAe;AAAA,YACb,IAAI,aAAa,WAAW,OAAO,WAAW,WAAW;AAAA;QAEnE;AAAA,MACA;AACI,UAAI,KAAK,aAAa;AACpB,uBAAe,KAAK,KAAK,cAAc;AAAA,MAC7C;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,qBAAqB,KAAK;AACxB,UAAI,CAAC,KAAK,kBAAmB,QAAO,CAAA;AAEpC,YAAM,gBAAgB,CAAA;AACtB,eACM,cAAc,IAAI,QACtB,aACA,cAAc,YAAY,QAC1B;AACA,cAAM,iBAAiB,YAAY,QAAQ;AAAA,UACzC,CAACA,YAAW,CAACA,QAAO;AAAA;AAEtB,sBAAc,KAAK,GAAG,cAAc;AAAA,MAC1C;AACI,UAAI,KAAK,aAAa;AACpB,sBAAc,KAAK,KAAK,cAAc;AAAA,MAC5C;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,iBAAiB,KAAK;AAEpB,UAAI,IAAI,kBAAkB;AACxB,YAAI,oBAAoB,QAAQ,CAACC,cAAa;AAC5C,UAAAA,UAAS,cACPA,UAAS,eAAe,IAAI,iBAAiBA,UAAS,KAAI,CAAE,KAAK;AAAA,QAC3E,CAAO;AAAA,MACP;AAGI,UAAI,IAAI,oBAAoB,KAAK,CAACA,cAAaA,UAAS,WAAW,GAAG;AACpE,eAAO,IAAI;AAAA,MACjB;AACI,aAAO,CAAA;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,eAAe,KAAK;AAElB,YAAM,OAAO,IAAI,oBACd,IAAI,CAAC,QAAQ,qBAAqB,GAAG,CAAC,EACtC,KAAK,GAAG;AACX,aACE,IAAI,SACH,IAAI,SAAS,CAAC,IAAI,MAAM,IAAI,SAAS,CAAC,IAAI,OAC1C,IAAI,QAAQ,SAAS,eAAe;AAAA,OACpC,OAAO,MAAM,OAAO;AAAA,IAE3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,WAAWD,SAAQ;AACjB,aAAOA,QAAO;AAAA,IAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,aAAaC,WAAU;AACrB,aAAOA,UAAS,KAAI;AAAA,IACxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,4BAA4B,KAAK,QAAQ;AACvC,aAAO,OAAO,gBAAgB,GAAG,EAAE,OAAO,CAAC,KAAKC,aAAY;AAC1D,eAAO,KAAK,IAAI,KAAK,OAAO,eAAeA,QAAO,EAAE,MAAM;AAAA,MAChE,GAAO,CAAC;AAAA,IACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,wBAAwB,KAAK,QAAQ;AACnC,aAAO,OAAO,eAAe,GAAG,EAAE,OAAO,CAAC,KAAKF,YAAW;AACxD,eAAO,KAAK,IAAI,KAAK,OAAO,WAAWA,OAAM,EAAE,MAAM;AAAA,MAC3D,GAAO,CAAC;AAAA,IACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,8BAA8B,KAAK,QAAQ;AACzC,aAAO,OAAO,qBAAqB,GAAG,EAAE,OAAO,CAAC,KAAKA,YAAW;AAC9D,eAAO,KAAK,IAAI,KAAK,OAAO,WAAWA,OAAM,EAAE,MAAM;AAAA,MAC3D,GAAO,CAAC;AAAA,IACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,0BAA0B,KAAK,QAAQ;AACrC,aAAO,OAAO,iBAAiB,GAAG,EAAE,OAAO,CAAC,KAAKC,cAAa;AAC5D,eAAO,KAAK,IAAI,KAAK,OAAO,aAAaA,SAAQ,EAAE,MAAM;AAAA,MAC/D,GAAO,CAAC;AAAA,IACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,aAAa,KAAK;AAEhB,UAAI,UAAU,IAAI;AAClB,UAAI,IAAI,SAAS,CAAC,GAAG;AACnB,kBAAU,UAAU,MAAM,IAAI,SAAS,CAAC;AAAA,MAC9C;AACI,UAAI,mBAAmB;AACvB,eACM,cAAc,IAAI,QACtB,aACA,cAAc,YAAY,QAC1B;AACA,2BAAmB,YAAY,KAAI,IAAK,MAAM;AAAA,MACpD;AACI,aAAO,mBAAmB,UAAU,MAAM,IAAI,MAAK;AAAA,IACvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,mBAAmB,KAAK;AAEtB,aAAO,IAAI,YAAW;AAAA,IAC1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,sBAAsB,KAAK;AAEzB,aAAO,IAAI,aAAa,IAAI,YAAW;AAAA,IAC3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,kBAAkBD,SAAQ;AACxB,YAAM,YAAY,CAAA;AAElB,UAAIA,QAAO,YAAY;AACrB,kBAAU;AAAA;AAAA,UAER,YAAYA,QAAO,WAAW,IAAI,CAACG,YAAW,KAAK,UAAUA,OAAM,CAAC,EAAE,KAAK,IAAI,CAAC;AAAA;MAExF;AACI,UAAIH,QAAO,iBAAiB,QAAW;AAGrC,cAAM,cACJA,QAAO,YACPA,QAAO,YACNA,QAAO,UAAS,KAAM,OAAOA,QAAO,iBAAiB;AACxD,YAAI,aAAa;AACf,oBAAU;AAAA,YACR,YAAYA,QAAO,2BAA2B,KAAK,UAAUA,QAAO,YAAY,CAAC;AAAA;QAE3F;AAAA,MACA;AAEI,UAAIA,QAAO,cAAc,UAAaA,QAAO,UAAU;AACrD,kBAAU,KAAK,WAAW,KAAK,UAAUA,QAAO,SAAS,CAAC,EAAE;AAAA,MAClE;AACI,UAAIA,QAAO,WAAW,QAAW;AAC/B,kBAAU,KAAK,QAAQA,QAAO,MAAM,EAAE;AAAA,MAC5C;AACI,UAAI,UAAU,SAAS,GAAG;AACxB,eAAO,GAAGA,QAAO,WAAW,KAAK,UAAU,KAAK,IAAI,CAAC;AAAA,MAC3D;AAEI,aAAOA,QAAO;AAAA,IAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,oBAAoBC,WAAU;AAC5B,YAAM,YAAY,CAAA;AAClB,UAAIA,UAAS,YAAY;AACvB,kBAAU;AAAA;AAAA,UAER,YAAYA,UAAS,WAAW,IAAI,CAACE,YAAW,KAAK,UAAUA,OAAM,CAAC,EAAE,KAAK,IAAI,CAAC;AAAA;MAE1F;AACI,UAAIF,UAAS,iBAAiB,QAAW;AACvC,kBAAU;AAAA,UACR,YAAYA,UAAS,2BAA2B,KAAK,UAAUA,UAAS,YAAY,CAAC;AAAA;MAE7F;AACI,UAAI,UAAU,SAAS,GAAG;AACxB,cAAM,kBAAkB,IAAI,UAAU,KAAK,IAAI,CAAC;AAChD,YAAIA,UAAS,aAAa;AACxB,iBAAO,GAAGA,UAAS,WAAW,IAAI,eAAe;AAAA,QACzD;AACM,eAAO;AAAA,MACb;AACI,aAAOA,UAAS;AAAA,IACpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,WAAW,KAAK,QAAQ;AACtB,YAAM,YAAY,OAAO,SAAS,KAAK,MAAM;AAC7C,YAAM,YAAY,OAAO,aAAa;AACtC,YAAM,kBAAkB;AACxB,YAAM,qBAAqB;AAC3B,eAAS,WAAW,MAAM,aAAa;AACrC,YAAI,aAAa;AACf,gBAAM,WAAW,GAAG,KAAK,OAAO,YAAY,kBAAkB,CAAC,GAAG,WAAW;AAC7E,iBAAO,OAAO;AAAA,YACZ;AAAA,YACA,YAAY;AAAA,YACZ,YAAY;AAAA;QAEtB;AACM,eAAO;AAAA,MACb;AACI,eAAS,WAAW,WAAW;AAC7B,eAAO,UAAU,KAAK,IAAI,EAAE,QAAQ,OAAO,IAAI,OAAO,eAAe,CAAC;AAAA,MAC5E;AAGI,UAAI,SAAS,CAAC,UAAU,OAAO,aAAa,GAAG,CAAC,IAAI,EAAE;AAGtD,YAAM,qBAAqB,OAAO,mBAAmB,GAAG;AACxD,UAAI,mBAAmB,SAAS,GAAG;AACjC,iBAAS,OAAO,OAAO;AAAA,UACrB,OAAO,KAAK,oBAAoB,WAAW,CAAC;AAAA,UAC5C;AAAA,QACR,CAAO;AAAA,MACP;AAGI,YAAM,eAAe,OAAO,iBAAiB,GAAG,EAAE,IAAI,CAACA,cAAa;AAClE,eAAO;AAAA,UACL,OAAO,aAAaA,SAAQ;AAAA,UAC5B,OAAO,oBAAoBA,SAAQ;AAAA;MAE3C,CAAK;AACD,UAAI,aAAa,SAAS,GAAG;AAC3B,iBAAS,OAAO,OAAO,CAAC,cAAc,WAAW,YAAY,GAAG,EAAE,CAAC;AAAA,MACzE;AAGI,YAAM,aAAa,OAAO,eAAe,GAAG,EAAE,IAAI,CAACD,YAAW;AAC5D,eAAO;AAAA,UACL,OAAO,WAAWA,OAAM;AAAA,UACxB,OAAO,kBAAkBA,OAAM;AAAA;MAEvC,CAAK;AACD,UAAI,WAAW,SAAS,GAAG;AACzB,iBAAS,OAAO,OAAO,CAAC,YAAY,WAAW,UAAU,GAAG,EAAE,CAAC;AAAA,MACrE;AAEI,UAAI,KAAK,mBAAmB;AAC1B,cAAM,mBAAmB,OACtB,qBAAqB,GAAG,EACxB,IAAI,CAACA,YAAW;AACf,iBAAO;AAAA,YACL,OAAO,WAAWA,OAAM;AAAA,YACxB,OAAO,kBAAkBA,OAAM;AAAA;QAE3C,CAAS;AACH,YAAI,iBAAiB,SAAS,GAAG;AAC/B,mBAAS,OAAO,OAAO;AAAA,YACrB;AAAA,YACA,WAAW,gBAAgB;AAAA,YAC3B;AAAA,UACV,CAAS;AAAA,QACT;AAAA,MACA;AAGI,YAAM,cAAc,OAAO,gBAAgB,GAAG,EAAE,IAAI,CAACD,SAAQ;AAC3D,eAAO;AAAA,UACL,OAAO,eAAeA,IAAG;AAAA,UACzB,OAAO,sBAAsBA,IAAG;AAAA;MAExC,CAAK;AACD,UAAI,YAAY,SAAS,GAAG;AAC1B,iBAAS,OAAO,OAAO,CAAC,aAAa,WAAW,WAAW,GAAG,EAAE,CAAC;AAAA,MACvE;AAEI,aAAO,OAAO,KAAK,IAAI;AAAA,IAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,SAAS,KAAK,QAAQ;AACpB,aAAO,KAAK;AAAA,QACV,OAAO,wBAAwB,KAAK,MAAM;AAAA,QAC1C,OAAO,8BAA8B,KAAK,MAAM;AAAA,QAChD,OAAO,4BAA4B,KAAK,MAAM;AAAA,QAC9C,OAAO,0BAA0B,KAAK,MAAM;AAAA;IAElD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcE,KAAK,KAAK,OAAO,QAAQ,iBAAiB,IAAI;AAE5C,YAAM,UACJ;AAEF,YAAM,eAAe,IAAI,OAAO,SAAS,OAAO,IAAI;AACpD,UAAI,IAAI,MAAM,YAAY,EAAG,QAAO;AAEpC,YAAM,cAAc,QAAQ;AAC5B,UAAI,cAAc,eAAgB,QAAO;AAEzC,YAAM,aAAa,IAAI,MAAM,GAAG,MAAM;AACtC,YAAM,aAAa,IAAI,MAAM,MAAM,EAAE,QAAQ,QAAQ,IAAI;AACzD,YAAM,eAAe,IAAI,OAAO,MAAM;AACtC,YAAM,iBAAiB;AACvB,YAAM,SAAS,MAAM,cAAc;AAGnC,YAAM,QAAQ,IAAI;AAAA,QAChB;AAAA,OAAU,cAAc,CAAC,MAAM,MAAM,UAAU,MAAM,QAAQ,MAAM;AAAA,QACnE;AAAA;AAEF,YAAM,QAAQ,WAAW,MAAM,KAAK,KAAK,CAAA;AACzC,aACE,aACA,MACG,IAAI,CAAC,MAAM,MAAM;AAChB,YAAI,SAAS,KAAM,QAAO;AAC1B,gBAAQ,IAAI,IAAI,eAAe,MAAM,KAAK,QAAO;AAAA,MAC3D,CAAS,EACA,KAAK,IAAI;AAAA,IAElB;AAAA,EACA;AAEA,OAAA,OAAeD;;;;;;;;ACvgBf,QAAM,EAAE,sBAAAJ,sBAAoB,IAAKC,aAAA;AAAA,EAEjC,MAAMS,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQX,YAAY,OAAO,aAAa;AAC9B,WAAK,QAAQ;AACb,WAAK,cAAc,eAAe;AAElC,WAAK,WAAW,MAAM,SAAS,GAAG;AAClC,WAAK,WAAW,MAAM,SAAS,GAAG;AAElC,WAAK,WAAW,iBAAiB,KAAK,KAAK;AAC3C,WAAK,YAAY;AACjB,YAAM,cAAc,iBAAiB,KAAK;AAC1C,WAAK,QAAQ,YAAY;AACzB,WAAK,OAAO,YAAY;AACxB,WAAK,SAAS;AACd,UAAI,KAAK,MAAM;AACb,aAAK,SAAS,KAAK,KAAK,WAAW,OAAO;AAAA,MAChD;AACI,WAAK,eAAe;AACpB,WAAK,0BAA0B;AAC/B,WAAK,YAAY;AACjB,WAAK,SAAS;AACd,WAAK,WAAW;AAChB,WAAK,SAAS;AACd,WAAK,aAAa;AAClB,WAAK,gBAAgB,CAAA;AACrB,WAAK,UAAU;AAAA,IACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,QAAQ,OAAO,aAAa;AAC1B,WAAK,eAAe;AACpB,WAAK,0BAA0B;AAC/B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcE,OAAO,KAAK;AACV,WAAK,YAAY;AACjB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcE,UAAU,OAAO;AACf,WAAK,gBAAgB,KAAK,cAAc,OAAO,KAAK;AACpD,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAeE,QAAQ,qBAAqB;AAC3B,UAAI,aAAa;AACjB,UAAI,OAAO,wBAAwB,UAAU;AAE3C,qBAAa,EAAE,CAAC,mBAAmB,GAAG,KAAI;AAAA,MAChD;AACI,WAAK,UAAU,OAAO,OAAO,KAAK,WAAW,CAAA,GAAI,UAAU;AAC3D,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYE,IAAIP,QAAM;AACR,WAAK,SAASA;AACd,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,UAAU,IAAI;AACZ,WAAK,WAAW;AAChB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,oBAAoB,YAAY,MAAM;AACpC,WAAK,YAAY,CAAC,CAAC;AACnB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,SAAS,OAAO,MAAM;AACpB,WAAK,SAAS,CAAC,CAAC;AAChB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA,IAME,aAAa,OAAO,UAAU;AAC5B,UAAI,aAAa,KAAK,gBAAgB,CAAC,MAAM,QAAQ,QAAQ,GAAG;AAC9D,eAAO,CAAC,KAAK;AAAA,MACnB;AAEI,aAAO,SAAS,OAAO,KAAK;AAAA,IAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,QAAQ,QAAQ;AACd,WAAK,aAAa,OAAO,MAAK;AAC9B,WAAK,WAAW,CAAC,KAAK,aAAa;AACjC,YAAI,CAAC,KAAK,WAAW,SAAS,GAAG,GAAG;AAClC,gBAAM,IAAIH;AAAA,YACR,uBAAuB,KAAK,WAAW,KAAK,IAAI,CAAC;AAAA;QAE3D;AACM,YAAI,KAAK,UAAU;AACjB,iBAAO,KAAK,aAAa,KAAK,QAAQ;AAAA,QAC9C;AACM,eAAO;AAAA,MACb;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,OAAO;AACL,UAAI,KAAK,MAAM;AACb,eAAO,KAAK,KAAK,QAAQ,OAAO,EAAE;AAAA,MACxC;AACI,aAAO,KAAK,MAAM,QAAQ,MAAM,EAAE;AAAA,IACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,gBAAgB;AACd,aAAO,UAAU,KAAK,KAAI,EAAG,QAAQ,QAAQ,EAAE,CAAC;AAAA,IACpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,GAAG,KAAK;AACN,aAAO,KAAK,UAAU,OAAO,KAAK,SAAS;AAAA,IAC/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWE,YAAY;AACV,aAAO,CAAC,KAAK,YAAY,CAAC,KAAK,YAAY,CAAC,KAAK;AAAA,IACrD;AAAA,EACA;AAAA,EASA,MAAM,YAAY;AAAA;AAAA;AAAA;AAAA,IAIhB,YAAY,SAAS;AACnB,WAAK,kBAAkB,oBAAI,IAAG;AAC9B,WAAK,kBAAkB,oBAAI,IAAG;AAC9B,WAAK,cAAc,oBAAI,IAAG;AAC1B,cAAQ,QAAQ,CAACM,YAAW;AAC1B,YAAIA,QAAO,QAAQ;AACjB,eAAK,gBAAgB,IAAIA,QAAO,cAAa,GAAIA,OAAM;AAAA,QAC/D,OAAa;AACL,eAAK,gBAAgB,IAAIA,QAAO,cAAa,GAAIA,OAAM;AAAA,QAC/D;AAAA,MACA,CAAK;AACD,WAAK,gBAAgB,QAAQ,CAAC,OAAO,QAAQ;AAC3C,YAAI,KAAK,gBAAgB,IAAI,GAAG,GAAG;AACjC,eAAK,YAAY,IAAI,GAAG;AAAA,QAChC;AAAA,MACA,CAAK;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,gBAAgB,OAAOA,SAAQ;AAC7B,YAAM,YAAYA,QAAO,cAAa;AACtC,UAAI,CAAC,KAAK,YAAY,IAAI,SAAS,EAAG,QAAO;AAG7C,YAAM,SAAS,KAAK,gBAAgB,IAAI,SAAS,EAAE;AACnD,YAAM,gBAAgB,WAAW,SAAY,SAAS;AACtD,aAAOA,QAAO,YAAY,kBAAkB;AAAA,IAChD;AAAA,EACA;AAUA,WAAS,UAAU,KAAK;AACtB,WAAO,IAAI,MAAM,GAAG,EAAE,OAAO,CAACK,MAAK,SAAS;AAC1C,aAAOA,OAAM,KAAK,CAAC,EAAE,YAAW,IAAK,KAAK,MAAM,CAAC;AAAA,IACrD,CAAG;AAAA,EACH;AAQA,WAAS,iBAAiB,OAAO;AAC/B,QAAI;AACJ,QAAI;AAGJ,UAAM,YAAY,MAAM,MAAM,QAAQ;AACtC,QAAI,UAAU,SAAS,KAAK,CAAC,QAAQ,KAAK,UAAU,CAAC,CAAC;AACpD,kBAAY,UAAU,MAAK;AAC7B,eAAW,UAAU,MAAK;AAE1B,QAAI,CAAC,aAAa,UAAU,KAAK,QAAQ,GAAG;AAC1C,kBAAY;AACZ,iBAAW;AAAA,IACf;AACE,WAAO,EAAE,WAAW,SAAQ;AAAA,EAC9B;AAEA,SAAA,SAAiBD;AACjB,SAAA,cAAsB;;;;;;;;ACzUtB,QAAM,cAAc;AAEpB,WAAS,aAAa,GAAG,GAAG;AAM1B,QAAI,KAAK,IAAI,EAAE,SAAS,EAAE,MAAM,IAAI;AAClC,aAAO,KAAK,IAAI,EAAE,QAAQ,EAAE,MAAM;AAGpC,UAAM,IAAI,CAAA;AAGV,aAAS,IAAI,GAAG,KAAK,EAAE,QAAQ,KAAK;AAClC,QAAE,CAAC,IAAI,CAAC,CAAC;AAAA,IACb;AAEE,aAAS,IAAI,GAAG,KAAK,EAAE,QAAQ,KAAK;AAClC,QAAE,CAAC,EAAE,CAAC,IAAI;AAAA,IACd;AAGE,aAAS,IAAI,GAAG,KAAK,EAAE,QAAQ,KAAK;AAClC,eAAS,IAAI,GAAG,KAAK,EAAE,QAAQ,KAAK;AAClC,YAAI,OAAO;AACX,YAAI,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG;AACzB,iBAAO;AAAA,QACf,OAAa;AACL,iBAAO;AAAA,QACf;AACM,UAAE,CAAC,EAAE,CAAC,IAAI,KAAK;AAAA,UACb,EAAE,IAAI,CAAC,EAAE,CAAC,IAAI;AAAA;AAAA,UACd,EAAE,CAAC,EAAE,IAAI,CAAC,IAAI;AAAA;AAAA,UACd,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI;AAAA;AAAA;AAGpB,YAAI,IAAI,KAAK,IAAI,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,GAAG;AACpE,YAAE,CAAC,EAAE,CAAC,IAAI,KAAK,IAAI,EAAE,CAAC,EAAE,CAAC,GAAG,EAAE,IAAI,CAAC,EAAE,IAAI,CAAC,IAAI,CAAC;AAAA,QACvD;AAAA,MACA;AAAA,IACA;AAEE,WAAO,EAAE,EAAE,MAAM,EAAE,EAAE,MAAM;AAAA,EAC7B;AAUA,WAASE,iBAAe,MAAM,YAAY;AACxC,QAAI,CAAC,cAAc,WAAW,WAAW,EAAG,QAAO;AAEnD,iBAAa,MAAM,KAAK,IAAI,IAAI,UAAU,CAAC;AAE3C,UAAM,mBAAmB,KAAK,WAAW,IAAI;AAC7C,QAAI,kBAAkB;AACpB,aAAO,KAAK,MAAM,CAAC;AACnB,mBAAa,WAAW,IAAI,CAAC,cAAc,UAAU,MAAM,CAAC,CAAC;AAAA,IACjE;AAEE,QAAI,UAAU,CAAA;AACd,QAAI,eAAe;AACnB,UAAM,gBAAgB;AACtB,eAAW,QAAQ,CAAC,cAAc;AAChC,UAAI,UAAU,UAAU,EAAG;AAE3B,YAAM,WAAW,aAAa,MAAM,SAAS;AAC7C,YAAM,SAAS,KAAK,IAAI,KAAK,QAAQ,UAAU,MAAM;AACrD,YAAM,cAAc,SAAS,YAAY;AACzC,UAAI,aAAa,eAAe;AAC9B,YAAI,WAAW,cAAc;AAE3B,yBAAe;AACf,oBAAU,CAAC,SAAS;AAAA,QAC5B,WAAiB,aAAa,cAAc;AACpC,kBAAQ,KAAK,SAAS;AAAA,QAC9B;AAAA,MACA;AAAA,IACA,CAAG;AAED,YAAQ,KAAK,CAAC,GAAG,MAAM,EAAE,cAAc,CAAC,CAAC;AACzC,QAAI,kBAAkB;AACpB,gBAAU,QAAQ,IAAI,CAAC,cAAc,KAAK,SAAS,EAAE;AAAA,IACzD;AAEE,QAAI,QAAQ,SAAS,GAAG;AACtB,aAAO;AAAA,uBAA0B,QAAQ,KAAK,IAAI,CAAC;AAAA,IACvD;AACE,QAAI,QAAQ,WAAW,GAAG;AACxB,aAAO;AAAA,gBAAmB,QAAQ,CAAC,CAAC;AAAA,IACxC;AACE,WAAO;AAAA,EACT;AAEAC,iBAAA,iBAAyBD;;;;;;;ACpGzB,QAAM,eAAe,WAAuB;AAC5C,QAAM,eAAe;AACrB,QAAME,SAAOC;AACb,QAAMC,MAAK;AACX,QAAMC,WAAUC;AAEhB,QAAM,EAAE,UAAAhB,WAAU,qBAAoB,IAAKiB,gBAAA;AAC3C,QAAM,EAAE,gBAAApB,gBAAc,IAAKqB,aAAA;AAC3B,QAAM,EAAE,MAAAhB,MAAI,IAAKiB,YAAA;AACjB,QAAM,EAAE,QAAAX,SAAQ,YAAW,IAAKY,cAAA;AAChC,QAAM,EAAE,gBAAAV,gBAAc,IAAKW,sBAAA;AAAA,EAE3B,MAAMC,iBAAgB,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOjC,YAAYrB,QAAM;AAChB,YAAK;AAEL,WAAK,WAAW,CAAA;AAEhB,WAAK,UAAU,CAAA;AACf,WAAK,SAAS;AACd,WAAK,sBAAsB;AAC3B,WAAK,wBAAwB;AAE7B,WAAK,sBAAsB,CAAA;AAC3B,WAAK,QAAQ,KAAK;AAElB,WAAK,OAAO;AACZ,WAAK,UAAU,CAAA;AACf,WAAK,gBAAgB;AACrB,WAAK,cAAc;AACnB,WAAK,QAAQA,UAAQ;AACrB,WAAK,gBAAgB,CAAA;AACrB,WAAK,sBAAsB;AAC3B,WAAK,4BAA4B;AACjC,WAAK,iBAAiB;AACtB,WAAK,qBAAqB;AAC1B,WAAK,kBAAkB;AACvB,WAAK,iBAAiB;AACtB,WAAK,sBAAsB;AAC3B,WAAK,gBAAgB;AACrB,WAAK,WAAW,CAAA;AAChB,WAAK,+BAA+B;AACpC,WAAK,eAAe;AACpB,WAAK,WAAW;AAChB,WAAK,mBAAmB;AACxB,WAAK,2BAA2B;AAChC,WAAK,sBAAsB;AAC3B,WAAK,kBAAkB;AAEvB,WAAK,sBAAsB;AAC3B,WAAK,4BAA4B;AAGjC,WAAK,uBAAuB;AAAA,QAC1B,UAAU,CAAC,QAAQc,SAAQ,OAAO,MAAM,GAAG;AAAA,QAC3C,UAAU,CAAC,QAAQA,SAAQ,OAAO,MAAM,GAAG;AAAA,QAC3C,iBAAiB,MACfA,SAAQ,OAAO,QAAQA,SAAQ,OAAO,UAAU;AAAA,QAClD,iBAAiB,MACfA,SAAQ,OAAO,QAAQA,SAAQ,OAAO,UAAU;AAAA,QAClD,aAAa,CAAC,KAAK,UAAU,MAAM,GAAG;AAAA;AAGxC,WAAK,UAAU;AAEf,WAAK,cAAc;AACnB,WAAK,0BAA0B;AAE/B,WAAK,eAAe;AACpB,WAAK,qBAAqB,CAAA;AAAA,IAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,sBAAsB,eAAe;AACnC,WAAK,uBAAuB,cAAc;AAC1C,WAAK,cAAc,cAAc;AACjC,WAAK,eAAe,cAAc;AAClC,WAAK,qBAAqB,cAAc;AACxC,WAAK,gBAAgB,cAAc;AACnC,WAAK,4BAA4B,cAAc;AAC/C,WAAK,+BACH,cAAc;AAChB,WAAK,wBAAwB,cAAc;AAC3C,WAAK,2BAA2B,cAAc;AAC9C,WAAK,sBAAsB,cAAc;AACzC,WAAK,4BAA4B,cAAc;AAE/C,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA,IAOE,0BAA0B;AACxB,YAAM,SAAS,CAAA;AAEf,eAAST,WAAU,MAAMA,UAASA,WAAUA,SAAQ,QAAQ;AAC1D,eAAO,KAAKA,QAAO;AAAA,MACzB;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA2BE,QAAQ,aAAa,sBAAsB,UAAU;AACnD,UAAI,OAAO;AACX,UAAI,OAAO;AACX,UAAI,OAAO,SAAS,YAAY,SAAS,MAAM;AAC7C,eAAO;AACP,eAAO;AAAA,MACb;AACI,aAAO,QAAQ,CAAA;AACf,YAAM,CAAA,EAAGL,QAAM,IAAI,IAAI,YAAY,MAAM,eAAe;AAExD,YAAM,MAAM,KAAK,cAAcA,MAAI;AACnC,UAAI,MAAM;AACR,YAAI,YAAY,IAAI;AACpB,YAAI,qBAAqB;AAAA,MAC/B;AACI,UAAI,KAAK,UAAW,MAAK,sBAAsB,IAAI;AACnD,UAAI,UAAU,CAAC,EAAE,KAAK,UAAU,KAAK;AACrC,UAAI,kBAAkB,KAAK,kBAAkB;AAC7C,UAAI,KAAM,KAAI,UAAU,IAAI;AAC5B,WAAK,iBAAiB,GAAG;AACzB,UAAI,SAAS;AACb,UAAI,sBAAsB,IAAI;AAE9B,UAAI,KAAM,QAAO;AACjB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYE,cAAcA,QAAM;AAClB,aAAO,IAAIqB,SAAQrB,MAAI;AAAA,IAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,aAAa;AACX,aAAO,OAAO,OAAO,IAAIC,MAAI,GAAI,KAAK,eAAe;AAAA,IACzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,cAAc,eAAe;AAC3B,UAAI,kBAAkB,OAAW,QAAO,KAAK;AAE7C,WAAK,qBAAqB;AAC1B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAqBE,gBAAgB,eAAe;AAC7B,UAAI,kBAAkB,OAAW,QAAO,KAAK;AAE7C,aAAO,OAAO,KAAK,sBAAsB,aAAa;AACtD,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,mBAAmB,cAAc,MAAM;AACrC,UAAI,OAAO,gBAAgB,SAAU,eAAc,CAAC,CAAC;AACrD,WAAK,sBAAsB;AAC3B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,yBAAyB,oBAAoB,MAAM;AACjD,WAAK,4BAA4B,CAAC,CAAC;AACnC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYE,WAAW,KAAK,MAAM;AACpB,UAAI,CAAC,IAAI,OAAO;AACd,cAAM,IAAI,MAAM;AAAA,2DACqC;AAAA,MAC3D;AAEI,aAAO,QAAQ,CAAA;AACf,UAAI,KAAK,UAAW,MAAK,sBAAsB,IAAI;AACnD,UAAI,KAAK,UAAU,KAAK,OAAQ,KAAI,UAAU;AAE9C,WAAK,iBAAiB,GAAG;AACzB,UAAI,SAAS;AACb,UAAI,2BAA0B;AAE9B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAaE,eAAeD,QAAM,aAAa;AAChC,aAAO,IAAID,UAASC,QAAM,WAAW;AAAA,IACzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAkBE,SAASA,QAAM,aAAa,IAAI,cAAc;AAC5C,YAAMI,YAAW,KAAK,eAAeJ,QAAM,WAAW;AACtD,UAAI,OAAO,OAAO,YAAY;AAC5B,QAAAI,UAAS,QAAQ,YAAY,EAAE,UAAU,EAAE;AAAA,MACjD,OAAW;AACL,QAAAA,UAAS,QAAQ,EAAE;AAAA,MACzB;AACI,WAAK,YAAYA,SAAQ;AACzB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcE,UAAU,OAAO;AACf,YACG,KAAI,EACJ,MAAM,IAAI,EACV,QAAQ,CAAC,WAAW;AACnB,aAAK,SAAS,MAAM;AAAA,MAC5B,CAAO;AACH,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,YAAYA,WAAU;AACpB,YAAM,mBAAmB,KAAK,oBAAoB,MAAM,EAAE,EAAE,CAAC;AAC7D,UAAI,oBAAoB,iBAAiB,UAAU;AACjD,cAAM,IAAI;AAAA,UACR,2CAA2C,iBAAiB,KAAI,CAAE;AAAA;MAE1E;AACI,UACEA,UAAS,YACTA,UAAS,iBAAiB,UAC1BA,UAAS,aAAa,QACtB;AACA,cAAM,IAAI;AAAA,UACR,2DAA2DA,UAAS,KAAI,CAAE;AAAA;MAElF;AACI,WAAK,oBAAoB,KAAKA,SAAQ;AACtC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAgBE,YAAY,qBAAqB,aAAa;AAC5C,UAAI,OAAO,wBAAwB,WAAW;AAC5C,aAAK,0BAA0B;AAC/B,eAAO;AAAA,MACb;AAEI,4BAAsB,uBAAuB;AAC7C,YAAM,CAAA,EAAG,UAAU,QAAQ,IAAI,oBAAoB,MAAM,eAAe;AACxE,YAAM,kBAAkB,eAAe;AAEvC,YAAM,cAAc,KAAK,cAAc,QAAQ;AAC/C,kBAAY,WAAW,KAAK;AAC5B,UAAI,SAAU,aAAY,UAAU,QAAQ;AAC5C,UAAI,gBAAiB,aAAY,YAAY,eAAe;AAE5D,WAAK,0BAA0B;AAC/B,WAAK,eAAe;AAEpB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,eAAe,aAAa,uBAAuB;AAGjD,UAAI,OAAO,gBAAgB,UAAU;AACnC,aAAK,YAAY,aAAa,qBAAqB;AACnD,eAAO;AAAA,MACb;AAEI,WAAK,0BAA0B;AAC/B,WAAK,eAAe;AACpB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,kBAAkB;AAChB,YAAM,yBACJ,KAAK,4BACJ,KAAK,SAAS,UACb,CAAC,KAAK,kBACN,CAAC,KAAK,aAAa,MAAM;AAE7B,UAAI,wBAAwB;AAC1B,YAAI,KAAK,iBAAiB,QAAW;AACnC,eAAK,YAAY,QAAW,MAAS;AAAA,QAC7C;AACM,eAAO,KAAK;AAAA,MAClB;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,KAAK,OAAO,UAAU;AACpB,YAAM,gBAAgB,CAAC,iBAAiB,aAAa,YAAY;AACjE,UAAI,CAAC,cAAc,SAAS,KAAK,GAAG;AAClC,cAAM,IAAI,MAAM,gDAAgD,KAAK;AAAA,oBACvD,cAAc,KAAK,MAAM,CAAC,GAAG;AAAA,MACjD;AACI,UAAI,KAAK,gBAAgB,KAAK,GAAG;AAC/B,aAAK,gBAAgB,KAAK,EAAE,KAAK,QAAQ;AAAA,MAC/C,OAAW;AACL,aAAK,gBAAgB,KAAK,IAAI,CAAC,QAAQ;AAAA,MAC7C;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,aAAa,IAAI;AACf,UAAI,IAAI;AACN,aAAK,gBAAgB;AAAA,MAC3B,OAAW;AACL,aAAK,gBAAgB,CAAC,QAAQ;AAC5B,cAAI,IAAI,SAAS,oCAAoC;AACnD,kBAAM;AAAA,UAChB;AAAA,QAGA;AAAA,MACA;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYE,MAAM,UAAU,MAAM,SAAS;AAC7B,UAAI,KAAK,eAAe;AACtB,aAAK,cAAc,IAAIR,gBAAe,UAAU,MAAM,OAAO,CAAC;AAAA,MAEpE;AACI,MAAAkB,SAAQ,KAAK,QAAQ;AAAA,IACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAiBE,OAAO,IAAI;AACT,YAAM,WAAW,CAAC,SAAS;AAEzB,cAAM,oBAAoB,KAAK,oBAAoB;AACnD,cAAM,aAAa,KAAK,MAAM,GAAG,iBAAiB;AAClD,YAAI,KAAK,2BAA2B;AAClC,qBAAW,iBAAiB,IAAI;AAAA,QACxC,OAAa;AACL,qBAAW,iBAAiB,IAAI,KAAK,KAAI;AAAA,QACjD;AACM,mBAAW,KAAK,IAAI;AAEpB,eAAO,GAAG,MAAM,MAAM,UAAU;AAAA,MACtC;AACI,WAAK,iBAAiB;AACtB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAaE,aAAa,OAAO,aAAa;AAC/B,aAAO,IAAIP,QAAO,OAAO,WAAW;AAAA,IACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYE,cAAc,QAAQ,OAAO,UAAU,wBAAwB;AAC7D,UAAI;AACF,eAAO,OAAO,SAAS,OAAO,QAAQ;AAAA,MAC5C,SAAa,KAAK;AACZ,YAAI,IAAI,SAAS,6BAA6B;AAC5C,gBAAM,UAAU,GAAG,sBAAsB,IAAI,IAAI,OAAO;AACxD,eAAK,MAAM,SAAS,EAAE,UAAU,IAAI,UAAU,MAAM,IAAI,MAAM;AAAA,QACtE;AACM,cAAM;AAAA,MACZ;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,gBAAgBJ,SAAQ;AACtB,YAAM,iBACHA,QAAO,SAAS,KAAK,YAAYA,QAAO,KAAK,KAC7CA,QAAO,QAAQ,KAAK,YAAYA,QAAO,IAAI;AAC9C,UAAI,gBAAgB;AAClB,cAAM,eACJA,QAAO,QAAQ,KAAK,YAAYA,QAAO,IAAI,IACvCA,QAAO,OACPA,QAAO;AACb,cAAM,IAAI,MAAM,sBAAsBA,QAAO,KAAK,IAAI,KAAK,SAAS,gBAAgB,KAAK,KAAK,GAAG,6BAA6B,YAAY;AAAA,6BACnH,eAAe,KAAK,GAAG;AAAA,MACpD;AAEI,WAAK,QAAQ,KAAKA,OAAM;AAAA,IAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,iBAAiBE,UAAS;AACxB,YAAM,UAAU,CAAC,QAAQ;AACvB,eAAO,CAAC,IAAI,KAAI,CAAE,EAAE,OAAO,IAAI,SAAS;AAAA,MAC9C;AAEI,YAAM,cAAc,QAAQA,QAAO,EAAE;AAAA,QAAK,CAACL,WACzC,KAAK,aAAaA,MAAI;AAAA;AAExB,UAAI,aAAa;AACf,cAAM,cAAc,QAAQ,KAAK,aAAa,WAAW,CAAC,EAAE,KAAK,GAAG;AACpE,cAAM,SAAS,QAAQK,QAAO,EAAE,KAAK,GAAG;AACxC,cAAM,IAAI;AAAA,UACR,uBAAuB,MAAM,8BAA8B,WAAW;AAAA;MAE9E;AAEI,WAAK,SAAS,KAAKA,QAAO;AAAA,IAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,UAAUF,SAAQ;AAChB,WAAK,gBAAgBA,OAAM;AAE3B,YAAM,QAAQA,QAAO,KAAI;AACzB,YAAMH,SAAOG,QAAO,cAAa;AAGjC,UAAIA,QAAO,QAAQ;AAEjB,cAAM,mBAAmBA,QAAO,KAAK,QAAQ,UAAU,IAAI;AAC3D,YAAI,CAAC,KAAK,YAAY,gBAAgB,GAAG;AACvC,eAAK;AAAA,YACHH;AAAA,YACAG,QAAO,iBAAiB,SAAY,OAAOA,QAAO;AAAA,YAClD;AAAA;QAEV;AAAA,MACA,WAAeA,QAAO,iBAAiB,QAAW;AAC5C,aAAK,yBAAyBH,QAAMG,QAAO,cAAc,SAAS;AAAA,MACxE;AAGI,YAAM,oBAAoB,CAAC,KAAK,qBAAqB,gBAAgB;AAGnE,YAAI,OAAO,QAAQA,QAAO,cAAc,QAAW;AACjD,gBAAMA,QAAO;AAAA,QACrB;AAGM,cAAM,WAAW,KAAK,eAAeH,MAAI;AACzC,YAAI,QAAQ,QAAQG,QAAO,UAAU;AACnC,gBAAM,KAAK,cAAcA,SAAQ,KAAK,UAAU,mBAAmB;AAAA,QAC3E,WAAiB,QAAQ,QAAQA,QAAO,UAAU;AAC1C,gBAAMA,QAAO,aAAa,KAAK,QAAQ;AAAA,QAC/C;AAGM,YAAI,OAAO,MAAM;AACf,cAAIA,QAAO,QAAQ;AACjB,kBAAM;AAAA,UAChB,WAAmBA,QAAO,UAAS,KAAMA,QAAO,UAAU;AAChD,kBAAM;AAAA,UAChB,OAAe;AACL,kBAAM;AAAA,UAChB;AAAA,QACA;AACM,aAAK,yBAAyBH,QAAM,KAAK,WAAW;AAAA,MAC1D;AAEI,WAAK,GAAG,YAAY,OAAO,CAAC,QAAQ;AAClC,cAAM,sBAAsB,kBAAkBG,QAAO,KAAK,eAAe,GAAG;AAC5E,0BAAkB,KAAK,qBAAqB,KAAK;AAAA,MACvD,CAAK;AAED,UAAIA,QAAO,QAAQ;AACjB,aAAK,GAAG,eAAe,OAAO,CAAC,QAAQ;AACrC,gBAAM,sBAAsB,kBAAkBA,QAAO,KAAK,YAAY,GAAG,eAAeA,QAAO,MAAM;AACrG,4BAAkB,KAAK,qBAAqB,KAAK;AAAA,QACzD,CAAO;AAAA,MACP;AAEI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,UAAUmB,SAAQ,OAAO,aAAa,IAAI,cAAc;AACtD,UAAI,OAAO,UAAU,YAAY,iBAAiBf,SAAQ;AACxD,cAAM,IAAI;AAAA,UACR;AAAA;MAER;AACI,YAAMJ,UAAS,KAAK,aAAa,OAAO,WAAW;AACnD,MAAAA,QAAO,oBAAoB,CAAC,CAACmB,QAAO,SAAS;AAC7C,UAAI,OAAO,OAAO,YAAY;AAC5B,QAAAnB,QAAO,QAAQ,YAAY,EAAE,UAAU,EAAE;AAAA,MAC/C,WAAe,cAAc,QAAQ;AAE/B,cAAM,QAAQ;AACd,aAAK,CAAC,KAAK,QAAQ;AACjB,gBAAM,IAAI,MAAM,KAAK,GAAG;AACxB,iBAAO,IAAI,EAAE,CAAC,IAAI;AAAA,QAC1B;AACM,QAAAA,QAAO,QAAQ,YAAY,EAAE,UAAU,EAAE;AAAA,MAC/C,OAAW;AACL,QAAAA,QAAO,QAAQ,EAAE;AAAA,MACvB;AAEI,aAAO,KAAK,UAAUA,OAAM;AAAA,IAChC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAwBE,OAAO,OAAO,aAAa,UAAU,cAAc;AACjD,aAAO,KAAK,UAAU,CAAA,GAAI,OAAO,aAAa,UAAU,YAAY;AAAA,IACxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAeE,eAAe,OAAO,aAAa,UAAU,cAAc;AACzD,aAAO,KAAK;AAAA,QACV,EAAE,WAAW,KAAI;AAAA,QACjB;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA;IAEN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAaE,4BAA4B,UAAU,MAAM;AAC1C,WAAK,+BAA+B,CAAC,CAAC;AACtC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,mBAAmB,eAAe,MAAM;AACtC,WAAK,sBAAsB,CAAC,CAAC;AAC7B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,qBAAqB,cAAc,MAAM;AACvC,WAAK,wBAAwB,CAAC,CAAC;AAC/B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,wBAAwB,aAAa,MAAM;AACzC,WAAK,2BAA2B,CAAC,CAAC;AAClC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWE,mBAAmB,cAAc,MAAM;AACrC,WAAK,sBAAsB,CAAC,CAAC;AAC7B,WAAK,2BAA0B;AAC/B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA,IAME,6BAA6B;AAC3B,UACE,KAAK,UACL,KAAK,uBACL,CAAC,KAAK,OAAO,0BACb;AACA,cAAM,IAAI;AAAA,UACR,0CAA0C,KAAK,KAAK;AAAA;MAE5D;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,yBAAyB,oBAAoB,MAAM;AACjD,UAAI,KAAK,QAAQ,QAAQ;AACvB,cAAM,IAAI,MAAM,wDAAwD;AAAA,MAC9E;AACI,UAAI,OAAO,KAAK,KAAK,aAAa,EAAE,QAAQ;AAC1C,cAAM,IAAI;AAAA,UACR;AAAA;MAER;AACI,WAAK,4BAA4B,CAAC,CAAC;AACnC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,eAAe,KAAK;AAClB,UAAI,KAAK,2BAA2B;AAClC,eAAO,KAAK,GAAG;AAAA,MACrB;AACI,aAAO,KAAK,cAAc,GAAG;AAAA,IACjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,eAAe,KAAK,OAAO;AACzB,aAAO,KAAK,yBAAyB,KAAK,OAAO,MAAS;AAAA,IAC9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWE,yBAAyB,KAAK,OAAO,QAAQ;AAC3C,UAAI,KAAK,2BAA2B;AAClC,aAAK,GAAG,IAAI;AAAA,MAClB,OAAW;AACL,aAAK,cAAc,GAAG,IAAI;AAAA,MAChC;AACI,WAAK,oBAAoB,GAAG,IAAI;AAChC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,qBAAqB,KAAK;AACxB,aAAO,KAAK,oBAAoB,GAAG;AAAA,IACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,gCAAgC,KAAK;AAEnC,UAAI;AACJ,WAAK,wBAAuB,EAAG,QAAQ,CAAC,QAAQ;AAC9C,YAAI,IAAI,qBAAqB,GAAG,MAAM,QAAW;AAC/C,mBAAS,IAAI,qBAAqB,GAAG;AAAA,QAC7C;AAAA,MACA,CAAK;AACD,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,iBAAiB,MAAM,cAAc;AACnC,UAAI,SAAS,UAAa,CAAC,MAAM,QAAQ,IAAI,GAAG;AAC9C,cAAM,IAAI,MAAM,qDAAqD;AAAA,MAC3E;AACI,qBAAe,gBAAgB,CAAA;AAG/B,UAAI,SAAS,UAAa,aAAa,SAAS,QAAW;AACzD,YAAIW,SAAQ,UAAU,UAAU;AAC9B,uBAAa,OAAO;AAAA,QAC5B;AAEM,cAAM,WAAWA,SAAQ,YAAY,CAAA;AACrC,YACE,SAAS,SAAS,IAAI,KACtB,SAAS,SAAS,QAAQ,KAC1B,SAAS,SAAS,IAAI,KACtB,SAAS,SAAS,SAAS,GAC3B;AACA,uBAAa,OAAO;AAAA,QAC5B;AAAA,MACA;AAGI,UAAI,SAAS,QAAW;AACtB,eAAOA,SAAQ;AAAA,MACrB;AACI,WAAK,UAAU,KAAK,MAAK;AAGzB,UAAI;AACJ,cAAQ,aAAa,MAAI;AAAA,QACvB,KAAK;AAAA,QACL,KAAK;AACH,eAAK,cAAc,KAAK,CAAC;AACzB,qBAAW,KAAK,MAAM,CAAC;AACvB;AAAA,QACF,KAAK;AAEH,cAAIA,SAAQ,YAAY;AACtB,iBAAK,cAAc,KAAK,CAAC;AACzB,uBAAW,KAAK,MAAM,CAAC;AAAA,UACjC,OAAe;AACL,uBAAW,KAAK,MAAM,CAAC;AAAA,UACjC;AACQ;AAAA,QACF,KAAK;AACH,qBAAW,KAAK,MAAM,CAAC;AACvB;AAAA,QACF,KAAK;AACH,qBAAW,KAAK,MAAM,CAAC;AACvB;AAAA,QACF;AACE,gBAAM,IAAI;AAAA,YACR,oCAAoC,aAAa,IAAI;AAAA;MAE/D;AAGI,UAAI,CAAC,KAAK,SAAS,KAAK;AACtB,aAAK,iBAAiB,KAAK,WAAW;AACxC,WAAK,QAAQ,KAAK,SAAS;AAE3B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAyBE,MAAM,MAAM,cAAc;AACxB,YAAM,WAAW,KAAK,iBAAiB,MAAM,YAAY;AACzD,WAAK,cAAc,CAAA,GAAI,QAAQ;AAE/B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAuBE,MAAM,WAAW,MAAM,cAAc;AACnC,YAAM,WAAW,KAAK,iBAAiB,MAAM,YAAY;AACzD,YAAM,KAAK,cAAc,CAAA,GAAI,QAAQ;AAErC,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,mBAAmB,YAAY,MAAM;AACnC,aAAO,KAAK,MAAK;AACjB,UAAI,iBAAiB;AACrB,YAAM,YAAY,CAAC,OAAO,OAAO,QAAQ,QAAQ,MAAM;AAEvD,eAAS,SAAS,SAAS,UAAU;AAEnC,cAAM,WAAWH,OAAK,QAAQ,SAAS,QAAQ;AAC/C,YAAIE,IAAG,WAAW,QAAQ,EAAG,QAAO;AAGpC,YAAI,UAAU,SAASF,OAAK,QAAQ,QAAQ,CAAC,EAAG,QAAO;AAGvD,cAAM,WAAW,UAAU;AAAA,UAAK,CAAC,QAC/BE,IAAG,WAAW,GAAG,QAAQ,GAAG,GAAG,EAAE;AAAA;AAEnC,YAAI,SAAU,QAAO,GAAG,QAAQ,GAAG,QAAQ;AAE3C,eAAO;AAAA,MACb;AAGI,WAAK,iCAAgC;AACrC,WAAK,4BAA2B;AAGhC,UAAI,iBACF,WAAW,mBAAmB,GAAG,KAAK,KAAK,IAAI,WAAW,KAAK;AACjE,UAAI,gBAAgB,KAAK,kBAAkB;AAC3C,UAAI,KAAK,aAAa;AACpB,YAAI;AACJ,YAAI;AACF,+BAAqBA,IAAG,aAAa,KAAK,WAAW;AAAA,QAC7D,SAAe,KAAK;AACZ,+BAAqB,KAAK;AAAA,QAClC;AACM,wBAAgBF,OAAK;AAAA,UACnBA,OAAK,QAAQ,kBAAkB;AAAA,UAC/B;AAAA;MAER;AAGI,UAAI,eAAe;AACjB,YAAI,YAAY,SAAS,eAAe,cAAc;AAGtD,YAAI,CAAC,aAAa,CAAC,WAAW,mBAAmB,KAAK,aAAa;AACjE,gBAAM,aAAaA,OAAK;AAAA,YACtB,KAAK;AAAA,YACLA,OAAK,QAAQ,KAAK,WAAW;AAAA;AAE/B,cAAI,eAAe,KAAK,OAAO;AAC7B,wBAAY;AAAA,cACV;AAAA,cACA,GAAG,UAAU,IAAI,WAAW,KAAK;AAAA;UAE7C;AAAA,QACA;AACM,yBAAiB,aAAa;AAAA,MACpC;AAEI,uBAAiB,UAAU,SAASA,OAAK,QAAQ,cAAc,CAAC;AAEhE,UAAI;AACJ,UAAIG,SAAQ,aAAa,SAAS;AAChC,YAAI,gBAAgB;AAClB,eAAK,QAAQ,cAAc;AAE3B,iBAAO,2BAA2BA,SAAQ,QAAQ,EAAE,OAAO,IAAI;AAE/D,iBAAO,aAAa,MAAMA,SAAQ,KAAK,CAAC,GAAG,MAAM,EAAE,OAAO,WAAW;AAAA,QAC7E,OAAa;AACL,iBAAO,aAAa,MAAM,gBAAgB,MAAM,EAAE,OAAO,WAAW;AAAA,QAC5E;AAAA,MACA,OAAW;AACL,aAAK,QAAQ,cAAc;AAE3B,eAAO,2BAA2BA,SAAQ,QAAQ,EAAE,OAAO,IAAI;AAC/D,eAAO,aAAa,MAAMA,SAAQ,UAAU,MAAM,EAAE,OAAO,WAAW;AAAA,MAC5E;AAEI,UAAI,CAAC,KAAK,QAAQ;AAEhB,cAAM,UAAU,CAAC,WAAW,WAAW,WAAW,UAAU,QAAQ;AACpE,gBAAQ,QAAQ,CAAC,WAAW;AAC1B,UAAAA,SAAQ,GAAG,QAAQ,MAAM;AACvB,gBAAI,KAAK,WAAW,SAAS,KAAK,aAAa,MAAM;AAEnD,mBAAK,KAAK,MAAM;AAAA,YAC5B;AAAA,UACA,CAAS;AAAA,QACT,CAAO;AAAA,MACP;AAGI,YAAM,eAAe,KAAK;AAC1B,WAAK,GAAG,SAAS,CAAC,SAAS;AACzB,eAAO,QAAQ;AACf,YAAI,CAAC,cAAc;AACjB,UAAAA,SAAQ,KAAK,IAAI;AAAA,QACzB,OAAa;AACL;AAAA,YACE,IAAIlB;AAAA,cACF;AAAA,cACA;AAAA,cACA;AAAA;;QAGZ;AAAA,MACA,CAAK;AACD,WAAK,GAAG,SAAS,CAAC,QAAQ;AAExB,YAAI,IAAI,SAAS,UAAU;AACzB,gBAAM,uBAAuB,gBACzB,wDAAwD,aAAa,MACrE;AACJ,gBAAM,oBAAoB,IAAI,cAAc;AAAA,SAC3C,WAAW,KAAK;AAAA;AAAA,KAEpB,oBAAoB;AACjB,gBAAM,IAAI,MAAM,iBAAiB;AAAA,QAEzC,WAAiB,IAAI,SAAS,UAAU;AAChC,gBAAM,IAAI,MAAM,IAAI,cAAc,kBAAkB;AAAA,QAC5D;AACM,YAAI,CAAC,cAAc;AACjB,UAAAkB,SAAQ,KAAK,CAAC;AAAA,QACtB,OAAa;AACL,gBAAM,eAAe,IAAIlB;AAAA,YACvB;AAAA,YACA;AAAA,YACA;AAAA;AAEF,uBAAa,cAAc;AAC3B,uBAAa,YAAY;AAAA,QACjC;AAAA,MACA,CAAK;AAGD,WAAK,iBAAiB;AAAA,IAC1B;AAAA;AAAA;AAAA;AAAA,IAME,oBAAoB,aAAa,UAAU2B,UAAS;AAClD,YAAM,aAAa,KAAK,aAAa,WAAW;AAChD,UAAI,CAAC,WAAY,MAAK,KAAK,EAAE,OAAO,MAAM;AAE1C,UAAI;AACJ,qBAAe,KAAK;AAAA,QAClB;AAAA,QACA;AAAA,QACA;AAAA;AAEF,qBAAe,KAAK,aAAa,cAAc,MAAM;AACnD,YAAI,WAAW,oBAAoB;AACjC,eAAK,mBAAmB,YAAY,SAAS,OAAOA,QAAO,CAAC;AAAA,QACpE,OAAa;AACL,iBAAO,WAAW,cAAc,UAAUA,QAAO;AAAA,QACzD;AAAA,MACA,CAAK;AACD,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,qBAAqB,gBAAgB;AACnC,UAAI,CAAC,gBAAgB;AACnB,aAAK,KAAI;AAAA,MACf;AACI,YAAM,aAAa,KAAK,aAAa,cAAc;AACnD,UAAI,cAAc,CAAC,WAAW,oBAAoB;AAChD,mBAAW,KAAI;AAAA,MACrB;AAGI,aAAO,KAAK;AAAA,QACV;AAAA,QACA,CAAA;AAAA,QACA,CAAC,KAAK,eAAc,GAAI,QAAQ,KAAK,eAAc,GAAI,SAAS,QAAQ;AAAA;IAE9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,0BAA0B;AAExB,WAAK,oBAAoB,QAAQ,CAAC,KAAK,MAAM;AAC3C,YAAI,IAAI,YAAY,KAAK,KAAK,CAAC,KAAK,MAAM;AACxC,eAAK,gBAAgB,IAAI,MAAM;AAAA,QACvC;AAAA,MACA,CAAK;AAED,UACE,KAAK,oBAAoB,SAAS,KAClC,KAAK,oBAAoB,KAAK,oBAAoB,SAAS,CAAC,EAAE,UAC9D;AACA;AAAA,MACN;AACI,UAAI,KAAK,KAAK,SAAS,KAAK,oBAAoB,QAAQ;AACtD,aAAK,iBAAiB,KAAK,IAAI;AAAA,MACrC;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,oBAAoB;AAClB,YAAM,aAAa,CAACnB,WAAU,OAAO,aAAa;AAEhD,YAAI,cAAc;AAClB,YAAI,UAAU,QAAQA,UAAS,UAAU;AACvC,gBAAM,sBAAsB,kCAAkC,KAAK,8BAA8BA,UAAS,KAAI,CAAE;AAChH,wBAAc,KAAK;AAAA,YACjBA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA;QAEV;AACM,eAAO;AAAA,MACb;AAEI,WAAK,wBAAuB;AAE5B,YAAM,gBAAgB,CAAA;AACtB,WAAK,oBAAoB,QAAQ,CAAC,aAAa,UAAU;AACvD,YAAI,QAAQ,YAAY;AACxB,YAAI,YAAY,UAAU;AAExB,cAAI,QAAQ,KAAK,KAAK,QAAQ;AAC5B,oBAAQ,KAAK,KAAK,MAAM,KAAK;AAC7B,gBAAI,YAAY,UAAU;AACxB,sBAAQ,MAAM,OAAO,CAAC,WAAW,MAAM;AACrC,uBAAO,WAAW,aAAa,GAAG,SAAS;AAAA,cACzD,GAAe,YAAY,YAAY;AAAA,YACvC;AAAA,UACA,WAAmB,UAAU,QAAW;AAC9B,oBAAQ,CAAA;AAAA,UAClB;AAAA,QACA,WAAiB,QAAQ,KAAK,KAAK,QAAQ;AACnC,kBAAQ,KAAK,KAAK,KAAK;AACvB,cAAI,YAAY,UAAU;AACxB,oBAAQ,WAAW,aAAa,OAAO,YAAY,YAAY;AAAA,UACzE;AAAA,QACA;AACM,sBAAc,KAAK,IAAI;AAAA,MAC7B,CAAK;AACD,WAAK,gBAAgB;AAAA,IACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWE,aAAa,SAAS,IAAI;AAExB,UAAI,WAAW,QAAQ,QAAQ,OAAO,QAAQ,SAAS,YAAY;AAEjE,eAAO,QAAQ,KAAK,MAAM,IAAI;AAAA,MACpC;AAEI,aAAO,GAAE;AAAA,IACb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,kBAAkB,SAAS,OAAO;AAChC,UAAI,SAAS;AACb,YAAM,QAAQ,CAAA;AACd,WAAK,wBAAuB,EACzB,QAAO,EACP,OAAO,CAAC,QAAQ,IAAI,gBAAgB,KAAK,MAAM,MAAS,EACxD,QAAQ,CAAC,kBAAkB;AAC1B,sBAAc,gBAAgB,KAAK,EAAE,QAAQ,CAAC,aAAa;AACzD,gBAAM,KAAK,EAAE,eAAe,SAAQ,CAAE;AAAA,QAChD,CAAS;AAAA,MACT,CAAO;AACH,UAAI,UAAU,cAAc;AAC1B,cAAM,QAAO;AAAA,MACnB;AAEI,YAAM,QAAQ,CAAC,eAAe;AAC5B,iBAAS,KAAK,aAAa,QAAQ,MAAM;AACvC,iBAAO,WAAW,SAAS,WAAW,eAAe,IAAI;AAAA,QACjE,CAAO;AAAA,MACP,CAAK;AACD,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWE,2BAA2B,SAAS,YAAY,OAAO;AACrD,UAAI,SAAS;AACb,UAAI,KAAK,gBAAgB,KAAK,MAAM,QAAW;AAC7C,aAAK,gBAAgB,KAAK,EAAE,QAAQ,CAAC,SAAS;AAC5C,mBAAS,KAAK,aAAa,QAAQ,MAAM;AACvC,mBAAO,KAAK,MAAM,UAAU;AAAA,UACtC,CAAS;AAAA,QACT,CAAO;AAAA,MACP;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,cAAc,UAAUmB,UAAS;AAC/B,YAAM,SAAS,KAAK,aAAaA,QAAO;AACxC,WAAK,iBAAgB;AACrB,WAAK,qBAAoB;AACzB,iBAAW,SAAS,OAAO,OAAO,QAAQ;AAC1C,MAAAA,WAAU,OAAO;AACjB,WAAK,OAAO,SAAS,OAAOA,QAAO;AAEnC,UAAI,YAAY,KAAK,aAAa,SAAS,CAAC,CAAC,GAAG;AAC9C,eAAO,KAAK,oBAAoB,SAAS,CAAC,GAAG,SAAS,MAAM,CAAC,GAAGA,QAAO;AAAA,MAC7E;AACI,UACE,KAAK,gBAAe,KACpB,SAAS,CAAC,MAAM,KAAK,gBAAe,EAAG,KAAI,GAC3C;AACA,eAAO,KAAK,qBAAqB,SAAS,CAAC,CAAC;AAAA,MAClD;AACI,UAAI,KAAK,qBAAqB;AAC5B,aAAK,uBAAuBA,QAAO;AACnC,eAAO,KAAK;AAAA,UACV,KAAK;AAAA,UACL;AAAA,UACAA;AAAA;MAER;AACI,UACE,KAAK,SAAS,UACd,KAAK,KAAK,WAAW,KACrB,CAAC,KAAK,kBACN,CAAC,KAAK,qBACN;AAEA,aAAK,KAAK,EAAE,OAAO,KAAI,CAAE;AAAA,MAC/B;AAEI,WAAK,uBAAuB,OAAO,OAAO;AAC1C,WAAK,iCAAgC;AACrC,WAAK,4BAA2B;AAGhC,YAAM,yBAAyB,MAAM;AACnC,YAAI,OAAO,QAAQ,SAAS,GAAG;AAC7B,eAAK,cAAc,OAAO,QAAQ,CAAC,CAAC;AAAA,QAC5C;AAAA,MACA;AAEI,YAAM,eAAe,WAAW,KAAK,KAAI,CAAE;AAC3C,UAAI,KAAK,gBAAgB;AACvB,+BAAsB;AACtB,aAAK,kBAAiB;AAEtB,YAAI;AACJ,uBAAe,KAAK,kBAAkB,cAAc,WAAW;AAC/D,uBAAe,KAAK;AAAA,UAAa;AAAA,UAAc,MAC7C,KAAK,eAAe,KAAK,aAAa;AAAA;AAExC,YAAI,KAAK,QAAQ;AACf,yBAAe,KAAK,aAAa,cAAc,MAAM;AACnD,iBAAK,OAAO,KAAK,cAAc,UAAUA,QAAO;AAAA,UAC1D,CAAS;AAAA,QACT;AACM,uBAAe,KAAK,kBAAkB,cAAc,YAAY;AAChE,eAAO;AAAA,MACb;AACI,UAAI,KAAK,UAAU,KAAK,OAAO,cAAc,YAAY,GAAG;AAC1D,+BAAsB;AACtB,aAAK,kBAAiB;AACtB,aAAK,OAAO,KAAK,cAAc,UAAUA,QAAO;AAAA,MACtD,WAAe,SAAS,QAAQ;AAC1B,YAAI,KAAK,aAAa,GAAG,GAAG;AAE1B,iBAAO,KAAK,oBAAoB,KAAK,UAAUA,QAAO;AAAA,QAC9D;AACM,YAAI,KAAK,cAAc,WAAW,GAAG;AAEnC,eAAK,KAAK,aAAa,UAAUA,QAAO;AAAA,QAChD,WAAiB,KAAK,SAAS,QAAQ;AAC/B,eAAK,eAAc;AAAA,QAC3B,OAAa;AACL,iCAAsB;AACtB,eAAK,kBAAiB;AAAA,QAC9B;AAAA,MACA,WAAe,KAAK,SAAS,QAAQ;AAC/B,+BAAsB;AAEtB,aAAK,KAAK,EAAE,OAAO,KAAI,CAAE;AAAA,MAC/B,OAAW;AACL,+BAAsB;AACtB,aAAK,kBAAiB;AAAA,MAE5B;AAAA,IACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,aAAavB,QAAM;AACjB,UAAI,CAACA,OAAM,QAAO;AAClB,aAAO,KAAK,SAAS;AAAA,QACnB,CAAC,QAAQ,IAAI,UAAUA,UAAQ,IAAI,SAAS,SAASA,MAAI;AAAA;IAE/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,YAAY,KAAK;AACf,aAAO,KAAK,QAAQ,KAAK,CAACG,YAAWA,QAAO,GAAG,GAAG,CAAC;AAAA,IACvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,mCAAmC;AAEjC,WAAK,wBAAuB,EAAG,QAAQ,CAAC,QAAQ;AAC9C,YAAI,QAAQ,QAAQ,CAAC,aAAa;AAChC,cACE,SAAS,aACT,IAAI,eAAe,SAAS,cAAa,CAAE,MAAM,QACjD;AACA,gBAAI,4BAA4B,QAAQ;AAAA,UAClD;AAAA,QACA,CAAO;AAAA,MACP,CAAK;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOE,mCAAmC;AACjC,YAAM,2BAA2B,KAAK,QAAQ,OAAO,CAACA,YAAW;AAC/D,cAAM,YAAYA,QAAO,cAAa;AACtC,YAAI,KAAK,eAAe,SAAS,MAAM,QAAW;AAChD,iBAAO;AAAA,QACf;AACM,eAAO,KAAK,qBAAqB,SAAS,MAAM;AAAA,MACtD,CAAK;AAED,YAAM,yBAAyB,yBAAyB;AAAA,QACtD,CAACA,YAAWA,QAAO,cAAc,SAAS;AAAA;AAG5C,6BAAuB,QAAQ,CAACA,YAAW;AACzC,cAAM,wBAAwB,yBAAyB;AAAA,UAAK,CAAC,YAC3DA,QAAO,cAAc,SAAS,QAAQ,cAAa,CAAE;AAAA;AAEvD,YAAI,uBAAuB;AACzB,eAAK,mBAAmBA,SAAQ,qBAAqB;AAAA,QAC7D;AAAA,MACA,CAAK;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,8BAA8B;AAE5B,WAAK,wBAAuB,EAAG,QAAQ,CAAC,QAAQ;AAC9C,YAAI,iCAAgC;AAAA,MAC1C,CAAK;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAkBE,aAAa,MAAM;AACjB,YAAM,WAAW,CAAA;AACjB,YAAMoB,WAAU,CAAA;AAChB,UAAI,OAAO;AACX,YAAM,OAAO,KAAK,MAAK;AAEvB,eAAS,YAAY,KAAK;AACxB,eAAO,IAAI,SAAS,KAAK,IAAI,CAAC,MAAM;AAAA,MAC1C;AAGI,UAAI,uBAAuB;AAC3B,aAAO,KAAK,QAAQ;AAClB,cAAM,MAAM,KAAK,MAAK;AAGtB,YAAI,QAAQ,MAAM;AAChB,cAAI,SAASA,SAAS,MAAK,KAAK,GAAG;AACnC,eAAK,KAAK,GAAG,IAAI;AACjB;AAAA,QACR;AAEM,YAAI,wBAAwB,CAAC,YAAY,GAAG,GAAG;AAC7C,eAAK,KAAK,UAAU,qBAAqB,KAAI,CAAE,IAAI,GAAG;AACtD;AAAA,QACR;AACM,+BAAuB;AAEvB,YAAI,YAAY,GAAG,GAAG;AACpB,gBAAMpB,UAAS,KAAK,YAAY,GAAG;AAEnC,cAAIA,SAAQ;AACV,gBAAIA,QAAO,UAAU;AACnB,oBAAM,QAAQ,KAAK,MAAK;AACxB,kBAAI,UAAU,OAAW,MAAK,sBAAsBA,OAAM;AAC1D,mBAAK,KAAK,UAAUA,QAAO,KAAI,CAAE,IAAI,KAAK;AAAA,YACtD,WAAqBA,QAAO,UAAU;AAC1B,kBAAI,QAAQ;AAEZ,kBAAI,KAAK,SAAS,KAAK,CAAC,YAAY,KAAK,CAAC,CAAC,GAAG;AAC5C,wBAAQ,KAAK,MAAK;AAAA,cAChC;AACY,mBAAK,KAAK,UAAUA,QAAO,KAAI,CAAE,IAAI,KAAK;AAAA,YACtD,OAAiB;AAEL,mBAAK,KAAK,UAAUA,QAAO,KAAI,CAAE,EAAE;AAAA,YAC/C;AACU,mCAAuBA,QAAO,WAAWA,UAAS;AAClD;AAAA,UACV;AAAA,QACA;AAGM,YAAI,IAAI,SAAS,KAAK,IAAI,CAAC,MAAM,OAAO,IAAI,CAAC,MAAM,KAAK;AACtD,gBAAMA,UAAS,KAAK,YAAY,IAAI,IAAI,CAAC,CAAC,EAAE;AAC5C,cAAIA,SAAQ;AACV,gBACEA,QAAO,YACNA,QAAO,YAAY,KAAK,8BACzB;AAEA,mBAAK,KAAK,UAAUA,QAAO,MAAM,IAAI,IAAI,MAAM,CAAC,CAAC;AAAA,YAC7D,OAAiB;AAEL,mBAAK,KAAK,UAAUA,QAAO,KAAI,CAAE,EAAE;AACnC,mBAAK,QAAQ,IAAI,IAAI,MAAM,CAAC,CAAC,EAAE;AAAA,YAC3C;AACU;AAAA,UACV;AAAA,QACA;AAGM,YAAI,YAAY,KAAK,GAAG,GAAG;AACzB,gBAAM,QAAQ,IAAI,QAAQ,GAAG;AAC7B,gBAAMA,UAAS,KAAK,YAAY,IAAI,MAAM,GAAG,KAAK,CAAC;AACnD,cAAIA,YAAWA,QAAO,YAAYA,QAAO,WAAW;AAClD,iBAAK,KAAK,UAAUA,QAAO,KAAI,CAAE,IAAI,IAAI,MAAM,QAAQ,CAAC,CAAC;AACzD;AAAA,UACV;AAAA,QACA;AAMM,YAAI,YAAY,GAAG,GAAG;AACpB,iBAAOoB;AAAA,QACf;AAGM,aACG,KAAK,4BAA4B,KAAK,wBACvC,SAAS,WAAW,KACpBA,SAAQ,WAAW,GACnB;AACA,cAAI,KAAK,aAAa,GAAG,GAAG;AAC1B,qBAAS,KAAK,GAAG;AACjB,gBAAI,KAAK,SAAS,EAAG,CAAAA,SAAQ,KAAK,GAAG,IAAI;AACzC;AAAA,UACV,WACU,KAAK,gBAAe,KACpB,QAAQ,KAAK,gBAAe,EAAG,KAAI,GACnC;AACA,qBAAS,KAAK,GAAG;AACjB,gBAAI,KAAK,SAAS,EAAG,UAAS,KAAK,GAAG,IAAI;AAC1C;AAAA,UACV,WAAmB,KAAK,qBAAqB;AACnC,YAAAA,SAAQ,KAAK,GAAG;AAChB,gBAAI,KAAK,SAAS,EAAG,CAAAA,SAAQ,KAAK,GAAG,IAAI;AACzC;AAAA,UACV;AAAA,QACA;AAGM,YAAI,KAAK,qBAAqB;AAC5B,eAAK,KAAK,GAAG;AACb,cAAI,KAAK,SAAS,EAAG,MAAK,KAAK,GAAG,IAAI;AACtC;AAAA,QACR;AAGM,aAAK,KAAK,GAAG;AAAA,MACnB;AAEI,aAAO,EAAE,UAAU,SAAAA,SAAO;AAAA,IAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOE,OAAO;AACL,UAAI,KAAK,2BAA2B;AAElC,cAAM,SAAS,CAAA;AACf,cAAM,MAAM,KAAK,QAAQ;AAEzB,iBAAS,IAAI,GAAG,IAAI,KAAK,KAAK;AAC5B,gBAAM,MAAM,KAAK,QAAQ,CAAC,EAAE,cAAa;AACzC,iBAAO,GAAG,IACR,QAAQ,KAAK,qBAAqB,KAAK,WAAW,KAAK,GAAG;AAAA,QACpE;AACM,eAAO;AAAA,MACb;AAEI,aAAO,KAAK;AAAA,IAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOE,kBAAkB;AAEhB,aAAO,KAAK,wBAAuB,EAAG;AAAA,QACpC,CAAC,iBAAiB,QAAQ,OAAO,OAAO,iBAAiB,IAAI,MAAM;AAAA,QACnE,CAAA;AAAA;IAEN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,MAAM,SAAS,cAAc;AAE3B,WAAK,qBAAqB;AAAA,QACxB,GAAG,OAAO;AAAA;AAAA,QACV,KAAK,qBAAqB;AAAA;AAE5B,UAAI,OAAO,KAAK,wBAAwB,UAAU;AAChD,aAAK,qBAAqB,SAAS,GAAG,KAAK,mBAAmB;AAAA,CAAI;AAAA,MACxE,WAAe,KAAK,qBAAqB;AACnC,aAAK,qBAAqB,SAAS,IAAI;AACvC,aAAK,WAAW,EAAE,OAAO,KAAI,CAAE;AAAA,MACrC;AAGI,YAAMD,UAAS,gBAAgB,CAAA;AAC/B,YAAM,WAAWA,QAAO,YAAY;AACpC,YAAM,OAAOA,QAAO,QAAQ;AAC5B,WAAK,MAAM,UAAU,MAAM,OAAO;AAAA,IACtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,mBAAmB;AACjB,WAAK,QAAQ,QAAQ,CAACnB,YAAW;AAC/B,YAAIA,QAAO,UAAUA,QAAO,UAAUW,SAAQ,KAAK;AACjD,gBAAM,YAAYX,QAAO,cAAa;AAEtC,cACE,KAAK,eAAe,SAAS,MAAM,UACnC,CAAC,WAAW,UAAU,KAAK,EAAE;AAAA,YAC3B,KAAK,qBAAqB,SAAS;AAAA,UAC/C,GACU;AACA,gBAAIA,QAAO,YAAYA,QAAO,UAAU;AAGtC,mBAAK,KAAK,aAAaA,QAAO,KAAI,CAAE,IAAIW,SAAQ,IAAIX,QAAO,MAAM,CAAC;AAAA,YAC9E,OAAiB;AAGL,mBAAK,KAAK,aAAaA,QAAO,KAAI,CAAE,EAAE;AAAA,YAClD;AAAA,UACA;AAAA,QACA;AAAA,MACA,CAAK;AAAA,IACL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOE,uBAAuB;AACrB,YAAM,aAAa,IAAI,YAAY,KAAK,OAAO;AAC/C,YAAM,uBAAuB,CAAC,cAAc;AAC1C,eACE,KAAK,eAAe,SAAS,MAAM,UACnC,CAAC,CAAC,WAAW,SAAS,EAAE,SAAS,KAAK,qBAAqB,SAAS,CAAC;AAAA,MAE7E;AACI,WAAK,QACF;AAAA,QACC,CAACA,YACCA,QAAO,YAAY,UACnB,qBAAqBA,QAAO,eAAe,KAC3C,WAAW;AAAA,UACT,KAAK,eAAeA,QAAO,eAAe;AAAA,UAC1CA;AAAA;MAEZ,EACO,QAAQ,CAACA,YAAW;AACnB,eAAO,KAAKA,QAAO,OAAO,EACvB,OAAO,CAAC,eAAe,CAAC,qBAAqB,UAAU,CAAC,EACxD,QAAQ,CAAC,eAAe;AACvB,eAAK;AAAA,YACH;AAAA,YACAA,QAAO,QAAQ,UAAU;AAAA,YACzB;AAAA;QAEd,CAAW;AAAA,MACX,CAAO;AAAA,IACP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,gBAAgBH,QAAM;AACpB,YAAM,UAAU,qCAAqCA,MAAI;AACzD,WAAK,MAAM,SAAS,EAAE,MAAM,4BAA2B,CAAE;AAAA,IAC7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,sBAAsBG,SAAQ;AAC5B,YAAM,UAAU,kBAAkBA,QAAO,KAAK;AAC9C,WAAK,MAAM,SAAS,EAAE,MAAM,kCAAiC,CAAE;AAAA,IACnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,4BAA4BA,SAAQ;AAClC,YAAM,UAAU,2BAA2BA,QAAO,KAAK;AACvD,WAAK,MAAM,SAAS,EAAE,MAAM,wCAAuC,CAAE;AAAA,IACzE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,mBAAmBA,SAAQ,mBAAmB;AAG5C,YAAM,0BAA0B,CAACA,YAAW;AAC1C,cAAM,YAAYA,QAAO,cAAa;AACtC,cAAM,cAAc,KAAK,eAAe,SAAS;AACjD,cAAM,iBAAiB,KAAK,QAAQ;AAAA,UAClC,CAAC,WAAW,OAAO,UAAU,cAAc,OAAO,cAAa;AAAA;AAEjE,cAAM,iBAAiB,KAAK,QAAQ;AAAA,UAClC,CAAC,WAAW,CAAC,OAAO,UAAU,cAAc,OAAO,cAAa;AAAA;AAElE,YACE,mBACE,eAAe,cAAc,UAAa,gBAAgB,SACzD,eAAe,cAAc,UAC5B,gBAAgB,eAAe,YACnC;AACA,iBAAO;AAAA,QACf;AACM,eAAO,kBAAkBA;AAAA,MAC/B;AAEI,YAAMqB,mBAAkB,CAACrB,YAAW;AAClC,cAAM,aAAa,wBAAwBA,OAAM;AACjD,cAAM,YAAY,WAAW,cAAa;AAC1C,cAAM,SAAS,KAAK,qBAAqB,SAAS;AAClD,YAAI,WAAW,OAAO;AACpB,iBAAO,yBAAyB,WAAW,MAAM;AAAA,QACzD;AACM,eAAO,WAAW,WAAW,KAAK;AAAA,MACxC;AAEI,YAAM,UAAU,UAAUqB,iBAAgBrB,OAAM,CAAC,wBAAwBqB,iBAAgB,iBAAiB,CAAC;AAC3G,WAAK,MAAM,SAAS,EAAE,MAAM,8BAA6B,CAAE;AAAA,IAC/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,cAAc,MAAM;AAClB,UAAI,KAAK,oBAAqB;AAC9B,UAAI,aAAa;AAEjB,UAAI,KAAK,WAAW,IAAI,KAAK,KAAK,2BAA2B;AAE3D,YAAI,iBAAiB,CAAA;AAErB,YAAInB,WAAU;AACd,WAAG;AACD,gBAAM,YAAYA,SACf,WAAU,EACV,eAAeA,QAAO,EACtB,OAAO,CAACF,YAAWA,QAAO,IAAI,EAC9B,IAAI,CAACA,YAAWA,QAAO,IAAI;AAC9B,2BAAiB,eAAe,OAAO,SAAS;AAChD,UAAAE,WAAUA,SAAQ;AAAA,QAC1B,SAAeA,YAAW,CAACA,SAAQ;AAC7B,qBAAaI,gBAAe,MAAM,cAAc;AAAA,MACtD;AAEI,YAAM,UAAU,0BAA0B,IAAI,IAAI,UAAU;AAC5D,WAAK,MAAM,SAAS,EAAE,MAAM,0BAAyB,CAAE;AAAA,IAC3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,iBAAiB,cAAc;AAC7B,UAAI,KAAK,sBAAuB;AAEhC,YAAM,WAAW,KAAK,oBAAoB;AAC1C,YAAM,IAAI,aAAa,IAAI,KAAK;AAChC,YAAM,gBAAgB,KAAK,SAAS,SAAS,KAAK,KAAI,CAAE,MAAM;AAC9D,YAAM,UAAU,4BAA4B,aAAa,cAAc,QAAQ,YAAY,CAAC,YAAY,aAAa,MAAM;AAC3H,WAAK,MAAM,SAAS,EAAE,MAAM,4BAA2B,CAAE;AAAA,IAC7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,iBAAiB;AACf,YAAM,cAAc,KAAK,KAAK,CAAC;AAC/B,UAAI,aAAa;AAEjB,UAAI,KAAK,2BAA2B;AAClC,cAAM,iBAAiB,CAAA;AACvB,aAAK,WAAU,EACZ,gBAAgB,IAAI,EACpB,QAAQ,CAACJ,aAAY;AACpB,yBAAe,KAAKA,SAAQ,MAAM;AAElC,cAAIA,SAAQ,QAAS,gBAAe,KAAKA,SAAQ,OAAO;AAAA,QAClE,CAAS;AACH,qBAAaI,gBAAe,aAAa,cAAc;AAAA,MAC7D;AAEI,YAAM,UAAU,2BAA2B,WAAW,IAAI,UAAU;AACpE,WAAK,MAAM,SAAS,EAAE,MAAM,2BAA0B,CAAE;AAAA,IAC5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAeE,QAAQ,KAAK,OAAO,aAAa;AAC/B,UAAI,QAAQ,OAAW,QAAO,KAAK;AACnC,WAAK,WAAW;AAChB,cAAQ,SAAS;AACjB,oBAAc,eAAe;AAC7B,YAAM,gBAAgB,KAAK,aAAa,OAAO,WAAW;AAC1D,WAAK,qBAAqB,cAAc,cAAa;AACrD,WAAK,gBAAgB,aAAa;AAElC,WAAK,GAAG,YAAY,cAAc,KAAI,GAAI,MAAM;AAC9C,aAAK,qBAAqB,SAAS,GAAG,GAAG;AAAA,CAAI;AAC7C,aAAK,MAAM,GAAG,qBAAqB,GAAG;AAAA,MAC5C,CAAK;AACD,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,YAAY,KAAK,iBAAiB;AAChC,UAAI,QAAQ,UAAa,oBAAoB;AAC3C,eAAO,KAAK;AACd,WAAK,eAAe;AACpB,UAAI,iBAAiB;AACnB,aAAK,mBAAmB;AAAA,MAC9B;AACI,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQE,QAAQ,KAAK;AACX,UAAI,QAAQ,OAAW,QAAO,KAAK;AACnC,WAAK,WAAW;AAChB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWE,MAAM,OAAO;AACX,UAAI,UAAU,OAAW,QAAO,KAAK,SAAS,CAAC;AAI/C,UAAIJ,WAAU;AACd,UACE,KAAK,SAAS,WAAW,KACzB,KAAK,SAAS,KAAK,SAAS,SAAS,CAAC,EAAE,oBACxC;AAEA,QAAAA,WAAU,KAAK,SAAS,KAAK,SAAS,SAAS,CAAC;AAAA,MACtD;AAEI,UAAI,UAAUA,SAAQ;AACpB,cAAM,IAAI,MAAM,6CAA6C;AAC/D,YAAM,kBAAkB,KAAK,QAAQ,aAAa,KAAK;AACvD,UAAI,iBAAiB;AAEnB,cAAM,cAAc,CAAC,gBAAgB,KAAI,CAAE,EACxC,OAAO,gBAAgB,QAAO,CAAE,EAChC,KAAK,GAAG;AACX,cAAM,IAAI;AAAA,UACR,qBAAqB,KAAK,iBAAiB,KAAK,MAAM,8BAA8B,WAAW;AAAA;MAEvG;AAEI,MAAAA,SAAQ,SAAS,KAAK,KAAK;AAC3B,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAWE,QAAQ,SAAS;AAEf,UAAI,YAAY,OAAW,QAAO,KAAK;AAEvC,cAAQ,QAAQ,CAAC,UAAU,KAAK,MAAM,KAAK,CAAC;AAC5C,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,MAAM,KAAK;AACT,UAAI,QAAQ,QAAW;AACrB,YAAI,KAAK,OAAQ,QAAO,KAAK;AAE7B,cAAM,OAAO,KAAK,oBAAoB,IAAI,CAAC,QAAQ;AACjD,iBAAO,qBAAqB,GAAG;AAAA,QACvC,CAAO;AACD,eAAO,CAAA,EACJ;AAAA,UACC,KAAK,QAAQ,UAAU,KAAK,gBAAgB,OAAO,cAAc,CAAA;AAAA,UACjE,KAAK,SAAS,SAAS,cAAc,CAAA;AAAA,UACrC,KAAK,oBAAoB,SAAS,OAAO,CAAA;AAAA,QACnD,EACS,KAAK,GAAG;AAAA,MACjB;AAEI,WAAK,SAAS;AACd,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,KAAK,KAAK;AACR,UAAI,QAAQ,OAAW,QAAO,KAAK;AACnC,WAAK,QAAQ;AACb,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAeE,iBAAiB,UAAU;AACzB,WAAK,QAAQM,OAAK,SAAS,UAAUA,OAAK,QAAQ,QAAQ,CAAC;AAE3D,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcE,cAAcA,OAAM;AAClB,UAAIA,UAAS,OAAW,QAAO,KAAK;AACpC,WAAK,iBAAiBA;AACtB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,gBAAgB,gBAAgB;AAC9B,YAAM,SAAS,KAAK,WAAU;AAC9B,UAAI,OAAO,cAAc,QAAW;AAClC,eAAO,YACL,kBAAkB,eAAe,QAC7B,KAAK,qBAAqB,gBAAe,IACzC,KAAK,qBAAqB,gBAAe;AAAA,MACrD;AACI,aAAO,OAAO,WAAW,MAAM,MAAM;AAAA,IACzC;AAAA;AAAA;AAAA;AAAA,IAME,gBAAgB,gBAAgB;AAC9B,uBAAiB,kBAAkB,CAAA;AACnC,YAAM,UAAU,EAAE,OAAO,CAAC,CAAC,eAAe,MAAK;AAC/C,UAAI;AACJ,UAAI,QAAQ,OAAO;AACjB,gBAAQ,CAAC,QAAQ,KAAK,qBAAqB,SAAS,GAAG;AAAA,MAC7D,OAAW;AACL,gBAAQ,CAAC,QAAQ,KAAK,qBAAqB,SAAS,GAAG;AAAA,MAC7D;AACI,cAAQ,QAAQ,eAAe,SAAS;AACxC,cAAQ,UAAU;AAClB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,WAAW,gBAAgB;AACzB,UAAI;AACJ,UAAI,OAAO,mBAAmB,YAAY;AACxC,6BAAqB;AACrB,yBAAiB;AAAA,MACvB;AACI,YAAM,UAAU,KAAK,gBAAgB,cAAc;AAEnD,WAAK,wBAAuB,EACzB,QAAO,EACP,QAAQ,CAACN,aAAYA,SAAQ,KAAK,iBAAiB,OAAO,CAAC;AAC9D,WAAK,KAAK,cAAc,OAAO;AAE/B,UAAI,kBAAkB,KAAK,gBAAgB,OAAO;AAClD,UAAI,oBAAoB;AACtB,0BAAkB,mBAAmB,eAAe;AACpD,YACE,OAAO,oBAAoB,YAC3B,CAAC,OAAO,SAAS,eAAe,GAChC;AACA,gBAAM,IAAI,MAAM,sDAAsD;AAAA,QAC9E;AAAA,MACA;AACI,cAAQ,MAAM,eAAe;AAE7B,UAAI,KAAK,eAAc,GAAI,MAAM;AAC/B,aAAK,KAAK,KAAK,eAAc,EAAG,IAAI;AAAA,MAC1C;AACI,WAAK,KAAK,aAAa,OAAO;AAC9B,WAAK,wBAAuB,EAAG;AAAA,QAAQ,CAACA,aACtCA,SAAQ,KAAK,gBAAgB,OAAO;AAAA;IAE1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAeE,WAAW,OAAO,aAAa;AAE7B,UAAI,OAAO,UAAU,WAAW;AAC9B,YAAI,OAAO;AACT,eAAK,cAAc,KAAK,eAAe;AAAA,QAC/C,OAAa;AACL,eAAK,cAAc;AAAA,QAC3B;AACM,eAAO;AAAA,MACb;AAGI,cAAQ,SAAS;AACjB,oBAAc,eAAe;AAC7B,WAAK,cAAc,KAAK,aAAa,OAAO,WAAW;AAEvD,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,iBAAiB;AAEf,UAAI,KAAK,gBAAgB,QAAW;AAClC,aAAK,WAAW,QAAW,MAAS;AAAA,MAC1C;AACI,aAAO,KAAK;AAAA,IAChB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,cAAcF,SAAQ;AACpB,WAAK,cAAcA;AACnB,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAUE,KAAK,gBAAgB;AACnB,WAAK,WAAW,cAAc;AAC9B,UAAI,WAAWW,SAAQ,YAAY;AACnC,UACE,aAAa,KACb,kBACA,OAAO,mBAAmB,cAC1B,eAAe,OACf;AACA,mBAAW;AAAA,MACjB;AAEI,WAAK,MAAM,UAAU,kBAAkB,cAAc;AAAA,IACzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAYE,YAAY,UAAUW,OAAM;AAC1B,YAAM,gBAAgB,CAAC,aAAa,UAAU,SAAS,UAAU;AACjE,UAAI,CAAC,cAAc,SAAS,QAAQ,GAAG;AACrC,cAAM,IAAI,MAAM;AAAA,oBACF,cAAc,KAAK,MAAM,CAAC,GAAG;AAAA,MACjD;AACI,YAAM,YAAY,GAAG,QAAQ;AAC7B,WAAK,GAAG,WAAW,CAAC,YAAY;AAC9B,YAAI;AACJ,YAAI,OAAOA,UAAS,YAAY;AAC9B,oBAAUA,MAAK,EAAE,OAAO,QAAQ,OAAO,SAAS,QAAQ,SAAS;AAAA,QACzE,OAAa;AACL,oBAAUA;AAAA,QAClB;AAEM,YAAI,SAAS;AACX,kBAAQ,MAAM,GAAG,OAAO;AAAA,CAAI;AAAA,QACpC;AAAA,MACA,CAAK;AACD,aAAO;AAAA,IACX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IASE,uBAAuB,MAAM;AAC3B,YAAM,aAAa,KAAK,eAAc;AACtC,YAAM,gBAAgB,cAAc,KAAK,KAAK,CAAC,QAAQ,WAAW,GAAG,GAAG,CAAC;AACzE,UAAI,eAAe;AACjB,aAAK,WAAU;AAEf,aAAK,MAAM,GAAG,2BAA2B,cAAc;AAAA,MAC7D;AAAA,IACA;AAAA,EACA;AAUA,WAAS,2BAA2B,MAAM;AAKxC,WAAO,KAAK,IAAI,CAAC,QAAQ;AACvB,UAAI,CAAC,IAAI,WAAW,WAAW,GAAG;AAChC,eAAO;AAAA,MACb;AACI,UAAI;AACJ,UAAI,YAAY;AAChB,UAAI,YAAY;AAChB,UAAI;AACJ,WAAK,QAAQ,IAAI,MAAM,sBAAsB,OAAO,MAAM;AAExD,sBAAc,MAAM,CAAC;AAAA,MAC3B,YACO,QAAQ,IAAI,MAAM,oCAAoC,OAAO,MAC9D;AACA,sBAAc,MAAM,CAAC;AACrB,YAAI,QAAQ,KAAK,MAAM,CAAC,CAAC,GAAG;AAE1B,sBAAY,MAAM,CAAC;AAAA,QAC3B,OAAa;AAEL,sBAAY,MAAM,CAAC;AAAA,QAC3B;AAAA,MACA,YACO,QAAQ,IAAI,MAAM,0CAA0C,OAAO,MACpE;AAEA,sBAAc,MAAM,CAAC;AACrB,oBAAY,MAAM,CAAC;AACnB,oBAAY,MAAM,CAAC;AAAA,MACzB;AAEI,UAAI,eAAe,cAAc,KAAK;AACpC,eAAO,GAAG,WAAW,IAAI,SAAS,IAAI,SAAS,SAAS,IAAI,CAAC;AAAA,MACnE;AACI,aAAO;AAAA,IACX,CAAG;AAAA,EACH;AAEA,UAAA,UAAkBJ;;;;;;;AC58ElB,QAAM,EAAE,UAAAtB,UAAQ,IAAKD,gBAAA;AACrB,QAAM,EAAE,SAAAuB,SAAO,IAAKK,eAAA;AACpB,QAAM,EAAE,gBAAA9B,iBAAgB,sBAAAC,sBAAoB,IAAKe,aAAA;AACjD,QAAM,EAAE,MAAAX,MAAI,IAAK0B,YAAA;AACjB,QAAM,EAAE,QAAApB,QAAM,IAAKQ,cAAA;AAEnBa,cAAA,UAAkB,IAAIP,SAAO;AAE7BO,cAAA,gBAAwB,CAAC5B,WAAS,IAAIqB,SAAQrB,MAAI;AAClD4B,cAAA,eAAuB,CAAC,OAAO,gBAAgB,IAAIrB,QAAO,OAAO,WAAW;AAC5EqB,cAAA,iBAAyB,CAAC5B,QAAM,gBAAgB,IAAID,UAASC,QAAM,WAAW;AAM9E4B,cAAA,UAAkBP;AAClBO,cAAA,SAAiBrB;AACjBqB,cAAA,WAAmB7B;AACnB6B,cAAA,OAAe3B;AAEf2B,cAAA,iBAAyBhC;AACzBgC,cAAA,uBAA+B/B;AAC/B+B,cAAA,6BAAqC/B;;;;;ACpB9B,MAAM;AAAA,EACX;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACF,sBAAEA;AAAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,IAAI;;;;;;;;;;ACfJ,QAAMgB,MAAKf;AACX,QAAMa,QAAOe;AACb,QAAM,KAAK;AACX,QAAM,SAASC;AACf,QAAM,cAAc;AAEpB,QAAME,WAAU,YAAY;AAE5B,QAAM,OAAO;AAGb,WAASC,OAAO,KAAK;AACnB,UAAM,MAAM,CAAA;AAGZ,QAAI,QAAQ,IAAI,SAAQ;AAGxB,YAAQ,MAAM,QAAQ,WAAW,IAAI;AAErC,QAAI;AACJ,YAAQ,QAAQ,KAAK,KAAK,KAAK,MAAM,MAAM;AACzC,YAAM,MAAM,MAAM,CAAC;AAGnB,UAAI,QAAS,MAAM,CAAC,KAAK;AAGzB,cAAQ,MAAM,KAAI;AAGlB,YAAM,aAAa,MAAM,CAAC;AAG1B,cAAQ,MAAM,QAAQ,0BAA0B,IAAI;AAGpD,UAAI,eAAe,KAAK;AACtB,gBAAQ,MAAM,QAAQ,QAAQ,IAAI;AAClC,gBAAQ,MAAM,QAAQ,QAAQ,IAAI;AAAA,MACxC;AAGI,UAAI,GAAG,IAAI;AAAA,IACf;AAEE,WAAO;AAAA,EACT;AAEA,WAAS,YAAa,SAAS;AAC7B,cAAU,WAAW,CAAA;AAErB,UAAM,YAAY,WAAW,OAAO;AACpC,YAAQ,OAAO;AACf,UAAM,SAAS,aAAa,aAAa,OAAO;AAChD,QAAI,CAAC,OAAO,QAAQ;AAClB,YAAM,MAAM,IAAI,MAAM,8BAA8B,SAAS,wBAAwB;AACrF,UAAI,OAAO;AACX,YAAM;AAAA,IACV;AAIE,UAAM,OAAO,WAAW,OAAO,EAAE,MAAM,GAAG;AAC1C,UAAM,SAAS,KAAK;AAEpB,QAAI;AACJ,aAAS,IAAI,GAAG,IAAI,QAAQ,KAAK;AAC/B,UAAI;AAEF,cAAM,MAAM,KAAK,CAAC,EAAE,KAAI;AAGxB,cAAM,QAAQ,cAAc,QAAQ,GAAG;AAGvC,oBAAY,aAAa,QAAQ,MAAM,YAAY,MAAM,GAAG;AAE5D;AAAA,MACN,SAAaC,QAAO;AAEd,YAAI,IAAI,KAAK,QAAQ;AACnB,gBAAMA;AAAA,QACd;AAAA,MAEA;AAAA,IACA;AAGE,WAAO,aAAa,MAAM,SAAS;AAAA,EACrC;AAEA,WAAS,MAAO,SAAS;AACvB,YAAQ,IAAI,WAAWF,QAAO,WAAW,OAAO,EAAE;AAAA,EACpD;AAEA,WAAS,OAAQ,SAAS;AACxB,YAAQ,IAAI,WAAWA,QAAO,YAAY,OAAO,EAAE;AAAA,EACrD;AAEA,WAAS,KAAM,SAAS;AACtB,YAAQ,IAAI,WAAWA,QAAO,KAAK,OAAO,EAAE;AAAA,EAC9C;AAEA,WAAS,WAAY,SAAS;AAE5B,QAAI,WAAW,QAAQ,cAAc,QAAQ,WAAW,SAAS,GAAG;AAClE,aAAO,QAAQ;AAAA,IACnB;AAGE,QAAI,QAAQ,IAAI,cAAc,QAAQ,IAAI,WAAW,SAAS,GAAG;AAC/D,aAAO,QAAQ,IAAI;AAAA,IACvB;AAGE,WAAO;AAAA,EACT;AAEA,WAAS,cAAe,QAAQ,WAAW;AAEzC,QAAI;AACJ,QAAI;AACF,YAAM,IAAI,IAAI,SAAS;AAAA,IAC3B,SAAWE,QAAO;AACd,UAAIA,OAAM,SAAS,mBAAmB;AACpC,cAAM,MAAM,IAAI,MAAM,4IAA4I;AAClK,YAAI,OAAO;AACX,cAAM;AAAA,MACZ;AAEI,YAAMA;AAAA,IACV;AAGE,UAAM,MAAM,IAAI;AAChB,QAAI,CAAC,KAAK;AACR,YAAM,MAAM,IAAI,MAAM,sCAAsC;AAC5D,UAAI,OAAO;AACX,YAAM;AAAA,IACV;AAGE,UAAM,cAAc,IAAI,aAAa,IAAI,aAAa;AACtD,QAAI,CAAC,aAAa;AAChB,YAAM,MAAM,IAAI,MAAM,8CAA8C;AACpE,UAAI,OAAO;AACX,YAAM;AAAA,IACV;AAGE,UAAM,iBAAiB,gBAAgB,YAAY,YAAW,CAAE;AAChE,UAAM,aAAa,OAAO,OAAO,cAAc;AAC/C,QAAI,CAAC,YAAY;AACf,YAAM,MAAM,IAAI,MAAM,2DAA2D,cAAc,2BAA2B;AAC1H,UAAI,OAAO;AACX,YAAM;AAAA,IACV;AAEE,WAAO,EAAE,YAAY,IAAG;AAAA,EAC1B;AAEA,WAAS,WAAY,SAAS;AAC5B,QAAI,oBAAoB;AAExB,QAAI,WAAW,QAAQ,QAAQ,QAAQ,KAAK,SAAS,GAAG;AACtD,UAAI,MAAM,QAAQ,QAAQ,IAAI,GAAG;AAC/B,mBAAW,YAAY,QAAQ,MAAM;AACnC,cAAIlB,IAAG,WAAW,QAAQ,GAAG;AAC3B,gCAAoB,SAAS,SAAS,QAAQ,IAAI,WAAW,GAAG,QAAQ;AAAA,UAClF;AAAA,QACA;AAAA,MACA,OAAW;AACL,4BAAoB,QAAQ,KAAK,SAAS,QAAQ,IAAI,QAAQ,OAAO,GAAG,QAAQ,IAAI;AAAA,MAC1F;AAAA,IACA,OAAS;AACL,0BAAoBF,MAAK,QAAQ,QAAQ,IAAG,GAAI,YAAY;AAAA,IAChE;AAEE,QAAIE,IAAG,WAAW,iBAAiB,GAAG;AACpC,aAAO;AAAA,IACX;AAEE,WAAO;AAAA,EACT;AAEA,WAAS,aAAc,SAAS;AAC9B,WAAO,QAAQ,CAAC,MAAM,MAAMF,MAAK,KAAK,GAAG,QAAO,GAAI,QAAQ,MAAM,CAAC,CAAC,IAAI;AAAA,EAC1E;AAEA,WAAS,aAAc,SAAS;AAC9B,UAAM,QAAQ,QAAQ,WAAW,QAAQ,KAAK;AAC9C,UAAM,QAAQ,WAAW,WAAW,UAAU,QAAQ,QAAQ;AAE9D,QAAI,SAAS,CAAC,OAAO;AACnB,WAAK,uCAAuC;AAAA,IAChD;AAEE,UAAM,SAAS,aAAa,YAAY,OAAO;AAE/C,QAAI,aAAa,QAAQ;AACzB,QAAI,WAAW,QAAQ,cAAc,MAAM;AACzC,mBAAa,QAAQ;AAAA,IACzB;AAEE,iBAAa,SAAS,YAAY,QAAQ,OAAO;AAEjD,WAAO,EAAE,OAAM;AAAA,EACjB;AAEA,WAAS,aAAc,SAAS;AAC9B,UAAM,aAAaA,MAAK,QAAQ,QAAQ,IAAG,GAAI,MAAM;AACrD,QAAI,WAAW;AACf,UAAM,QAAQ,QAAQ,WAAW,QAAQ,KAAK;AAC9C,UAAM,QAAQ,WAAW,WAAW,UAAU,QAAQ,QAAQ;AAE9D,QAAI,WAAW,QAAQ,UAAU;AAC/B,iBAAW,QAAQ;AAAA,IACvB,OAAS;AACL,UAAI,OAAO;AACT,eAAO,oDAAoD;AAAA,MACjE;AAAA,IACA;AAEE,QAAI,cAAc,CAAC,UAAU;AAC7B,QAAI,WAAW,QAAQ,MAAM;AAC3B,UAAI,CAAC,MAAM,QAAQ,QAAQ,IAAI,GAAG;AAChC,sBAAc,CAAC,aAAa,QAAQ,IAAI,CAAC;AAAA,MAC/C,OAAW;AACL,sBAAc,CAAA;AACd,mBAAW,YAAY,QAAQ,MAAM;AACnC,sBAAY,KAAK,aAAa,QAAQ,CAAC;AAAA,QAC/C;AAAA,MACA;AAAA,IACA;AAIE,QAAI;AACJ,UAAM,YAAY,CAAA;AAClB,eAAWA,SAAQ,aAAa;AAC9B,UAAI;AAEF,cAAM,SAAS,aAAa,MAAME,IAAG,aAAaF,OAAM,EAAE,UAAU,CAAC;AAErE,qBAAa,SAAS,WAAW,QAAQ,OAAO;AAAA,MACtD,SAAa,GAAG;AACV,YAAI,OAAO;AACT,iBAAO,kBAAkBA,KAAI,IAAI,EAAE,OAAO,EAAE;AAAA,QACpD;AACM,oBAAY;AAAA,MAClB;AAAA,IACA;AAEE,QAAI,aAAa,QAAQ;AACzB,QAAI,WAAW,QAAQ,cAAc,MAAM;AACzC,mBAAa,QAAQ;AAAA,IACzB;AAEE,iBAAa,SAAS,YAAY,WAAW,OAAO;AAEpD,QAAI,SAAS,CAAC,OAAO;AACnB,YAAM,YAAY,OAAO,KAAK,SAAS,EAAE;AACzC,YAAM,aAAa,CAAA;AACnB,iBAAW,YAAY,aAAa;AAClC,YAAI;AACF,gBAAM,WAAWA,MAAK,SAAS,QAAQ,IAAG,GAAI,QAAQ;AACtD,qBAAW,KAAK,QAAQ;AAAA,QAChC,SAAe,GAAG;AACV,cAAI,OAAO;AACT,mBAAO,kBAAkB,QAAQ,IAAI,EAAE,OAAO,EAAE;AAAA,UAC1D;AACQ,sBAAY;AAAA,QACpB;AAAA,MACA;AAEI,WAAK,kBAAkB,SAAS,UAAU,WAAW,KAAK,GAAG,CAAC,EAAE;AAAA,IACpE;AAEE,QAAI,WAAW;AACb,aAAO,EAAE,QAAQ,WAAW,OAAO,UAAS;AAAA,IAChD,OAAS;AACL,aAAO,EAAE,QAAQ,UAAS;AAAA,IAC9B;AAAA,EACA;AAGA,WAASW,QAAQ,SAAS;AAExB,QAAI,WAAW,OAAO,EAAE,WAAW,GAAG;AACpC,aAAO,aAAa,aAAa,OAAO;AAAA,IAC5C;AAEE,UAAM,YAAY,WAAW,OAAO;AAGpC,QAAI,CAAC,WAAW;AACd,YAAM,+DAA+D,SAAS,+BAA+B;AAE7G,aAAO,aAAa,aAAa,OAAO;AAAA,IAC5C;AAEE,WAAO,aAAa,aAAa,OAAO;AAAA,EAC1C;AAEA,WAAS,QAAS,WAAW,QAAQ;AACnC,UAAM,MAAM,OAAO,KAAK,OAAO,MAAM,GAAG,GAAG,KAAK;AAChD,QAAI,aAAa,OAAO,KAAK,WAAW,QAAQ;AAEhD,UAAM,QAAQ,WAAW,SAAS,GAAG,EAAE;AACvC,UAAM,UAAU,WAAW,SAAS,GAAG;AACvC,iBAAa,WAAW,SAAS,IAAI,GAAG;AAExC,QAAI;AACF,YAAM,SAAS,OAAO,iBAAiB,eAAe,KAAK,KAAK;AAChE,aAAO,WAAW,OAAO;AACzB,aAAO,GAAG,OAAO,OAAO,UAAU,CAAC,GAAG,OAAO,OAAO;AAAA,IACxD,SAAWS,QAAO;AACd,YAAM,UAAUA,kBAAiB;AACjC,YAAM,mBAAmBA,OAAM,YAAY;AAC3C,YAAM,mBAAmBA,OAAM,YAAY;AAE3C,UAAI,WAAW,kBAAkB;AAC/B,cAAM,MAAM,IAAI,MAAM,6DAA6D;AACnF,YAAI,OAAO;AACX,cAAM;AAAA,MACZ,WAAe,kBAAkB;AAC3B,cAAM,MAAM,IAAI,MAAM,iDAAiD;AACvE,YAAI,OAAO;AACX,cAAM;AAAA,MACZ,OAAW;AACL,cAAMA;AAAA,MACZ;AAAA,IACA;AAAA,EACA;AAGA,WAAS,SAAU,YAAY,QAAQ,UAAU,CAAA,GAAI;AACnD,UAAM,QAAQ,QAAQ,WAAW,QAAQ,KAAK;AAC9C,UAAM,WAAW,QAAQ,WAAW,QAAQ,QAAQ;AAEpD,QAAI,OAAO,WAAW,UAAU;AAC9B,YAAM,MAAM,IAAI,MAAM,gFAAgF;AACtG,UAAI,OAAO;AACX,YAAM;AAAA,IACV;AAGE,eAAW,OAAO,OAAO,KAAK,MAAM,GAAG;AACrC,UAAI,OAAO,UAAU,eAAe,KAAK,YAAY,GAAG,GAAG;AACzD,YAAI,aAAa,MAAM;AACrB,qBAAW,GAAG,IAAI,OAAO,GAAG;AAAA,QACpC;AAEM,YAAI,OAAO;AACT,cAAI,aAAa,MAAM;AACrB,mBAAO,IAAI,GAAG,0CAA0C;AAAA,UAClE,OAAe;AACL,mBAAO,IAAI,GAAG,8CAA8C;AAAA,UACtE;AAAA,QACA;AAAA,MACA,OAAW;AACL,mBAAW,GAAG,IAAI,OAAO,GAAG;AAAA,MAClC;AAAA,IACA;AAAA,EACA;AAEA,QAAM,eAAe;AAAA,IACnB;AAAA,IACA;AAAA,IACA;AAAA,IACA,QAAAT;AAAA,IACA;AAAA,IACA,OAAAQ;AAAA,IACA;AAAA,EACF;AAEAE,SAAA,QAAA,eAA8B,aAAa;AAC3CA,SAAA,QAAA,eAA8B,aAAa;AAC3CA,SAAA,QAAA,cAA6B,aAAa;AAC1CA,SAAA,QAAA,SAAwB,aAAa;AACrCA,SAAA,QAAA,UAAyB,aAAa;AACtCA,SAAA,QAAA,QAAuB,aAAa;AACpCA,SAAA,QAAA,WAA0B,aAAa;AAEvCA,SAAA,UAAiB;;;;;ACzXjB,MAAM,2CAA2B,IAAI,CAAC,OAAO,QAAQ,OAAO,QAAQ,MAAM,CAAC;AAcpE,MAAM,eAAe;AAAA,EAG1B,YAAoBC,SAAgB;AAAhB,SAAA,SAAAA;AAAAA,EAAiB;AAAA,EAF7B,8BAAc,IAAA;AAAA,EAGtB,MAAM,OAAO;AACX,UAAM,KAAK,YAAA;AAAA,EACb;AAAA,EAEQ,aAAa,OAAoC;AACvD,QAAI,CAAC,SAAS,OAAO,UAAU,UAAU;AACvC,aAAO;AAAA,IACT;AACA,WACE,OAAQ,MAA6B,SAAS,YAC9C,QAAS,MAA6B,YAAY,KAClD,OAAQ,MAA6B,gBAAgB;AAAA,EAEzD;AAAA,EAEA,MAAc,cAAoD;AAChE,UAAM,UAAU,KAAK,QAAQ,KAAK,QAAQ,cAAc,YAAY,GAAG,CAAC,CAAC;AAEzE,UAAM,qBAAqB,OAAO,QAAmC;AACnE,YAAM,UAAU,MAAM,GAAG,QAAQ,KAAK,EAAE,eAAe,MAAM;AAC7D,YAAMC,SAAkB,CAAA;AAExB,iBAAW,SAAS,SAAS;AAC3B,cAAM,WAAW,KAAK,KAAK,KAAK,MAAM,IAAI;AAC1C,YAAI,MAAM,eAAe;AACvBA,iBAAM,KAAK,GAAI,MAAM,mBAAmB,QAAQ,CAAE;AAClD;AAAA,QACF;AACA,YAAI,qBAAqB,IAAI,KAAK,QAAQ,MAAM,IAAI,CAAC,GAAG;AACtDA,iBAAM,KAAK,QAAQ;AAAA,QACrB;AAAA,MACF;AAEA,aAAOA;AAAAA,IACT;AAEA,SAAK,OAAO,KAAK,oCAAoC,OAAO,EAAE;AAC9D,UAAM,QAAQ,MAAM,mBAAmB,OAAO;AAC9C,UAAMC,YAAwC,CAAA;AAE9C,eAAW,QAAQ,OAAO;AACxB,YAAM,MAAO,MAAM,OAAO,cAAc,IAAI,EAAE;AAC9C,YAAM,SAAS,KAAK;AACpB,UAAI,KAAK,aAAa,MAAM,GAAG;AAC7B,cAAM,cAA2B,KAAK,SAAS,MAAM;AAErD,aAAK,OAAO;AAAA,UACV,kBAAkB,YAAY,OAAO,IAAI,mBAAmB,YAAY,aAAa,KAAK,IAAI,CAAC;AAAA,QAAA;AAAA,MAEnG;AAAA,IACF;AAEA,WAAOA;AAAA,EACT;AAAA,EAEQ,sBAAsB,QAAuC;AACnE,UAAM,eAAmC,CAAA;AACzC,QAAI,OAAO,UAAU;AACnB,mBAAa,KAAK,OAAgB;AAAA,IACpC;AACA,QAAI,OAAO,QAAQ;AACjB,mBAAa,KAAK,WAAoB;AAAA,IACxC;AACA,QAAI,OAAO,QAAQ;AACjB,mBAAa,KAAK,QAAiB;AAAA,IACrC;AACA,WAAO;AAAA,EACT;AAAA,EACA,SAAS,QAAgC;AACvC,QAAI,KAAK,QAAQ,IAAI,OAAO,IAAI,GAAG;AACjC,YAAM,IAAI,MAAM,8BAA8B,OAAO,IAAI,EAAE;AAAA,IAC7D;AAEA,UAAM,QAAqB;AAAA,MACzB,cAAc,KAAK,sBAAsB,MAAM;AAAA,MAC/C;AAAA,IAAA;AAEF,SAAK,QAAQ,IAAI,OAAO,MAAM,KAAK;AACnC,WAAO;AAAA,EACT;AAAA,EAEA,oBAAoBnC,QAAc,YAAuC;AACvE,UAAM,QAAQ,KAAK,QAAQ,IAAIA,MAAI;AACnC,QAAI,CAAC,OAAO;AACV,YAAM,IAAI,MAAM,mBAAmBA,MAAI,EAAE;AAAA,IAC3C;AACA,WAAO,MAAM,aAAa,SAAS,UAAU;AAAA,EAC/C;AAAA,EAEA,IAAIA,QAAyB;AAC3B,UAAM,SAAS,KAAK,QAAQ,IAAIA,MAAI;AAEpC,QAAI,CAAC,QAAQ;AACX,YAAM,IAAI,MAAM,mBAAmBA,MAAI,EAAE;AAAA,IAC3C;AACA,WAAO,OAAO;AAAA,EAChB;AACF;AAGA,IAAI,mBAA0C;AACvC,MAAM,oBAAoB,YAAqC;AACpE,MAAI,kBAAkB;AACpB,WAAO;AAAA,EACT;AAEA,QAAMmC,YAAW,IAAI,eAAe,MAAM;AAC1C,QAAMA,UAAS,KAAA;AACf,qBAAmBA;AACnB,SAAOA;AACT;AAEO,MAAM,gBAAgB,CAAC,WAA2C;AACvE,SACE,CAAC,CAAC,UACF,OAAO,WAAW,YAClB,OAAQ,OAA0C,aAAa;AAEnE;AAEO,MAAM,oBAAoB,CAAC,WAA+C;AAC/E,SACE,CAAC,CAAC,UACF,OAAO,WAAW,YAClB,OAAQ,OAAwC,WAAW;AAE/D;AAEO,MAAM,iBAAiB,CAAC,WAA4C;AACzE,SACE,CAAC,CAAC,UACF,OAAO,WAAW,YAClB,OAAQ,OAAwC,WAAW;AAE/D;AC/JA,IAAIC,WAAS;AACb,IAAIC,WAAS,OAAO,IAAID,QAAM;AAC9B,IAAIE,MAAIC;AACR,IAAI,aAAa,MAAM,qBAAqBA,OAAK,OAAOD,OAAKD,UAAQE,MAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASvE,YAAY;AAAA,IACV,MAAMC;AAAA,IACN;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM,OAAO;AACb,SAAKF,IAAE,IAAI;AACX,SAAK,OAAOE;AACZ,SAAK,QAAQ;AAAA,EACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAO,WAAWT,QAAO;AACvB,WAAO,YAAY,UAAUA,QAAOK,QAAM;AAAA,EAC5C;AAAA,EACA,OAAO,UAAUL,QAAO,UAAU;AAChC,UAAM,eAAe,OAAO,IAAI,QAAQ;AACxC,WAAOA,UAAS,QAAQ,OAAOA,WAAU,YAAY,gBAAgBA,UAAS,OAAOA,OAAM,YAAY,MAAM,aAAaA,OAAM,YAAY,MAAM;AAAA,EACpJ;AACF;AAGA,IAAI/B,SAAO;AACX,IAAIyC,YAAU,mBAAmBzC,MAAI;AACrC,IAAI0C,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAKC;AACT,IAAI,eAAe,eAAeA,QAAM,YAAYD,QAAMD,WAASE,OAAK;AAAA,EACtE,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,cAAc,cAAc,SAAS,eAAe;AAAA,IACpD,eAAe;AAAA,IACf,eAAe;AAAA,IACf,cAAc;AAAA;AAAA,IAEd;AAAA,EACJ,GAAK;AACD,UAAM,EAAA,MAAE5C,QAAM,SAAS,MAAK,CAAE;AAC9B,SAAK2C,KAAG,IAAI;AACZ,SAAK,MAAM;AACX,SAAK,oBAAoB;AACzB,SAAK,aAAa;AAClB,SAAK,kBAAkB;AACvB,SAAK,eAAe;AACpB,SAAK,cAAc;AACnB,SAAK,OAAO;AAAA,EACd;AAAA,EACA,OAAO,WAAWZ,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAOU,SAAO;AAAA,EAC5C;AACF;AAGA,IAAII,UAAQ;AACZ,IAAIC,YAAU,mBAAmBD,OAAK;AACtC,IAAIE,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAKC;AACT,IAAI,yBAAyB,eAAeA,QAAM,YAAYD,QAAMD,WAASE,OAAK;AAAA;AAAA,EAEhF,YAAY,EAAE,UAAU,sBAAqB,IAAK,CAAA,GAAI;AACpD,UAAM,EAAE,MAAMJ,SAAO,QAAO,CAAE;AAC9B,SAAKG,KAAG,IAAI;AAAA,EACd;AAAA,EACA,OAAO,WAAWjB,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAOe,SAAO;AAAA,EAC5C;AACF;AAGA,SAAStB,kBAAgBO,QAAO;AAC9B,MAAIA,UAAS,MAAM;AACjB,WAAO;AAAA,EACT;AACA,MAAI,OAAOA,WAAU,UAAU;AAC7B,WAAOA;AAAA,EACT;AACA,MAAIA,kBAAiB,OAAO;AAC1B,WAAOA,OAAM;AAAA,EACf;AACA,SAAO,KAAK,UAAUA,MAAK;AAC7B;AAGA,IAAImB,UAAQ;AACZ,IAAIC,YAAU,mBAAmBD,OAAK;AACtC,IAAIE,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAKC;AACT,IAAIzD,yBAAuB,MAAA,8BAAeyD,QAAM,YAAYD,QAAMD,WAASE,OAAK;AAAA,EAC9E,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA,UAAAlD;AAAA,EACJ,GAAK;AACD,UAAM,EAAE,MAAM8C,SAAO,SAAS,MAAK,CAAE;AACrC,SAAKG,KAAG,IAAI;AACZ,SAAK,WAAWjD;AAAA,EAClB;AAAA,EACA,OAAO,WAAW2B,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAOoB,SAAO;AAAA,EAC5C;AACF;AAGA,IAAII,UAAQ;AACZ,IAAIC,YAAU,mBAAmBD,OAAK;AACtC,IAAIE,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAKC;AACT,IAAI,qBAAqB,eAAeA,QAAM,YAAYD,QAAMD,WAASE,OAAK;AAAA,EAC5E,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM,EAAE,MAAMJ,SAAO,SAAS,mBAAmB,OAAO,IAAI,OAAO;AACnE,SAAKG,KAAG,IAAI;AACZ,SAAK,SAAS;AAAA,EAChB;AAAA,EACA,OAAO,WAAW3B,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAOyB,SAAO;AAAA,EAC5C;AACF;AAGA,IAAII,UAAQ;AACZ,IAAIC,YAAU,mBAAmBD,OAAK;AACtC,IAAIE,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAKC;AACT,IAAI,2BAA2B,eAAeA,QAAM,YAAYD,QAAMD,WAASE,OAAK;AAAA,EAClF,YAAY;AAAA,IACV;AAAA,IACA,UAAU,0BAA0B,KAAK,UAAU,IAAI,CAAC;AAAA,EAC5D,GAAK;AACD,UAAM,EAAE,MAAMJ,SAAO,QAAO,CAAE;AAC9B,SAAKG,KAAG,IAAI;AACZ,SAAK,OAAO;AAAA,EACd;AAAA,EACA,OAAO,WAAWhC,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAO8B,SAAO;AAAA,EAC5C;AACF;AAGA,IAAII,UAAQ;AACZ,IAAIC,YAAU,mBAAmBD,OAAK;AACtC,IAAIE,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAKC;AACT,IAAI,iBAAiB,eAAeA,QAAM,YAAYD,QAAMD,WAASE,OAAK;AAAA,EACxE,YAAY,EAAE,MAAA5C,OAAM,SAAS;AAC3B,UAAM;AAAA,MACJ,MAAMwC;AAAAA,MACN,SAAS,8BAA8BxC,KAAI;AAAA,iBAChCD,kBAAgB,KAAK,CAAC;AAAA,MACjC;AAAA,IACN,CAAK;AACD,SAAK4C,KAAG,IAAI;AACZ,SAAK,OAAO3C;AAAA,EACd;AAAA,EACA,OAAO,WAAWM,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAOmC,SAAO;AAAA,EAC5C;AACF;AAGA,IAAII,UAAQ;AACZ,IAAIC,YAAU,mBAAmBD,OAAK;AACtC,IAAIE,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAK;AACT,IAAI,kBAAkB,eAAe,MAAM,YAAYA,QAAMD,WAAS,KAAK;AAAA;AAAA,EAEzE,YAAY,EAAE,WAAW;AACvB,UAAM,EAAE,MAAMF,SAAO,QAAO,CAAE;AAC9B,SAAKG,KAAG,IAAI;AAAA,EACd;AAAA,EACA,OAAO,WAAW1C,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAOwC,SAAO;AAAA,EAC5C;AACF;AAqCA,IAAIG,WAAS;AACb,IAAI,WAAW,mBAAmBA,QAAM;AACxC,IAAI,WAAW,OAAO,IAAI,QAAQ;AAClC,IAAI,MAAM;AACV,IAAI,mBAAmB,eAAe,OAAO,YAAY,OAAO,UAAU,MAAM;AAAA,EAC9E,YAAY;AAAA,IACV,YAAYA;AAAAA,IACZ;AAAA,IACA;AAAA,IACA,UAAU,WAAW,SAAS,KAAK,OAAO;AAAA,EAC9C,GAAK;AACD,UAAM,EAAE,MAAM,WAAW,QAAO,CAAE;AAClC,SAAK,IAAI,IAAI;AACb,SAAK,UAAU;AACf,SAAK,YAAY;AAAA,EACnB;AAAA,EACA,OAAO,WAAW3C,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAO,QAAQ;AAAA,EAC7C;AACF;AAGA,IAAI,SAAS;AACb,IAAI4C,aAAW,mBAAmB,MAAM;AACxC,IAAIC,aAAW,OAAO,IAAID,UAAQ;AAClC,IAAIE,QAAM;AACV,IAAI,qCAAqC,eAAe,OAAO,YAAYA,SAAOD,YAAU,MAAM;AAAA,EAChG,YAAY,SAAS;AACnB,UAAM;AAAA,MACJ,MAAM;AAAA,MACN,SAAS,oDAAoD,QAAQ,QAAQ,WAAW,QAAQ,OAAO,0BAA0B,QAAQ,oBAAoB,yBAAyB,QAAQ,OAAO,MAAM;AAAA,IACjN,CAAK;AACD,SAAKC,MAAI,IAAI;AACb,SAAK,WAAW,QAAQ;AACxB,SAAK,UAAU,QAAQ;AACvB,SAAK,uBAAuB,QAAQ;AACpC,SAAK,SAAS,QAAQ;AAAA,EACxB;AAAA,EACA,OAAO,WAAW9C,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAO4C,UAAQ;AAAA,EAC7C;AACF;AAGA,IAAIG,WAAS;AACb,IAAI,WAAW,mBAAmBA,QAAM;AACxC,IAAI,WAAW,OAAO,IAAI,QAAQ;AAClC,IAAI,MAAM;AACV,IAAI,sBAAsB,MAAM,8BAA8B,OAAO,YAAY,OAAO,UAAU,MAAM;AAAA,EACtG,YAAY,EAAE,OAAO,SAAS;AAC5B,UAAM;AAAA,MACJ,MAAMA;AAAAA,MACN,SAAS,kCAAkC,KAAK,UAAU,KAAK,CAAC;AAAA,iBACrDtD,kBAAgB,KAAK,CAAC;AAAA,MACjC;AAAA,IACN,CAAK;AACD,SAAK,IAAI,IAAI;AACb,SAAK,QAAQ;AAAA,EACf;AAAA,EACA,OAAO,WAAWO,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAO,QAAQ;AAAA,EAC7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,OAAO,KAAK;AAAA,IACV;AAAA,IACA;AAAA,EACJ,GAAK;AACD,WAAO,qBAAqB,WAAW,KAAK,KAAK,MAAM,UAAU,QAAQ,QAAQ,IAAI,qBAAqB,EAAE,OAAO,MAAK,CAAE;AAAA,EAC5H;AACF;AAGA,IAAI,SAAS;AACb,IAAIgD,aAAW,mBAAmB,MAAM;AACxC,IAAIC,aAAW,OAAO,IAAID,UAAQ;AAClC,IAAIE,QAAM;AACV,IAAI,gCAAgC,eAAe,OAAO,YAAYA,SAAOD,YAAU,MAAM;AAAA,EAC3F,YAAY;AAAA,IACV;AAAA,IACA,UAAU,IAAI,aAAa;AAAA,EAC/B,GAAK;AACD,UAAM,EAAE,MAAM,QAAQ,QAAO,CAAE;AAC/B,SAAKC,MAAI,IAAI;AACb,SAAK,gBAAgB;AAAA,EACvB;AAAA,EACA,OAAO,WAAWlD,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAOgD,UAAQ;AAAA,EAC7C;AACF;ACvUgC,SAAS,aAAa/E,QAAMkF,cAAa,QAAQ;AAC7E,WAAS,KAAK,MAAM,KAAK;AACrB,QAAI,CAAC,KAAK,MAAM;AACZ,aAAO,eAAe,MAAM,QAAQ;AAAA,QAChC,OAAO;AAAA,UACH;AAAA,UACA,QAAQ;AAAA,UACR,QAAQ,oBAAI,IAAG;AAAA,QACnC;AAAA,QACgB,YAAY;AAAA,MAC5B,CAAa;AAAA,IACL;AACA,QAAI,KAAK,KAAK,OAAO,IAAIlF,MAAI,GAAG;AAC5B;AAAA,IACJ;AACA,SAAK,KAAK,OAAO,IAAIA,MAAI;AACzB,IAAAkF,aAAY,MAAM,GAAG;AAErB,UAAMC,SAAQ,EAAE;AAChB,UAAM,OAAO,OAAO,KAAKA,MAAK;AAC9B,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK;AAClC,YAAM,IAAI,KAAK,CAAC;AAChB,UAAI,EAAE,KAAK,OAAO;AACd,aAAK,CAAC,IAAIA,OAAM,CAAC,EAAE,KAAK,IAAI;AAAA,MAChC;AAAA,IACJ;AAAA,EACJ;AAEA,QAAM,SAAS,QAAQ,UAAU;AAAA,EACjC,MAAM,mBAAmB,OAAO;AAAA,EACpC;AACI,SAAO,eAAe,YAAY,QAAQ,EAAE,OAAOnF,QAAM;AACzD,WAAS,EAAE,KAAK;AACZ,QAAIsC;AACJ,UAAM,OAAO,QAAQ,SAAS,IAAI,WAAU,IAAK;AACjD,SAAK,MAAM,GAAG;AACd,KAACA,OAAK,KAAK,MAAM,aAAaA,KAAG,WAAW;AAC5C,eAAW,MAAM,KAAK,KAAK,UAAU;AACjC,SAAE;AAAA,IACN;AACA,WAAO;AAAA,EACX;AACA,SAAO,eAAe,GAAG,QAAQ,EAAE,OAAO,MAAM;AAChD,SAAO,eAAe,GAAG,OAAO,aAAa;AAAA,IACzC,OAAO,CAAC,SAAS;AACb,UAAI,QAAQ,UAAU,gBAAgB,OAAO;AACzC,eAAO;AACX,aAAO,MAAM,MAAM,QAAQ,IAAItC,MAAI;AAAA,IACvC;AAAA,EACR,CAAK;AACD,SAAO,eAAe,GAAG,QAAQ,EAAE,OAAOA,QAAM;AAChD,SAAO;AACX;AAGO,MAAM,uBAAuB,MAAM;AAAA,EACtC,cAAc;AACV,UAAM,0EAA0E;AAAA,EACpF;AACJ;AACO,MAAM,wBAAwB,MAAM;AAAA,EACvC,YAAYA,QAAM;AACd,UAAM,uDAAuDA,MAAI,EAAE;AACnE,SAAK,OAAO;AAAA,EAChB;AACJ;AACO,MAAM,eAAe,CAAA;AACrB,SAAS,OAAO,WAAW;AAG9B,SAAO;AACX;AC/DO,SAAS,cAAc,SAAS;AACnC,QAAM,gBAAgB,OAAO,OAAO,OAAO,EAAE,OAAO,CAAC,MAAM,OAAO,MAAM,QAAQ;AAChF,QAAM,SAAS,OAAO,QAAQ,OAAO,EAChC,OAAO,CAAC,CAAC,GAAG,CAAC,MAAM,cAAc,QAAQ,CAAC,CAAC,MAAM,EAAE,EACnD,IAAI,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AACtB,SAAO;AACX;AAIO,SAAS,sBAAsB,GAAG,OAAO;AAC5C,MAAI,OAAO,UAAU;AACjB,WAAO,MAAM,SAAQ;AACzB,SAAO;AACX;AACO,SAAS,OAAO,QAAQ;AAE3B,SAAO;AAAA,IACH,IAAI,QAAQ;AACE;AACN,cAAM,QAAQ,OAAM;AACpB,eAAO,eAAe,MAAM,SAAS,EAAE,MAAK,CAAE;AAC9C,eAAO;AAAA,MACX;AAAA,IAEJ;AAAA,EACR;AACA;AACO,SAAS,QAAQ,OAAO;AAC3B,SAAO,UAAU,QAAQ,UAAU;AACvC;AACO,SAAS,WAAW,QAAQ;AAC/B,QAAM,QAAQ,OAAO,WAAW,GAAG,IAAI,IAAI;AAC3C,QAAM,MAAM,OAAO,SAAS,GAAG,IAAI,OAAO,SAAS,IAAI,OAAO;AAC9D,SAAO,OAAO,MAAM,OAAO,GAAG;AAClC;AACO,SAAS,mBAAmB,KAAK,MAAM;AAC1C,QAAM,eAAe,IAAI,SAAQ,EAAG,MAAM,GAAG,EAAE,CAAC,KAAK,IAAI;AACzD,QAAM,aAAa,KAAK,SAAQ;AAChC,MAAI,gBAAgB,WAAW,MAAM,GAAG,EAAE,CAAC,KAAK,IAAI;AACpD,MAAI,iBAAiB,KAAK,WAAW,KAAK,UAAU,GAAG;AACnD,UAAM,QAAQ,WAAW,MAAM,YAAY;AAC3C,QAAI,QAAQ,CAAC,GAAG;AACZ,qBAAe,OAAO,SAAS,MAAM,CAAC,CAAC;AAAA,IAC3C;AAAA,EACJ;AACA,QAAM,WAAW,cAAc,eAAe,cAAc;AAC5D,QAAM,SAAS,OAAO,SAAS,IAAI,QAAQ,QAAQ,EAAE,QAAQ,KAAK,EAAE,CAAC;AACrE,QAAM,UAAU,OAAO,SAAS,KAAK,QAAQ,QAAQ,EAAE,QAAQ,KAAK,EAAE,CAAC;AACvE,SAAQ,SAAS,UAAW,MAAM;AACtC;AACA,MAAM,aAAa,OAAO,YAAY;AAC/B,SAAS,WAAWR,SAAQ,KAAK,QAAQ;AAC5C,MAAI,QAAQ;AACZ,SAAO,eAAeA,SAAQ,KAAK;AAAA,IAC/B,MAAM;AACF,UAAI,UAAU,YAAY;AAEtB,eAAO;AAAA,MACX;AACA,UAAI,UAAU,QAAW;AACrB,gBAAQ;AACR,gBAAQ,OAAM;AAAA,MAClB;AACA,aAAO;AAAA,IACX;AAAA,IACA,IAAI,GAAG;AACH,aAAO,eAAeA,SAAQ,KAAK;AAAA,QAC/B,OAAO;AAAA;AAAA,MAEvB,CAAa;AAAA,IAEL;AAAA,IACA,cAAc;AAAA,EACtB,CAAK;AACL;AAIO,SAAS,WAAW,QAAQ,MAAM,OAAO;AAC5C,SAAO,eAAe,QAAQ,MAAM;AAAA,IAChC;AAAA,IACA,UAAU;AAAA,IACV,YAAY;AAAA,IACZ,cAAc;AAAA,EACtB,CAAK;AACL;AACO,SAAS,aAAa,MAAM;AAC/B,QAAM,oBAAoB,CAAA;AAC1B,aAAW,OAAO,MAAM;AACpB,UAAM,cAAc,OAAO,0BAA0B,GAAG;AACxD,WAAO,OAAO,mBAAmB,WAAW;AAAA,EAChD;AACA,SAAO,OAAO,iBAAiB,CAAA,GAAI,iBAAiB;AACxD;AA4BO,SAAS,IAAI,KAAK;AACrB,SAAO,KAAK,UAAU,GAAG;AAC7B;AACO,SAAS,QAAQ,OAAO;AAC3B,SAAO,MACF,YAAW,EACX,KAAI,EACJ,QAAQ,aAAa,EAAE,EACvB,QAAQ,YAAY,GAAG,EACvB,QAAQ,YAAY,EAAE;AAC/B;AACO,MAAM,oBAAqB,uBAAuB,QAAQ,MAAM,oBAAoB,IAAI,UAAU;AAAE;AACpG,SAAS,SAAS,MAAM;AAC3B,SAAO,OAAO,SAAS,YAAY,SAAS,QAAQ,CAAC,MAAM,QAAQ,IAAI;AAC3E;AACO,MAAM,aAAa,OAAO,MAAM;AAEnC,MAAI,OAAO,cAAc,eAAe,WAAW,WAAW,SAAS,YAAY,GAAG;AAClF,WAAO;AAAA,EACX;AACA,MAAI;AACA,UAAM,IAAI;AACV,QAAI,EAAE,EAAE;AACR,WAAO;AAAA,EACX,SACO,GAAG;AACN,WAAO;AAAA,EACX;AACJ,CAAC;AACM,SAAS,cAAc,GAAG;AAC7B,MAAI,SAAS,CAAC,MAAM;AAChB,WAAO;AAEX,QAAM,OAAO,EAAE;AACf,MAAI,SAAS;AACT,WAAO;AACX,MAAI,OAAO,SAAS;AAChB,WAAO;AAEX,QAAM,OAAO,KAAK;AAClB,MAAI,SAAS,IAAI,MAAM;AACnB,WAAO;AAEX,MAAI,OAAO,UAAU,eAAe,KAAK,MAAM,eAAe,MAAM,OAAO;AACvE,WAAO;AAAA,EACX;AACA,SAAO;AACX;AACO,SAAS,aAAa,GAAG;AAC5B,MAAI,cAAc,CAAC;AACf,WAAO,EAAE,GAAG,EAAC;AACjB,MAAI,MAAM,QAAQ,CAAC;AACf,WAAO,CAAC,GAAG,CAAC;AAChB,SAAO;AACX;AAuDO,MAAM,mBAAmB,oBAAI,IAAI,CAAC,UAAU,UAAU,QAAQ,CAAC;AAE/D,SAAS,YAAY,KAAK;AAC7B,SAAO,IAAI,QAAQ,uBAAuB,MAAM;AACpD;AAEO,SAAS,MAAM,MAAM,KAAK,QAAQ;AACrC,QAAM,KAAK,IAAI,KAAK,KAAK,OAAO,OAAO,KAAK,KAAK,GAAG;AACpD,MAAI,CAAC,OAAO,QAAQ;AAChB,OAAG,KAAK,SAAS;AACrB,SAAO;AACX;AACO,SAAS,gBAAgB,SAAS;AACrC,QAAM,SAAS;AACf,MAAI,CAAC;AACD,WAAO,CAAA;AACX,MAAI,OAAO,WAAW;AAClB,WAAO,EAAE,OAAO,MAAM,OAAM;AAChC,MAAI,QAAQ,YAAY,QAAW;AAC/B,QAAI,QAAQ,UAAU;AAClB,YAAM,IAAI,MAAM,kDAAkD;AACtE,WAAO,QAAQ,OAAO;AAAA,EAC1B;AACA,SAAO,OAAO;AACd,MAAI,OAAO,OAAO,UAAU;AACxB,WAAO,EAAE,GAAG,QAAQ,OAAO,MAAM,OAAO,MAAK;AACjD,SAAO;AACX;AAyCO,SAAS,aAAa,OAAO;AAChC,SAAO,OAAO,KAAK,KAAK,EAAE,OAAO,CAAC,MAAM;AACpC,WAAO,MAAM,CAAC,EAAE,KAAK,UAAU,cAAc,MAAM,CAAC,EAAE,KAAK,WAAW;AAAA,EAC1E,CAAC;AACL;AACO,MAAM,uBAAuB;AAAA,EAChC,SAAS,CAAC,OAAO,kBAAkB,OAAO,gBAAgB;AAAA,EAC1D,OAAO,CAAC,aAAa,UAAU;AAAA,EAC/B,QAAQ,CAAC,GAAG,UAAU;AAAA,EACtB,SAAS,CAAC,uBAAwB,oBAAqB;AAAA,EACvD,SAAS,CAAC,CAAC,OAAO,WAAW,OAAO,SAAS;AACjD;AAKO,SAAS,KAAK,QAAQ,MAAM;AAC/B,QAAM,UAAU,OAAO,KAAK;AAC5B,QAAM,SAAS,QAAQ;AACvB,QAAM,YAAY,UAAU,OAAO,SAAS;AAC5C,MAAI,WAAW;AACX,UAAM,IAAI,MAAM,iEAAiE;AAAA,EACrF;AACA,QAAM,MAAM,UAAU,OAAO,KAAK,KAAK;AAAA,IACnC,IAAI,QAAQ;AACR,YAAM,WAAW,CAAA;AACjB,iBAAW,OAAO,MAAM;AACpB,YAAI,EAAE,OAAO,QAAQ,QAAQ;AACzB,gBAAM,IAAI,MAAM,sBAAsB,GAAG,GAAG;AAAA,QAChD;AACA,YAAI,CAAC,KAAK,GAAG;AACT;AACJ,iBAAS,GAAG,IAAI,QAAQ,MAAM,GAAG;AAAA,MACrC;AACA,iBAAW,MAAM,SAAS,QAAQ;AAClC,aAAO;AAAA,IACX;AAAA,IACA,QAAQ,CAAA;AAAA,EAChB,CAAK;AACD,SAAO,MAAM,QAAQ,GAAG;AAC5B;AACO,SAAS,KAAK,QAAQ,MAAM;AAC/B,QAAM,UAAU,OAAO,KAAK;AAC5B,QAAM,SAAS,QAAQ;AACvB,QAAM,YAAY,UAAU,OAAO,SAAS;AAC5C,MAAI,WAAW;AACX,UAAM,IAAI,MAAM,iEAAiE;AAAA,EACrF;AACA,QAAM,MAAM,UAAU,OAAO,KAAK,KAAK;AAAA,IACnC,IAAI,QAAQ;AACR,YAAM,WAAW,EAAE,GAAG,OAAO,KAAK,IAAI,MAAK;AAC3C,iBAAW,OAAO,MAAM;AACpB,YAAI,EAAE,OAAO,QAAQ,QAAQ;AACzB,gBAAM,IAAI,MAAM,sBAAsB,GAAG,GAAG;AAAA,QAChD;AACA,YAAI,CAAC,KAAK,GAAG;AACT;AACJ,eAAO,SAAS,GAAG;AAAA,MACvB;AACA,iBAAW,MAAM,SAAS,QAAQ;AAClC,aAAO;AAAA,IACX;AAAA,IACA,QAAQ,CAAA;AAAA,EAChB,CAAK;AACD,SAAO,MAAM,QAAQ,GAAG;AAC5B;AACO,SAAS,OAAO,QAAQ,OAAO;AAClC,MAAI,CAAC,cAAc,KAAK,GAAG;AACvB,UAAM,IAAI,MAAM,kDAAkD;AAAA,EACtE;AACA,QAAM,SAAS,OAAO,KAAK,IAAI;AAC/B,QAAM,YAAY,UAAU,OAAO,SAAS;AAC5C,MAAI,WAAW;AAGX,UAAM,gBAAgB,OAAO,KAAK,IAAI;AACtC,eAAW,OAAO,OAAO;AACrB,UAAI,OAAO,yBAAyB,eAAe,GAAG,MAAM,QAAW;AACnE,cAAM,IAAI,MAAM,8FAA8F;AAAA,MAClH;AAAA,IACJ;AAAA,EACJ;AACA,QAAM,MAAM,UAAU,OAAO,KAAK,KAAK;AAAA,IACnC,IAAI,QAAQ;AACR,YAAM,SAAS,EAAE,GAAG,OAAO,KAAK,IAAI,OAAO,GAAG,MAAK;AACnD,iBAAW,MAAM,SAAS,MAAM;AAChC,aAAO;AAAA,IACX;AAAA,EACR,CAAK;AACD,SAAO,MAAM,QAAQ,GAAG;AAC5B;AACO,SAAS,WAAW,QAAQ,OAAO;AACtC,MAAI,CAAC,cAAc,KAAK,GAAG;AACvB,UAAM,IAAI,MAAM,sDAAsD;AAAA,EAC1E;AACA,QAAM,MAAM,UAAU,OAAO,KAAK,KAAK;AAAA,IACnC,IAAI,QAAQ;AACR,YAAM,SAAS,EAAE,GAAG,OAAO,KAAK,IAAI,OAAO,GAAG,MAAK;AACnD,iBAAW,MAAM,SAAS,MAAM;AAChC,aAAO;AAAA,IACX;AAAA,EACR,CAAK;AACD,SAAO,MAAM,QAAQ,GAAG;AAC5B;AACO,SAAS,MAAM,GAAG,GAAG;AACxB,QAAM,MAAM,UAAU,EAAE,KAAK,KAAK;AAAA,IAC9B,IAAI,QAAQ;AACR,YAAM,SAAS,EAAE,GAAG,EAAE,KAAK,IAAI,OAAO,GAAG,EAAE,KAAK,IAAI,MAAK;AACzD,iBAAW,MAAM,SAAS,MAAM;AAChC,aAAO;AAAA,IACX;AAAA,IACA,IAAI,WAAW;AACX,aAAO,EAAE,KAAK,IAAI;AAAA,IACtB;AAAA,IACA,QAAQ,CAAA;AAAA;AAAA,EAChB,CAAK;AACD,SAAO,MAAM,GAAG,GAAG;AACvB;AACO,SAAS,QAAQ,OAAO,QAAQ,MAAM;AACzC,QAAM,UAAU,OAAO,KAAK;AAC5B,QAAM,SAAS,QAAQ;AACvB,QAAM,YAAY,UAAU,OAAO,SAAS;AAC5C,MAAI,WAAW;AACX,UAAM,IAAI,MAAM,oEAAoE;AAAA,EACxF;AACA,QAAM,MAAM,UAAU,OAAO,KAAK,KAAK;AAAA,IACnC,IAAI,QAAQ;AACR,YAAM,WAAW,OAAO,KAAK,IAAI;AACjC,YAAM,QAAQ,EAAE,GAAG,SAAQ;AAC3B,UAAI,MAAM;AACN,mBAAW,OAAO,MAAM;AACpB,cAAI,EAAE,OAAO,WAAW;AACpB,kBAAM,IAAI,MAAM,sBAAsB,GAAG,GAAG;AAAA,UAChD;AACA,cAAI,CAAC,KAAK,GAAG;AACT;AAEJ,gBAAM,GAAG,IAAI,QACP,IAAI,MAAM;AAAA,YACR,MAAM;AAAA,YACN,WAAW,SAAS,GAAG;AAAA,UACnD,CAAyB,IACC,SAAS,GAAG;AAAA,QACtB;AAAA,MACJ,OACK;AACD,mBAAW,OAAO,UAAU;AAExB,gBAAM,GAAG,IAAI,QACP,IAAI,MAAM;AAAA,YACR,MAAM;AAAA,YACN,WAAW,SAAS,GAAG;AAAA,UACnD,CAAyB,IACC,SAAS,GAAG;AAAA,QACtB;AAAA,MACJ;AACA,iBAAW,MAAM,SAAS,KAAK;AAC/B,aAAO;AAAA,IACX;AAAA,IACA,QAAQ,CAAA;AAAA,EAChB,CAAK;AACD,SAAO,MAAM,QAAQ,GAAG;AAC5B;AACO,SAAS,SAAS,OAAO,QAAQ,MAAM;AAC1C,QAAM,MAAM,UAAU,OAAO,KAAK,KAAK;AAAA,IACnC,IAAI,QAAQ;AACR,YAAM,WAAW,OAAO,KAAK,IAAI;AACjC,YAAM,QAAQ,EAAE,GAAG,SAAQ;AAC3B,UAAI,MAAM;AACN,mBAAW,OAAO,MAAM;AACpB,cAAI,EAAE,OAAO,QAAQ;AACjB,kBAAM,IAAI,MAAM,sBAAsB,GAAG,GAAG;AAAA,UAChD;AACA,cAAI,CAAC,KAAK,GAAG;AACT;AAEJ,gBAAM,GAAG,IAAI,IAAI,MAAM;AAAA,YACnB,MAAM;AAAA,YACN,WAAW,SAAS,GAAG;AAAA,UAC/C,CAAqB;AAAA,QACL;AAAA,MACJ,OACK;AACD,mBAAW,OAAO,UAAU;AAExB,gBAAM,GAAG,IAAI,IAAI,MAAM;AAAA,YACnB,MAAM;AAAA,YACN,WAAW,SAAS,GAAG;AAAA,UAC/C,CAAqB;AAAA,QACL;AAAA,MACJ;AACA,iBAAW,MAAM,SAAS,KAAK;AAC/B,aAAO;AAAA,IACX;AAAA,EACR,CAAK;AACD,SAAO,MAAM,QAAQ,GAAG;AAC5B;AAEO,SAAS,QAAQ,GAAG,aAAa,GAAG;AACvC,MAAI,EAAE,YAAY;AACd,WAAO;AACX,WAAS,IAAI,YAAY,IAAI,EAAE,OAAO,QAAQ,KAAK;AAC/C,QAAI,EAAE,OAAO,CAAC,GAAG,aAAa,MAAM;AAChC,aAAO;AAAA,IACX;AAAA,EACJ;AACA,SAAO;AACX;AACO,SAAS,aAAamB,OAAM,QAAQ;AACvC,SAAO,OAAO,IAAI,CAAC,QAAQ;AACvB,QAAI2B;AACJ,KAACA,OAAK,KAAK,SAASA,KAAG,OAAO,CAAA;AAC9B,QAAI,KAAK,QAAQ3B,KAAI;AACrB,WAAO;AAAA,EACX,CAAC;AACL;AACO,SAAS,cAAc,SAAS;AACnC,SAAO,OAAO,YAAY,WAAW,UAAU,SAAS;AAC5D;AACO,SAAS,cAAc,KAAK,KAAKW,SAAQ;AAC5C,QAAM,OAAO,EAAE,GAAG,KAAK,MAAM,IAAI,QAAQ,GAAE;AAE3C,MAAI,CAAC,IAAI,SAAS;AACd,UAAM,UAAU,cAAc,IAAI,MAAM,KAAK,KAAK,QAAQ,GAAG,CAAC,KAC1D,cAAc,KAAK,QAAQ,GAAG,CAAC,KAC/B,cAAcA,QAAO,cAAc,GAAG,CAAC,KACvC,cAAcA,QAAO,cAAc,GAAG,CAAC,KACvC;AACJ,SAAK,UAAU;AAAA,EACnB;AAEA,SAAO,KAAK;AACZ,SAAO,KAAK;AACZ,MAAI,CAAC,KAAK,aAAa;AACnB,WAAO,KAAK;AAAA,EAChB;AACA,SAAO;AACX;AAWO,SAAS,oBAAoB,OAAO;AACvC,MAAI,MAAM,QAAQ,KAAK;AACnB,WAAO;AACX,MAAI,OAAO,UAAU;AACjB,WAAO;AACX,SAAO;AACX;AAsBO,SAAS,SAAS,MAAM;AAC3B,QAAM,CAAC,KAAK,OAAO,IAAI,IAAI;AAC3B,MAAI,OAAO,QAAQ,UAAU;AACzB,WAAO;AAAA,MACH,SAAS;AAAA,MACT,MAAM;AAAA,MACN;AAAA,MACA;AAAA,IACZ;AAAA,EACI;AACA,SAAO,EAAE,GAAG,IAAG;AACnB;ACplBA,MAAM4D,gBAAc,CAAC,MAAM,QAAQ;AAC/B,OAAK,OAAO;AACZ,SAAO,eAAe,MAAM,QAAQ;AAAA,IAChC,OAAO,KAAK;AAAA,IACZ,YAAY;AAAA,EACpB,CAAK;AACD,SAAO,eAAe,MAAM,UAAU;AAAA,IAClC,OAAO;AAAA,IACP,YAAY;AAAA,EACpB,CAAK;AACD,OAAK,UAAU,KAAK,UAAU,KAAKE,uBAA4B,CAAC;AAChE,SAAO,eAAe,MAAM,YAAY;AAAA,IACpC,OAAO,MAAM,KAAK;AAAA,IAClB,YAAY;AAAA,EACpB,CAAK;AACL;AACO,MAAM,YAAY,aAAa,aAAaF,aAAW;AACvD,MAAM,gBAAgB,aAAa,aAAaA,eAAa,EAAE,QAAQ,OAAO;AAC9E,SAAS,aAAanD,QAAO,SAAS,CAACsD,WAAUA,OAAM,SAAS;AACnE,QAAM,cAAc,CAAA;AACpB,QAAM,aAAa,CAAA;AACnB,aAAW,OAAOtD,OAAM,QAAQ;AAC5B,QAAI,IAAI,KAAK,SAAS,GAAG;AACrB,kBAAY,IAAI,KAAK,CAAC,CAAC,IAAI,YAAY,IAAI,KAAK,CAAC,CAAC,KAAK,CAAA;AACvD,kBAAY,IAAI,KAAK,CAAC,CAAC,EAAE,KAAK,OAAO,GAAG,CAAC;AAAA,IAC7C,OACK;AACD,iBAAW,KAAK,OAAO,GAAG,CAAC;AAAA,IAC/B;AAAA,EACJ;AACA,SAAO,EAAE,YAAY,YAAW;AACpC;AACO,SAAS,YAAYA,QAAO,SAAS,CAACsD,WAAUA,OAAM,SAAS;AAClE,QAAM,cAAc,EAAE,SAAS,GAAE;AACjC,QAAM,eAAe,CAACtD,WAAU;AAC5B,eAAWsD,UAAStD,OAAM,QAAQ;AAC9B,UAAIsD,OAAM,SAAS,mBAAmBA,OAAM,OAAO,QAAQ;AACvD,QAAAA,OAAM,OAAO,IAAI,CAAC,WAAW,aAAa,EAAE,OAAM,CAAE,CAAC;AAAA,MACzD,WACSA,OAAM,SAAS,eAAe;AACnC,qBAAa,EAAE,QAAQA,OAAM,OAAM,CAAE;AAAA,MACzC,WACSA,OAAM,SAAS,mBAAmB;AACvC,qBAAa,EAAE,QAAQA,OAAM,OAAM,CAAE;AAAA,MACzC,WACSA,OAAM,KAAK,WAAW,GAAG;AAC9B,oBAAY,QAAQ,KAAK,OAAOA,MAAK,CAAC;AAAA,MAC1C,OACK;AACD,YAAI,OAAO;AACX,YAAI,IAAI;AACR,eAAO,IAAIA,OAAM,KAAK,QAAQ;AAC1B,gBAAM,KAAKA,OAAM,KAAK,CAAC;AACvB,gBAAM,WAAW,MAAMA,OAAM,KAAK,SAAS;AAC3C,cAAI,CAAC,UAAU;AACX,iBAAK,EAAE,IAAI,KAAK,EAAE,KAAK,EAAE,SAAS,GAAE;AAAA,UACxC,OACK;AACD,iBAAK,EAAE,IAAI,KAAK,EAAE,KAAK,EAAE,SAAS,GAAE;AACpC,iBAAK,EAAE,EAAE,QAAQ,KAAK,OAAOA,MAAK,CAAC;AAAA,UACvC;AACA,iBAAO,KAAK,EAAE;AACd;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AACA,eAAatD,MAAK;AAClB,SAAO;AACX;ACpEO,MAAMuD,WAAS,CAAC,SAAS,CAAC,QAAQ,OAAO,MAAM,YAAY;AAC9D,QAAM,MAAM,OAAO,OAAO,OAAO,MAAM,EAAE,OAAO,MAAK,CAAE,IAAI,EAAE,OAAO,MAAK;AACzE,QAAM,SAAS,OAAO,KAAK,IAAI,EAAE,OAAO,QAAQ,GAAE,GAAI,GAAG;AACzD,MAAI,kBAAkB,SAAS;AAC3B,UAAM,IAAIC,eAAmB;AAAA,EACjC;AACA,MAAI,OAAO,OAAO,QAAQ;AACtB,UAAM,IAAI,KAAK,SAAS,OAAO,MAAM,OAAO,OAAO,IAAI,CAAC,QAAQC,cAAmB,KAAK,KAAKC,OAAW,CAAE,CAAC,CAAC;AAC5GC,sBAAuB,GAAG,SAAS,MAAM;AACzC,UAAM;AAAA,EACV;AACA,SAAO,OAAO;AAClB;AAEO,MAAM,cAAc,CAAC,SAAS,OAAO,QAAQ,OAAO,MAAM,WAAW;AACxE,QAAM,MAAM,OAAO,OAAO,OAAO,MAAM,EAAE,OAAO,KAAI,CAAE,IAAI,EAAE,OAAO,KAAI;AACvE,MAAI,SAAS,OAAO,KAAK,IAAI,EAAE,OAAO,QAAQ,GAAE,GAAI,GAAG;AACvD,MAAI,kBAAkB;AAClB,aAAS,MAAM;AACnB,MAAI,OAAO,OAAO,QAAQ;AACtB,UAAM,IAAI,KAAK,QAAQ,OAAO,MAAM,OAAO,OAAO,IAAI,CAAC,QAAQF,cAAmB,KAAK,KAAKC,OAAW,CAAE,CAAC,CAAC;AAC3GC,sBAAuB,GAAG,QAAQ,MAAM;AACxC,UAAM;AAAA,EACV;AACA,SAAO,OAAO;AAClB;AAEO,MAAM,aAAa,CAAC,SAAS,CAAC,QAAQ,OAAO,SAAS;AACzD,QAAM,MAAM,OAAO,EAAE,GAAG,MAAM,OAAO,MAAK,IAAK,EAAE,OAAO,MAAK;AAC7D,QAAM,SAAS,OAAO,KAAK,IAAI,EAAE,OAAO,QAAQ,GAAE,GAAI,GAAG;AACzD,MAAI,kBAAkB,SAAS;AAC3B,UAAM,IAAIH,eAAmB;AAAA,EACjC;AACA,SAAO,OAAO,OAAO,SACf;AAAA,IACE,SAAS;AAAA,IACT,OAAO,KAAK,QAAQI,WAAkB,OAAO,OAAO,IAAI,CAAC,QAAQH,cAAmB,KAAK,KAAKC,OAAW,CAAE,CAAC,CAAC;AAAA,EACzH,IACU,EAAE,SAAS,MAAM,MAAM,OAAO,MAAK;AAC7C;AACO,MAAMG,cAA2B,2BAAWC,aAAoB;AAChE,MAAM,kBAAkB,CAAC,SAAS,OAAO,QAAQ,OAAO,SAAS;AACpE,QAAM,MAAM,OAAO,OAAO,OAAO,MAAM,EAAE,OAAO,KAAI,CAAE,IAAI,EAAE,OAAO,KAAI;AACvE,MAAI,SAAS,OAAO,KAAK,IAAI,EAAE,OAAO,QAAQ,GAAE,GAAI,GAAG;AACvD,MAAI,kBAAkB;AAClB,aAAS,MAAM;AACnB,SAAO,OAAO,OAAO,SACf;AAAA,IACE,SAAS;AAAA,IACT,OAAO,IAAI,KAAK,OAAO,OAAO,IAAI,CAAC,QAAQL,cAAmB,KAAK,KAAKC,OAAW,CAAE,CAAC,CAAC;AAAA,EACnG,IACU,EAAE,SAAS,MAAM,MAAM,OAAO,MAAK;AAC7C;AACO,MAAMK,mBAAgC,gCAAgBD,aAAoB;AAC1E,MAAM,UAAU,CAAC,SAAS,CAAC,QAAQ,OAAO,SAAS;AACtD,QAAM,MAAM,OAAO,OAAO,OAAO,MAAM,EAAE,WAAW,WAAU,CAAE,IAAI,EAAE,WAAW,WAAU;AAC3F,SAAOP,SAAO,IAAI,EAAE,QAAQ,OAAO,GAAG;AAC1C;AAEO,MAAM,UAAU,CAAC,SAAS,CAAC,QAAQ,OAAO,SAAS;AACtD,SAAOA,SAAO,IAAI,EAAE,QAAQ,OAAO,IAAI;AAC3C;AAEO,MAAM,eAAe,CAAC,SAAS,OAAO,QAAQ,OAAO,SAAS;AACjE,QAAM,MAAM,OAAO,OAAO,OAAO,MAAM,EAAE,WAAW,WAAU,CAAE,IAAI,EAAE,WAAW,WAAU;AAC3F,SAAO,YAAY,IAAI,EAAE,QAAQ,OAAO,GAAG;AAC/C;AAEO,MAAM,eAAe,CAAC,SAAS,OAAO,QAAQ,OAAO,SAAS;AACjE,SAAO,YAAY,IAAI,EAAE,QAAQ,OAAO,IAAI;AAChD;AAEO,MAAM,cAAc,CAAC,SAAS,CAAC,QAAQ,OAAO,SAAS;AAC1D,QAAM,MAAM,OAAO,OAAO,OAAO,MAAM,EAAE,WAAW,WAAU,CAAE,IAAI,EAAE,WAAW,WAAU;AAC3F,SAAO,WAAW,IAAI,EAAE,QAAQ,OAAO,GAAG;AAC9C;AAEO,MAAM,cAAc,CAAC,SAAS,CAAC,QAAQ,OAAO,SAAS;AAC1D,SAAO,WAAW,IAAI,EAAE,QAAQ,OAAO,IAAI;AAC/C;AAEO,MAAM,mBAAmB,CAAC,SAAS,OAAO,QAAQ,OAAO,SAAS;AACrE,QAAM,MAAM,OAAO,OAAO,OAAO,MAAM,EAAE,WAAW,WAAU,CAAE,IAAI,EAAE,WAAW,WAAU;AAC3F,SAAO,gBAAgB,IAAI,EAAE,QAAQ,OAAO,GAAG;AACnD;AAEO,MAAM,mBAAmB,CAAC,SAAS,OAAO,QAAQ,OAAO,SAAS;AACrE,SAAO,gBAAgB,IAAI,EAAE,QAAQ,OAAO,IAAI;AACpD;AC1FO,MAAM,OAAO;AACb,MAAM,QAAQ;AACd,MAAM,OAAO;AACb,MAAM,MAAM;AACZ,MAAM,QAAQ;AACd,MAAM,SAAS;AAEf,MAAMS,aAAW;AAIjB,MAAM,OAAO;AAIb,MAAM,OAAO,CAAClE,aAAY;AAC7B,MAAI,CAACA;AACD,WAAO;AACX,SAAO,IAAI,OAAO,mCAAmCA,QAAO,yDAAyD;AACzH;AAKO,MAAM,QAAQ;AAUrB,MAAMmE,WAAS;AACR,SAAS,QAAQ;AACpB,SAAO,IAAI,OAAOA,UAAQ,GAAG;AACjC;AACO,MAAM,OAAO;AACb,MAAM,OAAO;AAKb,MAAM,SAAS;AACf,MAAM,SAAS;AAEf,MAAM,SAAS;AACf,MAAM,YAAY;AAOlB,MAAM,OAAO;AAEpB,MAAM,aAAa;AACZ,MAAMC,SAAqB,oBAAI,OAAO,IAAI,UAAU,GAAG;AAC9D,SAAS,WAAW,MAAM;AACtB,QAAM,OAAO;AACb,QAAM,QAAQ,OAAO,KAAK,cAAc,WAClC,KAAK,cAAc,KACf,GAAG,IAAI,KACP,KAAK,cAAc,IACf,GAAG,IAAI,cACP,GAAG,IAAI,mBAAmB,KAAK,SAAS,MAChD,GAAG,IAAI;AACb,SAAO;AACX;AACO,SAASC,OAAK,MAAM;AACvB,SAAO,IAAI,OAAO,IAAI,WAAW,IAAI,CAAC,GAAG;AAC7C;AAEO,SAASC,WAAS,MAAM;AAC3B,QAAMD,QAAO,WAAW,EAAE,WAAW,KAAK,UAAS,CAAE;AACrD,QAAM,OAAO,CAAC,GAAG;AACjB,MAAI,KAAK;AACL,SAAK,KAAK,EAAE;AAEhB,MAAI,KAAK;AACL,SAAK,KAAK,mCAAmC;AACjD,QAAM,YAAY,GAAGA,KAAI,MAAM,KAAK,KAAK,GAAG,CAAC;AAC7C,SAAO,IAAI,OAAO,IAAI,UAAU,OAAO,SAAS,IAAI;AACxD;AACO,MAAM3G,WAAS,CAAC,WAAW;AAC9B,QAAM,QAAQ,SAAS,YAAY,QAAQ,WAAW,CAAC,IAAI,QAAQ,WAAW,EAAE,MAAM;AACtF,SAAO,IAAI,OAAO,IAAI,KAAK,GAAG;AAClC;AAEO,MAAM,UAAU;AAChB,MAAM6G,WAAS;AACf,MAAMC,YAAU;AACvB,MAAMC,UAAQ;AAKP,MAAM,YAAY;AAElB,MAAM,YAAY;ACjGlB,MAAM,YAA0BC,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,MAAIjE;AACJ,OAAK,SAAS,KAAK,OAAO,CAAA;AAC1B,OAAK,KAAK,MAAM;AAChB,GAACA,OAAK,KAAK,MAAM,aAAaA,KAAG,WAAW;AAChD,CAAC;AACD,MAAM,mBAAmB;AAAA,EACrB,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AACZ;AACO,MAAM,oBAAkCiE,6BAAkB,qBAAqB,CAAC,MAAM,QAAQ;AACjG,YAAU,KAAK,MAAM,GAAG;AACxB,QAAM,SAAS,iBAAiB,OAAO,IAAI,KAAK;AAChD,OAAK,KAAK,SAAS,KAAK,CAACC,UAAS;AAC9B,UAAM,MAAMA,MAAK,KAAK;AACtB,UAAM,QAAQ,IAAI,YAAY,IAAI,UAAU,IAAI,qBAAqB,OAAO;AAC5E,QAAI,IAAI,QAAQ,MAAM;AAClB,UAAI,IAAI;AACJ,YAAI,UAAU,IAAI;AAAA;AAElB,YAAI,mBAAmB,IAAI;AAAA,IACnC;AAAA,EACJ,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,IAAI,YAAY,QAAQ,SAAS,IAAI,QAAQ,QAAQ,QAAQ,IAAI,OAAO;AACxE;AAAA,IACJ;AACA,YAAQ,OAAO,KAAK;AAAA,MAChB;AAAA,MACA,MAAM;AAAA,MACN,SAAS,OAAO,IAAI,UAAU,WAAW,IAAI,MAAM,YAAY,IAAI;AAAA,MACnE,OAAO,QAAQ;AAAA,MACf,WAAW,IAAI;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,uBAAqCD,6BAAkB,wBAAwB,CAAC,MAAM,QAAQ;AACvG,YAAU,KAAK,MAAM,GAAG;AACxB,QAAM,SAAS,iBAAiB,OAAO,IAAI,KAAK;AAChD,OAAK,KAAK,SAAS,KAAK,CAACC,UAAS;AAC9B,UAAM,MAAMA,MAAK,KAAK;AACtB,UAAM,QAAQ,IAAI,YAAY,IAAI,UAAU,IAAI,qBAAqB,OAAO;AAC5E,QAAI,IAAI,QAAQ,MAAM;AAClB,UAAI,IAAI;AACJ,YAAI,UAAU,IAAI;AAAA;AAElB,YAAI,mBAAmB,IAAI;AAAA,IACnC;AAAA,EACJ,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,IAAI,YAAY,QAAQ,SAAS,IAAI,QAAQ,QAAQ,QAAQ,IAAI,OAAO;AACxE;AAAA,IACJ;AACA,YAAQ,OAAO,KAAK;AAAA,MAChB;AAAA,MACA,MAAM;AAAA,MACN,SAAS,OAAO,IAAI,UAAU,WAAW,IAAI,MAAM,YAAY,IAAI;AAAA,MACnE,OAAO,QAAQ;AAAA,MACf,WAAW,IAAI;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,sBACCD,6BAAkB,uBAAuB,CAAC,MAAM,QAAQ;AAClE,YAAU,KAAK,MAAM,GAAG;AACxB,OAAK,KAAK,SAAS,KAAK,CAACC,UAAS;AAC9B,QAAIlE;AACJ,KAACA,OAAKkE,MAAK,KAAK,KAAK,eAAelE,KAAG,aAAa,IAAI;AAAA,EAC5D,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,OAAO,QAAQ,UAAU,OAAO,IAAI;AACpC,YAAM,IAAI,MAAM,oDAAoD;AACxE,UAAM,aAAa,OAAO,QAAQ,UAAU,WACtC,QAAQ,QAAQ,IAAI,UAAU,OAAO,CAAC,IACtCmE,mBAAwB,QAAQ,OAAO,IAAI,KAAK,MAAM;AAC5D,QAAI;AACA;AACJ,YAAQ,OAAO,KAAK;AAAA,MAChB,QAAQ,OAAO,QAAQ;AAAA,MACvB,MAAM;AAAA,MACN,SAAS,IAAI;AAAA,MACb,OAAO,QAAQ;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,wBAAsCF,6BAAkB,yBAAyB,CAAC,MAAM,QAAQ;AACzG,YAAU,KAAK,MAAM,GAAG;AACxB,MAAI,SAAS,IAAI,UAAU;AAC3B,QAAM,QAAQ,IAAI,QAAQ,SAAS,KAAK;AACxC,QAAM,SAAS,QAAQ,QAAQ;AAC/B,QAAM,CAAC,SAAS,OAAO,IAAIG,qBAA0B,IAAI,MAAM;AAC/D,OAAK,KAAK,SAAS,KAAK,CAACF,UAAS;AAC9B,UAAM,MAAMA,MAAK,KAAK;AACtB,QAAI,SAAS,IAAI;AACjB,QAAI,UAAU;AACd,QAAI,UAAU;AACd,QAAI;AACA,UAAI,UAAUG;AAAAA,EACtB,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,UAAM,QAAQ,QAAQ;AACtB,QAAI,OAAO;AACP,UAAI,CAAC,OAAO,UAAU,KAAK,GAAG;AAU1B,gBAAQ,OAAO,KAAK;AAAA,UAChB,UAAU;AAAA,UACV,QAAQ,IAAI;AAAA,UACZ,MAAM;AAAA,UACN,UAAU;AAAA,UACV;AAAA,UACA;AAAA,QACpB,CAAiB;AACD;AAAA,MASJ;AACA,UAAI,CAAC,OAAO,cAAc,KAAK,GAAG;AAC9B,YAAI,QAAQ,GAAG;AAEX,kBAAQ,OAAO,KAAK;AAAA,YAChB;AAAA,YACA,MAAM;AAAA,YACN,SAAS,OAAO;AAAA,YAChB,MAAM;AAAA,YACN;AAAA,YACA;AAAA,YACA,WAAW;AAAA,YACX,UAAU,CAAC,IAAI;AAAA,UACvC,CAAqB;AAAA,QACL,OACK;AAED,kBAAQ,OAAO,KAAK;AAAA,YAChB;AAAA,YACA,MAAM;AAAA,YACN,SAAS,OAAO;AAAA,YAChB,MAAM;AAAA,YACN;AAAA,YACA;AAAA,YACA,WAAW;AAAA,YACX,UAAU,CAAC,IAAI;AAAA,UACvC,CAAqB;AAAA,QACL;AACA;AAAA,MACJ;AAAA,IACJ;AACA,QAAI,QAAQ,SAAS;AACjB,cAAQ,OAAO,KAAK;AAAA,QAChB,QAAQ;AAAA,QACR;AAAA,QACA,MAAM;AAAA,QACN;AAAA,QACA,WAAW;AAAA,QACX;AAAA,QACA,UAAU,CAAC,IAAI;AAAA,MAC/B,CAAa;AAAA,IACL;AACA,QAAI,QAAQ,SAAS;AACjB,cAAQ,OAAO,KAAK;AAAA,QAChB,QAAQ;AAAA,QACR;AAAA,QACA,MAAM;AAAA,QACN;AAAA,QACA,WAAW;AAAA,QACX;AAAA,QACA,UAAU,CAAC,IAAI;AAAA,MAC/B,CAAa;AAAA,IACL;AAAA,EACJ;AACJ,CAAC;AA0HM,MAAM,qBAAmCJ,6BAAkB,sBAAsB,CAAC,MAAM,QAAQ;AACnG,MAAIjE;AACJ,YAAU,KAAK,MAAM,GAAG;AACxB,GAACA,OAAK,KAAK,KAAK,KAAK,SAASA,KAAG,OAAO,CAAC,YAAY;AACjD,UAAM,MAAM,QAAQ;AACpB,WAAO,CAACsE,QAAa,GAAG,KAAK,IAAI,WAAW;AAAA,EAChD;AACA,OAAK,KAAK,SAAS,KAAK,CAACJ,UAAS;AAC9B,UAAM,OAAQA,MAAK,KAAK,IAAI,WAAW,OAAO;AAC9C,QAAI,IAAI,UAAU;AACd,MAAAA,MAAK,KAAK,IAAI,UAAU,IAAI;AAAA,EACpC,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,UAAM,QAAQ,QAAQ;AACtB,UAAM,SAAS,MAAM;AACrB,QAAI,UAAU,IAAI;AACd;AACJ,UAAM,SAASK,oBAAyB,KAAK;AAC7C,YAAQ,OAAO,KAAK;AAAA,MAChB;AAAA,MACA,MAAM;AAAA,MACN,SAAS,IAAI;AAAA,MACb,WAAW;AAAA,MACX;AAAA,MACA;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,qBAAmCN,6BAAkB,sBAAsB,CAAC,MAAM,QAAQ;AACnG,MAAIjE;AACJ,YAAU,KAAK,MAAM,GAAG;AACxB,GAACA,OAAK,KAAK,KAAK,KAAK,SAASA,KAAG,OAAO,CAAC,YAAY;AACjD,UAAM,MAAM,QAAQ;AACpB,WAAO,CAACsE,QAAa,GAAG,KAAK,IAAI,WAAW;AAAA,EAChD;AACA,OAAK,KAAK,SAAS,KAAK,CAACJ,UAAS;AAC9B,UAAM,OAAQA,MAAK,KAAK,IAAI,WAAW,OAAO;AAC9C,QAAI,IAAI,UAAU;AACd,MAAAA,MAAK,KAAK,IAAI,UAAU,IAAI;AAAA,EACpC,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,UAAM,QAAQ,QAAQ;AACtB,UAAM,SAAS,MAAM;AACrB,QAAI,UAAU,IAAI;AACd;AACJ,UAAM,SAASK,oBAAyB,KAAK;AAC7C,YAAQ,OAAO,KAAK;AAAA,MAChB;AAAA,MACA,MAAM;AAAA,MACN,SAAS,IAAI;AAAA,MACb,WAAW;AAAA,MACX;AAAA,MACA;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,wBAAsCN,6BAAkB,yBAAyB,CAAC,MAAM,QAAQ;AACzG,MAAIjE;AACJ,YAAU,KAAK,MAAM,GAAG;AACxB,GAACA,OAAK,KAAK,KAAK,KAAK,SAASA,KAAG,OAAO,CAAC,YAAY;AACjD,UAAM,MAAM,QAAQ;AACpB,WAAO,CAACsE,QAAa,GAAG,KAAK,IAAI,WAAW;AAAA,EAChD;AACA,OAAK,KAAK,SAAS,KAAK,CAACJ,UAAS;AAC9B,UAAM,MAAMA,MAAK,KAAK;AACtB,QAAI,UAAU,IAAI;AAClB,QAAI,UAAU,IAAI;AAClB,QAAI,SAAS,IAAI;AAAA,EACrB,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,UAAM,QAAQ,QAAQ;AACtB,UAAM,SAAS,MAAM;AACrB,QAAI,WAAW,IAAI;AACf;AACJ,UAAM,SAASK,oBAAyB,KAAK;AAC7C,UAAM,SAAS,SAAS,IAAI;AAC5B,YAAQ,OAAO,KAAK;AAAA,MAChB;AAAA,MACA,GAAI,SAAS,EAAE,MAAM,WAAW,SAAS,IAAI,WAAW,EAAE,MAAM,aAAa,SAAS,IAAI,OAAM;AAAA,MAChG,WAAW;AAAA,MACX,OAAO;AAAA,MACP,OAAO,QAAQ;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,wBAAsCN,6BAAkB,yBAAyB,CAAC,MAAM,QAAQ;AACzG,MAAIjE,MAAIC;AACR,YAAU,KAAK,MAAM,GAAG;AACxB,OAAK,KAAK,SAAS,KAAK,CAACiE,UAAS;AAC9B,UAAM,MAAMA,MAAK,KAAK;AACtB,QAAI,SAAS,IAAI;AACjB,QAAI,IAAI,SAAS;AACb,UAAI,aAAa,IAAI,WAAW,oBAAI,IAAG;AACvC,UAAI,SAAS,IAAI,IAAI,OAAO;AAAA,IAChC;AAAA,EACJ,CAAC;AACD,MAAI,IAAI;AACJ,KAAClE,OAAK,KAAK,MAAM,UAAUA,KAAG,QAAQ,CAAC,YAAY;AAC/C,UAAI,QAAQ,YAAY;AACxB,UAAI,IAAI,QAAQ,KAAK,QAAQ,KAAK;AAC9B;AACJ,cAAQ,OAAO,KAAK;AAAA,QAChB,QAAQ;AAAA,QACR,MAAM;AAAA,QACN,QAAQ,IAAI;AAAA,QACZ,OAAO,QAAQ;AAAA,QACf,GAAI,IAAI,UAAU,EAAE,SAAS,IAAI,QAAQ,WAAU,IAAK;QACxD;AAAA,QACA,UAAU,CAAC,IAAI;AAAA,MAC/B,CAAa;AAAA,IACL;AAAA;AAEA,KAACC,MAAK,KAAK,MAAM,UAAUA,IAAG,QAAQ,MAAM;AAAA,IAAE;AACtD,CAAC;AACM,MAAM,iBAA+BgE,6BAAkB,kBAAkB,CAAC,MAAM,QAAQ;AAC3F,wBAAsB,KAAK,MAAM,GAAG;AACpC,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,QAAQ,YAAY;AACxB,QAAI,IAAI,QAAQ,KAAK,QAAQ,KAAK;AAC9B;AACJ,YAAQ,OAAO,KAAK;AAAA,MAChB,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,OAAO,QAAQ;AAAA,MACf,SAAS,IAAI,QAAQ,SAAQ;AAAA,MAC7B;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,qBAAmCA,6BAAkB,sBAAsB,CAAC,MAAM,QAAQ;AACnG,MAAI,YAAY,IAAI,UAAUO;AAC9B,wBAAsB,KAAK,MAAM,GAAG;AACxC,CAAC;AACM,MAAM,qBAAmCP,6BAAkB,sBAAsB,CAAC,MAAM,QAAQ;AACnG,MAAI,YAAY,IAAI,UAAUQ;AAC9B,wBAAsB,KAAK,MAAM,GAAG;AACxC,CAAC;AACM,MAAM,oBAAkCR,6BAAkB,qBAAqB,CAAC,MAAM,QAAQ;AACjG,YAAU,KAAK,MAAM,GAAG;AACxB,QAAM,eAAeS,YAAiB,IAAI,QAAQ;AAClD,QAAM,UAAU,IAAI,OAAO,OAAO,IAAI,aAAa,WAAW,MAAM,IAAI,QAAQ,IAAI,YAAY,KAAK,YAAY;AACjH,MAAI,UAAU;AACd,OAAK,KAAK,SAAS,KAAK,CAACR,UAAS;AAC9B,UAAM,MAAMA,MAAK,KAAK;AACtB,QAAI,aAAa,IAAI,WAAW,oBAAI,IAAG;AACvC,QAAI,SAAS,IAAI,OAAO;AAAA,EAC5B,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,QAAQ,MAAM,SAAS,IAAI,UAAU,IAAI,QAAQ;AACjD;AACJ,YAAQ,OAAO,KAAK;AAAA,MAChB,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,UAAU,IAAI;AAAA,MACd,OAAO,QAAQ;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,sBAAoCD,6BAAkB,uBAAuB,CAAC,MAAM,QAAQ;AACrG,YAAU,KAAK,MAAM,GAAG;AACxB,QAAM,UAAU,IAAI,OAAO,IAAIS,YAAiB,IAAI,MAAM,CAAC,IAAI;AAC/D,MAAI,YAAY,IAAI,UAAU;AAC9B,OAAK,KAAK,SAAS,KAAK,CAACR,UAAS;AAC9B,UAAM,MAAMA,MAAK,KAAK;AACtB,QAAI,aAAa,IAAI,WAAW,oBAAI,IAAG;AACvC,QAAI,SAAS,IAAI,OAAO;AAAA,EAC5B,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,QAAQ,MAAM,WAAW,IAAI,MAAM;AACnC;AACJ,YAAQ,OAAO,KAAK;AAAA,MAChB,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ,IAAI;AAAA,MACZ,OAAO,QAAQ;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,oBAAkCD,6BAAkB,qBAAqB,CAAC,MAAM,QAAQ;AACjG,YAAU,KAAK,MAAM,GAAG;AACxB,QAAM,UAAU,IAAI,OAAO,KAAKS,YAAiB,IAAI,MAAM,CAAC,GAAG;AAC/D,MAAI,YAAY,IAAI,UAAU;AAC9B,OAAK,KAAK,SAAS,KAAK,CAACR,UAAS;AAC9B,UAAM,MAAMA,MAAK,KAAK;AACtB,QAAI,aAAa,IAAI,WAAW,oBAAI,IAAG;AACvC,QAAI,SAAS,IAAI,OAAO;AAAA,EAC5B,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,QAAQ,MAAM,SAAS,IAAI,MAAM;AACjC;AACJ,YAAQ,OAAO,KAAK;AAAA,MAChB,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,QAAQ,IAAI;AAAA,MACZ,OAAO,QAAQ;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AAyCM,MAAM,qBAAmCD,6BAAkB,sBAAsB,CAAC,MAAM,QAAQ;AACnG,YAAU,KAAK,MAAM,GAAG;AACxB,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,YAAQ,QAAQ,IAAI,GAAG,QAAQ,KAAK;AAAA,EACxC;AACJ,CAAC;AC9jBM,MAAM,IAAI;AAAA,EACb,YAAY,OAAO,IAAI;AACnB,SAAK,UAAU,CAAA;AACf,SAAK,SAAS;AACd,QAAI;AACA,WAAK,OAAO;AAAA,EACpB;AAAA,EACA,SAAS,IAAI;AACT,SAAK,UAAU;AACf,OAAG,IAAI;AACP,SAAK,UAAU;AAAA,EACnB;AAAA,EACA,MAAM,KAAK;AACP,QAAI,OAAO,QAAQ,YAAY;AAC3B,UAAI,MAAM,EAAE,WAAW,OAAM,CAAE;AAC/B,UAAI,MAAM,EAAE,WAAW,QAAO,CAAE;AAChC;AAAA,IACJ;AACA,UAAM,UAAU;AAChB,UAAM,QAAQ,QAAQ,MAAM,IAAI,EAAE,OAAO,CAAC,MAAM,CAAC;AACjD,UAAM,YAAY,KAAK,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,UAAS,EAAG,MAAM,CAAC;AAC/E,UAAM,WAAW,MAAM,IAAI,CAAC,MAAM,EAAE,MAAM,SAAS,CAAC,EAAE,IAAI,CAAC,MAAM,IAAI,OAAO,KAAK,SAAS,CAAC,IAAI,CAAC;AAChG,eAAW,QAAQ,UAAU;AACzB,WAAK,QAAQ,KAAK,IAAI;AAAA,IAC1B;AAAA,EACJ;AAAA,EACA,UAAU;AACN,UAAM,IAAI;AACV,UAAM,OAAO,MAAM;AACnB,UAAM,UAAU,MAAM,WAAW,CAAC,EAAE;AACpC,UAAM,QAAQ,CAAC,GAAG,QAAQ,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC;AAE9C,WAAO,IAAI,EAAE,GAAG,MAAM,MAAM,KAAK,IAAI,CAAC;AAAA,EAC1C;AACJ;AClCO,MAAM,UAAU;AAAA,EACnB,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO;AACX;ACGO,MAAM,WAAyBA,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,MAAIjE;AACJ,WAAS,OAAO;AAChB,OAAK,KAAK,MAAM;AAChB,OAAK,KAAK,MAAM,KAAK,KAAK,OAAO;AACjC,OAAK,KAAK,UAAU;AACpB,QAAM,SAAS,CAAC,GAAI,KAAK,KAAK,IAAI,UAAU,CAAA,CAAG;AAE/C,MAAI,KAAK,KAAK,OAAO,IAAI,WAAW,GAAG;AACnC,WAAO,QAAQ,IAAI;AAAA,EACvB;AACA,aAAW,MAAM,QAAQ;AACrB,eAAW,MAAM,GAAG,KAAK,UAAU;AAC/B,SAAG,IAAI;AAAA,IACX;AAAA,EACJ;AACA,MAAI,OAAO,WAAW,GAAG;AAGrB,KAACA,OAAK,KAAK,MAAM,aAAaA,KAAG,WAAW;AAC5C,SAAK,KAAK,UAAU,KAAK,MAAM;AAC3B,WAAK,KAAK,MAAM,KAAK,KAAK;AAAA,IAC9B,CAAC;AAAA,EACL,OACK;AACD,UAAM,YAAY,CAAC,SAAS2E,SAAQ,QAAQ;AACxC,UAAI,YAAYC,QAAa,OAAO;AACpC,UAAI;AACJ,iBAAW,MAAMD,SAAQ;AACrB,YAAI,GAAG,KAAK,IAAI,MAAM;AAClB,gBAAM,YAAY,GAAG,KAAK,IAAI,KAAK,OAAO;AAC1C,cAAI,CAAC;AACD;AAAA,QACR,WACS,WAAW;AAChB;AAAA,QACJ;AACA,cAAM,UAAU,QAAQ,OAAO;AAC/B,cAAM,IAAI,GAAG,KAAK,MAAM,OAAO;AAC/B,YAAI,aAAa,WAAW,KAAK,UAAU,OAAO;AAC9C,gBAAM,IAAI1B,eAAmB;AAAA,QACjC;AACA,YAAI,eAAe,aAAa,SAAS;AACrC,yBAAe,eAAe,QAAQ,QAAO,GAAI,KAAK,YAAY;AAC9D,kBAAM;AACN,kBAAM,UAAU,QAAQ,OAAO;AAC/B,gBAAI,YAAY;AACZ;AACJ,gBAAI,CAAC;AACD,0BAAY2B,QAAa,SAAS,OAAO;AAAA,UACjD,CAAC;AAAA,QACL,OACK;AACD,gBAAM,UAAU,QAAQ,OAAO;AAC/B,cAAI,YAAY;AACZ;AACJ,cAAI,CAAC;AACD,wBAAYA,QAAa,SAAS,OAAO;AAAA,QACjD;AAAA,MACJ;AACA,UAAI,aAAa;AACb,eAAO,YAAY,KAAK,MAAM;AAC1B,iBAAO;AAAA,QACX,CAAC;AAAA,MACL;AACA,aAAO;AAAA,IACX;AACA,UAAM,qBAAqB,CAAC,QAAQ,SAAS,QAAQ;AAEjD,UAAIA,QAAa,MAAM,GAAG;AACtB,eAAO,UAAU;AACjB,eAAO;AAAA,MACX;AAEA,YAAM,cAAc,UAAU,SAAS,QAAQ,GAAG;AAClD,UAAI,uBAAuB,SAAS;AAChC,YAAI,IAAI,UAAU;AACd,gBAAM,IAAI3B,eAAmB;AACjC,eAAO,YAAY,KAAK,CAAC4B,iBAAgB,KAAK,KAAK,MAAMA,cAAa,GAAG,CAAC;AAAA,MAC9E;AACA,aAAO,KAAK,KAAK,MAAM,aAAa,GAAG;AAAA,IAC3C;AACA,SAAK,KAAK,MAAM,CAAC,SAAS,QAAQ;AAC9B,UAAI,IAAI,YAAY;AAChB,eAAO,KAAK,KAAK,MAAM,SAAS,GAAG;AAAA,MACvC;AACA,UAAI,IAAI,cAAc,YAAY;AAG9B,cAAM,SAAS,KAAK,KAAK,MAAM,EAAE,OAAO,QAAQ,OAAO,QAAQ,CAAA,EAAE,GAAI,EAAE,GAAG,KAAK,YAAY,MAAM;AACjG,YAAI,kBAAkB,SAAS;AAC3B,iBAAO,OAAO,KAAK,CAACC,YAAW;AAC3B,mBAAO,mBAAmBA,SAAQ,SAAS,GAAG;AAAA,UAClD,CAAC;AAAA,QACL;AACA,eAAO,mBAAmB,QAAQ,SAAS,GAAG;AAAA,MAClD;AAEA,YAAM,SAAS,KAAK,KAAK,MAAM,SAAS,GAAG;AAC3C,UAAI,kBAAkB,SAAS;AAC3B,YAAI,IAAI,UAAU;AACd,gBAAM,IAAI7B,eAAmB;AACjC,eAAO,OAAO,KAAK,CAAC8B,YAAW,UAAUA,SAAQ,QAAQ,GAAG,CAAC;AAAA,MACjE;AACA,aAAO,UAAU,QAAQ,QAAQ,GAAG;AAAA,IACxC;AAAA,EACJ;AAEAC,aAAgB,MAAM,aAAa,OAAO;AAAA,IACtC,UAAU,CAAC,UAAU;AACjB,UAAI;AACA,cAAM,IAAI1B,YAAU,MAAM,KAAK;AAC/B,eAAO,EAAE,UAAU,EAAE,OAAO,EAAE,KAAI,IAAK,EAAE,QAAQ,EAAE,OAAO,OAAM;AAAA,MACpE,SACO,GAAG;AACN,eAAOE,iBAAe,MAAM,KAAK,EAAE,KAAK,CAAC,MAAO,EAAE,UAAU,EAAE,OAAO,EAAE,KAAI,IAAK,EAAE,QAAQ,EAAE,OAAO,OAAM,CAAG;AAAA,MAChH;AAAA,IACJ;AAAA,IACA,QAAQ;AAAA,IACR,SAAS;AAAA,EACjB,EAAM;AACN,CAAC;AAEM,MAAM,aAA2BS,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,UAAU,CAAC,GAAI,MAAM,KAAK,KAAK,YAAY,CAAA,CAAG,EAAE,IAAG,KAAMgB,SAAe,KAAK,KAAK,GAAG;AAC/F,OAAK,KAAK,QAAQ,CAAC,SAAS,MAAM;AAC9B,QAAI,IAAI;AACJ,UAAI;AACA,gBAAQ,QAAQ,OAAO,QAAQ,KAAK;AAAA,MACxC,SACOC,IAAG;AAAA,MAAE;AAChB,QAAI,OAAO,QAAQ,UAAU;AACzB,aAAO;AACX,YAAQ,OAAO,KAAK;AAAA,MAChB,UAAU;AAAA,MACV,MAAM;AAAA,MACN,OAAO,QAAQ;AAAA,MACf;AAAA,IACZ,CAAS;AACD,WAAO;AAAA,EACX;AACJ,CAAC;AACM,MAAM,mBAAiCjB,6BAAkB,oBAAoB,CAAC,MAAM,QAAQ;AAE/FkB,wBAA6B,KAAK,MAAM,GAAG;AAC3C,aAAW,KAAK,MAAM,GAAG;AAC7B,CAAC;AACM,MAAM,WAAyBlB,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,MAAI,YAAY,IAAI,UAAUmB;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,WAAyBnB,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,MAAI,IAAI,SAAS;AACb,UAAM,aAAa;AAAA,MACf,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,MACJ,IAAI;AAAA,IAChB;AACQ,UAAM,IAAI,WAAW,IAAI,OAAO;AAChC,QAAI,MAAM;AACN,YAAM,IAAI,MAAM,0BAA0B,IAAI,OAAO,GAAG;AAC5D,QAAI,YAAY,IAAI,UAAUoB,KAAa,CAAC;AAAA,EAChD;AAEI,QAAI,YAAY,IAAI,UAAUA,KAAY;AAC9C,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,YAA0BpB,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,MAAI,YAAY,IAAI,UAAUqB;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,UAAwBrB,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAC7E,mBAAiB,KAAK,MAAM,GAAG;AAC/B,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI;AAEA,YAAM,UAAU,QAAQ,MAAM,KAAI;AAElC,YAAM,MAAM,IAAI,IAAI,OAAO;AAC3B,UAAI,IAAI,UAAU;AACd,YAAI,SAAS,YAAY;AACzB,YAAI,CAAC,IAAI,SAAS,KAAK,IAAI,QAAQ,GAAG;AAClC,kBAAQ,OAAO,KAAK;AAAA,YAChB,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,MAAM;AAAA,YACN,SAAS,IAAI,SAAS;AAAA,YACtB,OAAO,QAAQ;AAAA,YACf;AAAA,YACA,UAAU,CAAC,IAAI;AAAA,UACvC,CAAqB;AAAA,QACL;AAAA,MACJ;AACA,UAAI,IAAI,UAAU;AACd,YAAI,SAAS,YAAY;AACzB,YAAI,CAAC,IAAI,SAAS,KAAK,IAAI,SAAS,SAAS,GAAG,IAAI,IAAI,SAAS,MAAM,GAAG,EAAE,IAAI,IAAI,QAAQ,GAAG;AAC3F,kBAAQ,OAAO,KAAK;AAAA,YAChB,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,MAAM;AAAA,YACN,SAAS,IAAI,SAAS;AAAA,YACtB,OAAO,QAAQ;AAAA,YACf;AAAA,YACA,UAAU,CAAC,IAAI;AAAA,UACvC,CAAqB;AAAA,QACL;AAAA,MACJ;AAEA,UAAI,IAAI,WAAW;AAEf,gBAAQ,QAAQ,IAAI;AAAA,MACxB,OACK;AAED,gBAAQ,QAAQ;AAAA,MACpB;AACA;AAAA,IACJ,SACO,GAAG;AACN,cAAQ,OAAO,KAAK;AAAA,QAChB,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO,QAAQ;AAAA,QACf;AAAA,QACA,UAAU,CAAC,IAAI;AAAA,MAC/B,CAAa;AAAA,IACL;AAAA,EACJ;AACJ,CAAC;AACM,MAAM,YAA0BA,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,MAAI,YAAY,IAAI,UAAUsB,MAAa;AAC3C,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,aAA2BtB,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnF,MAAI,YAAY,IAAI,UAAUuB;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,WAAyBvB,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,MAAI,YAAY,IAAI,UAAUwB;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,YAA0BxB,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,MAAI,YAAY,IAAI,UAAUyB;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,WAAyBzB,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,MAAI,YAAY,IAAI,UAAU0B;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,UAAwB1B,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAC7E,MAAI,YAAY,IAAI,UAAU2B;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,YAA0B3B,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,MAAI,YAAY,IAAI,UAAU4B;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,kBAAgC5B,6BAAkB,mBAAmB,CAAC,MAAM,QAAQ;AAC7F,MAAI,YAAY,IAAI,UAAU6B,WAAiB,GAAG;AAClD,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,cAA4B7B,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrF,MAAI,YAAY,IAAI,UAAU8B;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,cAA4B9B,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrF,MAAI,YAAY,IAAI,UAAU+B,OAAa,GAAG;AAC9C,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,kBAAgC/B,6BAAkB,mBAAmB,CAAC,MAAM,QAAQ;AAC7F,MAAI,YAAY,IAAI,UAAUgC;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,WAAyBhC,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,MAAI,YAAY,IAAI,UAAUiC;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AAC/B,OAAK,KAAK,IAAI,SAAS;AAC3B,CAAC;AACM,MAAM,WAAyBjC,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,MAAI,YAAY,IAAI,UAAUkC;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AAC/B,OAAK,KAAK,IAAI,SAAS;AACvB,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI;AAEA,UAAI,IAAI,WAAW,QAAQ,KAAK,GAAG;AAAA,IAEvC,QACM;AACF,cAAQ,OAAO,KAAK;AAAA,QAChB,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO,QAAQ;AAAA,QACf;AAAA,QACA,UAAU,CAAC,IAAI;AAAA,MAC/B,CAAa;AAAA,IACL;AAAA,EACJ;AACJ,CAAC;AAMM,MAAM,aAA2BlC,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnF,MAAI,YAAY,IAAI,UAAUmC;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AACM,MAAM,aAA2BnC,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnF,MAAI,YAAY,IAAI,UAAUoC;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AAC/B,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,UAAM,QAAQ,QAAQ,MAAM,MAAM,GAAG;AACrC,QAAI;AACA,UAAI,MAAM,WAAW;AACjB,cAAM,IAAI,MAAK;AACnB,YAAM,CAAC,SAAS,MAAM,IAAI;AAC1B,UAAI,CAAC;AACD,cAAM,IAAI,MAAK;AACnB,YAAM,YAAY,OAAO,MAAM;AAC/B,UAAI,GAAG,SAAS,OAAO;AACnB,cAAM,IAAI,MAAK;AACnB,UAAI,YAAY,KAAK,YAAY;AAC7B,cAAM,IAAI,MAAK;AAEnB,UAAI,IAAI,WAAW,OAAO,GAAG;AAAA,IACjC,QACM;AACF,cAAQ,OAAO,KAAK;AAAA,QAChB,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,OAAO,QAAQ;AAAA,QACf;AAAA,QACA,UAAU,CAAC,IAAI;AAAA,MAC/B,CAAa;AAAA,IACL;AAAA,EACJ;AACJ,CAAC;AAEM,SAAS,cAAc,MAAM;AAChC,MAAI,SAAS;AACT,WAAO;AACX,MAAI,KAAK,SAAS,MAAM;AACpB,WAAO;AACX,MAAI;AAEA,SAAK,IAAI;AACT,WAAO;AAAA,EACX,QACM;AACF,WAAO;AAAA,EACX;AACJ;AACO,MAAM,aAA2BpC,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnF,MAAI,YAAY,IAAI,UAAUqC;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AAC/B,OAAK,KAAK,IAAI,kBAAkB;AAChC,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,cAAc,QAAQ,KAAK;AAC3B;AACJ,YAAQ,OAAO,KAAK;AAAA,MAChB,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,OAAO,QAAQ;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AAEM,SAAS,iBAAiB,MAAM;AACnC,MAAI,CAACC,UAAkB,KAAK,IAAI;AAC5B,WAAO;AACX,QAAMC,UAAS,KAAK,QAAQ,SAAS,CAAC,MAAO,MAAM,MAAM,MAAM,GAAI;AACnE,QAAM,SAASA,QAAO,OAAO,KAAK,KAAKA,QAAO,SAAS,CAAC,IAAI,GAAG,GAAG;AAClE,SAAO,cAAc,MAAM;AAC/B;AACO,MAAM,gBAA8BvC,6BAAkB,iBAAiB,CAAC,MAAM,QAAQ;AACzF,MAAI,YAAY,IAAI,UAAUsC;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AAC/B,OAAK,KAAK,IAAI,kBAAkB;AAChC,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,iBAAiB,QAAQ,KAAK;AAC9B;AACJ,YAAQ,OAAO,KAAK;AAAA,MAChB,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,OAAO,QAAQ;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AACM,MAAM,WAAyBtC,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,MAAI,YAAY,IAAI,UAAUwC;AAC9B,mBAAiB,KAAK,MAAM,GAAG;AACnC,CAAC;AAEM,SAAS,WAAW,OAAO,YAAY,MAAM;AAChD,MAAI;AACA,UAAM,cAAc,MAAM,MAAM,GAAG;AACnC,QAAI,YAAY,WAAW;AACvB,aAAO;AACX,UAAM,CAAC,MAAM,IAAI;AACjB,QAAI,CAAC;AACD,aAAO;AAEX,UAAM,eAAe,KAAK,MAAM,KAAK,MAAM,CAAC;AAC5C,QAAI,SAAS,gBAAgB,cAAc,QAAQ;AAC/C,aAAO;AACX,QAAI,CAAC,aAAa;AACd,aAAO;AACX,QAAI,cAAc,EAAE,SAAS,iBAAiB,aAAa,QAAQ;AAC/D,aAAO;AACX,WAAO;AAAA,EACX,QACM;AACF,WAAO;AAAA,EACX;AACJ;AACO,MAAM,UAAwBxC,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAC7E,mBAAiB,KAAK,MAAM,GAAG;AAC/B,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,WAAW,QAAQ,OAAO,IAAI,GAAG;AACjC;AACJ,YAAQ,OAAO,KAAK;AAAA,MAChB,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,OAAO,QAAQ;AAAA,MACf;AAAA,MACA,UAAU,CAAC,IAAI;AAAA,IAC3B,CAAS;AAAA,EACL;AACJ,CAAC;AAeM,MAAM,aAA2BA,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,UAAU,KAAK,KAAK,IAAI,WAAWyC;AAC7C,OAAK,KAAK,QAAQ,CAAC,SAAS,SAAS;AACjC,QAAI,IAAI;AACJ,UAAI;AACA,gBAAQ,QAAQ,OAAO,QAAQ,KAAK;AAAA,MACxC,SACO,GAAG;AAAA,MAAE;AAChB,UAAM,QAAQ,QAAQ;AACtB,QAAI,OAAO,UAAU,YAAY,CAAC,OAAO,MAAM,KAAK,KAAK,OAAO,SAAS,KAAK,GAAG;AAC7E,aAAO;AAAA,IACX;AACA,UAAM,WAAW,OAAO,UAAU,WAC5B,OAAO,MAAM,KAAK,IACd,QACA,CAAC,OAAO,SAAS,KAAK,IAClB,aACA,SACR;AACN,YAAQ,OAAO,KAAK;AAAA,MAChB,UAAU;AAAA,MACV,MAAM;AAAA,MACN;AAAA,MACA;AAAA,MACA,GAAI,WAAW,EAAE,SAAQ,IAAK;IAC1C,CAAS;AACD,WAAO;AAAA,EACX;AACJ,CAAC;AACM,MAAM,mBAAiCzC,6BAAkB,oBAAoB,CAAC,MAAM,QAAQ;AAC/F0C,wBAA6B,KAAK,MAAM,GAAG;AAC3C,aAAW,KAAK,MAAM,GAAG;AAC7B,CAAC;AACM,MAAM,cAA4B1C,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,UAAU2C;AACpB,OAAK,KAAK,QAAQ,CAAC,SAAS,SAAS;AACjC,QAAI,IAAI;AACJ,UAAI;AACA,gBAAQ,QAAQ,QAAQ,QAAQ,KAAK;AAAA,MACzC,SACO,GAAG;AAAA,MAAE;AAChB,UAAM,QAAQ,QAAQ;AACtB,QAAI,OAAO,UAAU;AACjB,aAAO;AACX,YAAQ,OAAO,KAAK;AAAA,MAChB,UAAU;AAAA,MACV,MAAM;AAAA,MACN;AAAA,MACA;AAAA,IACZ,CAAS;AACD,WAAO;AAAA,EACX;AACJ,CAAC;AA2DM,MAAM,WAAyB3C,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,UAAU4C;AACpB,OAAK,KAAK,SAAS,oBAAI,IAAI,CAAC,IAAI,CAAC;AACjC,OAAK,KAAK,QAAQ,CAAC,SAAS,SAAS;AACjC,UAAM,QAAQ,QAAQ;AACtB,QAAI,UAAU;AACV,aAAO;AACX,YAAQ,OAAO,KAAK;AAAA,MAChB,UAAU;AAAA,MACV,MAAM;AAAA,MACN;AAAA,MACA;AAAA,IACZ,CAAS;AACD,WAAO;AAAA,EACX;AACJ,CAAC;AACM,MAAM,UAAwB5C,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAC7E,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ,CAAC,YAAY;AACnC,CAAC;AACM,MAAM,cAA4BA,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ,CAAC,YAAY;AACnC,CAAC;AACM,MAAM,YAA0BA,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ,CAAC,SAAS,SAAS;AACjC,YAAQ,OAAO,KAAK;AAAA,MAChB,UAAU;AAAA,MACV,MAAM;AAAA,MACN,OAAO,QAAQ;AAAA,MACf;AAAA,IACZ,CAAS;AACD,WAAO;AAAA,EACX;AACJ,CAAC;AAwCD,SAAS,kBAAkB,QAAQ,OAAO,OAAO;AAC7C,MAAI,OAAO,OAAO,QAAQ;AACtB,UAAM,OAAO,KAAK,GAAG6C,aAAkB,OAAO,OAAO,MAAM,CAAC;AAAA,EAChE;AACA,QAAM,MAAM,KAAK,IAAI,OAAO;AAChC;AACO,MAAM,YAA0B7C,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,UAAM,QAAQ,QAAQ;AACtB,QAAI,CAAC,MAAM,QAAQ,KAAK,GAAG;AACvB,cAAQ,OAAO,KAAK;AAAA,QAChB,UAAU;AAAA,QACV,MAAM;AAAA,QACN;AAAA,QACA;AAAA,MAChB,CAAa;AACD,aAAO;AAAA,IACX;AACA,YAAQ,QAAQ,MAAM,MAAM,MAAM;AAClC,UAAM,QAAQ,CAAA;AACd,aAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACnC,YAAM,OAAO,MAAM,CAAC;AACpB,YAAM,SAAS,IAAI,QAAQ,KAAK,IAAI;AAAA,QAChC,OAAO;AAAA,QACP,QAAQ,CAAA;AAAA,MACxB,GAAe,GAAG;AACN,UAAI,kBAAkB,SAAS;AAC3B,cAAM,KAAK,OAAO,KAAK,CAACc,YAAW,kBAAkBA,SAAQ,SAAS,CAAC,CAAC,CAAC;AAAA,MAC7E,OACK;AACD,0BAAkB,QAAQ,SAAS,CAAC;AAAA,MACxC;AAAA,IACJ;AACA,QAAI,MAAM,QAAQ;AACd,aAAO,QAAQ,IAAI,KAAK,EAAE,KAAK,MAAM,OAAO;AAAA,IAChD;AACA,WAAO;AAAA,EACX;AACJ,CAAC;AACD,SAAS,qBAAqB,QAAQ,OAAO,KAAK,OAAO,eAAe;AACpE,MAAI,OAAO,OAAO,QAAQ;AAEtB,QAAI,iBAAiB,EAAE,OAAO,QAAQ;AAClC;AAAA,IACJ;AACA,UAAM,OAAO,KAAK,GAAG+B,aAAkB,KAAK,OAAO,MAAM,CAAC;AAAA,EAC9D;AACA,MAAI,OAAO,UAAU,QAAW;AAC5B,QAAI,OAAO,OAAO;AACd,YAAM,MAAM,GAAG,IAAI;AAAA,IACvB;AAAA,EACJ,OACK;AACD,UAAM,MAAM,GAAG,IAAI,OAAO;AAAA,EAC9B;AACJ;AACA,SAAS,aAAa,KAAK;AACvB,QAAM,OAAO,OAAO,KAAK,IAAI,KAAK;AAClC,aAAW,KAAK,MAAM;AAClB,QAAI,CAAC,IAAI,QAAQ,CAAC,GAAG,MAAM,QAAQ,IAAI,UAAU,GAAG;AAChD,YAAM,IAAI,MAAM,2BAA2B,CAAC,0BAA0B;AAAA,IAC1E;AAAA,EACJ;AACA,QAAM,QAAQC,aAAkB,IAAI,KAAK;AACzC,SAAO;AAAA,IACH,GAAG;AAAA,IACH;AAAA,IACA,QAAQ,IAAI,IAAI,IAAI;AAAA,IACpB,SAAS,KAAK;AAAA,IACd,cAAc,IAAI,IAAI,KAAK;AAAA,EACnC;AACA;AACA,SAAS,eAAe,OAAO,OAAO,SAAS,KAAK,KAAK,MAAM;AAC3D,QAAM,eAAe,CAAA;AAErB,QAAM,SAAS,IAAI;AACnB,QAAM,YAAY,IAAI,SAAS;AAC/B,QAAM,IAAI,UAAU,IAAI;AACxB,QAAM,gBAAgB,UAAU,WAAW;AAC3C,aAAW,OAAO,OAAO;AACrB,QAAI,OAAO,IAAI,GAAG;AACd;AACJ,QAAI,MAAM,SAAS;AACf,mBAAa,KAAK,GAAG;AACrB;AAAA,IACJ;AACA,UAAM,IAAI,UAAU,IAAI,EAAE,OAAO,MAAM,GAAG,GAAG,QAAQ,CAAA,EAAE,GAAI,GAAG;AAC9D,QAAI,aAAa,SAAS;AACtB,YAAM,KAAK,EAAE,KAAK,CAACC,OAAM,qBAAqBA,IAAG,SAAS,KAAK,OAAO,aAAa,CAAC,CAAC;AAAA,IACzF,OACK;AACD,2BAAqB,GAAG,SAAS,KAAK,OAAO,aAAa;AAAA,IAC9D;AAAA,EACJ;AACA,MAAI,aAAa,QAAQ;AACrB,YAAQ,OAAO,KAAK;AAAA,MAChB,MAAM;AAAA,MACN,MAAM;AAAA,MACN;AAAA,MACA;AAAA,IACZ,CAAS;AAAA,EACL;AACA,MAAI,CAAC,MAAM;AACP,WAAO;AACX,SAAO,QAAQ,IAAI,KAAK,EAAE,KAAK,MAAM;AACjC,WAAO;AAAA,EACX,CAAC;AACL;AACO,MAAM,aAA2B/C,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AAEnF,WAAS,KAAK,MAAM,GAAG;AAEvB,QAAM,OAAO,OAAO,yBAAyB,KAAK,OAAO;AACzD,MAAI,CAAC,MAAM,KAAK;AACZ,UAAM,KAAK,IAAI;AACf,WAAO,eAAe,KAAK,SAAS;AAAA,MAChC,KAAK,MAAM;AACP,cAAM,QAAQ,EAAE,GAAG,GAAE;AACrB,eAAO,eAAe,KAAK,SAAS;AAAA,UAChC,OAAO;AAAA,QAC3B,CAAiB;AACD,eAAO;AAAA,MACX;AAAA,IACZ,CAAS;AAAA,EACL;AACA,QAAM,cAAcgD,OAAY,MAAM,aAAa,GAAG,CAAC;AACvDjC,aAAgB,KAAK,MAAM,cAAc,MAAM;AAC3C,UAAM,QAAQ,IAAI;AAClB,UAAM,aAAa,CAAA;AACnB,eAAW,OAAO,OAAO;AACrB,YAAM,QAAQ,MAAM,GAAG,EAAE;AACzB,UAAI,MAAM,QAAQ;AACd,mBAAW,GAAG,MAAM,WAAW,GAAG,IAAI,oBAAI;AAC1C,mBAAW,KAAK,MAAM;AAClB,qBAAW,GAAG,EAAE,IAAI,CAAC;AAAA,MAC7B;AAAA,IACJ;AACA,WAAO;AAAA,EACX,CAAC;AACD,QAAMkC,aAAWC;AACjB,QAAM,WAAW,IAAI;AACrB,MAAI;AACJ,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,cAAU,QAAQ,YAAY;AAC9B,UAAM,QAAQ,QAAQ;AACtB,QAAI,CAACD,WAAS,KAAK,GAAG;AAClB,cAAQ,OAAO,KAAK;AAAA,QAChB,UAAU;AAAA,QACV,MAAM;AAAA,QACN;AAAA,QACA;AAAA,MAChB,CAAa;AACD,aAAO;AAAA,IACX;AACA,YAAQ,QAAQ,CAAA;AAChB,UAAM,QAAQ,CAAA;AACd,UAAM,QAAQ,MAAM;AACpB,eAAW,OAAO,MAAM,MAAM;AAC1B,YAAM,KAAK,MAAM,GAAG;AACpB,YAAM,gBAAgB,GAAG,KAAK,WAAW;AACzC,YAAM,IAAI,GAAG,KAAK,IAAI,EAAE,OAAO,MAAM,GAAG,GAAG,QAAQ,CAAA,EAAE,GAAI,GAAG;AAC5D,UAAI,aAAa,SAAS;AACtB,cAAM,KAAK,EAAE,KAAK,CAACF,OAAM,qBAAqBA,IAAG,SAAS,KAAK,OAAO,aAAa,CAAC,CAAC;AAAA,MACzF,OACK;AACD,6BAAqB,GAAG,SAAS,KAAK,OAAO,aAAa;AAAA,MAC9D;AAAA,IACJ;AACA,QAAI,CAAC,UAAU;AACX,aAAO,MAAM,SAAS,QAAQ,IAAI,KAAK,EAAE,KAAK,MAAM,OAAO,IAAI;AAAA,IACnE;AACA,WAAO,eAAe,OAAO,OAAO,SAAS,KAAK,YAAY,OAAO,IAAI;AAAA,EAC7E;AACJ,CAAC;AACM,MAAM,gBAA8B/C,6BAAkB,iBAAiB,CAAC,MAAM,QAAQ;AAEzF,aAAW,KAAK,MAAM,GAAG;AACzB,QAAM,aAAa,KAAK,KAAK;AAC7B,QAAM,cAAcgD,OAAY,MAAM,aAAa,GAAG,CAAC;AACvD,QAAM,mBAAmB,CAAC,UAAU;AAChC,UAAM,MAAM,IAAI,IAAI,CAAC,SAAS,WAAW,KAAK,CAAC;AAC/C,UAAM,aAAa,YAAY;AAC/B,UAAM,WAAW,CAAC,QAAQ;AACtB,YAAM,IAAIG,IAAS,GAAG;AACtB,aAAO,SAAS,CAAC,6BAA6B,CAAC;AAAA,IACnD;AACA,QAAI,MAAM,8BAA8B;AACxC,UAAM,MAAM,uBAAO,OAAO,IAAI;AAC9B,QAAI,UAAU;AACd,eAAW,OAAO,WAAW,MAAM;AAC/B,UAAI,GAAG,IAAI,OAAO,SAAS;AAAA,IAC/B;AAEA,QAAI,MAAM,uBAAuB;AACjC,eAAW,OAAO,WAAW,MAAM;AAC/B,YAAM,KAAK,IAAI,GAAG;AAClB,YAAM,IAAIA,IAAS,GAAG;AACtB,YAAM,SAAS,MAAM,GAAG;AACxB,YAAM,gBAAgB,QAAQ,MAAM,WAAW;AAC/C,UAAI,MAAM,SAAS,EAAE,MAAM,SAAS,GAAG,CAAC,GAAG;AAC3C,UAAI,eAAe;AAEf,YAAI,MAAM;AAAA,cACZ,EAAE;AAAA,gBACA,CAAC;AAAA,qDACoC,EAAE;AAAA;AAAA,kCAErB,CAAC,qBAAqB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,cAK3C,EAAE;AAAA,gBACA,CAAC;AAAA,wBACO,CAAC;AAAA;AAAA;AAAA,sBAGH,CAAC,OAAO,EAAE;AAAA;AAAA;AAAA,OAGzB;AAAA,MACK,OACK;AACD,YAAI,MAAM;AAAA,cACZ,EAAE;AAAA,mDACmC,EAAE;AAAA;AAAA,gCAErB,CAAC,qBAAqB,CAAC;AAAA;AAAA;AAAA;AAAA,cAIzC,EAAE;AAAA,gBACA,CAAC;AAAA,wBACO,CAAC;AAAA;AAAA;AAAA,sBAGH,CAAC,OAAO,EAAE;AAAA;AAAA;AAAA,OAGzB;AAAA,MACK;AAAA,IACJ;AACA,QAAI,MAAM,4BAA4B;AACtC,QAAI,MAAM,iBAAiB;AAC3B,UAAM,KAAK,IAAI,QAAO;AACtB,WAAO,CAAC,SAAS,QAAQ,GAAG,OAAO,SAAS,GAAG;AAAA,EACnD;AACA,MAAI;AACJ,QAAMF,aAAWC;AACjB,QAAM,MAAM,CAACE,aAAkB;AAC/B,QAAMC,eAAaC;AACnB,QAAM,cAAc,OAAOD,aAAW;AACtC,QAAM,WAAW,IAAI;AACrB,MAAI;AACJ,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,cAAU,QAAQ,YAAY;AAC9B,UAAM,QAAQ,QAAQ;AACtB,QAAI,CAACJ,WAAS,KAAK,GAAG;AAClB,cAAQ,OAAO,KAAK;AAAA,QAChB,UAAU;AAAA,QACV,MAAM;AAAA,QACN;AAAA,QACA;AAAA,MAChB,CAAa;AACD,aAAO;AAAA,IACX;AACA,QAAI,OAAO,eAAe,KAAK,UAAU,SAAS,IAAI,YAAY,MAAM;AAEpE,UAAI,CAAC;AACD,mBAAW,iBAAiB,IAAI,KAAK;AACzC,gBAAU,SAAS,SAAS,GAAG;AAC/B,UAAI,CAAC;AACD,eAAO;AACX,aAAO,eAAe,CAAA,GAAI,OAAO,SAAS,KAAK,OAAO,IAAI;AAAA,IAC9D;AACA,WAAO,WAAW,SAAS,GAAG;AAAA,EAClC;AACJ,CAAC;AACD,SAAS,mBAAmB,SAAS,OAAO,MAAM,KAAK;AACnD,aAAW,UAAU,SAAS;AAC1B,QAAI,OAAO,OAAO,WAAW,GAAG;AAC5B,YAAM,QAAQ,OAAO;AACrB,aAAO;AAAA,IACX;AAAA,EACJ;AACA,QAAM,aAAa,QAAQ,OAAO,CAAC,MAAM,CAACtC,QAAa,CAAC,CAAC;AACzD,MAAI,WAAW,WAAW,GAAG;AACzB,UAAM,QAAQ,WAAW,CAAC,EAAE;AAC5B,WAAO,WAAW,CAAC;AAAA,EACvB;AACA,QAAM,OAAO,KAAK;AAAA,IACd,MAAM;AAAA,IACN,OAAO,MAAM;AAAA,IACb;AAAA,IACA,QAAQ,QAAQ,IAAI,CAAC,WAAW,OAAO,OAAO,IAAI,CAAC,QAAQ1B,cAAmB,KAAK,KAAKC,OAAW,CAAE,CAAC,CAAC;AAAA,EAC/G,CAAK;AACD,SAAO;AACX;AACO,MAAM,YAA0Bc,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,WAAS,KAAK,MAAM,GAAG;AACvBe,aAAgB,KAAK,MAAM,SAAS,MAAM,IAAI,QAAQ,KAAK,CAAC,MAAM,EAAE,KAAK,UAAU,UAAU,IAAI,aAAa,MAAS;AACvHA,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,QAAQ,KAAK,CAAC,MAAM,EAAE,KAAK,WAAW,UAAU,IAAI,aAAa,MAAS;AACzHA,aAAgB,KAAK,MAAM,UAAU,MAAM;AACvC,QAAI,IAAI,QAAQ,MAAM,CAAC,MAAM,EAAE,KAAK,MAAM,GAAG;AACzC,aAAO,IAAI,IAAI,IAAI,QAAQ,QAAQ,CAACnH,YAAW,MAAM,KAAKA,QAAO,KAAK,MAAM,CAAC,CAAC;AAAA,IAClF;AACA,WAAO;AAAA,EACX,CAAC;AACDmH,aAAgB,KAAK,MAAM,WAAW,MAAM;AACxC,QAAI,IAAI,QAAQ,MAAM,CAAC,MAAM,EAAE,KAAK,OAAO,GAAG;AAC1C,YAAM,WAAW,IAAI,QAAQ,IAAI,CAAC,MAAM,EAAE,KAAK,OAAO;AACtD,aAAO,IAAI,OAAO,KAAK,SAAS,IAAI,CAAC,MAAMwC,WAAgB,EAAE,MAAM,CAAC,EAAE,KAAK,GAAG,CAAC,IAAI;AAAA,IACvF;AACA,WAAO;AAAA,EACX,CAAC;AACD,QAAM,SAAS,IAAI,QAAQ,WAAW;AACtC,QAAM,QAAQ,IAAI,QAAQ,CAAC,EAAE,KAAK;AAClC,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,QAAI,QAAQ;AACR,aAAO,MAAM,SAAS,GAAG;AAAA,IAC7B;AACA,QAAI,QAAQ;AACZ,UAAM,UAAU,CAAA;AAChB,eAAW3J,WAAU,IAAI,SAAS;AAC9B,YAAM,SAASA,QAAO,KAAK,IAAI;AAAA,QAC3B,OAAO,QAAQ;AAAA,QACf,QAAQ,CAAA;AAAA,MACxB,GAAe,GAAG;AACN,UAAI,kBAAkB,SAAS;AAC3B,gBAAQ,KAAK,MAAM;AACnB,gBAAQ;AAAA,MACZ,OACK;AACD,YAAI,OAAO,OAAO,WAAW;AACzB,iBAAO;AACX,gBAAQ,KAAK,MAAM;AAAA,MACvB;AAAA,IACJ;AACA,QAAI,CAAC;AACD,aAAO,mBAAmB,SAAS,SAAS,MAAM,GAAG;AACzD,WAAO,QAAQ,IAAI,OAAO,EAAE,KAAK,CAAC4J,aAAY;AAC1C,aAAO,mBAAmBA,UAAS,SAAS,MAAM,GAAG;AAAA,IACzD,CAAC;AAAA,EACL;AACJ,CAAC;AA2DM,MAAM,yBAEbxD,6BAAkB,0BAA0B,CAAC,MAAM,QAAQ;AACvD,MAAI,YAAY;AAChB,YAAU,KAAK,MAAM,GAAG;AACxB,QAAM,SAAS,KAAK,KAAK;AACzBe,aAAgB,KAAK,MAAM,cAAc,MAAM;AAC3C,UAAM,aAAa,CAAA;AACnB,eAAWnH,WAAU,IAAI,SAAS;AAC9B,YAAM,KAAKA,QAAO,KAAK;AACvB,UAAI,CAAC,MAAM,OAAO,KAAK,EAAE,EAAE,WAAW;AAClC,cAAM,IAAI,MAAM,gDAAgD,IAAI,QAAQ,QAAQA,OAAM,CAAC,GAAG;AAClG,iBAAW,CAAC,GAAG,CAAC,KAAK,OAAO,QAAQ,EAAE,GAAG;AACrC,YAAI,CAAC,WAAW,CAAC;AACb,qBAAW,CAAC,IAAI,oBAAI,IAAG;AAC3B,mBAAW,OAAO,GAAG;AACjB,qBAAW,CAAC,EAAE,IAAI,GAAG;AAAA,QACzB;AAAA,MACJ;AAAA,IACJ;AACA,WAAO;AAAA,EACX,CAAC;AACD,QAAM,OAAOoJ,OAAY,MAAM;AAC3B,UAAM,OAAO,IAAI;AACjB,UAAM,MAAM,oBAAI,IAAG;AACnB,eAAW,KAAK,MAAM;AAClB,YAAM,SAAS,EAAE,KAAK,aAAa,IAAI,aAAa;AACpD,UAAI,CAAC,UAAU,OAAO,SAAS;AAC3B,cAAM,IAAI,MAAM,gDAAgD,IAAI,QAAQ,QAAQ,CAAC,CAAC,GAAG;AAC7F,iBAAW,KAAK,QAAQ;AACpB,YAAI,IAAI,IAAI,CAAC,GAAG;AACZ,gBAAM,IAAI,MAAM,kCAAkC,OAAO,CAAC,CAAC,GAAG;AAAA,QAClE;AACA,YAAI,IAAI,GAAG,CAAC;AAAA,MAChB;AAAA,IACJ;AACA,WAAO;AAAA,EACX,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,UAAM,QAAQ,QAAQ;AACtB,QAAI,CAACE,SAAc,KAAK,GAAG;AACvB,cAAQ,OAAO,KAAK;AAAA,QAChB,MAAM;AAAA,QACN,UAAU;AAAA,QACV;AAAA,QACA;AAAA,MAChB,CAAa;AACD,aAAO;AAAA,IACX;AACA,UAAM,MAAM,KAAK,MAAM,IAAI,QAAQ,IAAI,aAAa,CAAC;AACrD,QAAI,KAAK;AACL,aAAO,IAAI,KAAK,IAAI,SAAS,GAAG;AAAA,IACpC;AACA,QAAI,IAAI,eAAe;AACnB,aAAO,OAAO,SAAS,GAAG;AAAA,IAC9B;AAEA,YAAQ,OAAO,KAAK;AAAA,MAChB,MAAM;AAAA,MACN,QAAQ,CAAA;AAAA,MACR,MAAM;AAAA,MACN,eAAe,IAAI;AAAA,MACnB;AAAA,MACA,MAAM,CAAC,IAAI,aAAa;AAAA,MACxB;AAAA,IACZ,CAAS;AACD,WAAO;AAAA,EACX;AACJ,CAAC;AACM,MAAM,mBAAiClD,6BAAkB,oBAAoB,CAAC,MAAM,QAAQ;AAC/F,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,UAAM,QAAQ,QAAQ;AACtB,UAAM,OAAO,IAAI,KAAK,KAAK,IAAI,EAAE,OAAO,OAAO,QAAQ,CAAA,EAAE,GAAI,GAAG;AAChE,UAAM,QAAQ,IAAI,MAAM,KAAK,IAAI,EAAE,OAAO,OAAO,QAAQ,CAAA,EAAE,GAAI,GAAG;AAClE,UAAM,QAAQ,gBAAgB,WAAW,iBAAiB;AAC1D,QAAI,OAAO;AACP,aAAO,QAAQ,IAAI,CAAC,MAAM,KAAK,CAAC,EAAE,KAAK,CAAC,CAACyD,OAAMC,MAAK,MAAM;AACtD,eAAO,0BAA0B,SAASD,OAAMC,MAAK;AAAA,MACzD,CAAC;AAAA,IACL;AACA,WAAO,0BAA0B,SAAS,MAAM,KAAK;AAAA,EACzD;AACJ,CAAC;AACD,SAAS,YAAY,GAAG,GAAG;AAGvB,MAAI,MAAM,GAAG;AACT,WAAO,EAAE,OAAO,MAAM,MAAM,EAAC;AAAA,EACjC;AACA,MAAI,aAAa,QAAQ,aAAa,QAAQ,CAAC,MAAM,CAAC,GAAG;AACrD,WAAO,EAAE,OAAO,MAAM,MAAM,EAAC;AAAA,EACjC;AACA,MAAIC,cAAmB,CAAC,KAAKA,cAAmB,CAAC,GAAG;AAChD,UAAM,QAAQ,OAAO,KAAK,CAAC;AAC3B,UAAM,aAAa,OAAO,KAAK,CAAC,EAAE,OAAO,CAAC,QAAQ,MAAM,QAAQ,GAAG,MAAM,EAAE;AAC3E,UAAM,SAAS,EAAE,GAAG,GAAG,GAAG,EAAC;AAC3B,eAAW,OAAO,YAAY;AAC1B,YAAM,cAAc,YAAY,EAAE,GAAG,GAAG,EAAE,GAAG,CAAC;AAC9C,UAAI,CAAC,YAAY,OAAO;AACpB,eAAO;AAAA,UACH,OAAO;AAAA,UACP,gBAAgB,CAAC,KAAK,GAAG,YAAY,cAAc;AAAA,QACvE;AAAA,MACY;AACA,aAAO,GAAG,IAAI,YAAY;AAAA,IAC9B;AACA,WAAO,EAAE,OAAO,MAAM,MAAM,OAAM;AAAA,EACtC;AACA,MAAI,MAAM,QAAQ,CAAC,KAAK,MAAM,QAAQ,CAAC,GAAG;AACtC,QAAI,EAAE,WAAW,EAAE,QAAQ;AACvB,aAAO,EAAE,OAAO,OAAO,gBAAgB,CAAA,EAAE;AAAA,IAC7C;AACA,UAAM,WAAW,CAAA;AACjB,aAAS,QAAQ,GAAG,QAAQ,EAAE,QAAQ,SAAS;AAC3C,YAAM,QAAQ,EAAE,KAAK;AACrB,YAAM,QAAQ,EAAE,KAAK;AACrB,YAAM,cAAc,YAAY,OAAO,KAAK;AAC5C,UAAI,CAAC,YAAY,OAAO;AACpB,eAAO;AAAA,UACH,OAAO;AAAA,UACP,gBAAgB,CAAC,OAAO,GAAG,YAAY,cAAc;AAAA,QACzE;AAAA,MACY;AACA,eAAS,KAAK,YAAY,IAAI;AAAA,IAClC;AACA,WAAO,EAAE,OAAO,MAAM,MAAM,SAAQ;AAAA,EACxC;AACA,SAAO,EAAE,OAAO,OAAO,gBAAgB,CAAA,EAAE;AAC7C;AACA,SAAS,0BAA0B,QAAQ,MAAM,OAAO;AAEpD,QAAM,YAAY,oBAAI,IAAG;AACzB,MAAI;AACJ,aAAW,OAAO,KAAK,QAAQ;AAC3B,QAAI,IAAI,SAAS,qBAAqB;AAClC,qBAAe,aAAa;AAC5B,iBAAW,KAAK,IAAI,MAAM;AACtB,YAAI,CAAC,UAAU,IAAI,CAAC;AAChB,oBAAU,IAAI,GAAG,EAAE;AACvB,kBAAU,IAAI,CAAC,EAAE,IAAI;AAAA,MACzB;AAAA,IACJ,OACK;AACD,aAAO,OAAO,KAAK,GAAG;AAAA,IAC1B;AAAA,EACJ;AACA,aAAW,OAAO,MAAM,QAAQ;AAC5B,QAAI,IAAI,SAAS,qBAAqB;AAClC,iBAAW,KAAK,IAAI,MAAM;AACtB,YAAI,CAAC,UAAU,IAAI,CAAC;AAChB,oBAAU,IAAI,GAAG,EAAE;AACvB,kBAAU,IAAI,CAAC,EAAE,IAAI;AAAA,MACzB;AAAA,IACJ,OACK;AACD,aAAO,OAAO,KAAK,GAAG;AAAA,IAC1B;AAAA,EACJ;AAEA,QAAM,WAAW,CAAC,GAAG,SAAS,EAAE,OAAO,CAAC,CAAA,EAAG,CAAC,MAAM,EAAE,KAAK,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;AAC5E,MAAI,SAAS,UAAU,YAAY;AAC/B,WAAO,OAAO,KAAK,EAAE,GAAG,YAAY,MAAM,UAAU;AAAA,EACxD;AACA,MAAIhD,QAAa,MAAM;AACnB,WAAO;AACX,QAAM,SAAS,YAAY,KAAK,OAAO,MAAM,KAAK;AAClD,MAAI,CAAC,OAAO,OAAO;AACf,UAAM,IAAI,MAAM,wCAA6C,KAAK,UAAU,OAAO,cAAc,CAAC,EAAE;AAAA,EACxG;AACA,SAAO,QAAQ,OAAO;AACtB,SAAO;AACX;AACO,MAAM,YAA0BX,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,WAAS,KAAK,MAAM,GAAG;AACvB,QAAM,QAAQ,IAAI;AAClB,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,UAAM,QAAQ,QAAQ;AACtB,QAAI,CAAC,MAAM,QAAQ,KAAK,GAAG;AACvB,cAAQ,OAAO,KAAK;AAAA,QAChB;AAAA,QACA;AAAA,QACA,UAAU;AAAA,QACV,MAAM;AAAA,MACtB,CAAa;AACD,aAAO;AAAA,IACX;AACA,YAAQ,QAAQ,CAAA;AAChB,UAAM,QAAQ,CAAA;AACd,UAAM,gBAAgB,CAAC,GAAG,KAAK,EAAE,QAAO,EAAG,UAAU,CAAC,SAAS,KAAK,KAAK,UAAU,UAAU;AAC7F,UAAM,WAAW,kBAAkB,KAAK,IAAI,MAAM,SAAS;AAC3D,QAAI,CAAC,IAAI,MAAM;AACX,YAAM,SAAS,MAAM,SAAS,MAAM;AACpC,YAAM,WAAW,MAAM,SAAS,WAAW;AAC3C,UAAI,UAAU,UAAU;AACpB,gBAAQ,OAAO,KAAK;AAAA,UAChB,GAAI,SACE,EAAE,MAAM,WAAW,SAAS,MAAM,QAAQ,WAAW,KAAI,IACzD,EAAE,MAAM,aAAa,SAAS,MAAM,OAAM;AAAA,UAChD;AAAA,UACA;AAAA,UACA,QAAQ;AAAA,QAC5B,CAAiB;AACD,eAAO;AAAA,MACX;AAAA,IACJ;AACA,QAAI,IAAI;AACR,eAAW,QAAQ,OAAO;AACtB;AACA,UAAI,KAAK,MAAM;AACX,YAAI,KAAK;AACL;AAAA;AACR,YAAM,SAAS,KAAK,KAAK,IAAI;AAAA,QACzB,OAAO,MAAM,CAAC;AAAA,QACd,QAAQ,CAAA;AAAA,MACxB,GAAe,GAAG;AACN,UAAI,kBAAkB,SAAS;AAC3B,cAAM,KAAK,OAAO,KAAK,CAACc,YAAW,kBAAkBA,SAAQ,SAAS,CAAC,CAAC,CAAC;AAAA,MAC7E,OACK;AACD,0BAAkB,QAAQ,SAAS,CAAC;AAAA,MACxC;AAAA,IACJ;AACA,QAAI,IAAI,MAAM;AACV,YAAM,OAAO,MAAM,MAAM,MAAM,MAAM;AACrC,iBAAW,MAAM,MAAM;AACnB;AACA,cAAM,SAAS,IAAI,KAAK,KAAK,IAAI;AAAA,UAC7B,OAAO;AAAA,UACP,QAAQ,CAAA;AAAA,QAC5B,GAAmB,GAAG;AACN,YAAI,kBAAkB,SAAS;AAC3B,gBAAM,KAAK,OAAO,KAAK,CAACA,YAAW,kBAAkBA,SAAQ,SAAS,CAAC,CAAC,CAAC;AAAA,QAC7E,OACK;AACD,4BAAkB,QAAQ,SAAS,CAAC;AAAA,QACxC;AAAA,MACJ;AAAA,IACJ;AACA,QAAI,MAAM;AACN,aAAO,QAAQ,IAAI,KAAK,EAAE,KAAK,MAAM,OAAO;AAChD,WAAO;AAAA,EACX;AACJ,CAAC;AACD,SAAS,kBAAkB,QAAQ,OAAO,OAAO;AAC7C,MAAI,OAAO,OAAO,QAAQ;AACtB,UAAM,OAAO,KAAK,GAAG+B,aAAkB,OAAO,OAAO,MAAM,CAAC;AAAA,EAChE;AACA,QAAM,MAAM,KAAK,IAAI,OAAO;AAChC;AACO,MAAM,aAA2B7C,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,UAAM,QAAQ,QAAQ;AACtB,QAAI,CAAC2D,cAAmB,KAAK,GAAG;AAC5B,cAAQ,OAAO,KAAK;AAAA,QAChB,UAAU;AAAA,QACV,MAAM;AAAA,QACN;AAAA,QACA;AAAA,MAChB,CAAa;AACD,aAAO;AAAA,IACX;AACA,UAAM,QAAQ,CAAA;AACd,UAAM,SAAS,IAAI,QAAQ,KAAK;AAChC,QAAI,QAAQ;AACR,cAAQ,QAAQ,CAAA;AAChB,YAAM,aAAa,oBAAI,IAAG;AAC1B,iBAAW,OAAO,QAAQ;AACtB,YAAI,OAAO,QAAQ,YAAY,OAAO,QAAQ,YAAY,OAAO,QAAQ,UAAU;AAC/E,qBAAW,IAAI,OAAO,QAAQ,WAAW,IAAI,SAAQ,IAAK,GAAG;AAC7D,gBAAM,SAAS,IAAI,UAAU,KAAK,IAAI,EAAE,OAAO,MAAM,GAAG,GAAG,QAAQ,CAAA,EAAE,GAAI,GAAG;AAC5E,cAAI,kBAAkB,SAAS;AAC3B,kBAAM,KAAK,OAAO,KAAK,CAAC7C,YAAW;AAC/B,kBAAIA,QAAO,OAAO,QAAQ;AACtB,wBAAQ,OAAO,KAAK,GAAG+B,aAAkB,KAAK/B,QAAO,MAAM,CAAC;AAAA,cAChE;AACA,sBAAQ,MAAM,GAAG,IAAIA,QAAO;AAAA,YAChC,CAAC,CAAC;AAAA,UACN,OACK;AACD,gBAAI,OAAO,OAAO,QAAQ;AACtB,sBAAQ,OAAO,KAAK,GAAG+B,aAAkB,KAAK,OAAO,MAAM,CAAC;AAAA,YAChE;AACA,oBAAQ,MAAM,GAAG,IAAI,OAAO;AAAA,UAChC;AAAA,QACJ;AAAA,MACJ;AACA,UAAI;AACJ,iBAAW,OAAO,OAAO;AACrB,YAAI,CAAC,WAAW,IAAI,GAAG,GAAG;AACtB,yBAAe,gBAAgB,CAAA;AAC/B,uBAAa,KAAK,GAAG;AAAA,QACzB;AAAA,MACJ;AACA,UAAI,gBAAgB,aAAa,SAAS,GAAG;AACzC,gBAAQ,OAAO,KAAK;AAAA,UAChB,MAAM;AAAA,UACN;AAAA,UACA;AAAA,UACA,MAAM;AAAA,QAC1B,CAAiB;AAAA,MACL;AAAA,IACJ,OACK;AACD,cAAQ,QAAQ,CAAA;AAChB,iBAAW,OAAO,QAAQ,QAAQ,KAAK,GAAG;AACtC,YAAI,QAAQ;AACR;AACJ,YAAI,YAAY,IAAI,QAAQ,KAAK,IAAI,EAAE,OAAO,KAAK,QAAQ,CAAA,EAAE,GAAI,GAAG;AACpE,YAAI,qBAAqB,SAAS;AAC9B,gBAAM,IAAI,MAAM,sDAAsD;AAAA,QAC1E;AAEA,cAAM,kBAAkB,OAAO,QAAQ,YACnCJ,SAAe,KAAK,GAAG,KACvB,UAAU,OAAO,UACjB,UAAU,OAAO,KAAK,CAAC,QAAQ,IAAI,SAAS,kBAAkB,IAAI,aAAa,QAAQ;AAC3F,YAAI,iBAAiB;AACjB,gBAAM,cAAc,IAAI,QAAQ,KAAK,IAAI,EAAE,OAAO,OAAO,GAAG,GAAG,QAAQ,CAAA,EAAE,GAAI,GAAG;AAChF,cAAI,uBAAuB,SAAS;AAChC,kBAAM,IAAI,MAAM,sDAAsD;AAAA,UAC1E;AACA,cAAI,YAAY,OAAO,WAAW,GAAG;AACjC,wBAAY;AAAA,UAChB;AAAA,QACJ;AACA,YAAI,UAAU,OAAO,QAAQ;AACzB,cAAI,IAAI,SAAS,SAAS;AAEtB,oBAAQ,MAAM,GAAG,IAAI,MAAM,GAAG;AAAA,UAClC,OACK;AAED,oBAAQ,OAAO,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,QAAQ;AAAA,cACR,QAAQ,UAAU,OAAO,IAAI,CAAC,QAAQxD,cAAmB,KAAK,KAAKC,OAAW,CAAE,CAAC;AAAA,cACjF,OAAO;AAAA,cACP,MAAM,CAAC,GAAG;AAAA,cACV;AAAA,YAC5B,CAAyB;AAAA,UACL;AACA;AAAA,QACJ;AACA,cAAM,SAAS,IAAI,UAAU,KAAK,IAAI,EAAE,OAAO,MAAM,GAAG,GAAG,QAAQ,CAAA,EAAE,GAAI,GAAG;AAC5E,YAAI,kBAAkB,SAAS;AAC3B,gBAAM,KAAK,OAAO,KAAK,CAAC4B,YAAW;AAC/B,gBAAIA,QAAO,OAAO,QAAQ;AACtB,sBAAQ,OAAO,KAAK,GAAG+B,aAAkB,KAAK/B,QAAO,MAAM,CAAC;AAAA,YAChE;AACA,oBAAQ,MAAM,UAAU,KAAK,IAAIA,QAAO;AAAA,UAC5C,CAAC,CAAC;AAAA,QACN,OACK;AACD,cAAI,OAAO,OAAO,QAAQ;AACtB,oBAAQ,OAAO,KAAK,GAAG+B,aAAkB,KAAK,OAAO,MAAM,CAAC;AAAA,UAChE;AACA,kBAAQ,MAAM,UAAU,KAAK,IAAI,OAAO;AAAA,QAC5C;AAAA,MACJ;AAAA,IACJ;AACA,QAAI,MAAM,QAAQ;AACd,aAAO,QAAQ,IAAI,KAAK,EAAE,KAAK,MAAM,OAAO;AAAA,IAChD;AACA,WAAO;AAAA,EACX;AACJ,CAAC;AAmGM,MAAM,WAAyB7C,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,WAAS,KAAK,MAAM,GAAG;AACvB,QAAM,SAAS4D,cAAmB,IAAI,OAAO;AAC7C,QAAM,YAAY,IAAI,IAAI,MAAM;AAChC,OAAK,KAAK,SAAS;AACnB,OAAK,KAAK,UAAU,IAAI,OAAO,KAAK,OAC/B,OAAO,CAAC,MAAMC,iBAAsB,IAAI,OAAO,CAAC,CAAC,EACjD,IAAI,CAAC,MAAO,OAAO,MAAM,WAAWpD,YAAiB,CAAC,IAAI,EAAE,UAAW,EACvE,KAAK,GAAG,CAAC,IAAI;AAClB,OAAK,KAAK,QAAQ,CAAC,SAAS,SAAS;AACjC,UAAM,QAAQ,QAAQ;AACtB,QAAI,UAAU,IAAI,KAAK,GAAG;AACtB,aAAO;AAAA,IACX;AACA,YAAQ,OAAO,KAAK;AAAA,MAChB,MAAM;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,IACZ,CAAS;AACD,WAAO;AAAA,EACX;AACJ,CAAC;AACM,MAAM,cAA4BT,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrF,WAAS,KAAK,MAAM,GAAG;AACvB,MAAI,IAAI,OAAO,WAAW,GAAG;AACzB,UAAM,IAAI,MAAM,mDAAmD;AAAA,EACvE;AACA,QAAM,SAAS,IAAI,IAAI,IAAI,MAAM;AACjC,OAAK,KAAK,SAAS;AACnB,OAAK,KAAK,UAAU,IAAI,OAAO,KAAK,IAAI,OACnC,IAAI,CAAC,MAAO,OAAO,MAAM,WAAWS,YAAiB,CAAC,IAAI,IAAIA,YAAiB,EAAE,SAAQ,CAAE,IAAI,OAAO,CAAC,CAAE,EACzG,KAAK,GAAG,CAAC,IAAI;AAClB,OAAK,KAAK,QAAQ,CAAC,SAAS,SAAS;AACjC,UAAM,QAAQ,QAAQ;AACtB,QAAI,OAAO,IAAI,KAAK,GAAG;AACnB,aAAO;AAAA,IACX;AACA,YAAQ,OAAO,KAAK;AAAA,MAChB,MAAM;AAAA,MACN,QAAQ,IAAI;AAAA,MACZ;AAAA,MACA;AAAA,IACZ,CAAS;AACD,WAAO;AAAA,EACX;AACJ,CAAC;AAiBM,MAAM,gBAA8BT,6BAAkB,iBAAiB,CAAC,MAAM,QAAQ;AACzF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,QAAI,IAAI,cAAc,YAAY;AAC9B,YAAM,IAAI8D,gBAAqB,KAAK,YAAY,IAAI;AAAA,IACxD;AACA,UAAM,OAAO,IAAI,UAAU,QAAQ,OAAO,OAAO;AACjD,QAAI,IAAI,OAAO;AACX,YAAM,SAAS,gBAAgB,UAAU,OAAO,QAAQ,QAAQ,IAAI;AACpE,aAAO,OAAO,KAAK,CAACC,YAAW;AAC3B,gBAAQ,QAAQA;AAChB,eAAO;AAAA,MACX,CAAC;AAAA,IACL;AACA,QAAI,gBAAgB,SAAS;AACzB,YAAM,IAAI/E,eAAmB;AAAA,IACjC;AACA,YAAQ,QAAQ;AAChB,WAAO;AAAA,EACX;AACJ,CAAC;AACD,SAAS,qBAAqB,QAAQ,OAAO;AACzC,MAAI,OAAO,OAAO,UAAU,UAAU,QAAW;AAC7C,WAAO,EAAE,QAAQ,IAAI,OAAO,OAAS;AAAA,EACzC;AACA,SAAO;AACX;AACO,MAAM,eAA6BgB,6BAAkB,gBAAgB,CAAC,MAAM,QAAQ;AACvF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ;AAClB,OAAK,KAAK,SAAS;AACnBe,aAAgB,KAAK,MAAM,UAAU,MAAM;AACvC,WAAO,IAAI,UAAU,KAAK,SAAS,oBAAI,IAAI,CAAC,GAAG,IAAI,UAAU,KAAK,QAAQ,MAAS,CAAC,IAAI;AAAA,EAC5F,CAAC;AACDA,aAAgB,KAAK,MAAM,WAAW,MAAM;AACxC,UAAM,UAAU,IAAI,UAAU,KAAK;AACnC,WAAO,UAAU,IAAI,OAAO,KAAKwC,WAAgB,QAAQ,MAAM,CAAC,KAAK,IAAI;AAAA,EAC7E,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,QAAI,IAAI,UAAU,KAAK,UAAU,YAAY;AACzC,YAAM,SAAS,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAClD,UAAI,kBAAkB;AAClB,eAAO,OAAO,KAAK,CAAC,MAAM,qBAAqB,GAAG,QAAQ,KAAK,CAAC;AACpE,aAAO,qBAAqB,QAAQ,QAAQ,KAAK;AAAA,IACrD;AACA,QAAI,QAAQ,UAAU,QAAW;AAC7B,aAAO;AAAA,IACX;AACA,WAAO,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAAA,EAC9C;AACJ,CAAC;AACM,MAAM,oBAAkCvD,6BAAkB,qBAAqB,CAAC,MAAM,QAAQ;AAEjG,eAAa,KAAK,MAAM,GAAG;AAE3Be,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,UAAU,KAAK,MAAM;AACpEA,aAAgB,KAAK,MAAM,WAAW,MAAM,IAAI,UAAU,KAAK,OAAO;AAEtE,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,WAAO,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAAA,EAC9C;AACJ,CAAC;AACM,MAAM,eAA6Bf,6BAAkB,gBAAgB,CAAC,MAAM,QAAQ;AACvF,WAAS,KAAK,MAAM,GAAG;AACvBe,aAAgB,KAAK,MAAM,SAAS,MAAM,IAAI,UAAU,KAAK,KAAK;AAClEA,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,UAAU,KAAK,MAAM;AACpEA,aAAgB,KAAK,MAAM,WAAW,MAAM;AACxC,UAAM,UAAU,IAAI,UAAU,KAAK;AACnC,WAAO,UAAU,IAAI,OAAO,KAAKwC,WAAgB,QAAQ,MAAM,CAAC,SAAS,IAAI;AAAA,EACjF,CAAC;AACDxC,aAAgB,KAAK,MAAM,UAAU,MAAM;AACvC,WAAO,IAAI,UAAU,KAAK,SAAS,oBAAI,IAAI,CAAC,GAAG,IAAI,UAAU,KAAK,QAAQ,IAAI,CAAC,IAAI;AAAA,EACvF,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAEhC,QAAI,QAAQ,UAAU;AAClB,aAAO;AACX,WAAO,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAAA,EAC9C;AACJ,CAAC;AACM,MAAM,cAA4Bf,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrF,WAAS,KAAK,MAAM,GAAG;AAEvB,OAAK,KAAK,QAAQ;AAClBe,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,UAAU,KAAK,MAAM;AACpE,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,QAAI,IAAI,cAAc,YAAY;AAC9B,aAAO,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAAA,IAC9C;AAEA,QAAI,QAAQ,UAAU,QAAW;AAC7B,cAAQ,QAAQ,IAAI;AAIpB,aAAO;AAAA,IACX;AAEA,UAAM,SAAS,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAClD,QAAI,kBAAkB,SAAS;AAC3B,aAAO,OAAO,KAAK,CAACD,YAAW,oBAAoBA,SAAQ,GAAG,CAAC;AAAA,IACnE;AACA,WAAO,oBAAoB,QAAQ,GAAG;AAAA,EAC1C;AACJ,CAAC;AACD,SAAS,oBAAoB,SAAS,KAAK;AACvC,MAAI,QAAQ,UAAU,QAAW;AAC7B,YAAQ,QAAQ,IAAI;AAAA,EACxB;AACA,SAAO;AACX;AACO,MAAM,eAA6Bd,6BAAkB,gBAAgB,CAAC,MAAM,QAAQ;AACvF,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ;AAClBe,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,UAAU,KAAK,MAAM;AACpE,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,QAAI,IAAI,cAAc,YAAY;AAC9B,aAAO,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAAA,IAC9C;AAEA,QAAI,QAAQ,UAAU,QAAW;AAC7B,cAAQ,QAAQ,IAAI;AAAA,IACxB;AACA,WAAO,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAAA,EAC9C;AACJ,CAAC;AACM,MAAM,kBAAgCf,6BAAkB,mBAAmB,CAAC,MAAM,QAAQ;AAC7F,WAAS,KAAK,MAAM,GAAG;AACvBe,aAAgB,KAAK,MAAM,UAAU,MAAM;AACvC,UAAM,IAAI,IAAI,UAAU,KAAK;AAC7B,WAAO,IAAI,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,MAAM,MAAM,MAAS,CAAC,IAAI;AAAA,EAChE,CAAC;AACD,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,UAAM,SAAS,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAClD,QAAI,kBAAkB,SAAS;AAC3B,aAAO,OAAO,KAAK,CAACD,YAAW,wBAAwBA,SAAQ,IAAI,CAAC;AAAA,IACxE;AACA,WAAO,wBAAwB,QAAQ,IAAI;AAAA,EAC/C;AACJ,CAAC;AACD,SAAS,wBAAwB,SAAS,MAAM;AAC5C,MAAI,CAAC,QAAQ,OAAO,UAAU,QAAQ,UAAU,QAAW;AACvD,YAAQ,OAAO,KAAK;AAAA,MAChB,MAAM;AAAA,MACN,UAAU;AAAA,MACV,OAAO,QAAQ;AAAA,MACf;AAAA,IACZ,CAAS;AAAA,EACL;AACA,SAAO;AACX;AAkBO,MAAM,YAA0Bd,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF,WAAS,KAAK,MAAM,GAAG;AACvBe,aAAgB,KAAK,MAAM,SAAS,MAAM,IAAI,UAAU,KAAK,KAAK;AAClEA,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,UAAU,KAAK,MAAM;AACpEA,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,UAAU,KAAK,MAAM;AACpE,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,QAAI,IAAI,cAAc,YAAY;AAC9B,aAAO,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAAA,IAC9C;AAEA,UAAM,SAAS,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAClD,QAAI,kBAAkB,SAAS;AAC3B,aAAO,OAAO,KAAK,CAACD,YAAW;AAC3B,gBAAQ,QAAQA,QAAO;AACvB,YAAIA,QAAO,OAAO,QAAQ;AACtB,kBAAQ,QAAQ,IAAI,WAAW;AAAA,YAC3B,GAAG;AAAA,YACH,OAAO;AAAA,cACH,QAAQA,QAAO,OAAO,IAAI,CAAC,QAAQ7B,cAAmB,KAAK,KAAKC,OAAW,CAAE,CAAC;AAAA,YAC1G;AAAA,YACwB,OAAO,QAAQ;AAAA,UACvC,CAAqB;AACD,kBAAQ,SAAS,CAAA;AAAA,QACrB;AACA,eAAO;AAAA,MACX,CAAC;AAAA,IACL;AACA,YAAQ,QAAQ,OAAO;AACvB,QAAI,OAAO,OAAO,QAAQ;AACtB,cAAQ,QAAQ,IAAI,WAAW;AAAA,QAC3B,GAAG;AAAA,QACH,OAAO;AAAA,UACH,QAAQ,OAAO,OAAO,IAAI,CAAC,QAAQD,cAAmB,KAAK,KAAKC,OAAW,CAAE,CAAC;AAAA,QAClG;AAAA,QACgB,OAAO,QAAQ;AAAA,MAC/B,CAAa;AACD,cAAQ,SAAS,CAAA;AAAA,IACrB;AACA,WAAO;AAAA,EACX;AACJ,CAAC;AAgBM,MAAM,WAAyBc,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,WAAS,KAAK,MAAM,GAAG;AACvBe,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,GAAG,KAAK,MAAM;AAC7DA,aAAgB,KAAK,MAAM,SAAS,MAAM,IAAI,GAAG,KAAK,KAAK;AAC3DA,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,IAAI,KAAK,MAAM;AAC9DA,aAAgB,KAAK,MAAM,cAAc,MAAM,IAAI,GAAG,KAAK,UAAU;AACrE,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,QAAI,IAAI,cAAc,YAAY;AAC9B,YAAM,QAAQ,IAAI,IAAI,KAAK,IAAI,SAAS,GAAG;AAC3C,UAAI,iBAAiB,SAAS;AAC1B,eAAO,MAAM,KAAK,CAAC2C,WAAU,iBAAiBA,QAAO,IAAI,IAAI,GAAG,CAAC;AAAA,MACrE;AACA,aAAO,iBAAiB,OAAO,IAAI,IAAI,GAAG;AAAA,IAC9C;AACA,UAAM,OAAO,IAAI,GAAG,KAAK,IAAI,SAAS,GAAG;AACzC,QAAI,gBAAgB,SAAS;AACzB,aAAO,KAAK,KAAK,CAACD,UAAS,iBAAiBA,OAAM,IAAI,KAAK,GAAG,CAAC;AAAA,IACnE;AACA,WAAO,iBAAiB,MAAM,IAAI,KAAK,GAAG;AAAA,EAC9C;AACJ,CAAC;AACD,SAAS,iBAAiB,MAAM,MAAM,KAAK;AACvC,MAAI,KAAK,OAAO,QAAQ;AAEpB,SAAK,UAAU;AACf,WAAO;AAAA,EACX;AACA,SAAO,KAAK,KAAK,IAAI,EAAE,OAAO,KAAK,OAAO,QAAQ,KAAK,OAAM,GAAI,GAAG;AACxE;AAuDO,MAAM,eAA6BzD,6BAAkB,gBAAgB,CAAC,MAAM,QAAQ;AACvF,WAAS,KAAK,MAAM,GAAG;AACvBe,aAAgB,KAAK,MAAM,cAAc,MAAM,IAAI,UAAU,KAAK,UAAU;AAC5EA,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,UAAU,KAAK,MAAM;AACpEA,aAAgB,KAAK,MAAM,SAAS,MAAM,IAAI,WAAW,MAAM,KAAK;AACpEA,aAAgB,KAAK,MAAM,UAAU,MAAM,IAAI,WAAW,MAAM,MAAM;AACtE,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,QAAI,IAAI,cAAc,YAAY;AAC9B,aAAO,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAAA,IAC9C;AACA,UAAM,SAAS,IAAI,UAAU,KAAK,IAAI,SAAS,GAAG;AAClD,QAAI,kBAAkB,SAAS;AAC3B,aAAO,OAAO,KAAK,oBAAoB;AAAA,IAC3C;AACA,WAAO,qBAAqB,MAAM;AAAA,EACtC;AACJ,CAAC;AACD,SAAS,qBAAqB,SAAS;AACnC,UAAQ,QAAQ,OAAO,OAAO,QAAQ,KAAK;AAC3C,SAAO;AACX;AAuIO,MAAM,WAAyBf,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E,WAAS,KAAK,MAAM,GAAG;AAQvBe,aAAgB,KAAK,MAAM,aAAa,MAAM,IAAI,QAAQ;AAC1DA,aAAgB,KAAK,MAAM,WAAW,MAAM,KAAK,KAAK,WAAW,MAAM,OAAO;AAC9EA,aAAgB,KAAK,MAAM,cAAc,MAAM,KAAK,KAAK,WAAW,MAAM,UAAU;AACpFA,aAAgB,KAAK,MAAM,SAAS,MAAM,KAAK,KAAK,WAAW,MAAM,SAAS,MAAS;AACvFA,aAAgB,KAAK,MAAM,UAAU,MAAM,KAAK,KAAK,WAAW,MAAM,UAAU,MAAS;AACzF,OAAK,KAAK,QAAQ,CAAC,SAAS,QAAQ;AAChC,UAAM,QAAQ,KAAK,KAAK;AACxB,WAAO,MAAM,KAAK,IAAI,SAAS,GAAG;AAAA,EACtC;AACJ,CAAC;AACM,MAAM,aAA2Bf,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnFgE,YAAiB,KAAK,MAAM,GAAG;AAC/B,WAAS,KAAK,MAAM,GAAG;AACvB,OAAK,KAAK,QAAQ,CAAC,SAAS,MAAM;AAC9B,WAAO;AAAA,EACX;AACA,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,UAAM,QAAQ,QAAQ;AACtB,UAAM,IAAI,IAAI,GAAG,KAAK;AACtB,QAAI,aAAa,SAAS;AACtB,aAAO,EAAE,KAAK,CAACjB,OAAM,mBAAmBA,IAAG,SAAS,OAAO,IAAI,CAAC;AAAA,IACpE;AACA,uBAAmB,GAAG,SAAS,OAAO,IAAI;AAC1C;AAAA,EACJ;AACJ,CAAC;AACD,SAAS,mBAAmB,QAAQ,SAAS,OAAO,MAAM;AACtD,MAAI,CAAC,QAAQ;AACT,UAAM,OAAO;AAAA,MACT,MAAM;AAAA,MACN;AAAA,MACA;AAAA;AAAA,MACA,MAAM,CAAC,GAAI,KAAK,KAAK,IAAI,QAAQ,CAAA,CAAG;AAAA;AAAA,MACpC,UAAU,CAAC,KAAK,KAAK,IAAI;AAAA;AAAA,IAErC;AACQ,QAAI,KAAK,KAAK,IAAI;AACd,WAAK,SAAS,KAAK,KAAK,IAAI;AAChC,YAAQ,OAAO,KAAKkB,MAAW,IAAI,CAAC;AAAA,EACxC;AACJ;AC9iEA,IAAIlI;AAGG,MAAM,aAAa;AAAA,EACtB,cAAc;AACV,SAAK,OAAO,oBAAI,QAAO;AACvB,SAAK,SAAS,oBAAI,IAAG;AAAA,EACzB;AAAA,EACA,IAAI,WAAW,OAAO;AAClB,UAAM,OAAO,MAAM,CAAC;AACpB,SAAK,KAAK,IAAI,QAAQ,IAAI;AAC1B,QAAI,QAAQ,OAAO,SAAS,YAAY,QAAQ,MAAM;AAClD,WAAK,OAAO,IAAI,KAAK,IAAI,MAAM;AAAA,IACnC;AACA,WAAO;AAAA,EACX;AAAA,EACA,QAAQ;AACJ,SAAK,OAAO,oBAAI,QAAO;AACvB,SAAK,SAAS,oBAAI,IAAG;AACrB,WAAO;AAAA,EACX;AAAA,EACA,OAAO,QAAQ;AACX,UAAM,OAAO,KAAK,KAAK,IAAI,MAAM;AACjC,QAAI,QAAQ,OAAO,SAAS,YAAY,QAAQ,MAAM;AAClD,WAAK,OAAO,OAAO,KAAK,EAAE;AAAA,IAC9B;AACA,SAAK,KAAK,OAAO,MAAM;AACvB,WAAO;AAAA,EACX;AAAA,EACA,IAAI,QAAQ;AAGR,UAAM,IAAI,OAAO,KAAK;AACtB,QAAI,GAAG;AACH,YAAM,KAAK,EAAE,GAAI,KAAK,IAAI,CAAC,KAAK,CAAA,EAAG;AACnC,aAAO,GAAG;AACV,YAAM,IAAI,EAAE,GAAG,IAAI,GAAG,KAAK,KAAK,IAAI,MAAM,EAAC;AAC3C,aAAO,OAAO,KAAK,CAAC,EAAE,SAAS,IAAI;AAAA,IACvC;AACA,WAAO,KAAK,KAAK,IAAI,MAAM;AAAA,EAC/B;AAAA,EACA,IAAI,QAAQ;AACR,WAAO,KAAK,KAAK,IAAI,MAAM;AAAA,EAC/B;AACJ;AAEO,SAAS,WAAW;AACvB,SAAO,IAAI,aAAY;AAC3B;AAAA,CACCA,OAAK,YAAY,yBAAyBA,KAAG,uBAAuB,SAAQ;AACtE,MAAM,iBAAiB,WAAW;AAAA;AC7ClC,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,GAAGmI,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAUO,SAAS,OAAO,OAAO,QAAQ;AAClC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,MAAM,OAAO,QAAQ;AACjC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,MAAM,OAAO,QAAQ;AACjC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,SAAS;AAAA,IACT,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,SAAS;AAAA,IACT,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,SAAS;AAAA,IACT,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,KAAK,OAAO,QAAQ;AAChC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,OAAO,OAAO,QAAQ;AAClC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,MAAM,OAAO,QAAQ;AACjC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,OAAO,OAAO,QAAQ;AAClC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,MAAM,OAAO,QAAQ;AACjC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,KAAK,OAAO,QAAQ;AAChC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,OAAO,OAAO,QAAQ;AAClC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,MAAM,OAAO,QAAQ;AACjC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,MAAM,OAAO,QAAQ;AACjC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAYO,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,WAAW,OAAO,QAAQ;AACtC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,MAAM,OAAO,QAAQ;AACjC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,KAAK,OAAO,QAAQ;AAChC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AASO,SAAS,aAAa,OAAO,QAAQ;AACxC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,WAAW;AAAA,IACX,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,SAAS,OAAO,QAAQ;AACpC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,SAAS,OAAO,QAAQ;AACpC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,WAAW;AAAA,IACX,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,aAAa,OAAO,QAAQ;AACxC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,OAAO;AAAA,IACP,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ,CAAA;AAAA,IACR,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,eAAe,OAAO,QAAQ;AAC1C,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,QAAQ,CAAA;AAAA,IACR,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,KAAK,OAAO,QAAQ;AAChC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,OAAO;AAAA,IACP,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AA0CO,SAAS,SAAS,OAAO,QAAQ;AACpC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AA2DO,SAASnE,QAAM,OAAO,QAAQ;AACjC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,GAAGmE,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,KAAK,OAAO;AACxB,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,EACd,CAAK;AACL;AAAA;AAEO,SAAS,SAAS,OAAO;AAC5B,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,EACd,CAAK;AACL;AAAA;AAEO,SAAS,OAAO,OAAO,QAAQ;AAClC,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AA+BO,SAAS,IAAI,OAAO,QAAQ;AAC/B,SAAO,IAAIC,kBAAyB;AAAA,IAChC,OAAO;AAAA,IACP,GAAGD,gBAAqB,MAAM;AAAA,IAC9B;AAAA,IACA,WAAW;AAAA,EACnB,CAAK;AACL;AAAA;AAEO,SAAS,KAAK,OAAO,QAAQ;AAChC,SAAO,IAAIC,kBAAyB;AAAA,IAChC,OAAO;AAAA,IACP,GAAGD,gBAAqB,MAAM;AAAA,IAC9B;AAAA,IACA,WAAW;AAAA,EACnB,CAAK;AACL;AAAA;AAKO,SAAS,IAAI,OAAO,QAAQ;AAC/B,SAAO,IAAIE,qBAA4B;AAAA,IACnC,OAAO;AAAA,IACP,GAAGF,gBAAqB,MAAM;AAAA,IAC9B;AAAA,IACA,WAAW;AAAA,EACnB,CAAK;AACL;AAAA;AAEO,SAAS,KAAK,OAAO,QAAQ;AAChC,SAAO,IAAIE,qBAA4B;AAAA,IACnC,OAAO;AAAA,IACP,GAAGF,gBAAqB,MAAM;AAAA,IAC9B;AAAA,IACA,WAAW;AAAA,EACnB,CAAK;AACL;AAAA;AAwBO,SAAS,YAAY,OAAO,QAAQ;AACvC,SAAO,IAAIG,oBAA2B;AAAA,IAClC,OAAO;AAAA,IACP,GAAGH,gBAAqB,MAAM;AAAA,IAC9B;AAAA,EACR,CAAK;AACL;AAAA;AA0BO,SAAS,WAAW,SAAS,QAAQ;AACxC,QAAM,KAAK,IAAII,mBAA0B;AAAA,IACrC,OAAO;AAAA,IACP,GAAGJ,gBAAqB,MAAM;AAAA,IAC9B;AAAA,EACR,CAAK;AACD,SAAO;AACX;AAAA;AAEO,SAAS,WAAW,SAAS,QAAQ;AACxC,SAAO,IAAIK,mBAA0B;AAAA,IACjC,OAAO;AAAA,IACP,GAAGL,gBAAqB,MAAM;AAAA,IAC9B;AAAA,EACR,CAAK;AACL;AAAA;AAEO,SAAS,QAAQ,QAAQ,QAAQ;AACpC,SAAO,IAAIM,sBAA6B;AAAA,IACpC,OAAO;AAAA,IACP,GAAGN,gBAAqB,MAAM;AAAA,IAC9B;AAAA,EACR,CAAK;AACL;AAAA;AAEO,SAAS,OAAO,SAAS,QAAQ;AACpC,SAAO,IAAIO,eAAsB;AAAA,IAC7B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,GAAGP,gBAAqB,MAAM;AAAA,IAC9B;AAAA,EACR,CAAK;AACL;AAAA;AAEO,SAAS,WAAW,QAAQ;AAC/B,SAAO,IAAIQ,mBAA0B;AAAA,IACjC,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,GAAGR,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,WAAW,QAAQ;AAC/B,SAAO,IAAIS,mBAA0B;AAAA,IACjC,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,GAAGT,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AAEO,SAAS,UAAU,UAAU,QAAQ;AACxC,SAAO,IAAIU,kBAAyB;AAAA,IAChC,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,GAAGV,gBAAqB,MAAM;AAAA,IAC9B;AAAA,EACR,CAAK;AACL;AAAA;AAEO,SAAS,YAAY,QAAQ,QAAQ;AACxC,SAAO,IAAIW,oBAA2B;AAAA,IAClC,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,GAAGX,gBAAqB,MAAM;AAAA,IAC9B;AAAA,EACR,CAAK;AACL;AAAA;AAEO,SAAS,UAAU,QAAQ,QAAQ;AACtC,SAAO,IAAIY,kBAAyB;AAAA,IAChC,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,GAAGZ,gBAAqB,MAAM;AAAA,IAC9B;AAAA,EACR,CAAK;AACL;AAAA;AAmBO,SAAS,WAAW,IAAI;AAC3B,SAAO,IAAIa,mBAA0B;AAAA,IACjC,OAAO;AAAA,IACP;AAAA,EACR,CAAK;AACL;AAAA;AAGO,SAAS,WAAW,MAAM;AAC7B,SAAO,2BAAW,CAAC,UAAU,MAAM,UAAU,IAAI,CAAC;AACtD;AAAA;AAGO,SAAS,QAAQ;AACpB,SAAO,2BAAW,CAAC,UAAU,MAAM,KAAI,CAAE;AAC7C;AAAA;AAGO,SAAS,eAAe;AAC3B,SAAO,2BAAW,CAAC,UAAU,MAAM,YAAW,CAAE;AACpD;AAAA;AAGO,SAAS,eAAe;AAC3B,SAAO,2BAAW,CAAC,UAAU,MAAM,YAAW,CAAE;AACpD;AAAA;AAGO,SAAS,WAAW;AACvB,SAAO,2BAAW,CAAC,UAAUC,QAAa,KAAK,CAAC;AACpD;AAAA;AAEO,SAAS,OAAO,OAAO,SAAS,QAAQ;AAC3C,SAAO,IAAI,MAAM;AAAA,IACb,MAAM;AAAA,IACN;AAAA;AAAA;AAAA;AAAA,IAIA,GAAGd,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAAA;AA2NO,SAAS,QAAQ,OAAO,IAAI,SAAS;AACxC,QAAM,OAAOA,gBAAqB,OAAO;AACzC,OAAK,UAAU,KAAK,QAAQ;AAC5B,QAAM,SAAS,IAAI,MAAM;AAAA,IACrB,MAAM;AAAA,IACN,OAAO;AAAA,IACP;AAAA,IACA,GAAG;AAAA,EACX,CAAK;AACD,SAAO;AACX;AAAA;AAGO,SAAS,QAAQ,OAAO,IAAI,SAAS;AACxC,QAAM,SAAS,IAAI,MAAM;AAAA,IACrB,MAAM;AAAA,IACN,OAAO;AAAA,IACP;AAAA,IACA,GAAGA,gBAAqB,OAAO;AAAA,EACvC,CAAK;AACD,SAAO;AACX;AAAA;AAEO,SAAS,aAAa,IAAI;AAC7B,QAAM,KAAK,uBAAO,CAAC,YAAY;AAC3B,YAAQ,WAAW,CAACpF,YAAU;AAC1B,UAAI,OAAOA,YAAU,UAAU;AAC3B,gBAAQ,OAAO,KAAKmF,MAAWnF,SAAO,QAAQ,OAAO,GAAG,KAAK,GAAG,CAAC;AAAA,MACrE,OACK;AAED,cAAM,SAASA;AACf,YAAI,OAAO;AACP,iBAAO,WAAW;AACtB,eAAO,SAAS,OAAO,OAAO;AAC9B,eAAO,UAAU,OAAO,QAAQ,QAAQ;AACxC,eAAO,SAAS,OAAO,OAAO;AAC9B,eAAO,aAAa,OAAO,WAAW,CAAC,GAAG,KAAK,IAAI;AACnD,gBAAQ,OAAO,KAAKmF,MAAW,MAAM,CAAC;AAAA,MAC1C;AAAA,IACJ;AACA,WAAO,GAAG,QAAQ,OAAO,OAAO;AAAA,EACpC,CAAC;AACD,SAAO;AACX;AAAA;AAEO,SAAS,OAAO,IAAI,QAAQ;AAC/B,QAAM,KAAK,IAAID,UAAiB;AAAA,IAC5B,OAAO;AAAA,IACP,GAAGE,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACD,KAAG,KAAK,QAAQ;AAChB,SAAO;AACX;ACj9BO,SAAS,kBAAkB,QAAQ;AAEtC,MAAI,SAAS,QAAQ,UAAU;AAC/B,MAAI,WAAW;AACX,aAAS;AACb,MAAI,WAAW;AACX,aAAS;AACb,SAAO;AAAA,IACH,YAAY,OAAO,cAAc,CAAA;AAAA,IACjC,kBAAkB,QAAQ,YAAY;AAAA,IACtC;AAAA,IACA,iBAAiB,QAAQ,mBAAmB;AAAA,IAC5C,UAAU,QAAQ,aAAa,MAAM;AAAA,IAAE;AAAA,IACvC,IAAI,QAAQ,MAAM;AAAA,IAClB,SAAS;AAAA,IACT,MAAM,oBAAI,IAAG;AAAA,IACb,QAAQ,QAAQ,UAAU;AAAA,IAC1B,QAAQ,QAAQ,UAAU;AAAA,IAC1B,UAAU,QAAQ,YAAY;AAAA,EACtC;AACA;AACO,SAAS3J,UAAQ,QAAQ,KAAK,UAAU,EAAE,MAAM,CAAA,GAAI,YAAY,CAAA,KAAM;AACzE,MAAIwB;AACJ,QAAM,MAAM,OAAO,KAAK;AAExB,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,MAAI,MAAM;AACN,SAAK;AAEL,UAAM,UAAU,QAAQ,WAAW,SAAS,MAAM;AAClD,QAAI,SAAS;AACT,WAAK,QAAQ,QAAQ;AAAA,IACzB;AACA,WAAO,KAAK;AAAA,EAChB;AAEA,QAAM,SAAS,EAAE,QAAQ,CAAA,GAAI,OAAO,GAAG,OAAO,QAAW,MAAM,QAAQ,KAAI;AAC3E,MAAI,KAAK,IAAI,QAAQ,MAAM;AAE3B,QAAM,iBAAiB,OAAO,KAAK,eAAY;AAC/C,MAAI,gBAAgB;AAChB,WAAO,SAAS;AAAA,EACpB,OACK;AACD,UAAM,SAAS;AAAA,MACX,GAAG;AAAA,MACH,YAAY,CAAC,GAAG,QAAQ,YAAY,MAAM;AAAA,MAC1C,MAAM,QAAQ;AAAA,IAC1B;AACQ,QAAI,OAAO,KAAK,mBAAmB;AAC/B,aAAO,KAAK,kBAAkB,KAAK,OAAO,QAAQ,MAAM;AAAA,IAC5D,OACK;AACD,YAAM,QAAQ,OAAO;AACrB,YAAM,YAAY,IAAI,WAAW,IAAI,IAAI;AACzC,UAAI,CAAC,WAAW;AACZ,cAAM,IAAI,MAAM,uDAAuD,IAAI,IAAI,EAAE;AAAA,MACrF;AACA,gBAAU,QAAQ,KAAK,OAAO,MAAM;AAAA,IACxC;AACA,UAAM,SAAS,OAAO,KAAK;AAC3B,QAAI,QAAQ;AAER,UAAI,CAAC,OAAO;AACR,eAAO,MAAM;AACjBxB,gBAAQ,QAAQ,KAAK,MAAM;AAC3B,UAAI,KAAK,IAAI,MAAM,EAAE,WAAW;AAAA,IACpC;AAAA,EACJ;AAEA,QAAM,OAAO,IAAI,iBAAiB,IAAI,MAAM;AAC5C,MAAI;AACA,WAAO,OAAO,OAAO,QAAQ,IAAI;AACrC,MAAI,IAAI,OAAO,WAAW,eAAe,MAAM,GAAG;AAE9C,WAAO,OAAO,OAAO;AACrB,WAAO,OAAO,OAAO;AAAA,EACzB;AAEA,MAAI,IAAI,OAAO,WAAW,OAAO,OAAO;AACpC,KAACwB,OAAK,OAAO,QAAQ,YAAYA,KAAG,UAAU,OAAO,OAAO;AAChE,SAAO,OAAO,OAAO;AAErB,QAAM,UAAU,IAAI,KAAK,IAAI,MAAM;AACnC,SAAO,QAAQ;AACnB;AACO,SAAS,YAAY,KAAK,QAE/B;AAEE,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,2CAA2C;AAE/D,QAAM,aAAa,oBAAI,IAAG;AAC1B,aAAW,SAAS,IAAI,KAAK,QAAO,GAAI;AACpC,UAAM,KAAK,IAAI,iBAAiB,IAAI,MAAM,CAAC,CAAC,GAAG;AAC/C,QAAI,IAAI;AACJ,YAAM,WAAW,WAAW,IAAI,EAAE;AAClC,UAAI,YAAY,aAAa,MAAM,CAAC,GAAG;AACnC,cAAM,IAAI,MAAM,wBAAwB,EAAE,mHAAmH;AAAA,MACjK;AACA,iBAAW,IAAI,IAAI,MAAM,CAAC,CAAC;AAAA,IAC/B;AAAA,EACJ;AAGA,QAAM,UAAU,CAAC,UAAU;AAKvB,UAAM,cAAc,IAAI,WAAW,kBAAkB,UAAU;AAC/D,QAAI,IAAI,UAAU;AACd,YAAM,aAAa,IAAI,SAAS,SAAS,IAAI,MAAM,CAAC,CAAC,GAAG;AAExD,YAAM,eAAe,IAAI,SAAS,QAAQ,CAACkJ,QAAOA;AAClD,UAAI,YAAY;AACZ,eAAO,EAAE,KAAK,aAAa,UAAU,EAAC;AAAA,MAC1C;AAEA,YAAM,KAAK,MAAM,CAAC,EAAE,SAAS,MAAM,CAAC,EAAE,OAAO,MAAM,SAAS,IAAI,SAAS;AACzE,YAAM,CAAC,EAAE,QAAQ;AACjB,aAAO,EAAE,OAAO,IAAI,KAAK,GAAG,aAAa,UAAU,CAAC,KAAK,WAAW,IAAI,EAAE,GAAE;AAAA,IAChF;AACA,QAAI,MAAM,CAAC,MAAM,MAAM;AACnB,aAAO,EAAE,KAAK,IAAG;AAAA,IACrB;AAEA,UAAM,YAAY;AAClB,UAAM,eAAe,GAAG,SAAS,IAAI,WAAW;AAChD,UAAM,QAAQ,MAAM,CAAC,EAAE,OAAO,MAAM,WAAW,IAAI,SAAS;AAC5D,WAAO,EAAE,OAAO,KAAK,eAAe,MAAK;AAAA,EAC7C;AAGA,QAAM,eAAe,CAAC,UAAU;AAE5B,QAAI,MAAM,CAAC,EAAE,OAAO,MAAM;AACtB;AAAA,IACJ;AACA,UAAM,OAAO,MAAM,CAAC;AACpB,UAAM,EAAE,KAAK,UAAU,QAAQ,KAAK;AACpC,SAAK,MAAM,EAAE,GAAG,KAAK,OAAM;AAG3B,QAAI;AACA,WAAK,QAAQ;AAEjB,UAAMC,UAAS,KAAK;AACpB,eAAW,OAAOA,SAAQ;AACtB,aAAOA,QAAO,GAAG;AAAA,IACrB;AACA,IAAAA,QAAO,OAAO;AAAA,EAClB;AAGA,MAAI,IAAI,WAAW,SAAS;AACxB,eAAW,SAAS,IAAI,KAAK,QAAO,GAAI;AACpC,YAAM,OAAO,MAAM,CAAC;AACpB,UAAI,KAAK,OAAO;AACZ,cAAM,IAAI,MAAM,qBACP,KAAK,OAAO,KAAK,GAAG,CAAC;AAAA;AAAA,iFACwD;AAAA,MAC1F;AAAA,IACJ;AAAA,EACJ;AAEA,aAAW,SAAS,IAAI,KAAK,QAAO,GAAI;AACpC,UAAM,OAAO,MAAM,CAAC;AAEpB,QAAI,WAAW,MAAM,CAAC,GAAG;AACrB,mBAAa,KAAK;AAClB;AAAA,IACJ;AAEA,QAAI,IAAI,UAAU;AACd,YAAM,MAAM,IAAI,SAAS,SAAS,IAAI,MAAM,CAAC,CAAC,GAAG;AACjD,UAAI,WAAW,MAAM,CAAC,KAAK,KAAK;AAC5B,qBAAa,KAAK;AAClB;AAAA,MACJ;AAAA,IACJ;AAEA,UAAM,KAAK,IAAI,iBAAiB,IAAI,MAAM,CAAC,CAAC,GAAG;AAC/C,QAAI,IAAI;AACJ,mBAAa,KAAK;AAClB;AAAA,IACJ;AAEA,QAAI,KAAK,OAAO;AAEZ,mBAAa,KAAK;AAClB;AAAA,IACJ;AAEA,QAAI,KAAK,QAAQ,GAAG;AAChB,UAAI,IAAI,WAAW,OAAO;AACtB,qBAAa,KAAK;AAElB;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AACJ;AACO,SAAS,SAAS,KAAK,QAAQ;AAClC,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,2CAA2C;AAE/D,QAAM,aAAa,CAACC,eAAc;AAC9B,UAAM,OAAO,IAAI,KAAK,IAAIA,UAAS;AAEnC,QAAI,KAAK,QAAQ;AACb;AACJ,UAAMD,UAAS,KAAK,OAAO,KAAK;AAChC,UAAM,UAAU,EAAE,GAAGA,QAAM;AAC3B,UAAM,MAAM,KAAK;AACjB,SAAK,MAAM;AACX,QAAI,KAAK;AACL,iBAAW,GAAG;AACd,YAAM,UAAU,IAAI,KAAK,IAAI,GAAG;AAChC,YAAM,YAAY,QAAQ;AAE1B,UAAI,UAAU,SAAS,IAAI,WAAW,cAAc,IAAI,WAAW,cAAc,IAAI,WAAW,gBAAgB;AAE5G,QAAAA,QAAO,QAAQA,QAAO,SAAS,CAAA;AAC/B,QAAAA,QAAO,MAAM,KAAK,SAAS;AAAA,MAC/B,OACK;AACD,eAAO,OAAOA,SAAQ,SAAS;AAAA,MACnC;AAEA,aAAO,OAAOA,SAAQ,OAAO;AAC7B,YAAM,cAAcC,WAAU,KAAK,WAAW;AAE9C,UAAI,aAAa;AACb,mBAAW,OAAOD,SAAQ;AACtB,cAAI,QAAQ,UAAU,QAAQ;AAC1B;AACJ,cAAI,EAAE,OAAO,UAAU;AACnB,mBAAOA,QAAO,GAAG;AAAA,UACrB;AAAA,QACJ;AAAA,MACJ;AAEA,UAAI,UAAU,MAAM;AAChB,mBAAW,OAAOA,SAAQ;AACtB,cAAI,QAAQ,UAAU,QAAQ;AAC1B;AACJ,cAAI,OAAO,QAAQ,OAAO,KAAK,UAAUA,QAAO,GAAG,CAAC,MAAM,KAAK,UAAU,QAAQ,IAAI,GAAG,CAAC,GAAG;AACxF,mBAAOA,QAAO,GAAG;AAAA,UACrB;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAIA,UAAM,SAASC,WAAU,KAAK;AAC9B,QAAI,UAAU,WAAW,KAAK;AAE1B,iBAAW,MAAM;AACjB,YAAM,aAAa,IAAI,KAAK,IAAI,MAAM;AACtC,UAAI,YAAY,OAAO,MAAM;AACzB,QAAAD,QAAO,OAAO,WAAW,OAAO;AAEhC,YAAI,WAAW,KAAK;AAChB,qBAAW,OAAOA,SAAQ;AACtB,gBAAI,QAAQ,UAAU,QAAQ;AAC1B;AACJ,gBAAI,OAAO,WAAW,OAAO,KAAK,UAAUA,QAAO,GAAG,CAAC,MAAM,KAAK,UAAU,WAAW,IAAI,GAAG,CAAC,GAAG;AAC9F,qBAAOA,QAAO,GAAG;AAAA,YACrB;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AAEA,QAAI,SAAS;AAAA,MACT,WAAWC;AAAA,MACX,YAAYD;AAAA,MACZ,MAAM,KAAK,QAAQ,CAAA;AAAA,IAC/B,CAAS;AAAA,EACL;AACA,aAAW,SAAS,CAAC,GAAG,IAAI,KAAK,QAAO,CAAE,EAAE,WAAW;AACnD,eAAW,MAAM,CAAC,CAAC;AAAA,EACvB;AACA,QAAM,SAAS,CAAA;AACf,MAAI,IAAI,WAAW,iBAAiB;AAChC,WAAO,UAAU;AAAA,EACrB,WACS,IAAI,WAAW,YAAY;AAChC,WAAO,UAAU;AAAA,EACrB,WACS,IAAI,WAAW,YAAY;AAChC,WAAO,UAAU;AAAA,EACrB,WACS,IAAI,WAAW,cAAe;AAAA,MAGlC;AAGL,MAAI,IAAI,UAAU,KAAK;AACnB,UAAM,KAAK,IAAI,SAAS,SAAS,IAAI,MAAM,GAAG;AAC9C,QAAI,CAAC;AACD,YAAM,IAAI,MAAM,oCAAoC;AACxD,WAAO,MAAM,IAAI,SAAS,IAAI,EAAE;AAAA,EACpC;AACA,SAAO,OAAO,QAAQ,KAAK,OAAO,KAAK,MAAM;AAE7C,QAAM,OAAO,IAAI,UAAU,QAAQ,CAAA;AACnC,aAAW,SAAS,IAAI,KAAK,QAAO,GAAI;AACpC,UAAM,OAAO,MAAM,CAAC;AACpB,QAAI,KAAK,OAAO,KAAK,OAAO;AACxB,WAAK,KAAK,KAAK,IAAI,KAAK;AAAA,IAC5B;AAAA,EACJ;AAEA,MAAI,IAAI,SAAU;AAAA,OAEb;AACD,QAAI,OAAO,KAAK,IAAI,EAAE,SAAS,GAAG;AAC9B,UAAI,IAAI,WAAW,iBAAiB;AAChC,eAAO,QAAQ;AAAA,MACnB,OACK;AACD,eAAO,cAAc;AAAA,MACzB;AAAA,IACJ;AAAA,EACJ;AACA,MAAI;AAIA,UAAM,YAAY,KAAK,MAAM,KAAK,UAAU,MAAM,CAAC;AACnD,WAAO,eAAe,WAAW,aAAa;AAAA,MAC1C,OAAO;AAAA,QACH,GAAG,OAAO,WAAW;AAAA,QACrB,YAAY;AAAA,UACR,OAAO,+BAA+B,QAAQ,SAAS,IAAI,UAAU;AAAA,UACrE,QAAQ,+BAA+B,QAAQ,UAAU,IAAI,UAAU;AAAA,QAC3F;AAAA,MACA;AAAA,MACY,YAAY;AAAA,MACZ,UAAU;AAAA,IACtB,CAAS;AACD,WAAO;AAAA,EACX,SACO,MAAM;AACT,UAAM,IAAI,MAAM,kCAAkC;AAAA,EACtD;AACJ;AACA,SAAS,eAAe,SAAS,MAAM;AACnC,QAAM,MAAM,QAAQ,EAAE,MAAM,oBAAI,IAAG,EAAE;AACrC,MAAI,IAAI,KAAK,IAAI,OAAO;AACpB,WAAO;AACX,MAAI,KAAK,IAAI,OAAO;AACpB,QAAM,MAAM,QAAQ,KAAK;AACzB,MAAI,IAAI,SAAS;AACb,WAAO;AACX,MAAI,IAAI,SAAS;AACb,WAAO,eAAe,IAAI,SAAS,GAAG;AAC1C,MAAI,IAAI,SAAS;AACb,WAAO,eAAe,IAAI,WAAW,GAAG;AAC5C,MAAI,IAAI,SAAS;AACb,WAAO,eAAe,IAAI,OAAM,GAAI,GAAG;AAC3C,MAAI,IAAI,SAAS,aACb,IAAI,SAAS,cACb,IAAI,SAAS,iBACb,IAAI,SAAS,cACb,IAAI,SAAS,cACb,IAAI,SAAS,aACb,IAAI,SAAS,YAAY;AACzB,WAAO,eAAe,IAAI,WAAW,GAAG;AAAA,EAC5C;AACA,MAAI,IAAI,SAAS,gBAAgB;AAC7B,WAAO,eAAe,IAAI,MAAM,GAAG,KAAK,eAAe,IAAI,OAAO,GAAG;AAAA,EACzE;AACA,MAAI,IAAI,SAAS,YAAY,IAAI,SAAS,OAAO;AAC7C,WAAO,eAAe,IAAI,SAAS,GAAG,KAAK,eAAe,IAAI,WAAW,GAAG;AAAA,EAChF;AACA,MAAI,IAAI,SAAS,QAAQ;AACrB,WAAO,eAAe,IAAI,IAAI,GAAG,KAAK,eAAe,IAAI,KAAK,GAAG;AAAA,EACrE;AACA,MAAI,IAAI,SAAS,UAAU;AACvB,eAAW,OAAO,IAAI,OAAO;AACzB,UAAI,eAAe,IAAI,MAAM,GAAG,GAAG,GAAG;AAClC,eAAO;AAAA,IACf;AACA,WAAO;AAAA,EACX;AACA,MAAI,IAAI,SAAS,SAAS;AACtB,eAAWtL,WAAU,IAAI,SAAS;AAC9B,UAAI,eAAeA,SAAQ,GAAG;AAC1B,eAAO;AAAA,IACf;AACA,WAAO;AAAA,EACX;AACA,MAAI,IAAI,SAAS,SAAS;AACtB,eAAW,QAAQ,IAAI,OAAO;AAC1B,UAAI,eAAe,MAAM,GAAG;AACxB,eAAO;AAAA,IACf;AACA,QAAI,IAAI,QAAQ,eAAe,IAAI,MAAM,GAAG;AACxC,aAAO;AACX,WAAO;AAAA,EACX;AACA,SAAO;AACX;AAKO,MAAM,2BAA2B,CAAC,QAAQ,aAAa,CAAA,MAAO,CAAC,WAAW;AAC7E,QAAM,MAAM,kBAAkB,EAAE,GAAG,QAAQ,WAAU,CAAE;AACvDW,YAAQ,QAAQ,GAAG;AACnB,cAAY,KAAK,MAAM;AACvB,SAAO,SAAS,KAAK,MAAM;AAC/B;AACO,MAAM,iCAAiC,CAAC,QAAQ,IAAI,aAAa,CAAA,MAAO,CAAC,WAAW;AACvF,QAAM,EAAE,gBAAgB,OAAM,IAAK,UAAU,CAAA;AAC7C,QAAM,MAAM,kBAAkB,EAAE,GAAI,kBAAkB,CAAA,GAAK,QAAQ,IAAI,YAAY;AACnFA,YAAQ,QAAQ,GAAG;AACnB,cAAY,KAAK,MAAM;AACvB,SAAO,SAAS,KAAK,MAAM;AAC/B;AClbA,MAAM,YAAY;AAAA,EACd,MAAM;AAAA,EACN,KAAK;AAAA,EACL,UAAU;AAAA,EACV,aAAa;AAAA,EACb,OAAO;AAAA;AACX;AAEO,MAAM,kBAAkB,CAAC,QAAQ,KAAK,OAAO,YAAY;AAC5D,QAAM6K,QAAO;AACb,EAAAA,MAAK,OAAO;AACZ,QAAM,EAAE,SAAS,SAAS,QAAQ,UAAU,gBAAe,IAAK,OAAO,KAClE;AACL,MAAI,OAAO,YAAY;AACnB,IAAAA,MAAK,YAAY;AACrB,MAAI,OAAO,YAAY;AACnB,IAAAA,MAAK,YAAY;AAErB,MAAI,QAAQ;AACR,IAAAA,MAAK,SAAS,UAAU,MAAM,KAAK;AACnC,QAAIA,MAAK,WAAW;AAChB,aAAOA,MAAK;AAGhB,QAAI,WAAW,QAAQ;AACnB,aAAOA,MAAK;AAAA,IAChB;AAAA,EACJ;AACA,MAAI;AACA,IAAAA,MAAK,kBAAkB;AAC3B,MAAI,YAAY,SAAS,OAAO,GAAG;AAC/B,UAAM,UAAU,CAAC,GAAG,QAAQ;AAC5B,QAAI,QAAQ,WAAW;AACnB,MAAAA,MAAK,UAAU,QAAQ,CAAC,EAAE;AAAA,aACrB,QAAQ,SAAS,GAAG;AACzB,MAAAA,MAAK,QAAQ;AAAA,QACT,GAAG,QAAQ,IAAI,CAAC,WAAW;AAAA,UACvB,GAAI,IAAI,WAAW,cAAc,IAAI,WAAW,cAAc,IAAI,WAAW,gBACvE,EAAE,MAAM,SAAQ,IAChB;UACN,SAAS,MAAM;AAAA,QACnC,EAAkB;AAAA,MAClB;AAAA,IACQ;AAAA,EACJ;AACJ;AACO,MAAM,kBAAkB,CAAC,QAAQ,KAAK,OAAO,YAAY;AAC5D,QAAMA,QAAO;AACb,QAAM,EAAE,SAAS,SAAS,QAAQ,YAAY,kBAAkB,iBAAgB,IAAK,OAAO,KAAK;AACjG,MAAI,OAAO,WAAW,YAAY,OAAO,SAAS,KAAK;AACnD,IAAAA,MAAK,OAAO;AAAA;AAEZ,IAAAA,MAAK,OAAO;AAChB,MAAI,OAAO,qBAAqB,UAAU;AACtC,QAAI,IAAI,WAAW,cAAc,IAAI,WAAW,eAAe;AAC3D,MAAAA,MAAK,UAAU;AACf,MAAAA,MAAK,mBAAmB;AAAA,IAC5B,OACK;AACD,MAAAA,MAAK,mBAAmB;AAAA,IAC5B;AAAA,EACJ;AACA,MAAI,OAAO,YAAY,UAAU;AAC7B,IAAAA,MAAK,UAAU;AACf,QAAI,OAAO,qBAAqB,YAAY,IAAI,WAAW,YAAY;AACnE,UAAI,oBAAoB;AACpB,eAAOA,MAAK;AAAA;AAEZ,eAAOA,MAAK;AAAA,IACpB;AAAA,EACJ;AACA,MAAI,OAAO,qBAAqB,UAAU;AACtC,QAAI,IAAI,WAAW,cAAc,IAAI,WAAW,eAAe;AAC3D,MAAAA,MAAK,UAAU;AACf,MAAAA,MAAK,mBAAmB;AAAA,IAC5B,OACK;AACD,MAAAA,MAAK,mBAAmB;AAAA,IAC5B;AAAA,EACJ;AACA,MAAI,OAAO,YAAY,UAAU;AAC7B,IAAAA,MAAK,UAAU;AACf,QAAI,OAAO,qBAAqB,YAAY,IAAI,WAAW,YAAY;AACnE,UAAI,oBAAoB;AACpB,eAAOA,MAAK;AAAA;AAEZ,eAAOA,MAAK;AAAA,IACpB;AAAA,EACJ;AACA,MAAI,OAAO,eAAe;AACtB,IAAAA,MAAK,aAAa;AAC1B;AACO,MAAM,mBAAmB,CAAC,SAAS,MAAMA,OAAM,YAAY;AAC9D,EAAAA,MAAK,OAAO;AAChB;AACO,MAAM,kBAAkB,CAAC,SAAS,KAAK,OAAO,YAAY;AAC7D,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,6CAA6C;AAAA,EACjE;AACJ;AACO,MAAM,kBAAkB,CAAC,SAAS,KAAK,OAAO,YAAY;AAC7D,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,8CAA8C;AAAA,EAClE;AACJ;AACO,MAAM,gBAAgB,CAAC,SAAS,KAAKA,OAAM,YAAY;AAC1D,MAAI,IAAI,WAAW,eAAe;AAC9B,IAAAA,MAAK,OAAO;AACZ,IAAAA,MAAK,WAAW;AAChB,IAAAA,MAAK,OAAO,CAAC,IAAI;AAAA,EACrB,OACK;AACD,IAAAA,MAAK,OAAO;AAAA,EAChB;AACJ;AACO,MAAM,qBAAqB,CAAC,SAAS,KAAK,OAAO,YAAY;AAChE,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,gDAAgD;AAAA,EACpE;AACJ;AACO,MAAM,gBAAgB,CAAC,SAAS,KAAK,OAAO,YAAY;AAC3D,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,2CAA2C;AAAA,EAC/D;AACJ;AACO,MAAM,iBAAiB,CAAC,SAAS,MAAMA,OAAM,YAAY;AAC5D,EAAAA,MAAK,MAAM,CAAA;AACf;AACO,MAAM,eAAe,CAAC,SAAS,MAAM,OAAO,YAAY;AAE/D;AACO,MAAM,mBAAmB,CAAC,SAAS,MAAM,OAAO,YAAY;AAEnE;AACO,MAAM,gBAAgB,CAAC,SAAS,KAAK,OAAO,YAAY;AAC3D,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,2CAA2C;AAAA,EAC/D;AACJ;AACO,MAAM,gBAAgB,CAAC,QAAQ,MAAMA,OAAM,YAAY;AAC1D,QAAM,MAAM,OAAO,KAAK;AACxB,QAAM,SAAS,cAAc,IAAI,OAAO;AAExC,MAAI,OAAO,MAAM,CAAC,MAAM,OAAO,MAAM,QAAQ;AACzC,IAAAA,MAAK,OAAO;AAChB,MAAI,OAAO,MAAM,CAAC,MAAM,OAAO,MAAM,QAAQ;AACzC,IAAAA,MAAK,OAAO;AAChB,EAAAA,MAAK,OAAO;AAChB;AACO,MAAM,mBAAmB,CAAC,QAAQ,KAAKA,OAAM,YAAY;AAC5D,QAAM,MAAM,OAAO,KAAK;AACxB,QAAM,OAAO,CAAA;AACb,aAAW,OAAO,IAAI,QAAQ;AAC1B,QAAI,QAAQ,QAAW;AACnB,UAAI,IAAI,oBAAoB,SAAS;AACjC,cAAM,IAAI,MAAM,0DAA0D;AAAA,MAC9E;AAAA,IAIJ,WACS,OAAO,QAAQ,UAAU;AAC9B,UAAI,IAAI,oBAAoB,SAAS;AACjC,cAAM,IAAI,MAAM,sDAAsD;AAAA,MAC1E,OACK;AACD,aAAK,KAAK,OAAO,GAAG,CAAC;AAAA,MACzB;AAAA,IACJ,OACK;AACD,WAAK,KAAK,GAAG;AAAA,IACjB;AAAA,EACJ;AACA,MAAI,KAAK,WAAW,EAAG;AAAA,WAGd,KAAK,WAAW,GAAG;AACxB,UAAM,MAAM,KAAK,CAAC;AAClB,IAAAA,MAAK,OAAO,QAAQ,OAAO,SAAS,OAAO;AAC3C,QAAI,IAAI,WAAW,cAAc,IAAI,WAAW,eAAe;AAC3D,MAAAA,MAAK,OAAO,CAAC,GAAG;AAAA,IACpB,OACK;AACD,MAAAA,MAAK,QAAQ;AAAA,IACjB;AAAA,EACJ,OACK;AACD,QAAI,KAAK,MAAM,CAAC,MAAM,OAAO,MAAM,QAAQ;AACvC,MAAAA,MAAK,OAAO;AAChB,QAAI,KAAK,MAAM,CAAC,MAAM,OAAO,MAAM,QAAQ;AACvC,MAAAA,MAAK,OAAO;AAChB,QAAI,KAAK,MAAM,CAAC,MAAM,OAAO,MAAM,SAAS;AACxC,MAAAA,MAAK,OAAO;AAChB,QAAI,KAAK,MAAM,CAAC,MAAM,MAAM,IAAI;AAC5B,MAAAA,MAAK,OAAO;AAChB,IAAAA,MAAK,OAAO;AAAA,EAChB;AACJ;AACO,MAAM,eAAe,CAAC,SAAS,KAAK,OAAO,YAAY;AAC1D,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,0CAA0C;AAAA,EAC9D;AACJ;AACO,MAAM,2BAA2B,CAAC,QAAQ,MAAMA,OAAM,YAAY;AACrE,QAAM,QAAQA;AACd,QAAM,UAAU,OAAO,KAAK;AAC5B,MAAI,CAAC;AACD,UAAM,IAAI,MAAM,uCAAuC;AAC3D,QAAM,OAAO;AACb,QAAM,UAAU,QAAQ;AAC5B;AACO,MAAM,gBAAgB,CAAC,QAAQ,MAAMA,OAAM,YAAY;AAC1D,QAAM,QAAQA;AACd,QAAM,OAAO;AAAA,IACT,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,iBAAiB;AAAA,EACzB;AACI,QAAM,EAAE,SAAS,SAAS,KAAI,IAAK,OAAO,KAAK;AAC/C,MAAI,YAAY;AACZ,SAAK,YAAY;AACrB,MAAI,YAAY;AACZ,SAAK,YAAY;AACrB,MAAI,MAAM;AACN,QAAI,KAAK,WAAW,GAAG;AACnB,WAAK,mBAAmB,KAAK,CAAC;AAC9B,aAAO,OAAO,OAAO,IAAI;AAAA,IAC7B,OACK;AACD,aAAO,OAAO,OAAO,IAAI;AACzB,YAAM,QAAQ,KAAK,IAAI,CAAC,OAAO,EAAE,kBAAkB,EAAC,EAAG;AAAA,IAC3D;AAAA,EACJ,OACK;AACD,WAAO,OAAO,OAAO,IAAI;AAAA,EAC7B;AACJ;AACO,MAAM,mBAAmB,CAAC,SAAS,MAAMA,OAAM,YAAY;AAC9D,EAAAA,MAAK,OAAO;AAChB;AACO,MAAM,kBAAkB,CAAC,SAAS,KAAK,OAAO,YAAY;AAC7D,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,mDAAmD;AAAA,EACvE;AACJ;AACO,MAAM,oBAAoB,CAAC,SAAS,KAAK,OAAO,YAAY;AAC/D,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,qDAAqD;AAAA,EACzE;AACJ;AACO,MAAM,qBAAqB,CAAC,SAAS,KAAK,OAAO,YAAY;AAChE,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,iDAAiD;AAAA,EACrE;AACJ;AACO,MAAM,eAAe,CAAC,SAAS,KAAK,OAAO,YAAY;AAC1D,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,0CAA0C;AAAA,EAC9D;AACJ;AACO,MAAM,eAAe,CAAC,SAAS,KAAK,OAAO,YAAY;AAC1D,MAAI,IAAI,oBAAoB,SAAS;AACjC,UAAM,IAAI,MAAM,0CAA0C;AAAA,EAC9D;AACJ;AAEO,MAAM,iBAAiB,CAAC,QAAQ,KAAK,OAAO,WAAW;AAC1D,QAAMA,QAAO;AACb,QAAM,MAAM,OAAO,KAAK;AACxB,QAAM,EAAE,SAAS,QAAO,IAAK,OAAO,KAAK;AACzC,MAAI,OAAO,YAAY;AACnB,IAAAA,MAAK,WAAW;AACpB,MAAI,OAAO,YAAY;AACnB,IAAAA,MAAK,WAAW;AACpB,EAAAA,MAAK,OAAO;AACZ,EAAAA,MAAK,QAAQ7K,UAAQ,IAAI,SAAS,KAAK,EAAE,GAAG,QAAQ,MAAM,CAAC,GAAG,OAAO,MAAM,OAAO,EAAC,CAAE;AACzF;AACO,MAAM,kBAAkB,CAAC,QAAQ,KAAK,OAAO,WAAW;AAC3D,QAAM6K,QAAO;AACb,QAAM,MAAM,OAAO,KAAK;AACxB,EAAAA,MAAK,OAAO;AACZ,EAAAA,MAAK,aAAa,CAAA;AAClB,QAAM,QAAQ,IAAI;AAClB,aAAW,OAAO,OAAO;AACrB,IAAAA,MAAK,WAAW,GAAG,IAAI7K,UAAQ,MAAM,GAAG,GAAG,KAAK;AAAA,MAC5C,GAAG;AAAA,MACH,MAAM,CAAC,GAAG,OAAO,MAAM,cAAc,GAAG;AAAA,IACpD,CAAS;AAAA,EACL;AAEA,QAAM,UAAU,IAAI,IAAI,OAAO,KAAK,KAAK,CAAC;AAC1C,QAAM,eAAe,IAAI,IAAI,CAAC,GAAG,OAAO,EAAE,OAAO,CAAC,QAAQ;AACtD,UAAM,IAAI,IAAI,MAAM,GAAG,EAAE;AACzB,QAAI,IAAI,OAAO,SAAS;AACpB,aAAO,EAAE,UAAU;AAAA,IACvB,OACK;AACD,aAAO,EAAE,WAAW;AAAA,IACxB;AAAA,EACJ,CAAC,CAAC;AACF,MAAI,aAAa,OAAO,GAAG;AACvB,IAAA6K,MAAK,WAAW,MAAM,KAAK,YAAY;AAAA,EAC3C;AAEA,MAAI,IAAI,UAAU,KAAK,IAAI,SAAS,SAAS;AAEzC,IAAAA,MAAK,uBAAuB;AAAA,EAChC,WACS,CAAC,IAAI,UAAU;AAEpB,QAAI,IAAI,OAAO;AACX,MAAAA,MAAK,uBAAuB;AAAA,EACpC,WACS,IAAI,UAAU;AACnB,IAAAA,MAAK,uBAAuB7K,UAAQ,IAAI,UAAU,KAAK;AAAA,MACnD,GAAG;AAAA,MACH,MAAM,CAAC,GAAG,OAAO,MAAM,sBAAsB;AAAA,IACzD,CAAS;AAAA,EACL;AACJ;AACO,MAAM,iBAAiB,CAAC,QAAQ,KAAK6K,OAAM,WAAW;AACzD,QAAM,MAAM,OAAO,KAAK;AAGxB,QAAM,cAAc,IAAI,cAAc;AACtC,QAAM,UAAU,IAAI,QAAQ,IAAI,CAAC,GAAG,MAAM7K,UAAQ,GAAG,KAAK;AAAA,IACtD,GAAG;AAAA,IACH,MAAM,CAAC,GAAG,OAAO,MAAM,cAAc,UAAU,SAAS,CAAC;AAAA,EACjE,CAAK,CAAC;AACF,MAAI,aAAa;AACb,IAAA6K,MAAK,QAAQ;AAAA,EACjB,OACK;AACD,IAAAA,MAAK,QAAQ;AAAA,EACjB;AACJ;AACO,MAAM,wBAAwB,CAAC,QAAQ,KAAKA,OAAM,WAAW;AAChE,QAAM,MAAM,OAAO,KAAK;AACxB,QAAM,IAAI7K,UAAQ,IAAI,MAAM,KAAK;AAAA,IAC7B,GAAG;AAAA,IACH,MAAM,CAAC,GAAG,OAAO,MAAM,SAAS,CAAC;AAAA,EACzC,CAAK;AACD,QAAM,IAAIA,UAAQ,IAAI,OAAO,KAAK;AAAA,IAC9B,GAAG;AAAA,IACH,MAAM,CAAC,GAAG,OAAO,MAAM,SAAS,CAAC;AAAA,EACzC,CAAK;AACD,QAAM,uBAAuB,CAAC,QAAQ,WAAW,OAAO,OAAO,KAAK,GAAG,EAAE,WAAW;AACpF,QAAM,QAAQ;AAAA,IACV,GAAI,qBAAqB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AAAA,IAC1C,GAAI,qBAAqB,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;AAAA,EAClD;AACI,EAAA6K,MAAK,QAAQ;AACjB;AACO,MAAM,iBAAiB,CAAC,QAAQ,KAAK,OAAO,WAAW;AAC1D,QAAMA,QAAO;AACb,QAAM,MAAM,OAAO,KAAK;AACxB,EAAAA,MAAK,OAAO;AACZ,QAAM,aAAa,IAAI,WAAW,kBAAkB,gBAAgB;AACpE,QAAM,WAAW,IAAI,WAAW,kBAAkB,UAAU,IAAI,WAAW,gBAAgB,UAAU;AACrG,QAAM,cAAc,IAAI,MAAM,IAAI,CAAC,GAAG,MAAM7K,UAAQ,GAAG,KAAK;AAAA,IACxD,GAAG;AAAA,IACH,MAAM,CAAC,GAAG,OAAO,MAAM,YAAY,CAAC;AAAA,EAC5C,CAAK,CAAC;AACF,QAAM,OAAO,IAAI,OACXA,UAAQ,IAAI,MAAM,KAAK;AAAA,IACrB,GAAG;AAAA,IACH,MAAM,CAAC,GAAG,OAAO,MAAM,UAAU,GAAI,IAAI,WAAW,gBAAgB,CAAC,IAAI,MAAM,MAAM,IAAI,CAAA,CAAG;AAAA,EACxG,CAAS,IACC;AACN,MAAI,IAAI,WAAW,iBAAiB;AAChC,IAAA6K,MAAK,cAAc;AACnB,QAAI,MAAM;AACN,MAAAA,MAAK,QAAQ;AAAA,IACjB;AAAA,EACJ,WACS,IAAI,WAAW,eAAe;AACnC,IAAAA,MAAK,QAAQ;AAAA,MACT,OAAO;AAAA,IACnB;AACQ,QAAI,MAAM;AACN,MAAAA,MAAK,MAAM,MAAM,KAAK,IAAI;AAAA,IAC9B;AACA,IAAAA,MAAK,WAAW,YAAY;AAC5B,QAAI,CAAC,MAAM;AACP,MAAAA,MAAK,WAAW,YAAY;AAAA,IAChC;AAAA,EACJ,OACK;AACD,IAAAA,MAAK,QAAQ;AACb,QAAI,MAAM;AACN,MAAAA,MAAK,kBAAkB;AAAA,IAC3B;AAAA,EACJ;AAEA,QAAM,EAAE,SAAS,QAAO,IAAK,OAAO,KAAK;AACzC,MAAI,OAAO,YAAY;AACnB,IAAAA,MAAK,WAAW;AACpB,MAAI,OAAO,YAAY;AACnB,IAAAA,MAAK,WAAW;AACxB;AACO,MAAM,kBAAkB,CAAC,QAAQ,KAAK,OAAO,WAAW;AAC3D,QAAMA,QAAO;AACb,QAAM,MAAM,OAAO,KAAK;AACxB,EAAAA,MAAK,OAAO;AAIZ,QAAM,UAAU,IAAI;AACpB,QAAM,SAAS,QAAQ,KAAK;AAC5B,QAAM,WAAW,QAAQ;AACzB,MAAI,IAAI,SAAS,WAAW,YAAY,SAAS,OAAO,GAAG;AAEvD,UAAM,cAAc7K,UAAQ,IAAI,WAAW,KAAK;AAAA,MAC5C,GAAG;AAAA,MACH,MAAM,CAAC,GAAG,OAAO,MAAM,qBAAqB,GAAG;AAAA,IAC3D,CAAS;AACD,IAAA6K,MAAK,oBAAoB,CAAA;AACzB,eAAW,WAAW,UAAU;AAC5B,MAAAA,MAAK,kBAAkB,QAAQ,MAAM,IAAI;AAAA,IAC7C;AAAA,EACJ,OACK;AAED,QAAI,IAAI,WAAW,cAAc,IAAI,WAAW,iBAAiB;AAC7D,MAAAA,MAAK,gBAAgB7K,UAAQ,IAAI,SAAS,KAAK;AAAA,QAC3C,GAAG;AAAA,QACH,MAAM,CAAC,GAAG,OAAO,MAAM,eAAe;AAAA,MACtD,CAAa;AAAA,IACL;AACA,IAAA6K,MAAK,uBAAuB7K,UAAQ,IAAI,WAAW,KAAK;AAAA,MACpD,GAAG;AAAA,MACH,MAAM,CAAC,GAAG,OAAO,MAAM,sBAAsB;AAAA,IACzD,CAAS;AAAA,EACL;AAEA,QAAM,YAAY,QAAQ,KAAK;AAC/B,MAAI,WAAW;AACX,UAAM,iBAAiB,CAAC,GAAG,SAAS,EAAE,OAAO,CAAC,MAAM,OAAO,MAAM,YAAY,OAAO,MAAM,QAAQ;AAClG,QAAI,eAAe,SAAS,GAAG;AAC3B,MAAA6K,MAAK,WAAW;AAAA,IACpB;AAAA,EACJ;AACJ;AACO,MAAM,oBAAoB,CAAC,QAAQ,KAAKA,OAAM,WAAW;AAC5D,QAAM,MAAM,OAAO,KAAK;AACxB,QAAM,QAAQ7K,UAAQ,IAAI,WAAW,KAAK,MAAM;AAChD,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,MAAI,IAAI,WAAW,eAAe;AAC9B,SAAK,MAAM,IAAI;AACf,IAAA6K,MAAK,WAAW;AAAA,EACpB,OACK;AACD,IAAAA,MAAK,QAAQ,CAAC,OAAO,EAAE,MAAM,OAAM,CAAE;AAAA,EACzC;AACJ;AACO,MAAM,uBAAuB,CAAC,QAAQ,KAAK,OAAO,WAAW;AAChE,QAAM,MAAM,OAAO,KAAK;AACxB7K,YAAQ,IAAI,WAAW,KAAK,MAAM;AAClC,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,OAAK,MAAM,IAAI;AACnB;AACO,MAAM,mBAAmB,CAAC,QAAQ,KAAK6K,OAAM,WAAW;AAC3D,QAAM,MAAM,OAAO,KAAK;AACxB7K,YAAQ,IAAI,WAAW,KAAK,MAAM;AAClC,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,OAAK,MAAM,IAAI;AACf,EAAA6K,MAAK,UAAU,KAAK,MAAM,KAAK,UAAU,IAAI,YAAY,CAAC;AAC9D;AACO,MAAM,oBAAoB,CAAC,QAAQ,KAAKA,OAAM,WAAW;AAC5D,QAAM,MAAM,OAAO,KAAK;AACxB7K,YAAQ,IAAI,WAAW,KAAK,MAAM;AAClC,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,OAAK,MAAM,IAAI;AACf,MAAI,IAAI,OAAO;AACX,IAAA6K,MAAK,YAAY,KAAK,MAAM,KAAK,UAAU,IAAI,YAAY,CAAC;AACpE;AACO,MAAM,iBAAiB,CAAC,QAAQ,KAAKA,OAAM,WAAW;AACzD,QAAM,MAAM,OAAO,KAAK;AACxB7K,YAAQ,IAAI,WAAW,KAAK,MAAM;AAClC,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,OAAK,MAAM,IAAI;AACf,MAAI;AACJ,MAAI;AACA,iBAAa,IAAI,WAAW,MAAS;AAAA,EACzC,QACM;AACF,UAAM,IAAI,MAAM,uDAAuD;AAAA,EAC3E;AACA,EAAA6K,MAAK,UAAU;AACnB;AACO,MAAM,gBAAgB,CAAC,QAAQ,KAAK,OAAO,WAAW;AACzD,QAAM,MAAM,OAAO,KAAK;AACxB,QAAM,YAAY,IAAI,OAAO,UAAW,IAAI,GAAG,KAAK,IAAI,SAAS,cAAc,IAAI,MAAM,IAAI,KAAM,IAAI;AACvG7K,YAAQ,WAAW,KAAK,MAAM;AAC9B,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,OAAK,MAAM;AACf;AACO,MAAM,oBAAoB,CAAC,QAAQ,KAAK6K,OAAM,WAAW;AAC5D,QAAM,MAAM,OAAO,KAAK;AACxB7K,YAAQ,IAAI,WAAW,KAAK,MAAM;AAClC,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,OAAK,MAAM,IAAI;AACf,EAAA6K,MAAK,WAAW;AACpB;AACO,MAAM,mBAAmB,CAAC,QAAQ,KAAK,OAAO,WAAW;AAC5D,QAAM,MAAM,OAAO,KAAK;AACxB7K,YAAQ,IAAI,WAAW,KAAK,MAAM;AAClC,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,OAAK,MAAM,IAAI;AACnB;AACO,MAAM,oBAAoB,CAAC,QAAQ,KAAK,OAAO,WAAW;AAC7D,QAAM,MAAM,OAAO,KAAK;AACxBA,YAAQ,IAAI,WAAW,KAAK,MAAM;AAClC,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,OAAK,MAAM,IAAI;AACnB;AACO,MAAM,gBAAgB,CAAC,QAAQ,KAAK,OAAO,WAAW;AACzD,QAAM,YAAY,OAAO,KAAK;AAC9BA,YAAQ,WAAW,KAAK,MAAM;AAC9B,QAAM,OAAO,IAAI,KAAK,IAAI,MAAM;AAChC,OAAK,MAAM;AACf;AAEO,MAAM,gBAAgB;AAAA,EACzB,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,WAAW;AAAA,EACX,MAAM;AAAA,EACN,OAAO;AAAA,EACP,KAAK;AAAA,EACL,SAAS;AAAA,EACT,MAAM;AAAA,EACN,MAAM;AAAA,EACN,SAAS;AAAA,EACT,KAAK;AAAA,EACL,kBAAkB;AAAA,EAClB,MAAM;AAAA,EACN,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,WAAW;AAAA,EACX,KAAK;AAAA,EACL,KAAK;AAAA,EACL,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,cAAc;AAAA,EACd,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,aAAa;AAAA,EACb,SAAS;AAAA,EACT,UAAU;AAAA,EACV,OAAO;AAAA,EACP,MAAM;AAAA,EACN,UAAU;AAAA,EACV,SAAS;AAAA,EACT,UAAU;AAAA,EACV,MAAM;AACV;AACO,SAAS,aAAa,OAAO,QAAQ;AACxC,MAAI,YAAY,OAAO;AAEnB,UAAMqB,YAAW;AACjB,UAAMyJ,OAAM,kBAAkB,EAAE,GAAG,QAAQ,YAAY,eAAe;AACtE,UAAM,OAAO,CAAA;AAEb,eAAW,SAASzJ,UAAS,OAAO,QAAO,GAAI;AAC3C,YAAM,CAAC,GAAG,MAAM,IAAI;AACpBrB,gBAAQ,QAAQ8K,IAAG;AAAA,IACvB;AACA,UAAM,UAAU,CAAA;AAChB,UAAM,WAAW;AAAA,MACb,UAAAzJ;AAAA,MACA,KAAK,QAAQ;AAAA,MACb;AAAA,IACZ;AAEQ,IAAAyJ,KAAI,WAAW;AAEf,eAAW,SAASzJ,UAAS,OAAO,QAAO,GAAI;AAC3C,YAAM,CAAC,KAAK,MAAM,IAAI;AACtB,kBAAYyJ,MAAK,MAAM;AACvB,cAAQ,GAAG,IAAI,SAASA,MAAK,MAAM;AAAA,IACvC;AACA,QAAI,OAAO,KAAK,IAAI,EAAE,SAAS,GAAG;AAC9B,YAAM,cAAcA,KAAI,WAAW,kBAAkB,UAAU;AAC/D,cAAQ,WAAW;AAAA,QACf,CAAC,WAAW,GAAG;AAAA,MAC/B;AAAA,IACQ;AACA,WAAO,EAAE,QAAO;AAAA,EACpB;AAEA,QAAM,MAAM,kBAAkB,EAAE,GAAG,QAAQ,YAAY,eAAe;AACtE9K,YAAQ,OAAO,GAAG;AAClB,cAAY,KAAK,KAAK;AACtB,SAAO,SAAS,KAAK,KAAK;AAC9B;AC1lBO,MAAM,iBAA+ByF,6BAAkB,kBAAkB,CAAC,MAAM,QAAQ;AAC3FsF,kBAAqB,KAAK,MAAM,GAAG;AACnCC,kBAAwB,KAAK,MAAM,GAAG;AAC1C,CAAC;AACM,SAAS,SAAS,QAAQ;AAC7B,SAAOC,6BAAkB,gBAAgB,MAAM;AACnD;AACO,MAAM,aAA2BxF,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnFyF,cAAiB,KAAK,MAAM,GAAG;AAC/BF,kBAAwB,KAAK,MAAM,GAAG;AAC1C,CAAC;AACM,SAAS,KAAK,QAAQ;AACzB,SAAOG,yBAAc,YAAY,MAAM;AAC3C;AACO,MAAM,aAA2B1F,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnF2F,cAAiB,KAAK,MAAM,GAAG;AAC/BJ,kBAAwB,KAAK,MAAM,GAAG;AAC1C,CAAC;AACM,SAAS,KAAK,QAAQ;AACzB,SAAOK,yBAAc,YAAY,MAAM;AAC3C;AACO,MAAM,iBAA+B5F,6BAAkB,kBAAkB,CAAC,MAAM,QAAQ;AAC3F6F,kBAAqB,KAAK,MAAM,GAAG;AACnCN,kBAAwB,KAAK,MAAM,GAAG;AAC1C,CAAC;AACM,SAAS,SAAS,QAAQ;AAC7B,SAAOO,6BAAkB,gBAAgB,MAAM;AACnD;AC1BA,MAAM,cAAc,CAAC,MAAM,WAAW;AAClC,YAAU,KAAK,MAAM,MAAM;AAC3B,OAAK,OAAO;AACZ,SAAO,iBAAiB,MAAM;AAAA,IAC1B,QAAQ;AAAA,MACJ,OAAO,CAAC,WAAWC,YAAiB,MAAM,MAAM;AAAA;AAAA,IAE5D;AAAA,IACQ,SAAS;AAAA,MACL,OAAO,CAAC,WAAWC,aAAkB,MAAM,MAAM;AAAA;AAAA,IAE7D;AAAA,IACQ,UAAU;AAAA,MACN,OAAO,CAAClH,WAAU;AACd,aAAK,OAAO,KAAKA,MAAK;AACtB,aAAK,UAAU,KAAK,UAAU,KAAK,QAAQD,uBAA4B,CAAC;AAAA,MAC5E;AAAA;AAAA,IAEZ;AAAA,IACQ,WAAW;AAAA,MACP,OAAO,CAACoH,YAAW;AACf,aAAK,OAAO,KAAK,GAAGA,OAAM;AAC1B,aAAK,UAAU,KAAK,UAAU,KAAK,QAAQpH,uBAA4B,CAAC;AAAA,MAC5E;AAAA;AAAA,IAEZ;AAAA,IACQ,SAAS;AAAA,MACL,MAAM;AACF,eAAO,KAAK,OAAO,WAAW;AAAA,MAClC;AAAA;AAAA,IAEZ;AAAA,EACA,CAAK;AAML;AAEO,MAAM,eAAemB,aAAkB,YAAY,aAAa;AAAA,EACnE,QAAQ;AACZ,CAAC;AC3CM,MAAM,QAAwBkG,yBAAY,YAAY;AACtD,MAAM,aAA6BC,4BAAiB,YAAY;AAChE,MAAM,YAA4BC,2BAAgB,YAAY;AAC9D,MAAM,iBAAiCC,gCAAqB,YAAY;AAExE,MAAM,SAAyBC,wBAAa,YAAY;AACxD,MAAM,SAAyBC,wBAAa,YAAY;AACxD,MAAM,cAA8BC,6BAAkB,YAAY;AAClE,MAAM,cAA8BC,6BAAkB,YAAY;AAClE,MAAM,aAA6BC,4BAAiB,YAAY;AAChE,MAAM,aAA6BC,4BAAiB,YAAY;AAChE,MAAM,kBAAkCC,iCAAsB,YAAY;AAC1E,MAAM,kBAAkCC,iCAAsB,YAAY;ACP1E,MAAM,UAAwB7G,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAC7E8G,WAAc,KAAK,MAAM,GAAG;AAC5B,SAAO,OAAO,KAAK,WAAW,GAAG;AAAA,IAC7B,YAAY;AAAA,MACR,OAAO,+BAA+B,MAAM,OAAO;AAAA,MACnD,QAAQ,+BAA+B,MAAM,QAAQ;AAAA,IACjE;AAAA,EACA,CAAK;AACD,OAAK,eAAe,yBAAyB,MAAM,CAAA,CAAE;AACrD,OAAK,MAAM;AACX,OAAK,OAAO,IAAI;AAChB,SAAO,eAAe,MAAM,QAAQ,EAAE,OAAO,KAAK;AAElD,OAAK,QAAQ,IAAI,WAAW;AACxB,WAAO,KAAK,MAAMC,UAAe,KAAK;AAAA,MAClC,QAAQ;AAAA,QACJ,GAAI,IAAI,UAAU;QAClB,GAAG,OAAO,IAAI,CAAC,OAAO,OAAO,OAAO,aAAa,EAAE,MAAM,EAAE,OAAO,IAAI,KAAK,EAAE,OAAO,SAAQ,GAAI,UAAU,CAAA,EAAE,EAAE,IAAK,EAAE;AAAA,MACrI;AAAA,IACA,CAAS,GAAG;AAAA,MACA,QAAQ;AAAA,IACpB,CAAS;AAAA,EACL;AACA,OAAK,OAAO,KAAK;AACjB,OAAK,QAAQ,CAACC,MAAK,WAAWC,MAAW,MAAMD,MAAK,MAAM;AAC1D,OAAK,QAAQ,MAAM;AACnB,OAAK,YAAY,CAAC,KAAK,SAAS;AAC5B,QAAI,IAAI,MAAM,IAAI;AAClB,WAAO;AAAA,EACX;AAEA,OAAK,QAAQ,CAAC,MAAM,WAAWE,MAAY,MAAM,MAAM,QAAQ,EAAE,QAAQ,KAAK,MAAK,CAAE;AACrF,OAAK,YAAY,CAAC,MAAM,WAAWC,UAAgB,MAAM,MAAM,MAAM;AACrE,OAAK,aAAa,OAAO,MAAM,WAAWC,WAAiB,MAAM,MAAM,QAAQ,EAAE,QAAQ,KAAK,WAAU,CAAE;AAC1G,OAAK,iBAAiB,OAAO,MAAM,WAAWC,eAAqB,MAAM,MAAM,MAAM;AACrF,OAAK,MAAM,KAAK;AAEhB,OAAK,SAAS,CAAC,MAAM,WAAWC,OAAa,MAAM,MAAM,MAAM;AAC/D,OAAK,SAAS,CAAC,MAAM,WAAWC,OAAa,MAAM,MAAM,MAAM;AAC/D,OAAK,cAAc,OAAO,MAAM,WAAWC,YAAkB,MAAM,MAAM,MAAM;AAC/E,OAAK,cAAc,OAAO,MAAM,WAAWC,YAAkB,MAAM,MAAM,MAAM;AAC/E,OAAK,aAAa,CAAC,MAAM,WAAWC,WAAiB,MAAM,MAAM,MAAM;AACvE,OAAK,aAAa,CAAC,MAAM,WAAWC,WAAiB,MAAM,MAAM,MAAM;AACvE,OAAK,kBAAkB,OAAO,MAAM,WAAWC,gBAAsB,MAAM,MAAM,MAAM;AACvF,OAAK,kBAAkB,OAAO,MAAM,WAAWC,gBAAsB,MAAM,MAAM,MAAM;AAEvF,OAAK,SAAS,CAAC,OAAO,WAAW,KAAK,MAAM,OAAO,OAAO,MAAM,CAAC;AACjE,OAAK,cAAc,CAAC,eAAe,KAAK,MAAM,YAAY,UAAU,CAAC;AACrE,OAAK,YAAY,CAAC,OAAO,KAAK,MAAMC,2BAAiB,EAAE,CAAC;AAExD,OAAK,WAAW,MAAM,SAAS,IAAI;AACnC,OAAK,gBAAgB,MAAM,cAAc,IAAI;AAC7C,OAAK,WAAW,MAAM,SAAS,IAAI;AACnC,OAAK,UAAU,MAAM,SAAS,SAAS,IAAI,CAAC;AAC5C,OAAK,cAAc,CAAC,WAAW,YAAY,MAAM,MAAM;AACvD,OAAK,QAAQ,MAAMC,QAAM,IAAI;AAC7B,OAAK,KAAK,CAAC,QAAQ,MAAM,CAAC,MAAM,GAAG,CAAC;AACpC,OAAK,MAAM,CAAC,QAAQ,aAAa,MAAM,GAAG;AAC1C,OAAK,YAAY,CAAC,OAAO,KAAK,MAAM,UAAU,EAAE,CAAC;AACjD,OAAK,UAAU,CAACf,SAAQ,SAAS,MAAMA,IAAG;AAC1C,OAAK,WAAW,CAACA,SAAQ,SAAS,MAAMA,IAAG;AAE3C,OAAK,QAAQ,CAAC,WAAW,OAAO,MAAM,MAAM;AAC5C,OAAK,OAAO,CAAC,WAAW,KAAK,MAAM,MAAM;AACzC,OAAK,WAAW,MAAM,SAAS,IAAI;AAEnC,OAAK,WAAW,CAAC,gBAAgB;AAC7B,UAAM,KAAK,KAAK,MAAK;AACrBgB,mBAAoB,IAAI,IAAI,EAAE,YAAW,CAAE;AAC3C,WAAO;AAAA,EACX;AACA,SAAO,eAAe,MAAM,eAAe;AAAA,IACvC,MAAM;AACF,aAAOA,eAAoB,IAAI,IAAI,GAAG;AAAA,IAC1C;AAAA,IACA,cAAc;AAAA,EACtB,CAAK;AACD,OAAK,OAAO,IAAI,SAAS;AACrB,QAAI,KAAK,WAAW,GAAG;AACnB,aAAOA,eAAoB,IAAI,IAAI;AAAA,IACvC;AACA,UAAM,KAAK,KAAK,MAAK;AACrBA,mBAAoB,IAAI,IAAI,KAAK,CAAC,CAAC;AACnC,WAAO;AAAA,EACX;AAEA,OAAK,aAAa,MAAM,KAAK,UAAU,MAAS,EAAE;AAClD,OAAK,aAAa,MAAM,KAAK,UAAU,IAAI,EAAE;AAC7C,OAAK,QAAQ,CAAC,OAAO,GAAG,IAAI;AAC5B,SAAO;AACX,CAAC;AAEM,MAAM,aAA2BhI,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnFiI,aAAgB,KAAK,MAAM,GAAG;AAC9B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK7C,OAAM,WAAW8C,gBAA2B,MAAM,KAAK9C,KAAY;AACvG,QAAM,MAAM,KAAK,KAAK;AACtB,OAAK,SAAS,IAAI,UAAU;AAC5B,OAAK,YAAY,IAAI,WAAW;AAChC,OAAK,YAAY,IAAI,WAAW;AAEhC,OAAK,QAAQ,IAAI,SAAS,KAAK,MAAM+C,uBAAa,GAAG,IAAI,CAAC;AAC1D,OAAK,WAAW,IAAI,SAAS,KAAK,MAAMC,0BAAgB,GAAG,IAAI,CAAC;AAChE,OAAK,aAAa,IAAI,SAAS,KAAK,MAAMC,4BAAkB,GAAG,IAAI,CAAC;AACpE,OAAK,WAAW,IAAI,SAAS,KAAK,MAAMC,0BAAgB,GAAG,IAAI,CAAC;AAChE,OAAK,MAAM,IAAI,SAAS,KAAK,MAAMC,2BAAiB,GAAG,IAAI,CAAC;AAC5D,OAAK,MAAM,IAAI,SAAS,KAAK,MAAMC,2BAAiB,GAAG,IAAI,CAAC;AAC5D,OAAK,SAAS,IAAI,SAAS,KAAK,MAAMC,wBAAc,GAAG,IAAI,CAAC;AAC5D,OAAK,WAAW,IAAI,SAAS,KAAK,MAAMF,2BAAiB,GAAG,GAAG,IAAI,CAAC;AACpE,OAAK,YAAY,CAAC,WAAW,KAAK,MAAMG,2BAAiB,MAAM,CAAC;AAChE,OAAK,YAAY,CAAC,WAAW,KAAK,MAAMC,2BAAiB,MAAM,CAAC;AAEhE,OAAK,OAAO,MAAM,KAAK,MAAMC,sBAAW,CAAE;AAC1C,OAAK,YAAY,IAAI,SAAS,KAAK,MAAMC,2BAAiB,GAAG,IAAI,CAAC;AAClE,OAAK,cAAc,MAAM,KAAK,MAAMC,6BAAkB,CAAE;AACxD,OAAK,cAAc,MAAM,KAAK,MAAMC,6BAAkB,CAAE;AACxD,OAAK,UAAU,MAAM,KAAK,MAAMC,yBAAc,CAAE;AACpD,CAAC;AACM,MAAM,YAA0BhJ,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjFiI,aAAgB,KAAK,MAAM,GAAG;AAC9B,aAAW,KAAK,MAAM,GAAG;AACzB,OAAK,QAAQ,CAAC,WAAW,KAAK,MAAMgB,uBAAY,UAAU,MAAM,CAAC;AACjE,OAAK,MAAM,CAAC,WAAW,KAAK,MAAMC,qBAAU,QAAQ,MAAM,CAAC;AAC3D,OAAK,MAAM,CAAC,WAAW,KAAK,MAAMC,qBAAU,QAAQ,MAAM,CAAC;AAC3D,OAAK,QAAQ,CAAC,WAAW,KAAK,MAAMC,uBAAY,UAAU,MAAM,CAAC;AACjE,OAAK,OAAO,CAAC,WAAW,KAAK,MAAMC,sBAAW,SAAS,MAAM,CAAC;AAC9D,OAAK,OAAO,CAAC,WAAW,KAAK,MAAMC,sBAAW,SAAS,MAAM,CAAC;AAC9D,OAAK,SAAS,CAAC,WAAW,KAAK,MAAMC,wBAAa,SAAS,MAAM,CAAC;AAClE,OAAK,SAAS,CAAC,WAAW,KAAK,MAAMC,wBAAa,SAAS,MAAM,CAAC;AAClE,OAAK,SAAS,CAAC,WAAW,KAAK,MAAMC,wBAAa,SAAS,MAAM,CAAC;AAClE,OAAK,SAAS,CAAC,WAAW,KAAK,MAAMC,wBAAa,WAAW,MAAM,CAAC;AACpE,OAAK,OAAO,CAAC,WAAW,KAAK,MAAML,sBAAW,SAAS,MAAM,CAAC;AAC9D,OAAK,OAAO,CAAC,WAAW,KAAK,MAAMM,sBAAW,SAAS,MAAM,CAAC;AAC9D,OAAK,QAAQ,CAAC,WAAW,KAAK,MAAMC,uBAAY,UAAU,MAAM,CAAC;AACjE,OAAK,OAAO,CAAC,WAAW,KAAK,MAAMC,sBAAW,SAAS,MAAM,CAAC;AAC9D,OAAK,SAAS,CAAC,WAAW,KAAK,MAAMC,wBAAa,WAAW,MAAM,CAAC;AACpE,OAAK,YAAY,CAAC,WAAW,KAAK,MAAMC,2BAAgB,cAAc,MAAM,CAAC;AAC7E,OAAK,MAAM,CAAC,WAAW,KAAK,MAAMC,qBAAU,QAAQ,MAAM,CAAC;AAC3D,OAAK,QAAQ,CAAC,WAAW,KAAK,MAAMC,uBAAY,UAAU,MAAM,CAAC;AACjE,OAAK,OAAO,CAAC,WAAW,KAAK,MAAMC,sBAAW,SAAS,MAAM,CAAC;AAC9D,OAAK,OAAO,CAAC,WAAW,KAAK,MAAMC,sBAAW,SAAS,MAAM,CAAC;AAC9D,OAAK,SAAS,CAAC,WAAW,KAAK,MAAMC,wBAAa,WAAW,MAAM,CAAC;AACpE,OAAK,SAAS,CAAC,WAAW,KAAK,MAAMC,wBAAa,WAAW,MAAM,CAAC;AACpE,OAAK,OAAO,CAAC,WAAW,KAAK,MAAMC,sBAAW,SAAS,MAAM,CAAC;AAE9D,OAAK,WAAW,CAAC,WAAW,KAAK,MAAMC,SAAa,MAAM,CAAC;AAC3D,OAAK,OAAO,CAAC,WAAW,KAAK,MAAMC,KAAS,MAAM,CAAC;AACnD,OAAK,OAAO,CAAC,WAAW,KAAK,MAAMC,KAAS,MAAM,CAAC;AACnD,OAAK,WAAW,CAAC,WAAW,KAAK,MAAMC,SAAa,MAAM,CAAC;AAC/D,CAAC;AACM,SAAS,OAAO,QAAQ;AAC3B,SAAOC,wBAAa,WAAW,MAAM;AACzC;AACO,MAAM,kBAAgC3K,6BAAkB,mBAAmB,CAAC,MAAM,QAAQ;AAC7F4K,mBAAsB,KAAK,MAAM,GAAG;AACpC,aAAW,KAAK,MAAM,GAAG;AAC7B,CAAC;AACM,MAAM,WAAyB5K,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAE/E6K,YAAe,KAAK,MAAM,GAAG;AAC7B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,UAAwB7K,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAE7E8K,WAAc,KAAK,MAAM,GAAG;AAC5B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,UAAwB9K,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAE7E+K,WAAc,KAAK,MAAM,GAAG;AAC5B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAeM,MAAM,SAAuB/K,6BAAkB,UAAU,CAAC,MAAM,QAAQ;AAE3EgL,UAAa,KAAK,MAAM,GAAG;AAC3B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAWM,MAAM,WAAyBhL,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAE/EiL,YAAe,KAAK,MAAM,GAAG;AAC7B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,YAA0BjL,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AAEjFkL,aAAgB,KAAK,MAAM,GAAG;AAC9B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,UAAwBlL,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAE7EmL,WAAc,KAAK,MAAM,GAAG;AAC5B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,WAAyBnL,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAE/EoL,YAAe,KAAK,MAAM,GAAG;AAC7B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,UAAwBpL,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAE7EqL,WAAc,KAAK,MAAM,GAAG;AAC5B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,SAAuBrL,6BAAkB,UAAU,CAAC,MAAM,QAAQ;AAE3EsL,UAAa,KAAK,MAAM,GAAG;AAC3B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,WAAyBtL,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAE/EuL,YAAe,KAAK,MAAM,GAAG;AAC7B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,UAAwBvL,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAE7EwL,WAAc,KAAK,MAAM,GAAG;AAC5B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAYM,MAAM,UAAwBxL,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAE7EyL,WAAc,KAAK,MAAM,GAAG;AAC5B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,YAA0BzL,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF0L,aAAgB,KAAK,MAAM,GAAG;AAC9B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,YAA0B1L,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF2L,aAAgB,KAAK,MAAM,GAAG;AAC9B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,YAA0B3L,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AAEjF4L,aAAgB,KAAK,MAAM,GAAG;AAC9B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,eAA6B5L,6BAAkB,gBAAgB,CAAC,MAAM,QAAQ;AAEvF6L,gBAAmB,KAAK,MAAM,GAAG;AACjC,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,UAAwB7L,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAE7E8L,WAAc,KAAK,MAAM,GAAG;AAC5B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AAIM,MAAM,SAAuB9L,6BAAkB,UAAU,CAAC,MAAM,QAAQ;AAE3E+L,UAAa,KAAK,MAAM,GAAG;AAC3B,kBAAgB,KAAK,MAAM,GAAG;AAClC,CAAC;AA0BM,MAAM,YAA0B/L,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjFgM,aAAgB,KAAK,MAAM,GAAG;AAC9B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK5G,OAAM,WAAW6G,gBAA2B,MAAM,KAAK7G,KAAY;AACvG,OAAK,KAAK,CAAC,OAAO,WAAW,KAAK,MAAM8G,oBAAU,OAAO,MAAM,CAAC;AAChE,OAAK,MAAM,CAAC,OAAO,WAAW,KAAK,MAAMC,qBAAW,OAAO,MAAM,CAAC;AAClE,OAAK,MAAM,CAAC,OAAO,WAAW,KAAK,MAAMA,qBAAW,OAAO,MAAM,CAAC;AAClE,OAAK,KAAK,CAAC,OAAO,WAAW,KAAK,MAAMC,oBAAU,OAAO,MAAM,CAAC;AAChE,OAAK,MAAM,CAAC,OAAO,WAAW,KAAK,MAAMC,qBAAW,OAAO,MAAM,CAAC;AAClE,OAAK,MAAM,CAAC,OAAO,WAAW,KAAK,MAAMA,qBAAW,OAAO,MAAM,CAAC;AAClE,OAAK,MAAM,CAAC,WAAW,KAAK,MAAM,IAAI,MAAM,CAAC;AAC7C,OAAK,OAAO,CAAC,WAAW,KAAK,MAAM,IAAI,MAAM,CAAC;AAC9C,OAAK,WAAW,CAAC,WAAW,KAAK,MAAMH,oBAAU,GAAG,MAAM,CAAC;AAC3D,OAAK,cAAc,CAAC,WAAW,KAAK,MAAMC,qBAAW,GAAG,MAAM,CAAC;AAC/D,OAAK,WAAW,CAAC,WAAW,KAAK,MAAMC,oBAAU,GAAG,MAAM,CAAC;AAC3D,OAAK,cAAc,CAAC,WAAW,KAAK,MAAMC,qBAAW,GAAG,MAAM,CAAC;AAC/D,OAAK,aAAa,CAAC,OAAO,WAAW,KAAK,MAAMC,4BAAkB,OAAO,MAAM,CAAC;AAChF,OAAK,OAAO,CAAC,OAAO,WAAW,KAAK,MAAMA,4BAAkB,OAAO,MAAM,CAAC;AAE1E,OAAK,SAAS,MAAM;AACpB,QAAM,MAAM,KAAK,KAAK;AACtB,OAAK,WACD,KAAK,IAAI,IAAI,WAAW,OAAO,mBAAmB,IAAI,oBAAoB,OAAO,iBAAiB,KAAK;AAC3G,OAAK,WACD,KAAK,IAAI,IAAI,WAAW,OAAO,mBAAmB,IAAI,oBAAoB,OAAO,iBAAiB,KAAK;AAC3G,OAAK,SAAS,IAAI,UAAU,IAAI,SAAS,KAAK,KAAK,OAAO,cAAc,IAAI,cAAc,GAAG;AAC7F,OAAK,WAAW;AAChB,OAAK,SAAS,IAAI,UAAU;AAChC,CAAC;AACM,SAASzM,SAAO,QAAQ;AAC3B,SAAO0M,wBAAa,WAAW,MAAM;AACzC;AACO,MAAM,kBAAgCvM,6BAAkB,mBAAmB,CAAC,MAAM,QAAQ;AAC7FwM,mBAAsB,KAAK,MAAM,GAAG;AACpC,YAAU,KAAK,MAAM,GAAG;AAC5B,CAAC;AACM,SAAS,IAAI,QAAQ;AACxB,SAAOC,qBAAU,iBAAiB,MAAM;AAC5C;AAaO,MAAM,aAA2BzM,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnF0M,cAAiB,KAAK,MAAM,GAAG;AAC/B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKtH,OAAM,WAAWuH,iBAA4B,MAAM,KAAKvH,KAAY;AAC5G,CAAC;AACM,SAAS,QAAQ,QAAQ;AAC5B,SAAOwH,yBAAc,YAAY,MAAM;AAC3C;AAuDO,MAAM,UAAwB5M,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAC7E6M,WAAc,KAAK,MAAM,GAAG;AAC5B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKzH,OAAM,WAAW0H,cAAyB,MAAM,KAAK1H,KAAY;AACzG,CAAC;AACD,SAAS,MAAM,QAAQ;AACnB,SAAO2H,wBAAW,SAAS,MAAM;AACrC;AAEO,MAAM,SAAuB/M,6BAAkB,UAAU,CAAC,MAAM,QAAQ;AAC3EgN,UAAa,KAAK,MAAM,GAAG;AAC3B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK5H,OAAM,WAAW6H,aAA+C;AACxG,CAAC;AACM,SAAS,MAAM;AAClB,SAAOC,qBAAU,MAAM;AAC3B;AACO,MAAM,aAA2BlN,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnFmN,cAAiB,KAAK,MAAM,GAAG;AAC/B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK/H,OAAM,WAAWgI,iBAAmD;AAC5G,CAAC;AACM,SAAS,UAAU;AACtB,SAAOC,yBAAc,UAAU;AACnC;AACO,MAAM,WAAyBrN,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/EsN,YAAe,KAAK,MAAM,GAAG;AAC7B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKlI,OAAM,WAAWmI,eAA0B,MAAM,KAAKnI,KAAY;AAC1G,CAAC;AACM,SAAS,MAAM,QAAQ;AAC1B,SAAOoI,uBAAY,UAAU,MAAM;AACvC;AAuBO,MAAM,WAAyBxN,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/EyN,YAAe,KAAK,MAAM,GAAG;AAC7B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKrI,OAAM,WAAWsI,eAA0B,MAAM,KAAKtI,OAAM,MAAM;AACtG,OAAK,UAAU,IAAI;AACnB,OAAK,MAAM,CAAC,WAAW,WAAW,KAAK,MAAMmD,2BAAiB,WAAW,MAAM,CAAC;AAChF,OAAK,WAAW,CAAC,WAAW,KAAK,MAAMA,2BAAiB,GAAG,MAAM,CAAC;AAClE,OAAK,MAAM,CAAC,WAAW,WAAW,KAAK,MAAMC,2BAAiB,WAAW,MAAM,CAAC;AAChF,OAAK,SAAS,CAAC,KAAK,WAAW,KAAK,MAAMC,wBAAc,KAAK,MAAM,CAAC;AACpE,OAAK,SAAS,MAAM,KAAK;AAC7B,CAAC;AACM,SAASV,QAAM,SAAS,QAAQ;AACnC,SAAO4F,uBAAY,UAAU,SAAS,MAAM;AAChD;AAMO,MAAM,YAA0B3N,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF4N,gBAAmB,KAAK,MAAM,GAAG;AACjC,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKxI,OAAM,WAAWyI,gBAA2B,MAAM,KAAKzI,OAAM,MAAM;AACvGrE,aAAgB,MAAM,SAAS,MAAM;AACjC,WAAO,IAAI;AAAA,EACf,CAAC;AACD,OAAK,QAAQ,MAAM,MAAM,OAAO,KAAK,KAAK,KAAK,IAAI,KAAK,CAAC;AACzD,OAAK,WAAW,CAAC,aAAa,KAAK,MAAM,EAAE,GAAG,KAAK,KAAK,KAAK,SAAkB,CAAE;AACjF,OAAK,cAAc,MAAM,KAAK,MAAM,EAAE,GAAG,KAAK,KAAK,KAAK,UAAU,QAAO,EAAE,CAAE;AAC7E,OAAK,QAAQ,MAAM,KAAK,MAAM,EAAE,GAAG,KAAK,KAAK,KAAK,UAAU,QAAO,EAAE,CAAE;AACvE,OAAK,SAAS,MAAM,KAAK,MAAM,EAAE,GAAG,KAAK,KAAK,KAAK,UAAU,MAAK,EAAE,CAAE;AACtE,OAAK,QAAQ,MAAM,KAAK,MAAM,EAAE,GAAG,KAAK,KAAK,KAAK,UAAU,OAAS,CAAE;AACvE,OAAK,SAAS,CAAC,aAAa;AACxB,WAAO+M,OAAY,MAAM,QAAQ;AAAA,EACrC;AACA,OAAK,aAAa,CAAC,aAAa;AAC5B,WAAOC,WAAgB,MAAM,QAAQ;AAAA,EACzC;AACA,OAAK,QAAQ,CAAC,UAAUC,MAAW,MAAM,KAAK;AAC9C,OAAK,OAAO,CAAC,SAASC,KAAU,MAAM,IAAI;AAC1C,OAAK,OAAO,CAAC,SAASC,KAAU,MAAM,IAAI;AAC1C,OAAK,UAAU,IAAI,SAASC,QAAa,aAAa,MAAM,KAAK,CAAC,CAAC;AACnE,OAAK,WAAW,IAAI,SAASC,SAAc,gBAAgB,MAAM,KAAK,CAAC,CAAC;AAC5E,CAAC;AACM,SAASnV,SAAO,OAAO,QAAQ;AAClC,QAAM,MAAM;AAAA,IACR,MAAM;AAAA,IACN,OAAO,SAAS,CAAA;AAAA,IAChB,GAAGiL,gBAAqB,MAAM;AAAA,EACtC;AACI,SAAO,IAAI,UAAU,GAAG;AAC5B;AAWO,SAAS,YAAY,OAAO,QAAQ;AACvC,SAAO,IAAI,UAAU;AAAA,IACjB,MAAM;AAAA,IACN;AAAA,IACA,UAAU,QAAO;AAAA,IACjB,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AACO,MAAM,WAAyBlE,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/EqO,YAAe,KAAK,MAAM,GAAG;AAC7B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKjJ,OAAM,WAAWkJ,eAA0B,MAAM,KAAKlJ,OAAM,MAAM;AACtG,OAAK,UAAU,IAAI;AACvB,CAAC;AACM,SAAS,MAAM,SAAS,QAAQ;AACnC,SAAO,IAAI,SAAS;AAAA,IAChB,MAAM;AAAA,IACN;AAAA,IACA,GAAGlB,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAkBO,MAAM,wBAAsClE,6BAAkB,yBAAyB,CAAC,MAAM,QAAQ;AACzG,WAAS,KAAK,MAAM,GAAG;AACvBuO,yBAA4B,KAAK,MAAM,GAAG;AAC9C,CAAC;AACM,SAAS,mBAAmB,eAAe,SAAS,QAAQ;AAE/D,SAAO,IAAI,sBAAsB;AAAA,IAC7B,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA,GAAGrK,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AACO,MAAM,kBAAgClE,6BAAkB,mBAAmB,CAAC,MAAM,QAAQ;AAC7FwO,mBAAsB,KAAK,MAAM,GAAG;AACpC,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKpJ,OAAM,WAAWqJ,sBAAiC,MAAM,KAAKrJ,OAAM,MAAM;AACjH,CAAC;AACM,SAAS,aAAa,MAAM,OAAO;AACtC,SAAO,IAAI,gBAAgB;AAAA,IACvB,MAAM;AAAA,IACN;AAAA,IACA;AAAA,EACR,CAAK;AACL;AACO,MAAM,WAAyBpF,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/E0O,YAAe,KAAK,MAAM,GAAG;AAC7B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKtJ,OAAM,WAAWuJ,eAA0B,MAAM,KAAKvJ,OAAM,MAAM;AACtG,OAAK,OAAO,CAAC,SAAS,KAAK,MAAM;AAAA,IAC7B,GAAG,KAAK,KAAK;AAAA,IACb;AAAA,EACR,CAAK;AACL,CAAC;AACM,SAAS,MAAM,OAAO,eAAe,SAAS;AACjD,QAAM,UAAU,yBAAyB0B;AACzC,QAAM,SAAS,UAAU,UAAU;AACnC,QAAM,OAAO,UAAU,gBAAgB;AACvC,SAAO,IAAI,SAAS;AAAA,IAChB,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA,GAAG5C,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AACO,MAAM,YAA0BlE,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjF4O,aAAgB,KAAK,MAAM,GAAG;AAC9B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKxJ,OAAM,WAAWyJ,gBAA2B,MAAM,KAAKzJ,OAAM,MAAM;AACvG,OAAK,UAAU,IAAI;AACnB,OAAK,YAAY,IAAI;AACzB,CAAC;AACM,SAAS,OAAO,SAAS,WAAW,QAAQ;AAC/C,SAAO,IAAI,UAAU;AAAA,IACjB,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA,GAAGlB,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAwDO,MAAM,UAAwBlE,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAC7E8O,WAAc,KAAK,MAAM,GAAG;AAC5B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK1J,OAAM,WAAW2J,cAAyB,MAAM,KAAK3J,KAAY;AACrG,OAAK,OAAO,IAAI;AAChB,OAAK,UAAU,OAAO,OAAO,IAAI,OAAO;AACxC,QAAM,OAAO,IAAI,IAAI,OAAO,KAAK,IAAI,OAAO,CAAC;AAC7C,OAAK,UAAU,CAAC,QAAQ,WAAW;AAC/B,UAAM,aAAa,CAAA;AACnB,eAAW,SAAS,QAAQ;AACxB,UAAI,KAAK,IAAI,KAAK,GAAG;AACjB,mBAAW,KAAK,IAAI,IAAI,QAAQ,KAAK;AAAA,MACzC;AAEI,cAAM,IAAI,MAAM,OAAO,KAAK,oBAAoB;AAAA,IACxD;AACA,WAAO,IAAI,QAAQ;AAAA,MACf,GAAG;AAAA,MACH,QAAQ,CAAA;AAAA,MACR,GAAGlB,gBAAqB,MAAM;AAAA,MAC9B,SAAS;AAAA,IACrB,CAAS;AAAA,EACL;AACA,OAAK,UAAU,CAAC,QAAQ,WAAW;AAC/B,UAAM,aAAa,EAAE,GAAG,IAAI,QAAO;AACnC,eAAW,SAAS,QAAQ;AACxB,UAAI,KAAK,IAAI,KAAK,GAAG;AACjB,eAAO,WAAW,KAAK;AAAA,MAC3B;AAEI,cAAM,IAAI,MAAM,OAAO,KAAK,oBAAoB;AAAA,IACxD;AACA,WAAO,IAAI,QAAQ;AAAA,MACf,GAAG;AAAA,MACH,QAAQ,CAAA;AAAA,MACR,GAAGA,gBAAqB,MAAM;AAAA,MAC9B,SAAS;AAAA,IACrB,CAAS;AAAA,EACL;AACJ,CAAC;AACD,SAAS,MAAM,QAAQ,QAAQ;AAC3B,QAAM,UAAU,MAAM,QAAQ,MAAM,IAAI,OAAO,YAAY,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI;AACxF,SAAO,IAAI,QAAQ;AAAA,IACf,MAAM;AAAA,IACN;AAAA,IACA,GAAGA,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAgBO,MAAM,aAA2BlE,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnFgP,cAAiB,KAAK,MAAM,GAAG;AAC/B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK5J,OAAM,WAAW6J,iBAA4B,MAAM,KAAK7J,KAAY;AACxG,OAAK,SAAS,IAAI,IAAI,IAAI,MAAM;AAChC,SAAO,eAAe,MAAM,SAAS;AAAA,IACjC,MAAM;AACF,UAAI,IAAI,OAAO,SAAS,GAAG;AACvB,cAAM,IAAI,MAAM,4EAA4E;AAAA,MAChG;AACA,aAAO,IAAI,OAAO,CAAC;AAAA,IACvB;AAAA,EACR,CAAK;AACL,CAAC;AACM,SAAS,QAAQ,OAAO,QAAQ;AACnC,SAAO,IAAI,WAAW;AAAA,IAClB,MAAM;AAAA,IACN,QAAQ,MAAM,QAAQ,KAAK,IAAI,QAAQ,CAAC,KAAK;AAAA,IAC7C,GAAGlB,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAYO,MAAM,eAA6BlE,6BAAkB,gBAAgB,CAAC,MAAM,QAAQ;AACvFkP,gBAAmB,KAAK,MAAM,GAAG;AACjC,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK9J,OAAM,WAAW+J,mBAA8B,MAAM,GAAiB;AAC1G,OAAK,KAAK,QAAQ,CAAC,SAAS,SAAS;AACjC,QAAI,KAAK,cAAc,YAAY;AAC/B,YAAM,IAAIrL,gBAAqB,KAAK,YAAY,IAAI;AAAA,IACxD;AACA,YAAQ,WAAW,CAAChF,YAAU;AAC1B,UAAI,OAAOA,YAAU,UAAU;AAC3B,gBAAQ,OAAO,KAAKmF,MAAWnF,SAAO,QAAQ,OAAO,GAAG,CAAC;AAAA,MAC7D,OACK;AAED,cAAM,SAASA;AACf,YAAI,OAAO;AACP,iBAAO,WAAW;AACtB,eAAO,SAAS,OAAO,OAAO;AAC9B,eAAO,UAAU,OAAO,QAAQ,QAAQ;AACxC,eAAO,SAAS,OAAO,OAAO;AAE9B,gBAAQ,OAAO,KAAKmF,MAAW,MAAM,CAAC;AAAA,MAC1C;AAAA,IACJ;AACA,UAAM,SAAS,IAAI,UAAU,QAAQ,OAAO,OAAO;AACnD,QAAI,kBAAkB,SAAS;AAC3B,aAAO,OAAO,KAAK,CAACF,YAAW;AAC3B,gBAAQ,QAAQA;AAChB,eAAO;AAAA,MACX,CAAC;AAAA,IACL;AACA,YAAQ,QAAQ;AAChB,WAAO;AAAA,EACX;AACJ,CAAC;AACM,SAAS,UAAU,IAAI;AAC1B,SAAO,IAAI,aAAa;AAAA,IACpB,MAAM;AAAA,IACN,WAAW;AAAA,EACnB,CAAK;AACL;AACO,MAAM,cAA4B/D,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrFoP,eAAkB,KAAK,MAAM,GAAG;AAChC,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKhK,OAAM,WAAWiK,kBAA6B,MAAM,KAAKjK,OAAM,MAAM;AACzG,OAAK,SAAS,MAAM,KAAK,KAAK,IAAI;AACtC,CAAC;AACM,SAAS,SAAS,WAAW;AAChC,SAAO,IAAI,YAAY;AAAA,IACnB,MAAM;AAAA,IACN;AAAA,EACR,CAAK;AACL;AACO,MAAM,mBAAiCpF,6BAAkB,oBAAoB,CAAC,MAAM,QAAQ;AAC/FsP,oBAAuB,KAAK,MAAM,GAAG;AACrC,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKlK,OAAM,WAAWiK,kBAA6B,MAAM,KAAKjK,OAAM,MAAM;AACzG,OAAK,SAAS,MAAM,KAAK,KAAK,IAAI;AACtC,CAAC;AACM,SAAS,cAAc,WAAW;AACrC,SAAO,IAAI,iBAAiB;AAAA,IACxB,MAAM;AAAA,IACN;AAAA,EACR,CAAK;AACL;AACO,MAAM,cAA4BpF,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrFuP,eAAkB,KAAK,MAAM,GAAG;AAChC,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKnK,OAAM,WAAWoK,kBAA6B,MAAM,KAAKpK,OAAM,MAAM;AACzG,OAAK,SAAS,MAAM,KAAK,KAAK,IAAI;AACtC,CAAC;AACM,SAAS,SAAS,WAAW;AAChC,SAAO,IAAI,YAAY;AAAA,IACnB,MAAM;AAAA,IACN;AAAA,EACR,CAAK;AACL;AAKO,MAAM,aAA2BpF,6BAAkB,cAAc,CAAC,MAAM,QAAQ;AACnFyP,cAAiB,KAAK,MAAM,GAAG;AAC/B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKrK,OAAM,WAAWsK,iBAA4B,MAAM,KAAKtK,OAAM,MAAM;AACxG,OAAK,SAAS,MAAM,KAAK,KAAK,IAAI;AAClC,OAAK,gBAAgB,KAAK;AAC9B,CAAC;AACM,SAAS,SAAS,WAAW,cAAc;AAC9C,SAAO,IAAI,WAAW;AAAA,IAClB,MAAM;AAAA,IACN;AAAA,IACA,IAAI,eAAe;AACf,aAAO,OAAO,iBAAiB,aAAa,aAAY,IAAKuK,aAAkB,YAAY;AAAA,IAC/F;AAAA,EACR,CAAK;AACL;AACO,MAAM,cAA4B3P,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrF4P,eAAkB,KAAK,MAAM,GAAG;AAChC,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKxK,OAAM,WAAWyK,kBAA6B,MAAM,KAAKzK,OAAM,MAAM;AACzG,OAAK,SAAS,MAAM,KAAK,KAAK,IAAI;AACtC,CAAC;AACM,SAAS,SAAS,WAAW,cAAc;AAC9C,SAAO,IAAI,YAAY;AAAA,IACnB,MAAM;AAAA,IACN;AAAA,IACA,IAAI,eAAe;AACf,aAAO,OAAO,iBAAiB,aAAa,aAAY,IAAKuK,aAAkB,YAAY;AAAA,IAC/F;AAAA,EACR,CAAK;AACL;AACO,MAAM,iBAA+B3P,6BAAkB,kBAAkB,CAAC,MAAM,QAAQ;AAC3F8P,kBAAqB,KAAK,MAAM,GAAG;AACnC,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK1K,OAAM,WAAW2K,qBAAgC,MAAM,KAAK3K,OAAM,MAAM;AAC5G,OAAK,SAAS,MAAM,KAAK,KAAK,IAAI;AACtC,CAAC;AACM,SAAS,YAAY,WAAW,QAAQ;AAC3C,SAAO,IAAI,eAAe;AAAA,IACtB,MAAM;AAAA,IACN;AAAA,IACA,GAAGlB,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACL;AAaO,MAAM,WAAyBlE,6BAAkB,YAAY,CAAC,MAAM,QAAQ;AAC/EgQ,YAAe,KAAK,MAAM,GAAG;AAC7B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK5K,OAAM,WAAW6K,eAA0B,MAAM,KAAK7K,OAAM,MAAM;AACtG,OAAK,SAAS,MAAM,KAAK,KAAK,IAAI;AAClC,OAAK,cAAc,KAAK;AAC5B,CAAC;AACD,SAAS,OAAO,WAAW,YAAY;AACnC,SAAO,IAAI,SAAS;AAAA,IAChB,MAAM;AAAA,IACN;AAAA,IACA,YAAa,OAAO,eAAe,aAAa,aAAa,MAAM;AAAA,EAC3E,CAAK;AACL;AAUO,MAAM,UAAwBpF,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAC7EkQ,WAAc,KAAK,MAAM,GAAG;AAC5B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAK9K,OAAM,WAAW+K,cAAyB,MAAM,KAAK/K,OAAM,MAAM;AACrG,OAAK,KAAK,IAAI;AACd,OAAK,MAAM,IAAI;AACnB,CAAC;AACM,SAAS,KAAK,KAAK,KAAK;AAC3B,SAAO,IAAI,QAAQ;AAAA,IACf,MAAM;AAAA,IACN,IAAI;AAAA,IACJ;AAAA;AAAA,EAER,CAAK;AACL;AAcO,MAAM,cAA4BpF,6BAAkB,eAAe,CAAC,MAAM,QAAQ;AACrFoQ,eAAkB,KAAK,MAAM,GAAG;AAChC,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKhL,OAAM,WAAWiL,kBAA6B,MAAM,KAAKjL,OAAM,MAAM;AACzG,OAAK,SAAS,MAAM,KAAK,KAAK,IAAI;AACtC,CAAC;AACM,SAAS,SAAS,WAAW;AAChC,SAAO,IAAI,YAAY;AAAA,IACnB,MAAM;AAAA,IACN;AAAA,EACR,CAAK;AACL;AAaO,MAAM,UAAwBpF,6BAAkB,WAAW,CAAC,MAAM,QAAQ;AAC7EsQ,WAAc,KAAK,MAAM,GAAG;AAC5B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKlL,OAAM,WAAWmL,cAAyB,MAAM,KAAKnL,OAAM,MAAM;AACrG,OAAK,SAAS,MAAM,KAAK,KAAK,IAAI,OAAM;AAC5C,CAAC;AACM,SAAS,KAAK,QAAQ;AACzB,SAAO,IAAI,QAAQ;AAAA,IACf,MAAM;AAAA,IACN;AAAA,EACR,CAAK;AACL;AA0BO,MAAM,YAA0BpF,6BAAkB,aAAa,CAAC,MAAM,QAAQ;AACjFwQ,aAAgB,KAAK,MAAM,GAAG;AAC9B,UAAQ,KAAK,MAAM,GAAG;AACtB,OAAK,KAAK,oBAAoB,CAAC,KAAKpL,OAAM,WAAWqL,gBAA2B,MAAM,GAAiB;AAC3G,CAAC;AAUM,SAAS,OAAO,IAAI,SAAS;AAChC,SAAOC,wBAAa,WAAW,OAAO,MAAM,OAAO,OAAO;AAC9D;AACO,SAAS,OAAO,IAAI,UAAU,IAAI;AACrC,SAAOC,wBAAa,WAAW,IAAI,OAAO;AAC9C;AAEO,SAAS,YAAY,IAAI;AAC5B,SAAOC,6BAAkB,EAAE;AAC/B;AAIA,SAAS,YAAY,KAAK,SAAS,IAAI;AACnC,QAAM,OAAO,IAAI,UAAU;AAAA,IACvB,MAAM;AAAA,IACN,OAAO;AAAA,IACP,IAAI,CAAC,SAAS,gBAAgB;AAAA,IAC9B,OAAO;AAAA,IACP,GAAG1M,gBAAqB,MAAM;AAAA,EACtC,CAAK;AACD,OAAK,KAAK,IAAI,QAAQ;AAEtB,OAAK,KAAK,QAAQ,CAAC,YAAY;AAC3B,QAAI,EAAE,QAAQ,iBAAiB,MAAM;AACjC,cAAQ,OAAO,KAAK;AAAA,QAChB,MAAM;AAAA,QACN,UAAU,IAAI;AAAA,QACd,OAAO,QAAQ;AAAA,QACf;AAAA,QACA,MAAM,CAAC,GAAI,KAAK,KAAK,IAAI,QAAQ,CAAA,CAAG;AAAA,MACpD,CAAa;AAAA,IACL;AAAA,EACJ;AACA,SAAO;AACX;AC7mCO,SAAS,OAAO,QAAQ;AAC3B,SAAO2M,+BAAoBC,WAAmB,MAAM;AACxD;ACPO,IAAI;AAAA,CACV,SAAUC,OAAM;AACb,EAAAA,MAAK,cAAc,CAAC,MAAM;AAAA,EAAE;AAC5B,WAAS,SAAS,MAAM;AAAA,EAAE;AAC1B,EAAAA,MAAK,WAAW;AAChB,WAAS,YAAY,IAAI;AACrB,UAAM,IAAI,MAAK;AAAA,EACnB;AACA,EAAAA,MAAK,cAAc;AACnB,EAAAA,MAAK,cAAc,CAAC,UAAU;AAC1B,UAAM,MAAM,CAAA;AACZ,eAAW,QAAQ,OAAO;AACtB,UAAI,IAAI,IAAI;AAAA,IAChB;AACA,WAAO;AAAA,EACX;AACA,EAAAA,MAAK,qBAAqB,CAAC,QAAQ;AAC/B,UAAM,YAAYA,MAAK,WAAW,GAAG,EAAE,OAAO,CAAC,MAAM,OAAO,IAAI,IAAI,CAAC,CAAC,MAAM,QAAQ;AACpF,UAAM,WAAW,CAAA;AACjB,eAAW,KAAK,WAAW;AACvB,eAAS,CAAC,IAAI,IAAI,CAAC;AAAA,IACvB;AACA,WAAOA,MAAK,aAAa,QAAQ;AAAA,EACrC;AACA,EAAAA,MAAK,eAAe,CAAC,QAAQ;AACzB,WAAOA,MAAK,WAAW,GAAG,EAAE,IAAI,SAAU,GAAG;AACzC,aAAO,IAAI,CAAC;AAAA,IAChB,CAAC;AAAA,EACL;AACA,EAAAA,MAAK,aAAa,OAAO,OAAO,SAAS,aACnC,CAAC,QAAQ,OAAO,KAAK,GAAG,IACxB,CAAC9X,YAAW;AACV,UAAM,OAAO,CAAA;AACb,eAAW,OAAOA,SAAQ;AACtB,UAAI,OAAO,UAAU,eAAe,KAAKA,SAAQ,GAAG,GAAG;AACnD,aAAK,KAAK,GAAG;AAAA,MACjB;AAAA,IACJ;AACA,WAAO;AAAA,EACX;AACJ,EAAA8X,MAAK,OAAO,CAAC,KAAK,YAAY;AAC1B,eAAW,QAAQ,KAAK;AACpB,UAAI,QAAQ,IAAI;AACZ,eAAO;AAAA,IACf;AACA,WAAO;AAAA,EACX;AACA,EAAAA,MAAK,YAAY,OAAO,OAAO,cAAc,aACvC,CAAC,QAAQ,OAAO,UAAU,GAAG,IAC7B,CAAC,QAAQ,OAAO,QAAQ,YAAY,OAAO,SAAS,GAAG,KAAK,KAAK,MAAM,GAAG,MAAM;AACtF,WAAS,WAAWhJ,QAAO,YAAY,OAAO;AAC1C,WAAOA,OAAM,IAAI,CAAC,QAAS,OAAO,QAAQ,WAAW,IAAI,GAAG,MAAM,GAAI,EAAE,KAAK,SAAS;AAAA,EAC1F;AACA,EAAAgJ,MAAK,aAAa;AAClB,EAAAA,MAAK,wBAAwB,CAAC,GAAG,UAAU;AACvC,QAAI,OAAO,UAAU,UAAU;AAC3B,aAAO,MAAM,SAAQ;AAAA,IACzB;AACA,WAAO;AAAA,EACX;AACJ,GAAG,SAAS,OAAO,CAAA,EAAG;AACf,IAAI;AAAA,CACV,SAAUC,aAAY;AACnB,EAAAA,YAAW,cAAc,CAAC,OAAO,WAAW;AACxC,WAAO;AAAA,MACH,GAAG;AAAA,MACH,GAAG;AAAA;AAAA,IACf;AAAA,EACI;AACJ,GAAG,eAAe,aAAa,CAAA,EAAG;AACL,KAAK,YAAY;AAAA,EAC1C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,CAAC;AC1F2B,KAAK,YAAY;AAAA,EACzC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACJ,CAAC;AAKM,MAAM,iBAAiB,MAAM;AAAA,EAChC,IAAI,SAAS;AACT,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,YAAY,QAAQ;AAChB,UAAK;AACL,SAAK,SAAS,CAAA;AACd,SAAK,WAAW,CAAC,QAAQ;AACrB,WAAK,SAAS,CAAC,GAAG,KAAK,QAAQ,GAAG;AAAA,IACtC;AACA,SAAK,YAAY,CAAC,OAAO,OAAO;AAC5B,WAAK,SAAS,CAAC,GAAG,KAAK,QAAQ,GAAG,IAAI;AAAA,IAC1C;AACA,UAAM,cAAc,WAAW;AAC/B,QAAI,OAAO,gBAAgB;AAEvB,aAAO,eAAe,MAAM,WAAW;AAAA,IAC3C,OACK;AACD,WAAK,YAAY;AAAA,IACrB;AACA,SAAK,OAAO;AACZ,SAAK,SAAS;AAAA,EAClB;AAAA,EACA,OAAO,SAAS;AACZ,UAAM,SAAS,WACX,SAAUlS,QAAO;AACb,aAAOA,OAAM;AAAA,IACjB;AACJ,UAAM,cAAc,EAAE,SAAS,GAAE;AACjC,UAAM,eAAe,CAACtD,WAAU;AAC5B,iBAAWsD,UAAStD,OAAM,QAAQ;AAC9B,YAAIsD,OAAM,SAAS,iBAAiB;AAChC,UAAAA,OAAM,YAAY,IAAI,YAAY;AAAA,QACtC,WACSA,OAAM,SAAS,uBAAuB;AAC3C,uBAAaA,OAAM,eAAe;AAAA,QACtC,WACSA,OAAM,SAAS,qBAAqB;AACzC,uBAAaA,OAAM,cAAc;AAAA,QACrC,WACSA,OAAM,KAAK,WAAW,GAAG;AAC9B,sBAAY,QAAQ,KAAK,OAAOA,MAAK,CAAC;AAAA,QAC1C,OACK;AACD,cAAI,OAAO;AACX,cAAI,IAAI;AACR,iBAAO,IAAIA,OAAM,KAAK,QAAQ;AAC1B,kBAAM,KAAKA,OAAM,KAAK,CAAC;AACvB,kBAAM,WAAW,MAAMA,OAAM,KAAK,SAAS;AAC3C,gBAAI,CAAC,UAAU;AACX,mBAAK,EAAE,IAAI,KAAK,EAAE,KAAK,EAAE,SAAS,GAAE;AAAA,YAQxC,OACK;AACD,mBAAK,EAAE,IAAI,KAAK,EAAE,KAAK,EAAE,SAAS,GAAE;AACpC,mBAAK,EAAE,EAAE,QAAQ,KAAK,OAAOA,MAAK,CAAC;AAAA,YACvC;AACA,mBAAO,KAAK,EAAE;AACd;AAAA,UACJ;AAAA,QACJ;AAAA,MACJ;AAAA,IACJ;AACA,iBAAa,IAAI;AACjB,WAAO;AAAA,EACX;AAAA,EACA,OAAO,OAAO,OAAO;AACjB,QAAI,EAAE,iBAAiB,WAAW;AAC9B,YAAM,IAAI,MAAM,mBAAmB,KAAK,EAAE;AAAA,IAC9C;AAAA,EACJ;AAAA,EACA,WAAW;AACP,WAAO,KAAK;AAAA,EAChB;AAAA,EACA,IAAI,UAAU;AACV,WAAO,KAAK,UAAU,KAAK,QAAQ,KAAK,uBAAuB,CAAC;AAAA,EACpE;AAAA,EACA,IAAI,UAAU;AACV,WAAO,KAAK,OAAO,WAAW;AAAA,EAClC;AAAA,EACA,QAAQ,SAAS,CAACA,WAAUA,OAAM,SAAS;AACvC,UAAM,cAAc,uBAAO,OAAO,IAAI;AACtC,UAAM,aAAa,CAAA;AACnB,eAAW,OAAO,KAAK,QAAQ;AAC3B,UAAI,IAAI,KAAK,SAAS,GAAG;AACrB,cAAM,UAAU,IAAI,KAAK,CAAC;AAC1B,oBAAY,OAAO,IAAI,YAAY,OAAO,KAAK,CAAA;AAC/C,oBAAY,OAAO,EAAE,KAAK,OAAO,GAAG,CAAC;AAAA,MACzC,OACK;AACD,mBAAW,KAAK,OAAO,GAAG,CAAC;AAAA,MAC/B;AAAA,IACJ;AACA,WAAO,EAAE,YAAY,YAAW;AAAA,EACpC;AAAA,EACA,IAAI,aAAa;AACb,WAAO,KAAK,QAAO;AAAA,EACvB;AACJ;AACA,SAAS,SAAS,CAAC,WAAW;AAC1B,QAAMtD,SAAQ,IAAI,SAAS,MAAM;AACjC,SAAOA;AACX;ACpIO,IAAI;AAAA,CACV,SAAUyV,YAAW;AAClB,EAAAA,WAAU,WAAW,CAAC,YAAY,OAAO,YAAY,WAAW,EAAE,YAAY,WAAW,CAAA;AAEzF,EAAAA,WAAU,WAAW,CAAC,YAAY,OAAO,YAAY,WAAW,UAAU,SAAS;AACvF,GAAG,cAAc,YAAY,CAAA,EAAG;ACygHzB,IAAI;AAAA,CACV,SAAUC,wBAAuB;AAC9B,EAAAA,uBAAsB,WAAW,IAAI;AACrC,EAAAA,uBAAsB,WAAW,IAAI;AACrC,EAAAA,uBAAsB,QAAQ,IAAI;AAClC,EAAAA,uBAAsB,WAAW,IAAI;AACrC,EAAAA,uBAAsB,YAAY,IAAI;AACtC,EAAAA,uBAAsB,SAAS,IAAI;AACnC,EAAAA,uBAAsB,WAAW,IAAI;AACrC,EAAAA,uBAAsB,cAAc,IAAI;AACxC,EAAAA,uBAAsB,SAAS,IAAI;AACnC,EAAAA,uBAAsB,QAAQ,IAAI;AAClC,EAAAA,uBAAsB,YAAY,IAAI;AACtC,EAAAA,uBAAsB,UAAU,IAAI;AACpC,EAAAA,uBAAsB,SAAS,IAAI;AACnC,EAAAA,uBAAsB,UAAU,IAAI;AACpC,EAAAA,uBAAsB,WAAW,IAAI;AACrC,EAAAA,uBAAsB,UAAU,IAAI;AACpC,EAAAA,uBAAsB,uBAAuB,IAAI;AACjD,EAAAA,uBAAsB,iBAAiB,IAAI;AAC3C,EAAAA,uBAAsB,UAAU,IAAI;AACpC,EAAAA,uBAAsB,WAAW,IAAI;AACrC,EAAAA,uBAAsB,QAAQ,IAAI;AAClC,EAAAA,uBAAsB,QAAQ,IAAI;AAClC,EAAAA,uBAAsB,aAAa,IAAI;AACvC,EAAAA,uBAAsB,SAAS,IAAI;AACnC,EAAAA,uBAAsB,YAAY,IAAI;AACtC,EAAAA,uBAAsB,SAAS,IAAI;AACnC,EAAAA,uBAAsB,YAAY,IAAI;AACtC,EAAAA,uBAAsB,eAAe,IAAI;AACzC,EAAAA,uBAAsB,aAAa,IAAI;AACvC,EAAAA,uBAAsB,aAAa,IAAI;AACvC,EAAAA,uBAAsB,YAAY,IAAI;AACtC,EAAAA,uBAAsB,UAAU,IAAI;AACpC,EAAAA,uBAAsB,YAAY,IAAI;AACtC,EAAAA,uBAAsB,YAAY,IAAI;AACtC,EAAAA,uBAAsB,aAAa,IAAI;AACvC,EAAAA,uBAAsB,aAAa,IAAI;AAC3C,GAAG,0BAA0B,wBAAwB,CAAA,EAAG;ACpjHxD,MAAM,mBAAmB,MAAM;AAAA,EAC7B,YAAY,SAAS,SAAS;AAC5B,UAAM,OAAO,GAAG,KAAK,OAAO,cAAc,KAAK,OAAO,QAAQ,MAAM,KAAK,QAAQ,QAAQ,OAAO,KAAK,QAAQ,QAAQ,OAAO,KAAK,OAAO,QAAQ;AAAA,EAClJ;AACF;AACA,SAAS,KAAK,MAAM;AACpB;AACA,SAAS,aAAa,WAAW;AAC/B,MAAI,OAAO,aAAa;AACtB,UAAM,IAAI;AAAA,MACR;AAAA,IACN;AACE,QAAM,EAAE,UAAU,MAAM,UAAU,MAAM,UAAU,MAAM,UAAS,IAAK;AACtE,MAAI,iBAAiB,IAAI,eAAe,MAAI,IAAI,OAAO,IAAI,YAAY;AACvE,WAAS,KAAK,UAAU;AACtB,UAAM,QAAQ,eAAe,SAAS,QAAQ,iBAAiB,EAAE,IAAI,UAAU,CAAC,UAAU,UAAU,IAAI,WAAW,GAAG,cAAc,GAAG,KAAK,EAAE;AAC9I,eAAW,QAAQ;AACjB,gBAAU,IAAI;AAChB,qBAAiB,YAAY,eAAe;AAAA,EAC9C;AACA,WAAS,UAAU,MAAM;AACvB,QAAI,SAAS,IAAI;AACf,oBAAa;AACb;AAAA,IACF;AACA,QAAI,KAAK,WAAW,GAAG,GAAG;AACxB,mBAAa,UAAU,KAAK,MAAM,KAAK,WAAW,IAAI,IAAI,IAAI,CAAC,CAAC;AAChE;AAAA,IACF;AACA,UAAM,sBAAsB,KAAK,QAAQ,GAAG;AAC5C,QAAI,wBAAwB,IAAI;AAC9B,YAAM,QAAQ,KAAK,MAAM,GAAG,mBAAmB,GAAG,SAAS,KAAK,sBAAsB,CAAC,MAAM,MAAM,IAAI,GAAG,QAAQ,KAAK,MAAM,sBAAsB,MAAM;AACzJ,mBAAa,OAAO,OAAO,IAAI;AAC/B;AAAA,IACF;AACA,iBAAa,MAAM,IAAI,IAAI;AAAA,EAC7B;AACA,WAAS,aAAa,OAAO,OAAO,MAAM;AACxC,YAAQ,OAAK;AAAA,MACX,KAAK;AACH,oBAAY;AACZ;AAAA,MACF,KAAK;AACH,eAAO,GAAG,IAAI,GAAG,KAAK;AAAA;AAEtB;AAAA,MACF,KAAK;AACH,aAAK,MAAM,SAAS,IAAI,IAAI,SAAS;AACrC;AAAA,MACF,KAAK;AACH,gBAAQ,KAAK,KAAK,IAAI,QAAQ,SAAS,OAAO,EAAE,CAAC,IAAI;AAAA,UACnD,IAAI,WAAW,6BAA6B,KAAK,KAAK;AAAA,YACpD,MAAM;AAAA,YACN;AAAA,YACA;AAAA,UACZ,CAAW;AAAA,QACX;AACQ;AAAA,MACF;AACE;AAAA,UACE,IAAI;AAAA,YACF,kBAAkB,MAAM,SAAS,KAAK,GAAG,MAAM,MAAM,GAAG,EAAE,CAAC,MAAW,KAAK;AAAA,YAC3E,EAAE,MAAM,iBAAiB,OAAO,OAAO,KAAI;AAAA,UACvD;AAAA,QACA;AACQ;AAAA,IACR;AAAA,EACE;AACA,WAAS,gBAAgB;AACvB,SAAK,SAAS,KAAK,QAAQ;AAAA,MACzB;AAAA,MACA,OAAO,aAAa;AAAA;AAAA;AAAA,MAGpB,MAAM,KAAK,SAAS;AAAA,CACzB,IAAI,KAAK,MAAM,GAAG,EAAE,IAAI;AAAA,IACzB,CAAK,GAAG,KAAK,QAAQ,OAAO,IAAI,YAAY;AAAA,EAC1C;AACA,WAAS,MAAM,UAAU,IAAI;AAC3B,sBAAkB,QAAQ,WAAW,UAAU,cAAc,GAAG,eAAe,MAAI,KAAK,QAAQ,OAAO,IAAI,YAAY,IAAI,iBAAiB;AAAA,EAC9I;AACA,SAAO,EAAE,MAAM,MAAK;AACtB;AACA,SAAS,WAAW,OAAO;AACzB,QAAM,QAAQ,CAAA;AACd,MAAI,iBAAiB,IAAI,cAAc;AACvC,SAAO,cAAc,MAAM,UAAU;AACnC,UAAM,UAAU,MAAM,QAAQ,MAAM,WAAW,GAAG,UAAU,MAAM,QAAQ;AAAA,GAC3E,WAAW;AACV,QAAI,UAAU;AACd,QAAI,YAAY,MAAM,YAAY,KAAK,UAAU,KAAK,IAAI,SAAS,OAAO,IAAI,YAAY,KAAK,YAAY,MAAM,SAAS,IAAI,UAAU,KAAK,UAAU,UAAU,YAAY,OAAO,UAAU,UAAU,YAAY,IAAI;AACtN,uBAAiB,MAAM,MAAM,WAAW;AACxC;AAAA,IACF,OAAO;AACL,YAAM,OAAO,MAAM,MAAM,aAAa,OAAO;AAC7C,YAAM,KAAK,IAAI,GAAG,cAAc,UAAU,GAAG,MAAM,cAAc,CAAC,MAAM,QAAQ,MAAM,WAAW,MAAM;AAAA,KACxG;AAAA,IACD;AAAA,EACF;AACA,SAAO,CAAC,OAAO,cAAc;AAC/B;AClGA,MAAM,gCAAgC,gBAAgB;AAAA,EACpD,YAAY,EAAE,SAAS,SAAS,UAAS,IAAK,CAAA,GAAI;AAChD,QAAI;AACJ,UAAM;AAAA,MACJ,MAAM,YAAY;AAChB,iBAAS,aAAa;AAAA,UACpB,SAAS,CAAC,UAAU;AAClB,uBAAW,QAAQ,KAAK;AAAA,UAC1B;AAAA,UACA,QAAQ1V,QAAO;AACb,wBAAY,cAAc,WAAW,MAAMA,MAAK,IAAI,OAAO,WAAW,cAAc,QAAQA,MAAK;AAAA,UACnG;AAAA,UACA;AAAA,UACA;AAAA,QACV,CAAS;AAAA,MACH;AAAA,MACA,UAAU,OAAO;AACf,eAAO,KAAK,KAAK;AAAA,MACnB;AAAA,IACN,CAAK;AAAA,EACH;AACF;ACtBA,SAAS,kBAAkB,SAAS;AAClC,SAAO,QAAQ;AAAA,IACb,CAAC,iBAAiB,oBAAoB;AAAA,MACpC,GAAG;AAAA,MACH,GAAG,kBAAkB,OAAO,iBAAiB,CAAA;AAAA,IACnD;AAAA,IACI,CAAA;AAAA,EACJ;AACA;AAyCA,SAAS,sBAAsB;AAAA,EAC7B,QAAQ,CAAA;AAAA,EACR;AACF,GAAG;AACD,QAAM,mCAAmC,CAAA;AACzC,QAAM,mCAAmC,CAAA;AACzC,aAAW,SAAS,OAAO;AACzB,QAAI,MAAM,SAAS,cAAc,MAAM,MAAM,mBAAmB;AAC9D,YAAM,mBAAmB,kBAAkB,MAAM,EAAE;AACnD,uCAAiC,MAAM,IAAI,IAAI;AAC/C,uCAAiC,gBAAgB,IAAI,MAAM;AAAA,IAC7D;AAAA,EACF;AACA,SAAO;AAAA,IACL,oBAAoB,CAAC,mBAAmB;AACtC,UAAIY;AACJ,cAAQA,OAAM,iCAAiC,cAAc,MAAM,OAAOA,OAAM;AAAA,IAClF;AAAA,IACA,kBAAkB,CAAC,qBAAqB;AACtC,UAAIA;AACJ,cAAQA,OAAM,iCAAiC,gBAAgB,MAAM,OAAOA,OAAM;AAAA,IACpF;AAAA,EACJ;AACA;AAGA,eAAe,MAAM,WAAW,SAAS;AACvC,MAAI,aAAa,MAAM;AACrB,WAAO,QAAQ,QAAO;AAAA,EACxB;AACA,QAAM,SAAS,WAAW,OAAO,SAAS,QAAQ;AAClD,SAAO,IAAI,QAAQ,CAAC,UAAU,WAAW;AACvC,QAAI,UAAU,OAAO,SAAS,OAAO,SAAS;AAC5C,aAAO,iBAAgB,CAAE;AACzB;AAAA,IACF;AACA,UAAM,YAAY,WAAW,MAAM;AACjC,cAAO;AACP,eAAQ;AAAA,IACV,GAAG,SAAS;AACZ,UAAM,UAAU,MAAM;AACpB,mBAAa,SAAS;AACtB,gBAAU,OAAO,SAAS,OAAO,oBAAoB,SAAS,OAAO;AAAA,IACvE;AACA,UAAM,UAAU,MAAM;AACpB,cAAO;AACP,aAAO,iBAAgB,CAAE;AAAA,IAC3B;AACA,cAAU,OAAO,SAAS,OAAO,iBAAiB,SAAS,OAAO;AAAA,EACpE,CAAC;AACH;AACA,SAAS,mBAAmB;AAC1B,SAAO,IAAI,aAAa,qBAAqB,YAAY;AAC3D;AAkDA,SAAS,uBAAuB,UAAU;AACxC,SAAO,OAAO,YAAY,CAAC,GAAG,SAAS,OAAO,CAAC;AACjD;AAGA,IAAI,QAAE+U,QAAI,MAAEC,OAAI,IAAK;AACrB,SAAS,0BAA0B,cAAc;AAC/C,QAAM,YAAY,aAAa,QAAQ,MAAM,GAAG,EAAE,QAAQ,MAAM,GAAG;AACnE,QAAM,eAAeA,OAAK,SAAS;AACnC,SAAO,WAAW,KAAK,cAAc,CAAC,SAAS,KAAK,YAAY,CAAC,CAAC;AACpE;AACA,SAAS,0BAA0BrJ,QAAO;AACxC,MAAI,eAAe;AACnB,WAAS,IAAI,GAAG,IAAIA,OAAM,QAAQ,KAAK;AACrC,oBAAgB,OAAO,cAAcA,OAAM,CAAC,CAAC;AAAA,EAC/C;AACA,SAAOoJ,OAAK,YAAY;AAC1B;AACA,SAAS,gBAAgB,OAAO;AAC9B,SAAO,iBAAiB,aAAa,0BAA0B,KAAK,IAAI;AAC1E;AASA,SAAS,kBAAkB,OAAO,UAAU,IAAI;AAC9C,QAAM,EAAE,mBAAmB,KAAI,IAAK;AACpC,QAAM,WAAW,IAAI,SAAQ;AAC7B,aAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,KAAK,GAAG;AAChD,QAAI,SAAS,MAAM;AACjB;AAAA,IACF;AACA,QAAI,MAAM,QAAQ,KAAK,GAAG;AACxB,UAAI,MAAM,WAAW,GAAG;AACtB,iBAAS,OAAO,KAAK,MAAM,CAAC,CAAC;AAC7B;AAAA,MACF;AACA,YAAM,WAAW,mBAAmB,GAAG,GAAG,OAAO;AACjD,iBAAW,QAAQ,OAAO;AACxB,iBAAS,OAAO,UAAU,IAAI;AAAA,MAChC;AACA;AAAA,IACF;AACA,aAAS,OAAO,KAAK,KAAK;AAAA,EAC5B;AACA,SAAO;AACT;AAIA,IAAI1X,SAAO;AACX,IAAIoC,WAAS,mBAAmBpC,MAAI;AACpC,IAAIqC,WAAS,OAAO,IAAID,QAAM;AAC9B,IAAIE,MAAIC;AACR,IAAI,gBAAgB,eAAeA,OAAK,YAAYD,OAAKD,UAAQE,MAAI;AAAA,EACnE,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,UAAU,SAAS,OAAO,sBAAsB,GAAG,KAAK,UAAU,IAAI,UAAU,KAAK,sBAAsB,GAAG,KAAK,KAAK;AAAA,EAC5H,GAAK;AACD,UAAM,EAAA,MAAEvC,QAAM,SAAS,MAAK,CAAE;AAC9B,SAAKsC,IAAE,IAAI;AACX,SAAK,MAAM;AACX,SAAK,aAAa;AAClB,SAAK,aAAa;AAAA,EACpB;AAAA,EACA,OAAO,WAAWP,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAOK,QAAM;AAAA,EAC3C;AACF;AAGA,eAAe,aAAa,KAAK;AAC/B,MAAI;AACF,UAAM,WAAW,MAAM,MAAM,GAAG;AAChC,QAAI,CAAC,SAAS,IAAI;AAChB,YAAM,IAAI,cAAc;AAAA,QACtB;AAAA,QACA,YAAY,SAAS;AAAA,QACrB,YAAY,SAAS;AAAA,MAC7B,CAAO;AAAA,IACH;AACA,WAAO,MAAM,SAAS,KAAI;AAAA,EAC5B,SAASL,QAAO;AACd,QAAI,cAAc,WAAWA,MAAK,GAAG;AACnC,YAAMA;AAAA,IACR;AACA,UAAM,IAAI,cAAc,EAAE,KAAK,OAAOA,OAAK,CAAE;AAAA,EAC/C;AACF;AAIA,IAAI,oBAAoB,CAAC;AAAA,EACvB;AAAA,EACA,OAAO;AAAA,EACP,WAAW;AAAA,EACX,YAAY;AACd,IAAI,OAAO;AACT,QAAM,YAAY,MAAM;AACtB,UAAM,iBAAiB,SAAS;AAChC,UAAM,QAAQ,IAAI,MAAM,IAAI;AAC5B,aAAS,IAAI,GAAG,IAAI,MAAM,KAAK;AAC7B,YAAM,CAAC,IAAI,SAAS,KAAK,OAAM,IAAK,iBAAiB,CAAC;AAAA,IACxD;AACA,WAAO,MAAM,KAAK,EAAE;AAAA,EACtB;AACA,MAAI,UAAU,MAAM;AAClB,WAAO;AAAA,EACT;AACA,MAAI,SAAS,SAAS,SAAS,GAAG;AAChC,UAAM,IAAIlC,uBAAqB;AAAA,MAC7B,UAAU;AAAA,MACV,SAAS,kBAAkB,SAAS,uCAAuC,QAAQ;AAAA,IACzF,CAAK;AAAA,EACH;AACA,SAAO,MAAM,GAAG,MAAM,GAAG,SAAS,GAAG,UAAS,CAAE;AAClD;AACA,IAAI,aAAa,kBAAiB;AAGlC,SAAS,gBAAgBkC,QAAO;AAC9B,MAAIA,UAAS,MAAM;AACjB,WAAO;AAAA,EACT;AACA,MAAI,OAAOA,WAAU,UAAU;AAC7B,WAAOA;AAAA,EACT;AACA,MAAIA,kBAAiB,OAAO;AAC1B,WAAOA,OAAM;AAAA,EACf;AACA,SAAO,KAAK,UAAUA,MAAK;AAC7B;AASA,SAAS,aAAaA,QAAO;AAC3B,UAAQA,kBAAiB,SAASA,kBAAiB,kBAAkBA,OAAM,SAAS,gBAAgBA,OAAM,SAAS;AAAA,EACnHA,OAAM,SAAS;AACjB;AAGA,IAAI,8BAA8B,CAAC,gBAAgB,iBAAiB;AACpE,SAAS,iBAAiB;AAAA,EACxB,OAAAA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAI,aAAaA,MAAK,GAAG;AACvB,WAAOA;AAAA,EACT;AACA,MAAIA,kBAAiB,aAAa,4BAA4B,SAASA,OAAM,QAAQ,YAAW,CAAE,GAAG;AACnG,UAAM,QAAQA,OAAM;AACpB,QAAI,SAAS,MAAM;AACjB,aAAO,IAAI,aAAa;AAAA,QACtB,SAAS,0BAA0B,MAAM,OAAO;AAAA,QAChD;AAAA,QACA;AAAA,QACA;AAAA,QACA,aAAa;AAAA;AAAA,MAErB,CAAO;AAAA,IACH;AAAA,EACF;AACA,SAAOA;AACT;AAGA,SAAS,+BAA+B,gBAAgB,YAAY;AAClE,MAAIY,MAAKC,MAAK;AACd,MAAI,cAAc,QAAQ;AACxB,WAAO;AAAA,EACT;AACA,OAAKD,OAAM,cAAc,cAAc,OAAO,SAASA,KAAI,WAAW;AACpE,WAAO,WAAW,cAAc,UAAU,UAAU,YAAW,CAAE;AAAA,EACnE;AACA,OAAK,MAAMC,OAAM,cAAc,YAAY,OAAO,SAASA,KAAI,aAAa,OAAO,SAAS,GAAG,MAAM;AACnG,WAAO,mBAAmB,cAAc,QAAQ,QAAQ,UAAU,CAAC,CAAC;AAAA,EACtE;AACA,MAAI,cAAc,aAAa;AAC7B,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAGA,SAAS,iBAAiB,SAAS;AACjC,MAAI,WAAW,MAAM;AACnB,WAAO,CAAA;AAAA,EACT;AACA,QAAM,aAAa,CAAA;AACnB,MAAI,mBAAmB,SAAS;AAC9B,YAAQ,QAAQ,CAAC,OAAO,QAAQ;AAC9B,iBAAW,IAAI,YAAW,CAAE,IAAI;AAAA,IAClC,CAAC;AAAA,EACH,OAAO;AACL,QAAI,CAAC,MAAM,QAAQ,OAAO,GAAG;AAC3B,gBAAU,OAAO,QAAQ,OAAO;AAAA,IAClC;AACA,eAAW,CAAC,KAAK,KAAK,KAAK,SAAS;AAClC,UAAI,SAAS,MAAM;AACjB,mBAAW,IAAI,YAAW,CAAE,IAAI;AAAA,MAClC;AAAA,IACF;AAAA,EACF;AACA,SAAO;AACT;AAGA,SAAS,oBAAoB,YAAY,sBAAsB;AAC7D,QAAM,oBAAoB,IAAI,QAAQ,iBAAiB,OAAO,CAAC;AAC/D,QAAM,yBAAyB,kBAAkB,IAAI,YAAY,KAAK;AACtE,oBAAkB;AAAA,IAChB;AAAA,IACA,CAAC,wBAAwB,GAAG,oBAAoB,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG;AAAA,EAC9E;AACE,SAAO,OAAO,YAAY,kBAAkB,QAAO,CAAE;AACvD;AAGA,IAAIgV,YAAiB;AAGrB,IAAI,mBAAmB,MAAM,WAAW;AACxC,IAAI,aAAa,OAAO;AAAA,EACtB;AAAA,EACA,UAAU,CAAA;AAAA,EACV;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO,SAAS,iBAAgB;AAClC,MAAM;AACJ,MAAI;AACF,UAAM,WAAW,MAAM,OAAO,KAAK;AAAA,MACjC,QAAQ;AAAA,MACR,SAAS;AAAA,QACP;AAAA,QACA,yBAAyBA,SAAO;AAAA,QAChC,+BAA8B;AAAA,MACtC;AAAA,MACM,QAAQ;AAAA,IACd,CAAK;AACD,UAAM,kBAAkB,uBAAuB,QAAQ;AACvD,QAAI,CAAC,SAAS,IAAI;AAChB,UAAI;AACJ,UAAI;AACF,2BAAmB,MAAM,sBAAsB;AAAA,UAC7C;AAAA,UACA;AAAA,UACA,mBAAmB,CAAA;AAAA,QAC7B,CAAS;AAAA,MACH,SAAS7V,QAAO;AACd,YAAI,aAAaA,MAAK,KAAK8V,aAAc,WAAW9V,MAAK,GAAG;AAC1D,gBAAMA;AAAA,QACR;AACA,cAAM,IAAI8V,aAAc;AAAA,UACtB,SAAS;AAAA,UACT,OAAO9V;AAAA,UACP,YAAY,SAAS;AAAA,UACrB;AAAA,UACA;AAAA,UACA,mBAAmB,CAAA;AAAA,QAC7B,CAAS;AAAA,MACH;AACA,YAAM,iBAAiB;AAAA,IACzB;AACA,QAAI;AACF,aAAO,MAAM,0BAA0B;AAAA,QACrC;AAAA,QACA;AAAA,QACA,mBAAmB,CAAA;AAAA,MAC3B,CAAO;AAAA,IACH,SAASA,QAAO;AACd,UAAIA,kBAAiB,OAAO;AAC1B,YAAI,aAAaA,MAAK,KAAK8V,aAAc,WAAW9V,MAAK,GAAG;AAC1D,gBAAMA;AAAA,QACR;AAAA,MACF;AACA,YAAM,IAAI8V,aAAc;AAAA,QACtB,SAAS;AAAA,QACT,OAAO9V;AAAA,QACP,YAAY,SAAS;AAAA,QACrB;AAAA,QACA;AAAA,QACA,mBAAmB,CAAA;AAAA,MAC3B,CAAO;AAAA,IACH;AAAA,EACF,SAASA,QAAO;AACd,UAAM,iBAAiB,EAAE,OAAAA,QAAO,KAAK,mBAAmB,CAAA,EAAE,CAAE;AAAA,EAC9D;AACF;AA0CA,SAAS,cAAc,OAAO;AAC5B,SAAO,SAAS;AAClB;AAGA,SAAS,eAAe;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,QAAM,IAAI,YAAW;AACrB,cAAY,UAAU,YAAW;AACjC,SAAO,OAAO,QAAQ,aAAa,EAAE,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM;AACzD,UAAM,aAAa,IAAI,YAAW;AAClC,WAAO,eAAe,OAAO,eAAe,QAAQ,EAAE,iBAAiB,IAAI,SAAS,MAAK,IAAK,EAAE,iBAAiB,WAAW,QAAQ,MAAM,EAAE,GAAG,SAAS,MAAK;AAAA,EAC/J,CAAC,EAAE,OAAO,CAAC,EAAE,gBAAe,MAAO,UAAU,WAAW,eAAe,CAAC,EAAE,QAAQ,CAAC,EAAE,QAAO,MAAO,OAAO,EAAE,KAAK,CAAC,YAAY,QAAQ,KAAK,GAAG,CAAC;AACjJ;AAIA,SAAS,WAAW;AAAA,EAClB;AAAA,EACA;AAAA,EACA,sBAAsB;AAAA,EACtB;AACF,GAAG;AACD,MAAI,OAAO,WAAW,UAAU;AAC9B,WAAO;AAAA,EACT;AACA,MAAI,UAAU,MAAM;AAClB,UAAM,IAAI,gBAAgB;AAAA,MACxB,SAAS,GAAG,WAAW;AAAA,IAC7B,CAAK;AAAA,EACH;AACA,MAAI,OAAO,YAAY,aAAa;AAClC,UAAM,IAAI,gBAAgB;AAAA,MACxB,SAAS,GAAG,WAAW,2CAA2C,mBAAmB;AAAA,IAC3F,CAAK;AAAA,EACH;AACA,WAAS,QAAQ,IAAI,uBAAuB;AAC5C,MAAI,UAAU,MAAM;AAClB,UAAM,IAAI,gBAAgB;AAAA,MACxB,SAAS,GAAG,WAAW,2CAA2C,mBAAmB,sBAAsB,uBAAuB;AAAA,IACxI,CAAK;AAAA,EACH;AACA,MAAI,OAAO,WAAW,UAAU;AAC9B,UAAM,IAAI,gBAAgB;AAAA,MACxB,SAAS,GAAG,WAAW,+CAA+C,uBAAuB;AAAA,IACnG,CAAK;AAAA,EACH;AACA,SAAO;AACT;AAGA,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AACF,GAAG;AACD,MAAI,OAAO,iBAAiB,UAAU;AACpC,WAAO;AAAA,EACT;AACA,MAAI,gBAAgB,QAAQ,OAAO,YAAY,aAAa;AAC1D,WAAO;AAAA,EACT;AACA,iBAAe,QAAQ,IAAI,uBAAuB;AAClD,MAAI,gBAAgB,QAAQ,OAAO,iBAAiB,UAAU;AAC5D,WAAO;AAAA,EACT;AACA,SAAO;AACT;AAsCA,SAAS,qBAAqB,WAAW;AACvC,MAAIY;AACJ,QAAM,CAAC,OAAO,UAAU,EAAE,IAAI,UAAU,YAAW,EAAG,MAAM,GAAG;AAC/D,UAAQA,OAAM;AAAA,IACZ,MAAM;AAAA,IACN,SAAS;AAAA,IACT,MAAM;AAAA,IACN,KAAK;AAAA,IACL,SAAS;AAAA,EACb,EAAI,OAAO,MAAM,OAAOA,OAAM;AAC9B;AASA,IAAI,iBAAiB;AACrB,IAAI,uBAAuB;AAC3B,SAAS,OAAOlB,OAAM;AACpB,QAAM,MAAM,KAAK,MAAMA,KAAI;AAC3B,MAAI,QAAQ,QAAQ,OAAO,QAAQ,UAAU;AAC3C,WAAO;AAAA,EACT;AACA,MAAI,eAAe,KAAKA,KAAI,MAAM,SAAS,qBAAqB,KAAKA,KAAI,MAAM,OAAO;AACpF,WAAO;AAAA,EACT;AACA,SAAO,OAAO,GAAG;AACnB;AACA,SAAS,OAAO,KAAK;AACnB,MAAI,OAAO,CAAC,GAAG;AACf,SAAO,KAAK,QAAQ;AAClB,UAAM,QAAQ;AACd,WAAO,CAAA;AACP,eAAW,QAAQ,OAAO;AACxB,UAAI,OAAO,UAAU,eAAe,KAAK,MAAM,WAAW,GAAG;AAC3D,cAAM,IAAI,YAAY,8CAA8C;AAAA,MACtE;AACA,UAAI,OAAO,UAAU,eAAe,KAAK,MAAM,aAAa,KAAK,OAAO,UAAU,eAAe,KAAK,KAAK,aAAa,WAAW,GAAG;AACpI,cAAM,IAAI,YAAY,8CAA8C;AAAA,MACtE;AACA,iBAAW,OAAO,MAAM;AACtB,cAAM,QAAQ,KAAK,GAAG;AACtB,YAAI,SAAS,OAAO,UAAU,UAAU;AACtC,eAAK,KAAK,KAAK;AAAA,QACjB;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,gBAAgBA,OAAM;AAC7B,QAAM,EAAE,gBAAe,IAAK;AAC5B,MAAI;AACF,UAAM,kBAAkB;AAAA,EAC1B,SAAS,GAAG;AACV,WAAO,OAAOA,KAAI;AAAA,EACpB;AACA,MAAI;AACF,WAAO,OAAOA,KAAI;AAAA,EACpB,UAAC;AACC,UAAM,kBAAkB;AAAA,EAC1B;AACF;AAUA,SAAS,oCAAoC,aAAa;AACxD,MAAI,YAAY,SAAS,YAAY,MAAM,QAAQ,YAAY,IAAI,KAAK,YAAY,KAAK,SAAS,QAAQ,GAAG;AAC3G,gBAAY,uBAAuB;AACnC,UAAM,EAAE,WAAU,IAAK;AACvB,QAAI,cAAc,MAAM;AACtB,iBAAW,OAAO,OAAO,KAAK,UAAU,GAAG;AACzC,mBAAW,GAAG,IAAI,MAAM,WAAW,GAAG,CAAC;AAAA,MACzC;AAAA,IACF;AAAA,EACF;AACA,MAAI,YAAY,SAAS,MAAM;AAC7B,gBAAY,QAAQ,MAAM,QAAQ,YAAY,KAAK,IAAI,YAAY,MAAM,IAAI,KAAK,IAAI,MAAM,YAAY,KAAK;AAAA,EAC/G;AACA,MAAI,YAAY,SAAS,MAAM;AAC7B,gBAAY,QAAQ,YAAY,MAAM,IAAI,KAAK;AAAA,EACjD;AACA,MAAI,YAAY,SAAS,MAAM;AAC7B,gBAAY,QAAQ,YAAY,MAAM,IAAI,KAAK;AAAA,EACjD;AACA,MAAI,YAAY,SAAS,MAAM;AAC7B,gBAAY,QAAQ,YAAY,MAAM,IAAI,KAAK;AAAA,EACjD;AACA,QAAM,EAAE,YAAW,IAAK;AACxB,MAAI,eAAe,MAAM;AACvB,eAAW,OAAO,OAAO,KAAK,WAAW,GAAG;AAC1C,kBAAY,GAAG,IAAI,MAAM,YAAY,GAAG,CAAC;AAAA,IAC3C;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,MAAM,KAAK;AAClB,MAAI,OAAO,QAAQ,UAAW,QAAO;AACrC,SAAO,oCAAoC,GAAG;AAChD;AAGA,IAAI,iBAAiB;AAAA,EACnB;AACF;AACA,IAAI,iBAAiB;AAAA,EACnB,MAAM;AAAA,EACN,cAAc;AAAA,EACd,UAAU,CAAC,GAAG;AAAA,EACd,gBAAgB;AAAA,EAChB,cAAc;AAAA,EACd,cAAc;AAAA,EACd,aAAa;AAAA,EACb,0BAA0B;AAAA,EAC1B,6BAA6B;AAAA,EAC7B,8BAA8B;AAAA,EAC9B,gBAAgB;AAAA,EAChB,cAAc;AAAA,EACd,aAAa,CAAA;AAAA,EACb,eAAe;AAAA,EACf,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,eAAe;AAAA,EACf,gBAAgB;AAAA,EAChB,cAAc;AAChB;AACA,IAAI,oBAAoB,CAAC,YAAY,OAAO,YAAY,WAAW;AAAA,EACjE,GAAG;AAAA,EACH,MAAM;AACR,IAAI;AAAA,EACF,GAAG;AAAA,EACH,GAAG;AACL;AAMA,SAAS,cAAc;AACrB,SAAO,CAAA;AACT;AAIA,SAAS,cAAc,KAAK,MAAM;AAChC,MAAIkB,MAAKC,MAAK;AACd,QAAM,MAAM;AAAA,IACV,MAAM;AAAA,EACV;AACE,QAAMD,OAAM,IAAI,SAAS,OAAO,SAASA,KAAI,WAAW,MAAMC,OAAM,IAAI,SAAS,OAAO,SAASA,KAAI,SAAS,OAAO,SAAS,GAAG,cAAc,sBAAsB,QAAQ;AAC3K,QAAI,QAAQ,SAAS,IAAI,KAAK,MAAM;AAAA,MAClC,GAAG;AAAA,MACH,aAAa,CAAC,GAAG,KAAK,aAAa,OAAO;AAAA,IAChD,CAAK;AAAA,EACH;AACA,MAAI,IAAI,WAAW;AACjB,QAAI,WAAW,IAAI,UAAU;AAAA,EAC/B;AACA,MAAI,IAAI,WAAW;AACjB,QAAI,WAAW,IAAI,UAAU;AAAA,EAC/B;AACA,MAAI,IAAI,aAAa;AACnB,QAAI,WAAW,IAAI,YAAY;AAC/B,QAAI,WAAW,IAAI,YAAY;AAAA,EACjC;AACA,SAAO;AACT;AAGA,SAAS,eAAe,KAAK;AAC3B,QAAM,MAAM;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,EACZ;AACE,MAAI,CAAC,IAAI,OAAQ,QAAO;AACxB,aAAW,SAAS,IAAI,QAAQ;AAC9B,YAAQ,MAAM,MAAI;AAAA,MAChB,KAAK;AACH,YAAI,MAAM,WAAW;AACnB,cAAI,UAAU,MAAM;AAAA,QACtB,OAAO;AACL,cAAI,mBAAmB,MAAM;AAAA,QAC/B;AACA;AAAA,MACF,KAAK;AACH,YAAI,MAAM,WAAW;AACnB,cAAI,UAAU,MAAM;AAAA,QACtB,OAAO;AACL,cAAI,mBAAmB,MAAM;AAAA,QAC/B;AACA;AAAA,MACF,KAAK;AACH,YAAI,aAAa,MAAM;AACvB;AAAA,IACR;AAAA,EACE;AACA,SAAO;AACT;AAGA,SAAS,kBAAkB;AACzB,SAAO,EAAE,MAAM,UAAS;AAC1B;AAGA,SAAS,gBAAgB,MAAM,MAAM;AACnC,SAAO,SAAS,KAAK,KAAK,MAAM,IAAI;AACtC;AAGA,IAAI,gBAAgB,CAAC,KAAK,SAAS;AACjC,SAAO,SAAS,IAAI,UAAU,MAAM,IAAI;AAC1C;AAGA,SAAS,aAAa,KAAK,MAAM,sBAAsB;AACrD,QAAM,WAAW,wBAAwB,OAAO,uBAAuB,KAAK;AAC5E,MAAI,MAAM,QAAQ,QAAQ,GAAG;AAC3B,WAAO;AAAA,MACL,OAAO,SAAS,IAAI,CAAC,MAAM,MAAM,aAAa,KAAK,MAAM,IAAI,CAAC;AAAA,IACpE;AAAA,EACE;AACA,UAAQ,UAAQ;AAAA,IACd,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,QACL,MAAM;AAAA,QACN,QAAQ;AAAA,MAChB;AAAA,IACI,KAAK;AACH,aAAO;AAAA,QACL,MAAM;AAAA,QACN,QAAQ;AAAA,MAChB;AAAA,IACI,KAAK;AACH,aAAO,kBAAkB,GAAG;AAAA,EAClC;AACA;AACA,IAAI,oBAAoB,CAAC,QAAQ;AAC/B,QAAM,MAAM;AAAA,IACV,MAAM;AAAA,IACN,QAAQ;AAAA,EACZ;AACE,aAAW,SAAS,IAAI,QAAQ;AAC9B,YAAQ,MAAM,MAAI;AAAA,MAChB,KAAK;AACH,YAAI,UAAU,MAAM;AACpB;AAAA,MACF,KAAK;AACH,YAAI,UAAU,MAAM;AACpB;AAAA,IACR;AAAA,EACE;AACA,SAAO;AACT;AAGA,SAAS,gBAAgB,MAAM,MAAM;AACnC,SAAO;AAAA,IACL,GAAG,SAAS,KAAK,UAAU,MAAM,IAAI;AAAA,IACrC,SAAS,KAAK,aAAY;AAAA,EAC9B;AACA;AAGA,SAAS,gBAAgB,MAAM,MAAM;AACnC,SAAO,KAAK,mBAAmB,UAAU,SAAS,KAAK,OAAO,MAAM,IAAI,IAAI,YAAW;AACzF;AAGA,SAAS,aAAa,KAAK;AACzB,SAAO;AAAA,IACL,MAAM;AAAA,IACN,MAAM,MAAM,KAAK,IAAI,MAAM;AAAA,EAC/B;AACA;AAGA,IAAI,yBAAyB,CAAC,SAAS;AACrC,MAAI,UAAU,QAAQ,KAAK,SAAS,SAAU,QAAO;AACrD,SAAO,WAAW;AACpB;AACA,SAAS,qBAAqB,KAAK,MAAM;AACvC,QAAM,QAAQ;AAAA,IACZ,SAAS,IAAI,KAAK,MAAM;AAAA,MACtB,GAAG;AAAA,MACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,GAAG;AAAA,IACrD,CAAK;AAAA,IACD,SAAS,IAAI,MAAM,MAAM;AAAA,MACvB,GAAG;AAAA,MACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,GAAG;AAAA,IACrD,CAAK;AAAA,EACL,EAAI,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC;AACnB,QAAM,cAAc,CAAA;AACpB,QAAM,QAAQ,CAAC,WAAW;AACxB,QAAI,uBAAuB,MAAM,GAAG;AAClC,kBAAY,KAAK,GAAG,OAAO,KAAK;AAAA,IAClC,OAAO;AACL,UAAI,eAAe;AACnB,UAAI,0BAA0B,UAAU,OAAO,yBAAyB,OAAO;AAC7E,cAAM,EAAE,sBAAsB,GAAG,KAAI,IAAK;AAC1C,uBAAe;AAAA,MACjB;AACA,kBAAY,KAAK,YAAY;AAAA,IAC/B;AAAA,EACF,CAAC;AACD,SAAO,YAAY,SAAS,EAAE,OAAO,YAAW,IAAK;AACvD;AAGA,SAAS,gBAAgB,KAAK;AAC5B,QAAM,aAAa,OAAO,IAAI;AAC9B,MAAI,eAAe,YAAY,eAAe,YAAY,eAAe,aAAa,eAAe,UAAU;AAC7G,WAAO;AAAA,MACL,MAAM,MAAM,QAAQ,IAAI,KAAK,IAAI,UAAU;AAAA,IACjD;AAAA,EACE;AACA,SAAO;AAAA,IACL,MAAM,eAAe,WAAW,YAAY;AAAA,IAC5C,OAAO,IAAI;AAAA,EACf;AACA;AAQA,IAAI,aAAa;AACjB,IAAI,cAAc;AAAA;AAAA;AAAA;AAAA,EAIhB,MAAM;AAAA,EACN,OAAO;AAAA,EACP,MAAM;AAAA;AAAA;AAAA;AAAA,EAIN,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYP,OAAO,MAAM;AACX,QAAI,eAAe,QAAQ;AACzB,mBAAa;AAAA,QACX;AAAA,QACA;AAAA,MACR;AAAA,IACI;AACA,WAAO;AAAA,EACT;AAAA;AAAA;AAAA;AAAA,EAIA,MAAM;AAAA;AAAA;AAAA;AAAA,EAIN,MAAM;AAAA,EACN,UAAU;AAAA;AAAA;AAAA;AAAA,EAIV,MAAM;AAAA,EACN,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,WAAW;AAAA,EACX,QAAQ;AAAA,EACR,KAAK;AACP;AACA,SAAS,eAAe,KAAK,MAAM;AACjC,QAAM,MAAM;AAAA,IACV,MAAM;AAAA,EACV;AACE,MAAI,IAAI,QAAQ;AACd,eAAW,SAAS,IAAI,QAAQ;AAC9B,cAAQ,MAAM,MAAI;AAAA,QAChB,KAAK;AACH,cAAI,YAAY,OAAO,IAAI,cAAc,WAAW,KAAK,IAAI,IAAI,WAAW,MAAM,KAAK,IAAI,MAAM;AACjG;AAAA,QACF,KAAK;AACH,cAAI,YAAY,OAAO,IAAI,cAAc,WAAW,KAAK,IAAI,IAAI,WAAW,MAAM,KAAK,IAAI,MAAM;AACjG;AAAA,QACF,KAAK;AACH,kBAAQ,KAAK,eAAa;AAAA,YACxB,KAAK;AACH,wBAAU,KAAK,SAAS,MAAM,SAAS,IAAI;AAC3C;AAAA,YACF,KAAK;AACH,wBAAU,KAAK,aAAa,MAAM,SAAS,IAAI;AAC/C;AAAA,YACF,KAAK;AACH,yBAAW,KAAK,YAAY,OAAO,MAAM,SAAS,IAAI;AACtD;AAAA,UACd;AACU;AAAA,QACF,KAAK;AACH,oBAAU,KAAK,OAAO,MAAM,SAAS,IAAI;AACzC;AAAA,QACF,KAAK;AACH,oBAAU,KAAK,QAAQ,MAAM,SAAS,IAAI;AAC1C;AAAA,QACF,KAAK;AACH,qBAAW,KAAK,MAAM,OAAO,MAAM,SAAS,IAAI;AAChD;AAAA,QACF,KAAK;AACH,qBAAW,KAAK,YAAY,MAAM,MAAM,SAAS,IAAI;AACrD;AAAA,QACF,KAAK;AACH,qBAAW,KAAK,YAAY,OAAO,MAAM,SAAS,IAAI;AACtD;AAAA,QACF,KAAK;AACH;AAAA,YACE;AAAA,YACA,OAAO,IAAI,wBAAwB,MAAM,OAAO,IAAI,CAAC,EAAE;AAAA,YACvD,MAAM;AAAA,YACN;AAAA,UACZ;AACU;AAAA,QACF,KAAK;AACH;AAAA,YACE;AAAA,YACA,OAAO,GAAG,wBAAwB,MAAM,OAAO,IAAI,CAAC,GAAG;AAAA,YACvD,MAAM;AAAA,YACN;AAAA,UACZ;AACU;AAAA,QACF,KAAK;AACH,oBAAU,KAAK,aAAa,MAAM,SAAS,IAAI;AAC/C;AAAA,QACF,KAAK;AACH,oBAAU,KAAK,QAAQ,MAAM,SAAS,IAAI;AAC1C;AAAA,QACF,KAAK;AACH,oBAAU,KAAK,QAAQ,MAAM,SAAS,IAAI;AAC1C;AAAA,QACF,KAAK;AACH,oBAAU,KAAK,YAAY,MAAM,SAAS,IAAI;AAC9C;AAAA,QACF,KAAK;AACH,cAAI,YAAY,OAAO,IAAI,cAAc,WAAW,KAAK,IAAI,IAAI,WAAW,MAAM,KAAK,IAAI,MAAM;AACjG,cAAI,YAAY,OAAO,IAAI,cAAc,WAAW,KAAK,IAAI,IAAI,WAAW,MAAM,KAAK,IAAI,MAAM;AACjG;AAAA,QACF,KAAK,YAAY;AACf;AAAA,YACE;AAAA,YACA,OAAO,wBAAwB,MAAM,OAAO,IAAI,CAAC;AAAA,YACjD,MAAM;AAAA,YACN;AAAA,UACZ;AACU;AAAA,QACF;AAAA,QACA,KAAK,MAAM;AACT,cAAI,MAAM,YAAY,MAAM;AAC1B,sBAAU,KAAK,QAAQ,MAAM,SAAS,IAAI;AAAA,UAC5C;AACA,cAAI,MAAM,YAAY,MAAM;AAC1B,sBAAU,KAAK,QAAQ,MAAM,SAAS,IAAI;AAAA,UAC5C;AACA;AAAA,QACF;AAAA,QACA,KAAK;AACH,qBAAW,KAAK,YAAY,WAAW,MAAM,SAAS,IAAI;AAC1D;AAAA,QACF,KAAK;AACH,qBAAW,KAAK,YAAY,KAAK,MAAM,SAAS,IAAI;AACpD;AAAA,QACF,KAAK,QAAQ;AACX,cAAI,MAAM,YAAY,MAAM;AAC1B,uBAAW,KAAK,YAAY,UAAU,MAAM,SAAS,IAAI;AAAA,UAC3D;AACA,cAAI,MAAM,YAAY,MAAM;AAC1B,uBAAW,KAAK,YAAY,UAAU,MAAM,SAAS,IAAI;AAAA,UAC3D;AACA;AAAA,QACF;AAAA,QACA,KAAK;AACH,qBAAW,KAAK,YAAY,MAAK,GAAI,MAAM,SAAS,IAAI;AACxD;AAAA,QACF,KAAK,QAAQ;AACX,qBAAW,KAAK,YAAY,MAAM,MAAM,SAAS,IAAI;AACrD;AAAA,QACF;AAAA,QACA,KAAK,UAAU;AACb,kBAAQ,KAAK,gBAAc;AAAA,YACzB,KAAK,iBAAiB;AACpB,wBAAU,KAAK,UAAU,MAAM,SAAS,IAAI;AAC5C;AAAA,YACF;AAAA,YACA,KAAK,0BAA0B;AAC7B,kBAAI,kBAAkB;AACtB;AAAA,YACF;AAAA,YACA,KAAK,eAAe;AAClB,yBAAW,KAAK,YAAY,QAAQ,MAAM,SAAS,IAAI;AACvD;AAAA,YACF;AAAA,UACZ;AACU;AAAA,QACF;AAAA,QACA,KAAK,UAAU;AACb,qBAAW,KAAK,YAAY,QAAQ,MAAM,SAAS,IAAI;AAAA,QACzD;AAAA,MAQR;AAAA,IACI;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,wBAAwBkV,UAAS,MAAM;AAC9C,SAAO,KAAK,oBAAoB,WAAW,sBAAsBA,QAAO,IAAIA;AAC9E;AACA,IAAI,gBAAgB,IAAI;AAAA,EACtB;AACF;AACA,SAAS,sBAAsB,QAAQ;AACrC,MAAI,SAAS;AACb,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAI,CAAC,cAAc,IAAI,OAAO,CAAC,CAAC,GAAG;AACjC,gBAAU;AAAA,IACZ;AACA,cAAU,OAAO,CAAC;AAAA,EACpB;AACA,SAAO;AACT;AACA,SAAS,UAAU,QAAQ,OAAO,SAAS,MAAM;AAC/C,MAAInV;AACJ,MAAI,OAAO,YAAYA,OAAM,OAAO,UAAU,OAAO,SAASA,KAAI,KAAK,CAAC,MAAM,EAAE,MAAM,IAAI;AACxF,QAAI,CAAC,OAAO,OAAO;AACjB,aAAO,QAAQ,CAAA;AAAA,IACjB;AACA,QAAI,OAAO,QAAQ;AACjB,aAAO,MAAM,KAAK;AAAA,QAChB,QAAQ,OAAO;AAAA,MACvB,CAAO;AACD,aAAO,OAAO;AAAA,IAChB;AACA,WAAO,MAAM,KAAK;AAAA,MAChB,QAAQ;AAAA,MACR,GAAG,WAAW,KAAK,iBAAiB,EAAE,cAAc,EAAE,QAAQ,QAAO,EAAE;AAAA,IAC7E,CAAK;AAAA,EACH,OAAO;AACL,WAAO,SAAS;AAAA,EAClB;AACF;AACA,SAAS,WAAW,QAAQ,OAAO,SAAS,MAAM;AAChD,MAAIA;AACJ,MAAI,OAAO,aAAaA,OAAM,OAAO,UAAU,OAAO,SAASA,KAAI,KAAK,CAAC,MAAM,EAAE,OAAO,IAAI;AAC1F,QAAI,CAAC,OAAO,OAAO;AACjB,aAAO,QAAQ,CAAA;AAAA,IACjB;AACA,QAAI,OAAO,SAAS;AAClB,aAAO,MAAM,KAAK;AAAA,QAChB,SAAS,OAAO;AAAA,MACxB,CAAO;AACD,aAAO,OAAO;AAAA,IAChB;AACA,WAAO,MAAM,KAAK;AAAA,MAChB,SAAS,yBAAyB,OAAO,IAAI;AAAA,MAC7C,GAAG,WAAW,KAAK,iBAAiB,EAAE,cAAc,EAAE,SAAS,QAAO,EAAE;AAAA,IAC9E,CAAK;AAAA,EACH,OAAO;AACL,WAAO,UAAU,yBAAyB,OAAO,IAAI;AAAA,EACvD;AACF;AACA,SAAS,yBAAyB,OAAO,MAAM;AAC7C,MAAIA;AACJ,MAAI,CAAC,KAAK,mBAAmB,CAAC,MAAM,OAAO;AACzC,WAAO,MAAM;AAAA,EACf;AACA,QAAM,QAAQ;AAAA,IACZ,GAAG,MAAM,MAAM,SAAS,GAAG;AAAA;AAAA,IAE3B,GAAG,MAAM,MAAM,SAAS,GAAG;AAAA;AAAA,IAE3B,GAAG,MAAM,MAAM,SAAS,GAAG;AAAA;AAAA,EAE/B;AACE,QAAM,SAAS,MAAM,IAAI,MAAM,OAAO,YAAW,IAAK,MAAM;AAC5D,MAAI,UAAU;AACd,MAAI,YAAY;AAChB,MAAI,cAAc;AAClB,MAAI,cAAc;AAClB,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,QAAI,WAAW;AACb,iBAAW,OAAO,CAAC;AACnB,kBAAY;AACZ;AAAA,IACF;AACA,QAAI,MAAM,GAAG;AACX,UAAI,aAAa;AACf,YAAI,OAAO,CAAC,EAAE,MAAM,OAAO,GAAG;AAC5B,cAAI,aAAa;AACf,uBAAW,OAAO,CAAC;AACnB,uBAAW,GAAG,OAAO,IAAI,CAAC,CAAC,IAAI,OAAO,CAAC,CAAC,GAAG,YAAW;AACtD,0BAAc;AAAA,UAChB,WAAW,OAAO,IAAI,CAAC,MAAM,SAASA,OAAM,OAAO,IAAI,CAAC,MAAM,OAAO,SAASA,KAAI,MAAM,OAAO,IAAI;AACjG,uBAAW,OAAO,CAAC;AACnB,0BAAc;AAAA,UAChB,OAAO;AACL,uBAAW,GAAG,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,EAAE,YAAW,CAAE;AAAA,UACnD;AACA;AAAA,QACF;AAAA,MACF,WAAW,OAAO,CAAC,EAAE,MAAM,OAAO,GAAG;AACnC,mBAAW,IAAI,OAAO,CAAC,CAAC,GAAG,OAAO,CAAC,EAAE,YAAW,CAAE;AAClD;AAAA,MACF;AAAA,IACF;AACA,QAAI,MAAM,GAAG;AACX,UAAI,OAAO,CAAC,MAAM,KAAK;AACrB,mBAAW;AAAA;AAEX;AAAA,MACF,WAAW,OAAO,CAAC,MAAM,KAAK;AAC5B,mBAAW;AAAA;AAEX;AAAA,MACF;AAAA,IACF;AACA,QAAI,MAAM,KAAK,OAAO,CAAC,MAAM,KAAK;AAChC,iBAAW,cAAc,GAAG,OAAO,CAAC,CAAC;AAAA,IACvC,IAAI,OAAO,CAAC,CAAC;AAAA;AAEX;AAAA,IACF;AACA,eAAW,OAAO,CAAC;AACnB,QAAI,OAAO,CAAC,MAAM,MAAM;AACtB,kBAAY;AAAA,IACd,WAAW,eAAe,OAAO,CAAC,MAAM,KAAK;AAC3C,oBAAc;AAAA,IAChB,WAAW,CAAC,eAAe,OAAO,CAAC,MAAM,KAAK;AAC5C,oBAAc;AAAA,IAChB;AAAA,EACF;AACA,MAAI;AACF,QAAI,OAAO,OAAO;AAAA,EACpB,SAAS,GAAG;AACV,YAAQ;AAAA,MACN,sCAAsC,KAAK,YAAY;AAAA,QACrD;AAAA,MACR,CAAO;AAAA,IACP;AACI,WAAO,MAAM;AAAA,EACf;AACA,SAAO;AACT;AAGA,SAAS,eAAe,KAAK,MAAM;AACjC,MAAIA,MAAKC,MAAK,IAAI,IAAI,IAAI;AAC1B,QAAM,SAAS;AAAA,IACb,MAAM;AAAA,IACN,uBAAuBD,OAAM,SAAS,IAAI,UAAU,MAAM;AAAA,MACxD,GAAG;AAAA,MACH,aAAa,CAAC,GAAG,KAAK,aAAa,sBAAsB;AAAA,IAC/D,CAAK,MAAM,OAAOA,OAAM,KAAK;AAAA,EAC7B;AACE,QAAMC,OAAM,IAAI,YAAY,OAAO,SAASA,KAAI,KAAK,cAAcmV,sBAAuB,eAAe,KAAK,IAAI,QAAQ,KAAK,WAAW,OAAO,SAAS,GAAG,SAAS;AACpK,UAAM,EAAE,MAAM,GAAG,QAAO,IAAK,eAAe,IAAI,QAAQ,MAAM,IAAI;AAClE,WAAO;AAAA,MACL,GAAG;AAAA,MACH,eAAe;AAAA,IACrB;AAAA,EACE,aAAa,KAAK,IAAI,YAAY,OAAO,SAAS,GAAG,KAAK,cAAcA,sBAAuB,SAAS;AACtG,WAAO;AAAA,MACL,GAAG;AAAA,MACH,eAAe;AAAA,QACb,MAAM,IAAI,QAAQ,KAAK;AAAA,MAC/B;AAAA,IACA;AAAA,EACE,aAAa,KAAK,IAAI,YAAY,OAAO,SAAS,GAAG,KAAK,cAAcA,sBAAuB,cAAc,IAAI,QAAQ,KAAK,KAAK,KAAK,aAAaA,sBAAuB,eAAe,KAAK,IAAI,QAAQ,KAAK,KAAK,KAAK,WAAW,OAAO,SAAS,GAAG,SAAS;AAChQ,UAAM,EAAE,MAAM,GAAG,QAAO,IAAK;AAAA,MAC3B,IAAI,QAAQ;AAAA,MACZ;AAAA,IACN;AACI,WAAO;AAAA,MACL,GAAG;AAAA,MACH,eAAe;AAAA,IACrB;AAAA,EACE;AACA,SAAO;AACT;AAGA,SAAS,YAAY,KAAK,MAAM;AAC9B,MAAI,KAAK,gBAAgB,UAAU;AACjC,WAAO,eAAe,KAAK,IAAI;AAAA,EACjC;AACA,QAAM,OAAO,SAAS,IAAI,QAAQ,MAAM;AAAA,IACtC,GAAG;AAAA,IACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,SAAS,GAAG;AAAA,EAC5D,CAAG,KAAK,YAAW;AACjB,QAAM,SAAS,SAAS,IAAI,UAAU,MAAM;AAAA,IAC1C,GAAG;AAAA,IACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,SAAS,GAAG;AAAA,EAC5D,CAAG,KAAK,YAAW;AACjB,SAAO;AAAA,IACL,MAAM;AAAA,IACN,UAAU;AAAA,IACV,OAAO;AAAA,MACL,MAAM;AAAA,MACN,OAAO,CAAC,MAAM,MAAM;AAAA,MACpB,UAAU;AAAA,MACV,UAAU;AAAA,IAChB;AAAA,EACA;AACA;AAGA,SAAS,mBAAmB,KAAK;AAC/B,QAAMvY,UAAS,IAAI;AACnB,QAAM,aAAa,OAAO,KAAK,IAAI,MAAM,EAAE,OAAO,CAAC,QAAQ;AACzD,WAAO,OAAOA,QAAOA,QAAO,GAAG,CAAC,MAAM;AAAA,EACxC,CAAC;AACD,QAAM,eAAe,WAAW,IAAI,CAAC,QAAQA,QAAO,GAAG,CAAC;AACxD,QAAM,cAAc,MAAM;AAAA,IACxB,IAAI,IAAI,aAAa,IAAI,CAAC,WAAW,OAAO,MAAM,CAAC;AAAA,EACvD;AACE,SAAO;AAAA,IACL,MAAM,YAAY,WAAW,IAAI,YAAY,CAAC,MAAM,WAAW,WAAW,WAAW,CAAC,UAAU,QAAQ;AAAA,IACxG,MAAM;AAAA,EACV;AACA;AAGA,SAAS,gBAAgB;AACvB,SAAO,EAAE,KAAK,cAAa;AAC7B;AAGA,SAAS,eAAe;AACtB,SAAO;AAAA,IACL,MAAM;AAAA,EACV;AACA;AAGA,IAAI,oBAAoB;AAAA,EACtB,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,SAAS;AACX;AACA,SAAS,cAAc,KAAK,MAAM;AAChC,QAAM,UAAU,IAAI,mBAAmB,MAAM,MAAM,KAAK,IAAI,QAAQ,QAAQ,IAAI,IAAI;AACpF,MAAI,QAAQ;AAAA,IACV,CAAC,MAAM,EAAE,KAAK,YAAY,sBAAsB,CAAC,EAAE,KAAK,UAAU,CAAC,EAAE,KAAK,OAAO;AAAA,EACrF,GAAK;AACD,UAAM,QAAQ,QAAQ,OAAO,CAAC,QAAQ,MAAM;AAC1C,YAAM,OAAO,kBAAkB,EAAE,KAAK,QAAQ;AAC9C,aAAO,QAAQ,CAAC,OAAO,SAAS,IAAI,IAAI,CAAC,GAAG,QAAQ,IAAI,IAAI;AAAA,IAC9D,GAAG,CAAA,CAAE;AACL,WAAO;AAAA,MACL,MAAM,MAAM,SAAS,IAAI,QAAQ,MAAM,CAAC;AAAA,IAC9C;AAAA,EACE,WAAW,QAAQ,MAAM,CAAC,MAAM,EAAE,KAAK,aAAa,gBAAgB,CAAC,EAAE,WAAW,GAAG;AACnF,UAAM,QAAQ,QAAQ;AAAA,MACpB,CAAC,KAAK,MAAM;AACV,cAAM,OAAO,OAAO,EAAE,KAAK;AAC3B,gBAAQ,MAAI;AAAA,UACV,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AACH,mBAAO,CAAC,GAAG,KAAK,IAAI;AAAA,UACtB,KAAK;AACH,mBAAO,CAAC,GAAG,KAAK,SAAS;AAAA,UAC3B,KAAK;AACH,gBAAI,EAAE,KAAK,UAAU,KAAM,QAAO,CAAC,GAAG,KAAK,MAAM;AAAA,UACnD,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL;AACE,mBAAO;AAAA,QACnB;AAAA,MACM;AAAA,MACA,CAAA;AAAA,IACN;AACI,QAAI,MAAM,WAAW,QAAQ,QAAQ;AACnC,YAAM,cAAc,MAAM,OAAO,CAAC,GAAG,GAAG,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC;AAChE,aAAO;AAAA,QACL,MAAM,YAAY,SAAS,IAAI,cAAc,YAAY,CAAC;AAAA,QAC1D,MAAM,QAAQ;AAAA,UACZ,CAAC,KAAK,MAAM;AACV,mBAAO,IAAI,SAAS,EAAE,KAAK,KAAK,IAAI,MAAM,CAAC,GAAG,KAAK,EAAE,KAAK,KAAK;AAAA,UACjE;AAAA,UACA,CAAA;AAAA,QACV;AAAA,MACA;AAAA,IACI;AAAA,EACF,WAAW,QAAQ,MAAM,CAAC,MAAM,EAAE,KAAK,aAAa,SAAS,GAAG;AAC9D,WAAO;AAAA,MACL,MAAM;AAAA,MACN,MAAM,QAAQ;AAAA,QACZ,CAAC,KAAK,MAAM;AAAA,UACV,GAAG;AAAA,UACH,GAAG,EAAE,KAAK,OAAO,OAAO,CAAC,OAAO,CAAC,IAAI,SAAS,EAAE,CAAC;AAAA,QAC3D;AAAA,QACQ,CAAA;AAAA,MACR;AAAA,IACA;AAAA,EACE;AACA,SAAO,QAAQ,KAAK,IAAI;AAC1B;AACA,IAAI,UAAU,CAAC,KAAK,SAAS;AAC3B,QAAM,SAAS,IAAI,mBAAmB,MAAM,MAAM,KAAK,IAAI,QAAQ,OAAM,CAAE,IAAI,IAAI,SAAS;AAAA,IAC1F,CAAC,GAAG,MAAM,SAAS,EAAE,MAAM;AAAA,MACzB,GAAG;AAAA,MACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,GAAG,CAAC,EAAE;AAAA,IACxD,CAAK;AAAA,EACL,EAAI;AAAA,IACA,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,KAAK,gBAAgB,OAAO,MAAM,YAAY,OAAO,KAAK,CAAC,EAAE,SAAS;AAAA,EAC1F;AACE,SAAO,MAAM,SAAS,EAAE,MAAK,IAAK;AACpC;AAGA,SAAS,iBAAiB,KAAK,MAAM;AACnC,MAAI,CAAC,aAAa,aAAa,aAAa,cAAc,SAAS,EAAE;AAAA,IACnE,IAAI,UAAU,KAAK;AAAA,EACvB,MAAQ,CAAC,IAAI,UAAU,KAAK,UAAU,CAAC,IAAI,UAAU,KAAK,OAAO,SAAS;AACtE,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,kBAAkB,IAAI,UAAU,KAAK,QAAQ;AAAA,QAC7C;AAAA,MACR;AAAA,IACA;AAAA,EACE;AACA,QAAM,OAAO,SAAS,IAAI,UAAU,MAAM;AAAA,IACxC,GAAG;AAAA,IACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,GAAG;AAAA,EACnD,CAAG;AACD,SAAO,QAAQ,EAAE,OAAO,CAAC,MAAM,EAAE,MAAM,OAAM,CAAE,EAAC;AAClD;AAGA,SAAS,eAAe,KAAK;AAC3B,QAAM,MAAM;AAAA,IACV,MAAM;AAAA,EACV;AACE,MAAI,CAAC,IAAI,OAAQ,QAAO;AACxB,aAAW,SAAS,IAAI,QAAQ;AAC9B,YAAQ,MAAM,MAAI;AAAA,MAChB,KAAK;AACH,YAAI,OAAO;AACX;AAAA,MACF,KAAK;AACH,YAAI,MAAM,WAAW;AACnB,cAAI,UAAU,MAAM;AAAA,QACtB,OAAO;AACL,cAAI,mBAAmB,MAAM;AAAA,QAC/B;AACA;AAAA,MACF,KAAK;AACH,YAAI,MAAM,WAAW;AACnB,cAAI,UAAU,MAAM;AAAA,QACtB,OAAO;AACL,cAAI,mBAAmB,MAAM;AAAA,QAC/B;AACA;AAAA,MACF,KAAK;AACH,YAAI,aAAa,MAAM;AACvB;AAAA,IACR;AAAA,EACE;AACA,SAAO;AACT;AAGA,SAAS,eAAe,KAAK,MAAM;AACjC,QAAM,SAAS;AAAA,IACb,MAAM;AAAA,IACN,YAAY,CAAA;AAAA,EAChB;AACE,QAAMwY,YAAW,CAAA;AACjB,QAAM,QAAQ,IAAI,MAAK;AACvB,aAAW,YAAY,OAAO;AAC5B,QAAI,UAAU,MAAM,QAAQ;AAC5B,QAAI,YAAY,UAAU,QAAQ,SAAS,QAAQ;AACjD;AAAA,IACF;AACA,UAAM,eAAe,eAAe,OAAO;AAC3C,UAAM,YAAY,SAAS,QAAQ,MAAM;AAAA,MACvC,GAAG;AAAA,MACH,aAAa,CAAC,GAAG,KAAK,aAAa,cAAc,QAAQ;AAAA,MACzD,cAAc,CAAC,GAAG,KAAK,aAAa,cAAc,QAAQ;AAAA,IAChE,CAAK;AACD,QAAI,cAAc,QAAQ;AACxB;AAAA,IACF;AACA,WAAO,WAAW,QAAQ,IAAI;AAC9B,QAAI,CAAC,cAAc;AACjB,MAAAA,UAAS,KAAK,QAAQ;AAAA,IACxB;AAAA,EACF;AACA,MAAIA,UAAS,QAAQ;AACnB,WAAO,WAAWA;AAAA,EACpB;AACA,QAAM,uBAAuB,2BAA2B,KAAK,IAAI;AACjE,MAAI,yBAAyB,QAAQ;AACnC,WAAO,uBAAuB;AAAA,EAChC;AACA,SAAO;AACT;AACA,SAAS,2BAA2B,KAAK,MAAM;AAC7C,MAAI,IAAI,SAAS,KAAK,aAAa,YAAY;AAC7C,WAAO,SAAS,IAAI,SAAS,MAAM;AAAA,MACjC,GAAG;AAAA,MACH,aAAa,CAAC,GAAG,KAAK,aAAa,sBAAsB;AAAA,IAC/D,CAAK;AAAA,EACH;AACA,UAAQ,IAAI,aAAW;AAAA,IACrB,KAAK;AACH,aAAO,KAAK;AAAA,IACd,KAAK;AACH,aAAO,KAAK;AAAA,IACd,KAAK;AACH,aAAO,KAAK,6BAA6B,WAAW,KAAK,8BAA8B,KAAK;AAAA,EAClG;AACA;AACA,SAAS,eAAe,QAAQ;AAC9B,MAAI;AACF,WAAO,OAAO,WAAU;AAAA,EAC1B,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AACF;AAGA,IAAI,mBAAmB,CAAC,KAAK,SAAS;AACpC,MAAIrV;AACJ,MAAI,KAAK,YAAY,SAAQ,QAASA,OAAM,KAAK,iBAAiB,OAAO,SAASA,KAAI,SAAQ,IAAK;AACjG,WAAO,SAAS,IAAI,UAAU,MAAM,IAAI;AAAA,EAC1C;AACA,QAAM,cAAc,SAAS,IAAI,UAAU,MAAM;AAAA,IAC/C,GAAG;AAAA,IACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,GAAG;AAAA,EACnD,CAAG;AACD,SAAO,cAAc,EAAE,OAAO,CAAC,EAAE,KAAK,YAAW,KAAM,WAAW,EAAC,IAAK,YAAW;AACrF;AAGA,IAAI,mBAAmB,CAAC,KAAK,SAAS;AACpC,MAAI,KAAK,iBAAiB,SAAS;AACjC,WAAO,SAAS,IAAI,GAAG,MAAM,IAAI;AAAA,EACnC,WAAW,KAAK,iBAAiB,UAAU;AACzC,WAAO,SAAS,IAAI,IAAI,MAAM,IAAI;AAAA,EACpC;AACA,QAAM,IAAI,SAAS,IAAI,GAAG,MAAM;AAAA,IAC9B,GAAG;AAAA,IACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,GAAG;AAAA,EACnD,CAAG;AACD,QAAM,IAAI,SAAS,IAAI,IAAI,MAAM;AAAA,IAC/B,GAAG;AAAA,IACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,IAAI,MAAM,GAAG;AAAA,EAC7D,CAAG;AACD,SAAO;AAAA,IACL,OAAO,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,MAAM,MAAM,MAAM;AAAA,EAC5C;AACA;AAGA,SAAS,gBAAgB,KAAK,MAAM;AAClC,SAAO,SAAS,IAAI,KAAK,MAAM,IAAI;AACrC;AAGA,SAAS,YAAY,KAAK,MAAM;AAC9B,QAAM,QAAQ,SAAS,IAAI,UAAU,MAAM;AAAA,IACzC,GAAG;AAAA,IACH,aAAa,CAAC,GAAG,KAAK,aAAa,OAAO;AAAA,EAC9C,CAAG;AACD,QAAM,SAAS;AAAA,IACb,MAAM;AAAA,IACN,aAAa;AAAA,IACb;AAAA,EACJ;AACE,MAAI,IAAI,SAAS;AACf,WAAO,WAAW,IAAI,QAAQ;AAAA,EAChC;AACA,MAAI,IAAI,SAAS;AACf,WAAO,WAAW,IAAI,QAAQ;AAAA,EAChC;AACA,SAAO;AACT;AAGA,SAAS,cAAc,KAAK,MAAM;AAChC,MAAI,IAAI,MAAM;AACZ,WAAO;AAAA,MACL,MAAM;AAAA,MACN,UAAU,IAAI,MAAM;AAAA,MACpB,OAAO,IAAI,MAAM;AAAA,QACf,CAAC,GAAG,MAAM,SAAS,EAAE,MAAM;AAAA,UACzB,GAAG;AAAA,UACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,GAAG,CAAC,EAAE;AAAA,QAC5D,CAAS;AAAA,MACT,EAAQ;AAAA,QACA,CAAC,KAAK,MAAM,MAAM,SAAS,MAAM,CAAC,GAAG,KAAK,CAAC;AAAA,QAC3C,CAAA;AAAA,MACR;AAAA,MACM,iBAAiB,SAAS,IAAI,KAAK,MAAM;AAAA,QACvC,GAAG;AAAA,QACH,aAAa,CAAC,GAAG,KAAK,aAAa,iBAAiB;AAAA,MAC5D,CAAO;AAAA,IACP;AAAA,EACE,OAAO;AACL,WAAO;AAAA,MACL,MAAM;AAAA,MACN,UAAU,IAAI,MAAM;AAAA,MACpB,UAAU,IAAI,MAAM;AAAA,MACpB,OAAO,IAAI,MAAM;AAAA,QACf,CAAC,GAAG,MAAM,SAAS,EAAE,MAAM;AAAA,UACzB,GAAG;AAAA,UACH,aAAa,CAAC,GAAG,KAAK,aAAa,SAAS,GAAG,CAAC,EAAE;AAAA,QAC5D,CAAS;AAAA,MACT,EAAQ;AAAA,QACA,CAAC,KAAK,MAAM,MAAM,SAAS,MAAM,CAAC,GAAG,KAAK,CAAC;AAAA,QAC3C,CAAA;AAAA,MACR;AAAA,IACA;AAAA,EACE;AACF;AAGA,SAAS,oBAAoB;AAC3B,SAAO;AAAA,IACL,KAAK,YAAW;AAAA,EACpB;AACA;AAGA,SAAS,kBAAkB;AACzB,SAAO,YAAW;AACpB;AAGA,IAAI,mBAAmB,CAAC,KAAK,SAAS;AACpC,SAAO,SAAS,IAAI,UAAU,MAAM,IAAI;AAC1C;AAGA,IAAI,eAAe,CAAC,KAAK,UAAU,SAAS;AAC1C,UAAQ,UAAQ;AAAA,IACd,KAAKsV,sBAAuB;AAC1B,aAAO,eAAe,KAAK,IAAI;AAAA,IACjC,KAAKA,sBAAuB;AAC1B,aAAO,eAAe,GAAG;AAAA,IAC3B,KAAKA,sBAAuB;AAC1B,aAAO,eAAe,KAAK,IAAI;AAAA,IACjC,KAAKA,sBAAuB;AAC1B,aAAO,eAAe,GAAG;AAAA,IAC3B,KAAKA,sBAAuB;AAC1B,aAAO,gBAAe;AAAA,IACxB,KAAKA,sBAAuB;AAC1B,aAAO,aAAa,KAAK,IAAI;AAAA,IAC/B,KAAKA,sBAAuB;AAC1B,aAAO,kBAAiB;AAAA,IAC1B,KAAKA,sBAAuB;AAC1B,aAAO,aAAY;AAAA,IACrB,KAAKA,sBAAuB;AAC1B,aAAO,cAAc,KAAK,IAAI;AAAA,IAChC,KAAKA,sBAAuB;AAAA,IAC5B,KAAKA,sBAAuB;AAC1B,aAAO,cAAc,KAAK,IAAI;AAAA,IAChC,KAAKA,sBAAuB;AAC1B,aAAO,qBAAqB,KAAK,IAAI;AAAA,IACvC,KAAKA,sBAAuB;AAC1B,aAAO,cAAc,KAAK,IAAI;AAAA,IAChC,KAAKA,sBAAuB;AAC1B,aAAO,eAAe,KAAK,IAAI;AAAA,IACjC,KAAKA,sBAAuB;AAC1B,aAAO,gBAAgB,GAAG;AAAA,IAC5B,KAAKA,sBAAuB;AAC1B,aAAO,aAAa,GAAG;AAAA,IACzB,KAAKA,sBAAuB;AAC1B,aAAO,mBAAmB,GAAG;AAAA,IAC/B,KAAKA,sBAAuB;AAC1B,aAAO,iBAAiB,KAAK,IAAI;AAAA,IACnC,KAAKA,sBAAuB;AAC1B,aAAO,iBAAiB,KAAK,IAAI;AAAA,IACnC,KAAKA,sBAAuB;AAC1B,aAAO,YAAY,KAAK,IAAI;AAAA,IAC9B,KAAKA,sBAAuB;AAC1B,aAAO,YAAY,KAAK,IAAI;AAAA,IAC9B,KAAKA,sBAAuB;AAC1B,aAAO,MAAM,IAAI,OAAM,EAAG;AAAA,IAC5B,KAAKA,sBAAuB;AAC1B,aAAO,gBAAgB,KAAK,IAAI;AAAA,IAClC,KAAKA,sBAAuB;AAAA,IAC5B,KAAKA,sBAAuB;AAC1B,aAAO,cAAa;AAAA,IACtB,KAAKA,sBAAuB;AAC1B,aAAO,gBAAgB,KAAK,IAAI;AAAA,IAClC,KAAKA,sBAAuB;AAC1B,aAAO,YAAW;AAAA,IACpB,KAAKA,sBAAuB;AAC1B,aAAO,gBAAe;AAAA,IACxB,KAAKA,sBAAuB;AAC1B,aAAO,gBAAgB,KAAK,IAAI;AAAA,IAClC,KAAKA,sBAAuB;AAC1B,aAAO,gBAAgB,KAAK,IAAI;AAAA,IAClC,KAAKA,sBAAuB;AAC1B,aAAO,iBAAiB,KAAK,IAAI;AAAA,IACnC,KAAKA,sBAAuB;AAC1B,aAAO,cAAc,KAAK,IAAI;AAAA,IAChC,KAAKA,sBAAuB;AAC1B,aAAO,iBAAiB,KAAK,IAAI;AAAA,IACnC,KAAKA,sBAAuB;AAAA,IAC5B,KAAKA,sBAAuB;AAAA,IAC5B,KAAKA,sBAAuB;AAC1B,aAAO;AAAA,IACT;AACE,aAAwB,kBAAC,MAAM,QAAgB;AAAA,EACrD;AACA;AAGA,IAAI,kBAAkB,CAAC,OAAO,UAAU;AACtC,MAAI,IAAI;AACR,SAAO,IAAI,MAAM,UAAU,IAAI,MAAM,QAAQ,KAAK;AAChD,QAAI,MAAM,CAAC,MAAM,MAAM,CAAC,EAAG;AAAA,EAC7B;AACA,SAAO,EAAE,MAAM,SAAS,GAAG,SAAQ,GAAI,GAAG,MAAM,MAAM,CAAC,CAAC,EAAE,KAAK,GAAG;AACpE;AAGA,SAAS,SAAS,KAAK,MAAM,kBAAkB,OAAO;AACpD,MAAItV;AACJ,QAAM,WAAW,KAAK,KAAK,IAAI,GAAG;AAClC,MAAI,KAAK,UAAU;AACjB,UAAM,kBAAkBA,OAAM,KAAK,aAAa,OAAO,SAASA,KAAI;AAAA,MAClE;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN;AACI,QAAI,mBAAmB,gBAAgB;AACrC,aAAO;AAAA,IACT;AAAA,EACF;AACA,MAAI,YAAY,CAAC,iBAAiB;AAChC,UAAM,aAAa,QAAQ,UAAU,IAAI;AACzC,QAAI,eAAe,QAAQ;AACzB,aAAO;AAAA,IACT;AAAA,EACF;AACA,QAAM,UAAU,EAAE,KAAK,MAAM,KAAK,aAAa,YAAY,OAAM;AACjE,OAAK,KAAK,IAAI,KAAK,OAAO;AAC1B,QAAM,qBAAqB,aAAa,KAAK,IAAI,UAAU,IAAI;AAC/D,QAAM,cAAc,OAAO,uBAAuB,aAAa,SAAS,mBAAkB,GAAI,IAAI,IAAI;AACtG,MAAI,aAAa;AACf,YAAQ,KAAK,MAAM,WAAW;AAAA,EAChC;AACA,MAAI,KAAK,aAAa;AACpB,UAAM,oBAAoB,KAAK,YAAY,aAAa,KAAK,IAAI;AACjE,YAAQ,aAAa;AACrB,WAAO;AAAA,EACT;AACA,UAAQ,aAAa;AACrB,SAAO;AACT;AACA,IAAI,UAAU,CAAC,MAAM,SAAS;AAC5B,UAAQ,KAAK,cAAY;AAAA,IACvB,KAAK;AACH,aAAO,EAAE,MAAM,KAAK,KAAK,KAAK,GAAG,EAAC;AAAA,IACpC,KAAK;AACH,aAAO,EAAE,MAAM,gBAAgB,KAAK,aAAa,KAAK,IAAI,EAAC;AAAA,IAC7D,KAAK;AAAA,IACL,KAAK,QAAQ;AACX,UAAI,KAAK,KAAK,SAAS,KAAK,YAAY,UAAU,KAAK,KAAK,MAAM,CAAC,OAAO,UAAU,KAAK,YAAY,KAAK,MAAM,KAAK,GAAG;AACtH,gBAAQ;AAAA,UACN,mCAAmC,KAAK,YAAY;AAAA,YAClD;AAAA,UACZ,CAAW;AAAA,QACX;AACQ,eAAO,YAAW;AAAA,MACpB;AACA,aAAO,KAAK,iBAAiB,SAAS,YAAW,IAAK;AAAA,IACxD;AAAA,EACJ;AACA;AACA,IAAI,UAAU,CAAC,KAAK,MAAM,gBAAgB;AACxC,MAAI,IAAI,aAAa;AACnB,gBAAY,cAAc,IAAI;AAAA,EAChC;AACA,SAAO;AACT;AAGA,IAAI,UAAU,CAAC,YAAY;AACzB,QAAM,WAAW,kBAAkB,OAAO;AAC1C,QAAM,cAAc,SAAS,SAAS,SAAS,CAAC,GAAG,SAAS,UAAU,SAAS,gBAAgB,SAAS,IAAI,IAAI,SAAS;AACzH,SAAO;AAAA,IACL,GAAG;AAAA,IACH;AAAA,IACA,cAAc;AAAA,IACd,MAAM,IAAI;AAAA,MACR,OAAO,QAAQ,SAAS,WAAW,EAAE,IAAI,CAAC,CAACE,QAAO,GAAG,MAAM;AAAA,QACzD,IAAI;AAAA,QACJ;AAAA,UACE,KAAK,IAAI;AAAA,UACT,MAAM,CAAC,GAAG,SAAS,UAAU,SAAS,gBAAgBA,MAAK;AAAA;AAAA,UAE3D,YAAY;AAAA,QACtB;AAAA,MACA,CAAO;AAAA,IACP;AAAA,EACA;AACA;AAGA,IAAI,mBAAmB,CAAC,QAAQ,YAAY;AAC1C,MAAIF;AACJ,QAAM,OAAO,QAAQ,OAAO;AAC5B,MAAI,cAAc,OAAO,YAAY,YAAY,QAAQ,cAAc,OAAO,QAAQ,QAAQ,WAAW,EAAE;AAAA,IACzG,CAAC,KAAK,CAACO,QAAO,OAAO,MAAM;AACzB,UAAIF;AACJ,aAAO;AAAA,QACL,GAAG;AAAA,QACH,CAACE,MAAK,IAAIF,OAAM;AAAA,UACd,QAAQ;AAAA,UACR;AAAA,YACE,GAAG;AAAA,YACH,aAAa,CAAC,GAAG,KAAK,UAAU,KAAK,gBAAgBE,MAAK;AAAA,UACtE;AAAA,UACU;AAAA,QACV,MAAc,OAAOF,OAAM,YAAW;AAAA,MACtC;AAAA,IACI;AAAA,IACA,CAAA;AAAA,EACJ,IAAM;AACJ,QAAMH,SAAQ,OAAO,YAAY,WAAW,WAAW,WAAW,OAAO,SAAS,QAAQ,kBAAkB,UAAU,SAAS,WAAW,OAAO,SAAS,QAAQ;AAClK,QAAMqV,SAAQvV,OAAM;AAAA,IAClB,OAAO;AAAA,IACPE,WAAU,SAAS,OAAO;AAAA,MACxB,GAAG;AAAA,MACH,aAAa,CAAC,GAAG,KAAK,UAAU,KAAK,gBAAgBA,MAAK;AAAA,IAChE;AAAA,IACI;AAAA,EACJ,MAAQ,OAAOF,OAAM,YAAW;AAC9B,QAAM,QAAQ,OAAO,YAAY,YAAY,QAAQ,SAAS,UAAU,QAAQ,iBAAiB,UAAU,QAAQ,OAAO;AAC1H,MAAI,UAAU,QAAQ;AACpB,IAAAuV,MAAK,QAAQ;AAAA,EACf;AACA,QAAM,WAAWrV,WAAU,SAAS,cAAc;AAAA,IAChD,GAAGqV;AAAA,IACH,CAAC,KAAK,cAAc,GAAG;AAAA,EAC3B,IAAMA,QAAO;AAAA,IACT,MAAM;AAAA,MACJ,GAAG,KAAK,iBAAiB,aAAa,CAAA,IAAK,KAAK;AAAA,MAChD,KAAK;AAAA,MACLrV;AAAA,IACN,EAAM,KAAK,GAAG;AAAA,IACV,CAAC,KAAK,cAAc,GAAG;AAAA,MACrB,GAAG;AAAA,MACH,CAACA,MAAK,GAAGqV;AAAA,IACf;AAAA,EACA;AACE,WAAS,UAAU;AACnB,SAAO;AACT;AAGA,IAAI,eAAe,OAAO,IAAI,kBAAkB;AAChD,SAAS,WAAW,cAAc;AAChC,MAAI;AACJ,SAAO,MAAM;AACX,QAAI,UAAU,MAAM;AAClB,eAAS,aAAY;AAAA,IACvB;AACA,WAAO;AAAA,EACT;AACF;AACA,SAAS,WAAW,aAAa;AAAA,EAC/B;AACF,IAAI,IAAI;AACN,SAAO;AAAA,IACL,CAAC,YAAY,GAAG;AAAA,IAChB,OAAO;AAAA;AAAA,IAEP,IAAI,aAAa;AACf,UAAI,OAAO,gBAAgB,YAAY;AACrC,sBAAc,YAAW;AAAA,MAC3B;AACA,aAAO;AAAA,IACT;AAAA,IACA;AAAA,EACJ;AACA;AACA,SAAS,SAAS,OAAO;AACvB,SAAO,OAAO,UAAU,YAAY,UAAU,QAAQ,gBAAgB,SAAS,MAAM,YAAY,MAAM,QAAQ,gBAAgB,SAAS,cAAc;AACxJ;AACA,SAAS,SAAS,QAAQ;AACxB,SAAO,UAAU,OAAO,WAAW,EAAE,YAAY,CAAA,GAAI,sBAAsB,MAAK,CAAE,IAAI,SAAS,MAAM,IAAI,SAAS,eAAe,SAAS,OAAO,WAAW,EAAE,WAAW,QAAQ,UAAU,MAAM,IAAI,eAAe,MAAM,IAAI,OAAM;AACtO;AACA,SAAS,eAAe,iBAAiB;AACvC,SAAO;AAAA,IACL,MAAM;AAAA,MACJ,gBAAgB,WAAW,EAAE,WAAW,MAAM;AAAA,QAC5C,QAAQ;AAAA,MAChB,CAAO;AAAA,IACP;AAAA,IACI;AAAA,MACE,UAAU,OAAO,UAAU;AACzB,cAAM,SAAS,MAAM,gBAAgB,WAAW,EAAE,SAAS,KAAK;AAChE,eAAO,WAAW,SAAS,EAAE,SAAS,MAAM,OAAO,OAAO,UAAU;AAAA,UAClE,SAAS;AAAA,UACT,OAAO,IAAI,oBAAoB;AAAA,YAC7B;AAAA,YACA,OAAO,OAAO;AAAA,UAC1B,CAAW;AAAA,QACX;AAAA,MACM;AAAA,IACN;AAAA,EACA;AACA;AACA,SAAS,WAAW,YAAY,SAAS;AACvC,MAAIvV;AACJ,QAAM,iBAAiBA,OAAwB,WAAmC,OAAOA,OAAM;AAC/F,SAAO;AAAA;AAAA,IAEL,MAAM,iBAAiB,YAAY;AAAA,MACjC,cAAc,gBAAgB,SAAS;AAAA,IAC7C,CAAK;AAAA,IACD;AAAA,MACE,UAAU,OAAO,UAAU;AACzB,cAAM,SAAS,MAAM,WAAW,eAAe,KAAK;AACpD,eAAO,OAAO,UAAU,EAAE,SAAS,MAAM,OAAO,OAAO,KAAI,IAAK,EAAE,SAAS,OAAO,OAAO,OAAO,MAAK;AAAA,MACvG;AAAA,IACN;AAAA,EACA;AACA;AACA,SAAS,WAAW,YAAY,SAAS;AACvC,MAAIA;AACJ,QAAM,iBAAiBA,OAAwB,WAAmC,OAAOA,OAAM;AAC/F,SAAO;AAAA;AAAA,IAEL,MAAM;AAAA,MACJwV,aAAgB,YAAY;AAAA,QAC1B,QAAQ;AAAA,QACR,IAAI;AAAA,QACJ,QAAQ,gBAAgB,QAAQ;AAAA,MACxC,CAAO;AAAA,IACP;AAAA,IACI;AAAA,MACE,UAAU,OAAO,UAAU;AACzB,cAAM,SAAS,MAAMC,eAAkB,YAAY,KAAK;AACxD,eAAO,OAAO,UAAU,EAAE,SAAS,MAAM,OAAO,OAAO,KAAI,IAAK,EAAE,SAAS,OAAO,OAAO,OAAO,MAAK;AAAA,MACvG;AAAA,IACN;AAAA,EACA;AACA;AACA,SAAS,aAAa,YAAY;AAChC,SAAO,UAAU;AACnB;AACA,SAAS,UAAU,YAAY,SAAS;AACtC,MAAI,aAAa,UAAU,GAAG;AAC5B,WAAO,WAAW,UAAmB;AAAA,EACvC,OAAO;AACL,WAAO,WAAW,UAAmB;AAAA,EACvC;AACF;AAGA,eAAe,cAAc;AAAA,EAC3B;AAAA,EACA;AACF,GAAG;AACD,QAAM,SAAS,MAAM,kBAAkB,EAAE,OAAO,OAAM,CAAE;AACxD,MAAI,CAAC,OAAO,SAAS;AACnB,UAAMC,oBAAqB,KAAK,EAAE,OAAO,OAAO,OAAO,OAAO;AAAA,EAChE;AACA,SAAO,OAAO;AAChB;AACA,eAAe,kBAAkB;AAAA,EAC/B;AAAA,EACA;AACF,GAAG;AACD,QAAM,eAAe,SAAS,MAAM;AACpC,MAAI;AACF,QAAI,aAAa,YAAY,MAAM;AACjC,aAAO,EAAE,SAAS,MAAM,OAAO,UAAU,MAAK;AAAA,IAChD;AACA,UAAM,SAAS,MAAM,aAAa,SAAS,KAAK;AAChD,QAAI,OAAO,SAAS;AAClB,aAAO,EAAE,SAAS,MAAM,OAAO,OAAO,OAAO,UAAU,MAAK;AAAA,IAC9D;AACA,WAAO;AAAA,MACL,SAAS;AAAA,MACT,OAAOA,oBAAqB,KAAK,EAAE,OAAO,OAAO,OAAO,OAAO;AAAA,MAC/D,UAAU;AAAA,IAChB;AAAA,EACE,SAAStW,QAAO;AACd,WAAO;AAAA,MACL,SAAS;AAAA,MACT,OAAOsW,oBAAqB,KAAK,EAAE,OAAO,OAAOtW,QAAO;AAAA,MACxD,UAAU;AAAA,IAChB;AAAA,EACE;AACF;AAGA,eAAe,UAAU;AAAA,EACvB,MAAAN;AAAA,EACA;AACF,GAAG;AACD,MAAI;AACF,UAAM,QAAQ,gBAAgBA,KAAI;AAClC,QAAI,UAAU,MAAM;AAClB,aAAO;AAAA,IACT;AACA,WAAO,cAAc,EAAE,OAAO,QAAQ;AAAA,EACxC,SAASM,QAAO;AACd,QAAI,eAAe,WAAWA,MAAK,KAAKuW,oBAAqB,WAAWvW,MAAK,GAAG;AAC9E,YAAMA;AAAA,IACR;AACA,UAAM,IAAI,eAAe,EAAE,MAAAN,OAAM,OAAOM,OAAK,CAAE;AAAA,EACjD;AACF;AACA,eAAe,cAAc;AAAA,EAC3B,MAAAN;AAAA,EACA;AACF,GAAG;AACD,MAAI;AACF,UAAM,QAAQ,gBAAgBA,KAAI;AAClC,QAAI,UAAU,MAAM;AAClB,aAAO,EAAE,SAAS,MAAM,OAAO,UAAU,MAAK;AAAA,IAChD;AACA,WAAO,MAAM,kBAAkB,EAAE,OAAO,OAAM,CAAE;AAAA,EAClD,SAASM,QAAO;AACd,WAAO;AAAA,MACL,SAAS;AAAA,MACT,OAAO,eAAe,WAAWA,MAAK,IAAIA,SAAQ,IAAI,eAAe,EAAE,MAAAN,OAAM,OAAOM,OAAK,CAAE;AAAA,MAC3F,UAAU;AAAA,IAChB;AAAA,EACE;AACF;AACA,SAAS,eAAe,OAAO;AAC7B,MAAI;AACF,oBAAgB,KAAK;AACrB,WAAO;AAAA,EACT,SAAS,GAAG;AACV,WAAO;AAAA,EACT;AACF;AAMA,SAAS,qBAAqB;AAAA,EAC5B;AAAA,EACA;AACF,GAAG;AACD,SAAO,OAAO,YAAY,IAAI,kBAAiB,CAAE,EAAE,YAAY,IAAI,wBAAuB,CAAE,EAAE;AAAA,IAC5F,IAAI,gBAAgB;AAAA,MAClB,MAAM,UAAU,EAAE,KAAI,GAAI,YAAY;AACpC,YAAI,SAAS,UAAU;AACrB;AAAA,QACF;AACA,mBAAW,QAAQ,MAAM,cAAc,EAAE,MAAM,MAAM,OAAM,CAAE,CAAC;AAAA,MAChE;AAAA,IACN,CAAK;AAAA,EACL;AACA;AAIA,eAAe,qBAAqB;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,OAAK,mBAAmB,OAAO,SAAS,gBAAgB,QAAQ,MAAM,MAAM;AAC1E,WAAO;AAAA,EACT;AACA,QAAM,wBAAwB,MAAM,kBAAkB;AAAA,IACpD,OAAO,gBAAgB,QAAQ;AAAA,IAC/B;AAAA,EACJ,CAAG;AACD,MAAI,CAAC,sBAAsB,SAAS;AAClC,UAAM,IAAIwW,uBAAsB;AAAA,MAC9B,UAAU;AAAA,MACV,SAAS,WAAW,QAAQ;AAAA,MAC5B,OAAO,sBAAsB;AAAA,IACnC,CAAK;AAAA,EACH;AACA,SAAO,sBAAsB;AAC/B;AAIA,IAAI,oBAAoB,MAAM,WAAW;AACzC,IAAI,gBAAgB,OAAO;AAAA,EACzB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO;AACT,MAAM,UAAU;AAAA,EACd;AAAA,EACA,SAAS;AAAA,IACP,gBAAgB;AAAA,IAChB,GAAG;AAAA,EACP;AAAA,EACE,MAAM;AAAA,IACJ,SAAS,KAAK,UAAU,IAAI;AAAA,IAC5B,QAAQ;AAAA,EACZ;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO;AACT,CAAC;AACD,IAAI,oBAAoB,OAAO;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO;AACT,MAAM,UAAU;AAAA,EACd;AAAA,EACA;AAAA,EACA,MAAM;AAAA,IACJ,SAAS;AAAA,IACT,QAAQ,OAAO,YAAY,SAAS,QAAO,CAAE;AAAA,EACjD;AAAA,EACE;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO;AACT,CAAC;AACD,IAAI,YAAY,OAAO;AAAA,EACrB;AAAA,EACA,UAAU,CAAA;AAAA,EACV;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,OAAO,SAAS,kBAAiB;AACnC,MAAM;AACJ,MAAI;AACF,UAAM,WAAW,MAAM,OAAO,KAAK;AAAA,MACjC,QAAQ;AAAA,MACR,SAAS;AAAA,QACP;AAAA,QACA,yBAAyBX,SAAO;AAAA,QAChC,+BAA8B;AAAA,MACtC;AAAA,MACM,MAAM,KAAK;AAAA,MACX,QAAQ;AAAA,IACd,CAAK;AACD,UAAM,kBAAkB,uBAAuB,QAAQ;AACvD,QAAI,CAAC,SAAS,IAAI;AAChB,UAAI;AACJ,UAAI;AACF,2BAAmB,MAAM,sBAAsB;AAAA,UAC7C;AAAA,UACA;AAAA,UACA,mBAAmB,KAAK;AAAA,QAClC,CAAS;AAAA,MACH,SAAS7V,QAAO;AACd,YAAI,aAAaA,MAAK,KAAKyW,aAAc,WAAWzW,MAAK,GAAG;AAC1D,gBAAMA;AAAA,QACR;AACA,cAAM,IAAIyW,aAAc;AAAA,UACtB,SAAS;AAAA,UACT,OAAOzW;AAAA,UACP,YAAY,SAAS;AAAA,UACrB;AAAA,UACA;AAAA,UACA,mBAAmB,KAAK;AAAA,QAClC,CAAS;AAAA,MACH;AACA,YAAM,iBAAiB;AAAA,IACzB;AACA,QAAI;AACF,aAAO,MAAM,0BAA0B;AAAA,QACrC;AAAA,QACA;AAAA,QACA,mBAAmB,KAAK;AAAA,MAChC,CAAO;AAAA,IACH,SAASA,QAAO;AACd,UAAIA,kBAAiB,OAAO;AAC1B,YAAI,aAAaA,MAAK,KAAKyW,aAAc,WAAWzW,MAAK,GAAG;AAC1D,gBAAMA;AAAA,QACR;AAAA,MACF;AACA,YAAM,IAAIyW,aAAc;AAAA,QACtB,SAAS;AAAA,QACT,OAAOzW;AAAA,QACP,YAAY,SAAS;AAAA,QACrB;AAAA,QACA;AAAA,QACA,mBAAmB,KAAK;AAAA,MAChC,CAAO;AAAA,IACH;AAAA,EACF,SAASA,QAAO;AACd,UAAM,iBAAiB,EAAE,OAAAA,QAAO,KAAK,mBAAmB,KAAK,QAAQ;AAAA,EACvE;AACF;AAGA,SAAS,KAAK,OAAO;AACnB,SAAO;AACT;AAMA,SAAS,0BAA0B;AAAA,EACjC;AAAA,EACA;AACF,GAAG;AACD,SAAO,CAAC;AAAA,IACN;AAAA,IACA,cAAA0W;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,GAAG;AAAA,EACP,MAAQ,KAAK;AAAA,IACT,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA,cAAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,CAAG;AACH;AACA,SAAS,0CAA0C;AAAA,EACjD;AAAA,EACA;AAAA,EACA,cAAAA;AAAA,EACA;AACF,GAAG;AACD,SAAO,CAAC;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,GAAG;AAAA,EACP,MAAQ,KAAK;AAAA,IACT,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,IACA,cAAAA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,CAAG;AACH;AAUA,eAAe,QAAQ,OAAO;AAC5B,MAAI,OAAO,UAAU,YAAY;AAC/B,YAAQ,MAAK;AAAA,EACf;AACA,SAAO,QAAQ,QAAQ,KAAK;AAC9B;AAIA,IAAI,iCAAiC,CAAC;AAAA,EACpC;AAAA,EACA;AAAA,EACA;AACF,MAAM,OAAO,EAAE,UAAU,KAAK,kBAAiB,MAAO;AACpD,QAAM,eAAe,MAAM,SAAS,KAAI;AACxC,QAAM,kBAAkB,uBAAuB,QAAQ;AACvD,MAAI,aAAa,KAAI,MAAO,IAAI;AAC9B,WAAO;AAAA,MACL;AAAA,MACA,OAAO,IAAIC,aAAc;AAAA,QACvB,SAAS,SAAS;AAAA,QAClB;AAAA,QACA;AAAA,QACA,YAAY,SAAS;AAAA,QACrB;AAAA,QACA;AAAA,QACA,aAAa,eAAe,OAAO,SAAS,YAAY,QAAQ;AAAA,MACxE,CAAO;AAAA,IACP;AAAA,EACE;AACA,MAAI;AACF,UAAM,cAAc,MAAM,UAAU;AAAA,MAClC,MAAM;AAAA,MACN,QAAQ;AAAA,IACd,CAAK;AACD,WAAO;AAAA,MACL;AAAA,MACA,OAAO,IAAIA,aAAc;AAAA,QACvB,SAAS,eAAe,WAAW;AAAA,QACnC;AAAA,QACA;AAAA,QACA,YAAY,SAAS;AAAA,QACrB;AAAA,QACA;AAAA,QACA,MAAM;AAAA,QACN,aAAa,eAAe,OAAO,SAAS,YAAY,UAAU,WAAW;AAAA,MACrF,CAAO;AAAA,IACP;AAAA,EACE,SAAS,YAAY;AACnB,WAAO;AAAA,MACL;AAAA,MACA,OAAO,IAAIA,aAAc;AAAA,QACvB,SAAS,SAAS;AAAA,QAClB;AAAA,QACA;AAAA,QACA,YAAY,SAAS;AAAA,QACrB;AAAA,QACA;AAAA,QACA,aAAa,eAAe,OAAO,SAAS,YAAY,QAAQ;AAAA,MACxE,CAAO;AAAA,IACP;AAAA,EACE;AACF;AACA,IAAI,mCAAmC,CAACC,iBAAgB,OAAO,EAAE,SAAQ,MAAO;AAC9E,QAAM,kBAAkB,uBAAuB,QAAQ;AACvD,MAAI,SAAS,QAAQ,MAAM;AACzB,UAAM,IAAI,uBAAuB,EAAE;AAAA,EACrC;AACA,SAAO;AAAA,IACL;AAAA,IACA,OAAO,qBAAqB;AAAA,MAC1B,QAAQ,SAAS;AAAA,MACjB,QAAQA;AAAA,IACd,CAAK;AAAA,EACL;AACA;AACA,IAAI,4BAA4B,CAACC,oBAAmB,OAAO,EAAE,UAAU,KAAK,wBAAwB;AAClG,QAAM,eAAe,MAAM,SAAS,KAAI;AACxC,QAAM,eAAe,MAAM,cAAc;AAAA,IACvC,MAAM;AAAA,IACN,QAAQA;AAAA,EACZ,CAAG;AACD,QAAM,kBAAkB,uBAAuB,QAAQ;AACvD,MAAI,CAAC,aAAa,SAAS;AACzB,UAAM,IAAIF,aAAc;AAAA,MACtB,SAAS;AAAA,MACT,OAAO,aAAa;AAAA,MACpB,YAAY,SAAS;AAAA,MACrB;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN,CAAK;AAAA,EACH;AACA,SAAO;AAAA,IACL;AAAA,IACA,OAAO,aAAa;AAAA,IACpB,UAAU,aAAa;AAAA,EAC3B;AACA;AACA,IAAI,8BAA8B,MAAM,OAAO,EAAE,UAAU,KAAK,kBAAiB,MAAO;AACtF,QAAM,kBAAkB,uBAAuB,QAAQ;AACvD,MAAI,CAAC,SAAS,MAAM;AAClB,UAAM,IAAIA,aAAc;AAAA,MACtB,SAAS;AAAA,MACT;AAAA,MACA;AAAA,MACA,YAAY,SAAS;AAAA,MACrB;AAAA,MACA,cAAc;AAAA,IACpB,CAAK;AAAA,EACH;AACA,MAAI;AACF,UAAM,SAAS,MAAM,SAAS,YAAW;AACzC,WAAO;AAAA,MACL;AAAA,MACA,OAAO,IAAI,WAAW,MAAM;AAAA,IAClC;AAAA,EACE,SAAS3W,QAAO;AACd,UAAM,IAAI2W,aAAc;AAAA,MACtB,SAAS;AAAA,MACT;AAAA,MACA;AAAA,MACA,YAAY,SAAS;AAAA,MACrB;AAAA,MACA,cAAc;AAAA,MACd,OAAO3W;AAAA,IACb,CAAK;AAAA,EACH;AACF;AAkBA,SAAS,qBAAqB,KAAK;AACjC,SAAO,OAAO,OAAO,SAAS,IAAI,QAAQ,OAAO,EAAE;AACrD;AAGA,SAAS,gBAAgB,KAAK;AAC5B,SAAO,OAAO,QAAQ,OAAO,IAAI,OAAO,aAAa,MAAM;AAC7D;AAGA,gBAAgB,YAAY;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,QAAM,SAAS,QAAQ,OAAO,OAAO;AACrC,MAAI,gBAAgB,MAAM,GAAG;AAC3B,QAAI;AACJ,qBAAiB,UAAU,QAAQ;AACjC,mBAAa;AACb,YAAM,EAAE,MAAM,eAAe,OAAM;AAAA,IACrC;AACA,UAAM,EAAE,MAAM,SAAS,QAAQ,WAAU;AAAA,EAC3C,OAAO;AACL,UAAM,EAAE,MAAM,SAAS,QAAQ,MAAM,OAAM;AAAA,EAC7C;AACF;ACv6EA,IAAI6V,YAAiB;AAwBrB,IAAI,2BAA2B;AAAA,EAC7B,MAAM;AAAA,IACJiB,SAAS;AAAA,MACP,MAAMC,QAAU,OAAO;AAAA,MACvB,OAAOD,SAAS;AAAA,QACd,MAAME,OAAQ;AAAA,QACd,SAASA,OAAQ;AAAA,MACzB,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,iCAAiC,+BAA+B;AAAA,EAClE,aAAa;AAAA,EACb,gBAAgB,CAAC,SAAS,KAAK,MAAM;AACvC,CAAC;AAKD,IAAI,kCAAkCC;AAAAA,EACpC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,MAAMC,QAAW,SAAS;AAAA,MAC1B,IAAIC,OAAS,EAAG,QAAO;AAAA,MACvB,OAAOA,OAAS,EAAG,QAAO;AAAA,MAC1B,SAASC;AAAAA,QACPC,mBAAsB,QAAQ;AAAA,UAC5BJ,SAAU;AAAA,YACR,MAAMC,QAAW,MAAM;AAAA,YACvB,MAAMC,OAAS;AAAA,YACf,WAAWC;AAAAA,cACTC,mBAAsB,QAAQ;AAAA,gBAC5BJ,SAAU;AAAA,kBACR,MAAMC,QAAW,4BAA4B;AAAA,kBAC7C,YAAYC,OAAS;AAAA,kBACrB,KAAKA,OAAS;AAAA,kBACd,OAAOA,OAAS;AAAA,kBAChB,iBAAiBA,OAAS;AAAA,gBAC5C,CAAiB;AAAA,gBACDF,SAAU;AAAA,kBACR,MAAMC,QAAW,eAAe;AAAA,kBAChC,YAAYC,OAAS;AAAA,kBACrB,gBAAgBG,SAAS;AAAA,kBACzB,gBAAgBH,OAAS,EAAG,SAAQ;AAAA,kBACpC,mBAAmBG,SAAS;AAAA,kBAC5B,iBAAiBA,SAAS;AAAA,gBAC5C,CAAiB;AAAA,gBACDL,SAAU;AAAA,kBACR,MAAMC,QAAW,eAAe;AAAA,kBAChC,YAAYC,OAAS;AAAA,kBACrB,gBAAgBG,SAAS;AAAA,kBACzB,gBAAgBH,OAAS,EAAG,SAAQ;AAAA,kBACpC,kBAAkBG,SAAS;AAAA,kBAC3B,gBAAgBA,SAAS;AAAA,gBAC3C,CAAiB;AAAA,cACjB,CAAe;AAAA,YACf,EAAc,SAAQ;AAAA,UACtB,CAAW;AAAA,UACDL,SAAU;AAAA,YACR,MAAMC,QAAW,UAAU;AAAA,YAC3B,UAAUC,OAAS;AAAA,YACnB,WAAWA,OAAS;AAAA,UAChC,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,mBAAmB;AAAA,YACpC,MAAMC,OAAS;AAAA,UAC3B,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,UAAU;AAAA,YAC3B,IAAIC,OAAS;AAAA,YACb,MAAMA,OAAS;AAAA,YACf,OAAOI,QAAU;AAAA;AAAA,YAEjB,QAAQC,MAAS;AAAA,cACfP,SAAU;AAAA,gBACR,MAAMC,QAAW,yBAAyB;AAAA,gBAC1C,SAASC,OAAS;AAAA,cAClC,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,QAAQ;AAAA,cACzC,CAAe;AAAA,YACf,CAAa,EAAE,SAAQ;AAAA,UACvB,CAAW;AAAA,UACDD,SAAU;AAAA,YACR,MAAMC,QAAW,iBAAiB;AAAA,YAClC,IAAIC,OAAS;AAAA,YACb,MAAMA,OAAS;AAAA,YACf,OAAOM,OAAUN,OAAS,GAAII,QAAU,CAAE,EAAE,QAAO;AAAA,UAC/D,CAAW;AAAA,UACDN,SAAU;AAAA,YACR,MAAMC,QAAW,cAAc;AAAA,YAC/B,IAAIC,OAAS;AAAA,YACb,MAAMA,OAAS;AAAA,YACf,OAAOI,QAAU;AAAA,YACjB,aAAaJ,OAAS;AAAA,UAClC,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,iBAAiB;AAAA,YAClC,aAAaC,OAAS;AAAA,YACtB,UAAUO,QAAU;AAAA,YACpB,SAASN;AAAAA,cACPI,MAAS;AAAA,gBACPL,OAAS;AAAA,gBACTF,SAAU,EAAE,MAAMC,QAAW,MAAM,GAAG,MAAMC,SAAW,CAAE;AAAA,cACzE,CAAe;AAAA,YACf;AAAA,UACA,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,uBAAuB;AAAA,YACxC,aAAaC,OAAS;AAAA,YACtB,SAASK,MAAS;AAAA,cAChBP,SAAU;AAAA,gBACR,MAAMC,QAAW,kBAAkB;AAAA,gBACnC,KAAKC,OAAS;AAAA,gBACd,cAAcA,OAAS;AAAA,gBACvB,SAASF,SAAU;AAAA,kBACjB,MAAMC,QAAW,UAAU;AAAA,kBAC3B,OAAOC,OAAS,EAAG,SAAQ;AAAA,kBAC3B,WAAWF,SAAU,EAAE,SAASS,QAAU,EAAE,CAAE,EAAE,SAAQ;AAAA,kBACxD,QAAQF,MAAS;AAAA,oBACfP,SAAU;AAAA,sBACR,MAAMC,QAAW,QAAQ;AAAA,sBACzB,YAAYA,QAAW,iBAAiB;AAAA,sBACxC,MAAMC,OAAS;AAAA,oBACrC,CAAqB;AAAA,oBACDF,SAAU;AAAA,sBACR,MAAMC,QAAW,MAAM;AAAA,sBACvB,YAAYA,QAAW,YAAY;AAAA,sBACnC,MAAMC,OAAS;AAAA,oBACrC,CAAqB;AAAA,kBACrB,CAAmB;AAAA,gBACnB,CAAiB;AAAA,cACjB,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,6BAA6B;AAAA,gBAC9C,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,wBAAwB;AAAA,YACzC,aAAaC,OAAS;AAAA,YACtB,SAASK,MAAS;AAAA,cAChBJ;AAAAA,gBACEH,SAAU;AAAA,kBACR,MAAMC,QAAW,mBAAmB;AAAA,kBACpC,KAAKC,OAAS;AAAA,kBACd,OAAOA,OAAS;AAAA,kBAChB,mBAAmBA,OAAS;AAAA,kBAC5B,UAAUA,OAAS,EAAG,QAAO;AAAA,gBAC/C,CAAiB;AAAA,cACjB;AAAA,cACcF,SAAU;AAAA,gBACR,MAAMC,QAAW,8BAA8B;AAAA,gBAC/C,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA;AAAA,UAEDF,SAAU;AAAA,YACR,MAAMC,QAAW,4BAA4B;AAAA,YAC7C,aAAaC,OAAS;AAAA,YACtB,SAASK,MAAS;AAAA,cAChBP,SAAU;AAAA,gBACR,MAAMC,QAAW,uBAAuB;AAAA,gBACxC,QAAQC,OAAS;AAAA,gBACjB,QAAQA,OAAS;AAAA,gBACjB,aAAaG,SAAS;AAAA,gBACtB,SAASF;AAAAA,kBACPH,SAAU;AAAA,oBACR,MAAMC,QAAW,uBAAuB;AAAA,oBACxC,SAASC,OAAS;AAAA,kBACtC,CAAmB;AAAA,gBACnB,EAAkB,SAAQ,EAAG,QAAQ,CAAA,CAAE;AAAA,cACvC,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,kCAAkC;AAAA,gBACnD,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA;AAAA,UAEDF,SAAU;AAAA,YACR,MAAMC,QAAW,iCAAiC;AAAA,YAClD,aAAaC,OAAS;AAAA,YACtB,SAASE,mBAAsB,QAAQ;AAAA,cACrCJ,SAAU;AAAA,gBACR,MAAMC,QAAW,4BAA4B;AAAA,gBAC7C,SAASE;AAAAA,kBACPH,SAAU;AAAA,oBACR,MAAMC,QAAW,4BAA4B;AAAA,oBAC7C,SAASC,OAAS;AAAA,kBACtC,CAAmB;AAAA,gBACnB;AAAA,gBACgB,QAAQA,OAAS;AAAA,gBACjB,QAAQA,OAAS;AAAA,gBACjB,aAAaG,SAAS;AAAA,cACtC,CAAe;AAAA,cACDL,SAAU;AAAA,gBACR,MAAMC,QAAW,uCAAuC;AAAA,gBACxD,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA;AAAA,UAEDF,SAAU;AAAA,YACR,MAAMC,QAAW,wCAAwC;AAAA,YACzD,aAAaC,OAAS;AAAA,YACtB,SAASE,mBAAsB,QAAQ;AAAA,cACrCJ,SAAU;AAAA,gBACR,MAAMC,QAAW,8CAA8C;AAAA,gBAC/D,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,wCAAwC;AAAA,gBACzD,SAASC,OAAS;AAAA,gBAClB,WAAWA,OAAS;AAAA,gBACpB,WAAWG,SAAS,EAAG,SAAQ;AAAA,gBAC/B,YAAYA,SAAS,EAAG,SAAQ;AAAA,gBAChC,aAAaA,SAAS,EAAG,SAAQ;AAAA,cACjD,CAAe;AAAA,cACDL,SAAU;AAAA,gBACR,MAAMC,QAAW,0CAA0C;AAAA,gBAC3D,gBAAgBQ,QAAU;AAAA,cAC1C,CAAe;AAAA,cACDT,SAAU;AAAA,gBACR,MAAMC;AAAAA,kBACJ;AAAA,gBAClB;AAAA,gBACgB,OAAOE,QAASD,OAAS,CAAE,EAAE,SAAQ;AAAA,gBACrC,WAAWG,SAAS,EAAG,SAAQ;AAAA,gBAC/B,WAAWA,SAAS,EAAG,SAAQ;AAAA,gBAC/B,WAAWA,SAAS,EAAG,SAAQ;AAAA,gBAC/B,WAAWA,SAAS,EAAG,SAAQ;AAAA,cAC/C,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA;AAAA,UAEDL,SAAU;AAAA,YACR,MAAMC,QAAW,yBAAyB;AAAA,YAC1C,aAAaC,OAAS;AAAA,YACtB,SAASK,MAAS;AAAA,cAChBP,SAAU;AAAA,gBACR,MAAMC,QAAW,gCAAgC;AAAA,gBACjD,iBAAiBE;AAAAA,kBACfH,SAAU;AAAA,oBACR,MAAMC,QAAW,gBAAgB;AAAA,oBACjC,WAAWC,OAAS;AAAA,kBACxC,CAAmB;AAAA,gBACnB;AAAA,cACA,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,+BAA+B;AAAA,gBAChD,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,QACX,CAAS;AAAA,MACT;AAAA,MACM,aAAaA,OAAS,EAAG,QAAO;AAAA,MAChC,eAAeA,OAAS,EAAG,QAAO;AAAA,MAClC,OAAOQ,YAAe;AAAA,QACpB,cAAcL,SAAS;AAAA,QACvB,eAAeA,SAAS;AAAA,QACxB,6BAA6BA,SAAS,EAAG,QAAO;AAAA,QAChD,yBAAyBA,SAAS,EAAG,QAAO;AAAA,MACpD,CAAO;AAAA,MACD,WAAWL,SAAU;AAAA,QACnB,YAAYE,OAAS;AAAA,QACrB,IAAIA,OAAS;AAAA,QACb,QAAQC;AAAAA,UACNH,SAAU;AAAA,YACR,MAAMO,MAAS,CAACN,QAAW,WAAW,GAAGA,QAAW,QAAQ,CAAC,CAAC;AAAA,YAC9D,UAAUC,OAAS;AAAA,YACnB,SAASA,OAAS;AAAA,UAC9B,CAAW;AAAA,QACX,EAAU,QAAO;AAAA,MACjB,CAAO,EAAE,QAAO;AAAA,MACV,oBAAoBF,SAAU;AAAA,QAC5B,eAAeG;AAAAA,UACbI,MAAS;AAAA,YACPP,SAAU;AAAA,cACR,MAAMC,QAAW,0BAA0B;AAAA,cAC3C,mBAAmBI,SAAS;AAAA,cAC5B,sBAAsBA,SAAS;AAAA,YAC7C,CAAa;AAAA,YACDL,SAAU;AAAA,cACR,MAAMC,QAAW,yBAAyB;AAAA,cAC1C,wBAAwBI,SAAS;AAAA,cACjC,sBAAsBA,SAAS;AAAA,YAC7C,CAAa;AAAA,UACb,CAAW;AAAA,QACX;AAAA,MACA,CAAO,EAAE,QAAO;AAAA,IAChB,CAAK;AAAA,EACL;AACA;AACA,IAAI,+BAA+BP;AAAAA,EACjC,MAAMC;AAAAA,IACJK,mBAAsB,QAAQ;AAAA,MAC5BJ,SAAU;AAAA,QACR,MAAMC,QAAW,eAAe;AAAA,QAChC,SAASD,SAAU;AAAA,UACjB,IAAIE,OAAS,EAAG,QAAO;AAAA,UACvB,OAAOA,OAAS,EAAG,QAAO;AAAA,UAC1B,MAAMA,OAAS,EAAG,QAAO;AAAA,UACzB,OAAOQ,YAAe;AAAA,YACpB,cAAcL,SAAS;AAAA,YACvB,6BAA6BA,SAAS,EAAG,QAAO;AAAA,YAChD,yBAAyBA,SAAS,EAAG,QAAO;AAAA,UACxD,CAAW;AAAA;AAAA,UAED,SAASF;AAAAA,YACPC,mBAAsB,QAAQ;AAAA,cAC5BJ,SAAU;AAAA,gBACR,MAAMC,QAAW,UAAU;AAAA,gBAC3B,IAAIC,OAAS;AAAA,gBACb,MAAMA,OAAS;AAAA,gBACf,OAAOI,QAAU;AAAA,gBACjB,QAAQC,MAAS;AAAA,kBACfP,SAAU;AAAA,oBACR,MAAMC,QAAW,yBAAyB;AAAA,oBAC1C,SAASC,OAAS;AAAA,kBACtC,CAAmB;AAAA,kBACDF,SAAU;AAAA,oBACR,MAAMC,QAAW,QAAQ;AAAA,kBAC7C,CAAmB;AAAA,gBACnB,CAAiB,EAAE,SAAQ;AAAA,cAC3B,CAAe;AAAA,YACf,CAAa;AAAA,UACb,EAAY,QAAO;AAAA,UACT,aAAaC,OAAS,EAAG,QAAO;AAAA,UAChC,WAAWF,SAAU;AAAA,YACnB,YAAYE,OAAS;AAAA,YACrB,IAAIA,OAAS;AAAA,UACzB,CAAW,EAAE,QAAO;AAAA,QACpB,CAAS;AAAA,MACT,CAAO;AAAA,MACDF,SAAU;AAAA,QACR,MAAMC,QAAW,qBAAqB;AAAA,QACtC,OAAOI,SAAS;AAAA,QAChB,eAAeD,mBAAsB,QAAQ;AAAA,UAC3CJ,SAAU;AAAA,YACR,MAAMC,QAAW,MAAM;AAAA,YACvB,MAAMC,OAAS;AAAA,UAC3B,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,UAAU;AAAA,YAC3B,UAAUC,OAAS;AAAA,UAC/B,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,UAAU;AAAA,YAC3B,IAAIC,OAAS;AAAA,YACb,MAAMA,OAAS;AAAA;AAAA,YAEf,OAAOM,OAAUN,OAAS,GAAII,QAAU,CAAE,EAAE,SAAQ;AAAA;AAAA,YAEpD,QAAQC,MAAS;AAAA,cACfP,SAAU;AAAA,gBACR,MAAMC,QAAW,yBAAyB;AAAA,gBAC1C,SAASC,OAAS;AAAA,cAClC,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,QAAQ;AAAA,cACzC,CAAe;AAAA,YACf,CAAa,EAAE,SAAQ;AAAA,UACvB,CAAW;AAAA,UACDD,SAAU;AAAA,YACR,MAAMC,QAAW,mBAAmB;AAAA,YACpC,MAAMC,OAAS;AAAA,UAC3B,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,iBAAiB;AAAA,YAClC,IAAIC,OAAS;AAAA,YACb,MAAMA,OAAS;AAAA,YACf,OAAOM,OAAUN,OAAS,GAAII,QAAU,CAAE,EAAE,QAAO;AAAA,UAC/D,CAAW;AAAA,UACDN,SAAU;AAAA,YACR,MAAMC,QAAW,cAAc;AAAA,YAC/B,IAAIC,OAAS;AAAA,YACb,MAAMA,OAAS;AAAA,YACf,OAAOI,QAAU;AAAA,YACjB,aAAaJ,OAAS;AAAA,UAClC,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,iBAAiB;AAAA,YAClC,aAAaC,OAAS;AAAA,YACtB,UAAUO,QAAU;AAAA,YACpB,SAASN;AAAAA,cACPI,MAAS;AAAA,gBACPL,OAAS;AAAA,gBACTF,SAAU,EAAE,MAAMC,QAAW,MAAM,GAAG,MAAMC,SAAW,CAAE;AAAA,cACzE,CAAe;AAAA,YACf;AAAA,UACA,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,uBAAuB;AAAA,YACxC,aAAaC,OAAS;AAAA,YACtB,SAASK,MAAS;AAAA,cAChBP,SAAU;AAAA,gBACR,MAAMC,QAAW,kBAAkB;AAAA,gBACnC,KAAKC,OAAS;AAAA,gBACd,cAAcA,OAAS;AAAA,gBACvB,SAASF,SAAU;AAAA,kBACjB,MAAMC,QAAW,UAAU;AAAA,kBAC3B,OAAOC,OAAS,EAAG,SAAQ;AAAA,kBAC3B,WAAWF,SAAU,EAAE,SAASS,QAAU,EAAE,CAAE,EAAE,SAAQ;AAAA,kBACxD,QAAQF,MAAS;AAAA,oBACfP,SAAU;AAAA,sBACR,MAAMC,QAAW,QAAQ;AAAA,sBACzB,YAAYA,QAAW,iBAAiB;AAAA,sBACxC,MAAMC,OAAS;AAAA,oBACrC,CAAqB;AAAA,oBACDF,SAAU;AAAA,sBACR,MAAMC,QAAW,MAAM;AAAA,sBACvB,YAAYA,QAAW,YAAY;AAAA,sBACnC,MAAMC,OAAS;AAAA,oBACrC,CAAqB;AAAA,kBACrB,CAAmB;AAAA,gBACnB,CAAiB;AAAA,cACjB,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,6BAA6B;AAAA,gBAC9C,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,wBAAwB;AAAA,YACzC,aAAaC,OAAS;AAAA,YACtB,SAASK,MAAS;AAAA,cAChBJ;AAAAA,gBACEH,SAAU;AAAA,kBACR,MAAMC,QAAW,mBAAmB;AAAA,kBACpC,KAAKC,OAAS;AAAA,kBACd,OAAOA,OAAS;AAAA,kBAChB,mBAAmBA,OAAS;AAAA,kBAC5B,UAAUA,OAAS,EAAG,QAAO;AAAA,gBAC/C,CAAiB;AAAA,cACjB;AAAA,cACcF,SAAU;AAAA,gBACR,MAAMC,QAAW,8BAA8B;AAAA,gBAC/C,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA;AAAA,UAEDF,SAAU;AAAA,YACR,MAAMC,QAAW,4BAA4B;AAAA,YAC7C,aAAaC,OAAS;AAAA,YACtB,SAASK,MAAS;AAAA,cAChBP,SAAU;AAAA,gBACR,MAAMC,QAAW,uBAAuB;AAAA,gBACxC,QAAQC,OAAS;AAAA,gBACjB,QAAQA,OAAS;AAAA,gBACjB,aAAaG,SAAS;AAAA,gBACtB,SAASF;AAAAA,kBACPH,SAAU;AAAA,oBACR,MAAMC,QAAW,uBAAuB;AAAA,oBACxC,SAASC,OAAS;AAAA,kBACtC,CAAmB;AAAA,gBACnB,EAAkB,SAAQ,EAAG,QAAQ,CAAA,CAAE;AAAA,cACvC,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,kCAAkC;AAAA,gBACnD,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA;AAAA,UAEDF,SAAU;AAAA,YACR,MAAMC,QAAW,iCAAiC;AAAA,YAClD,aAAaC,OAAS;AAAA,YACtB,SAASE,mBAAsB,QAAQ;AAAA,cACrCJ,SAAU;AAAA,gBACR,MAAMC,QAAW,4BAA4B;AAAA,gBAC7C,SAASE;AAAAA,kBACPH,SAAU;AAAA,oBACR,MAAMC,QAAW,4BAA4B;AAAA,oBAC7C,SAASC,OAAS;AAAA,kBACtC,CAAmB;AAAA,gBACnB;AAAA,gBACgB,QAAQA,OAAS;AAAA,gBACjB,QAAQA,OAAS;AAAA,gBACjB,aAAaG,SAAS;AAAA,cACtC,CAAe;AAAA,cACDL,SAAU;AAAA,gBACR,MAAMC,QAAW,uCAAuC;AAAA,gBACxD,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA;AAAA,UAEDF,SAAU;AAAA,YACR,MAAMC,QAAW,wCAAwC;AAAA,YACzD,aAAaC,OAAS;AAAA,YACtB,SAASE,mBAAsB,QAAQ;AAAA,cACrCJ,SAAU;AAAA,gBACR,MAAMC,QAAW,8CAA8C;AAAA,gBAC/D,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,wCAAwC;AAAA,gBACzD,SAASC,OAAS;AAAA,gBAClB,WAAWA,OAAS;AAAA,gBACpB,WAAWG,SAAS,EAAG,SAAQ;AAAA,gBAC/B,YAAYA,SAAS,EAAG,SAAQ;AAAA,gBAChC,aAAaA,SAAS,EAAG,SAAQ;AAAA,cACjD,CAAe;AAAA,cACDL,SAAU;AAAA,gBACR,MAAMC,QAAW,0CAA0C;AAAA,gBAC3D,gBAAgBQ,QAAU;AAAA,cAC1C,CAAe;AAAA,cACDT,SAAU;AAAA,gBACR,MAAMC;AAAAA,kBACJ;AAAA,gBAClB;AAAA,gBACgB,OAAOE,QAASD,OAAS,CAAE,EAAE,SAAQ;AAAA,gBACrC,WAAWG,SAAS,EAAG,SAAQ;AAAA,gBAC/B,WAAWA,SAAS,EAAG,SAAQ;AAAA,gBAC/B,WAAWA,SAAS,EAAG,SAAQ;AAAA,gBAC/B,WAAWA,SAAS,EAAG,SAAQ;AAAA,cAC/C,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA;AAAA,UAEDL,SAAU;AAAA,YACR,MAAMC,QAAW,yBAAyB;AAAA,YAC1C,aAAaC,OAAS;AAAA,YACtB,SAASK,MAAS;AAAA,cAChBP,SAAU;AAAA,gBACR,MAAMC,QAAW,gCAAgC;AAAA,gBACjD,iBAAiBE;AAAAA,kBACfH,SAAU;AAAA,oBACR,MAAMC,QAAW,gBAAgB;AAAA,oBACjC,WAAWC,OAAS;AAAA,kBACxC,CAAmB;AAAA,gBACnB;AAAA,cACA,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,+BAA+B;AAAA,gBAChD,YAAYC,OAAS;AAAA,cACrC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,QACX,CAAS;AAAA,MACT,CAAO;AAAA,MACDF,SAAU;AAAA,QACR,MAAMC,QAAW,qBAAqB;AAAA,QACtC,OAAOI,SAAS;AAAA,QAChB,OAAOD,mBAAsB,QAAQ;AAAA,UACnCJ,SAAU;AAAA,YACR,MAAMC,QAAW,kBAAkB;AAAA,YACnC,cAAcC,OAAS;AAAA,UACnC,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,YAAY;AAAA,YAC7B,MAAMC,OAAS;AAAA,UAC3B,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,gBAAgB;AAAA,YACjC,UAAUC,OAAS;AAAA,UAC/B,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,iBAAiB;AAAA,YAClC,WAAWC,OAAS;AAAA,UAChC,CAAW;AAAA,UACDF,SAAU;AAAA,YACR,MAAMC,QAAW,iBAAiB;AAAA,YAClC,UAAUG,mBAAsB,QAAQ;AAAA,cACtCJ,SAAU;AAAA,gBACR,MAAMC,QAAW,4BAA4B;AAAA,gBAC7C,YAAYC,OAAS;AAAA,gBACrB,KAAKA,OAAS;AAAA,gBACd,OAAOA,OAAS;AAAA,gBAChB,iBAAiBA,OAAS;AAAA,cAC1C,CAAe;AAAA,cACDF,SAAU;AAAA,gBACR,MAAMC,QAAW,eAAe;AAAA,gBAChC,YAAYC,OAAS;AAAA,gBACrB,gBAAgBG,SAAS;AAAA,gBACzB,gBAAgBH,OAAS,EAAG,SAAQ;AAAA,gBACpC,mBAAmBG,SAAS;AAAA,gBAC5B,iBAAiBA,SAAS;AAAA,cAC1C,CAAe;AAAA,cACDL,SAAU;AAAA,gBACR,MAAMC,QAAW,eAAe;AAAA,gBAChC,YAAYC,OAAS;AAAA,gBACrB,gBAAgBG,SAAS;AAAA,gBACzB,gBAAgBH,OAAS,EAAG,SAAQ;AAAA,gBACpC,kBAAkBG,SAAS;AAAA,gBAC3B,gBAAgBA,SAAS;AAAA,cACzC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,QACX,CAAS;AAAA,MACT,CAAO;AAAA,MACDL,SAAU;AAAA,QACR,MAAMC,QAAW,oBAAoB;AAAA,QACrC,OAAOI,SAAS;AAAA,MACxB,CAAO;AAAA,MACDL,SAAU;AAAA,QACR,MAAMC,QAAW,OAAO;AAAA,QACxB,OAAOD,SAAU;AAAA,UACf,MAAME,OAAS;AAAA,UACf,SAASA,OAAS;AAAA,QAC5B,CAAS;AAAA,MACT,CAAO;AAAA,MACDF,SAAU;AAAA,QACR,MAAMC,QAAW,eAAe;AAAA,QAChC,OAAOD,SAAU;AAAA,UACf,aAAaE,OAAS,EAAG,QAAO;AAAA,UAChC,eAAeA,OAAS,EAAG,QAAO;AAAA,UAClC,WAAWF,SAAU;AAAA,YACnB,YAAYE,OAAS;AAAA,YACrB,IAAIA,OAAS;AAAA,YACb,QAAQC;AAAAA,cACNH,SAAU;AAAA,gBACR,MAAMO,MAAS;AAAA,kBACbN,QAAW,WAAW;AAAA,kBACtBA,QAAW,QAAQ;AAAA,gBACrC,CAAiB;AAAA,gBACD,UAAUC,OAAS;AAAA,gBACnB,SAASA,OAAS;AAAA,cAClC,CAAe;AAAA,YACf,EAAc,QAAO;AAAA,UACrB,CAAW,EAAE,QAAO;AAAA,UACV,oBAAoBF,SAAU;AAAA,YAC5B,eAAeG;AAAAA,cACbI,MAAS;AAAA,gBACPP,SAAU;AAAA,kBACR,MAAMC,QAAW,0BAA0B;AAAA,kBAC3C,mBAAmBI,SAAS;AAAA,kBAC5B,sBAAsBA,SAAS;AAAA,gBACjD,CAAiB;AAAA,gBACDL,SAAU;AAAA,kBACR,MAAMC,QAAW,yBAAyB;AAAA,kBAC1C,wBAAwBI,SAAS;AAAA,kBACjC,sBAAsBA,SAAS;AAAA,gBACjD,CAAiB;AAAA,cACjB,CAAe;AAAA,YACf;AAAA,UACA,CAAW,EAAE,QAAO;AAAA,QACpB,CAAS;AAAA,QACD,OAAOK,YAAe;AAAA,UACpB,cAAcL,SAAS,EAAG,QAAO;AAAA,UACjC,eAAeA,SAAS;AAAA,UACxB,6BAA6BA,SAAS,EAAG,QAAO;AAAA,QAC1D,CAAS;AAAA,MACT,CAAO;AAAA,MACDL,SAAU;AAAA,QACR,MAAMC,QAAW,cAAc;AAAA,MACvC,CAAO;AAAA,MACDD,SAAU;AAAA,QACR,MAAMC,QAAW,MAAM;AAAA,MAC/B,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,mCAAmCH;AAAAA,EACrC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,WAAWE,OAAS,EAAG,SAAQ;AAAA,MAC/B,cAAcA,OAAS,EAAG,SAAQ;AAAA,IACxC,CAAK;AAAA,EACL;AACA;AAIA,IAAI,mCAAmCS,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA,EAK/C,WAAWA,SAAU;AAAA;AAAA;AAAA;AAAA,IAInB,SAASC,QAAU;AAAA,EACvB,CAAG,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,EAKX,OAAOC,OAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM3B,SAASA,OAAS,EAAG,SAAQ;AAC/B,CAAC;AACD,IAAI,2BAA2BF,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMvC,eAAeC,QAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQpC,sBAAsBE,MAAQ,CAAC,gBAAgB,YAAY,MAAM,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO5E,UAAUH,SAAU;AAAA,IAClB,MAAMI,MAAS,CAACC,QAAW,SAAS,GAAGA,QAAW,UAAU,CAAC,CAAC;AAAA,IAC9D,cAAcC,SAAS,EAAG,SAAQ;AAAA,EACtC,CAAG,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,EAKX,wBAAwBL,QAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,EAK7C,cAAcD,SAAU;AAAA,IACtB,MAAMK,QAAW,WAAW;AAAA,IAC5B,KAAKD,MAAS,CAACC,QAAW,IAAI,GAAGA,QAAW,IAAI,CAAC,CAAC,EAAE,SAAQ;AAAA,EAChE,CAAG,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA,EAIX,YAAYE;AAAAA,IACVP,SAAU;AAAA,MACR,MAAMK,QAAW,KAAK;AAAA,MACtB,MAAMH,OAAS;AAAA,MACf,KAAKA,OAAS;AAAA,MACd,oBAAoBA,OAAS,EAAG,QAAO;AAAA,MACvC,mBAAmBF,SAAU;AAAA,QAC3B,SAASC,QAAU,EAAG,QAAO;AAAA,QAC7B,cAAcM,QAASL,OAAS,CAAE,EAAE,QAAO;AAAA,MACnD,CAAO,EAAE,QAAO;AAAA,IAChB,CAAK;AAAA,EACL,EAAI,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMV,WAAWF,SAAU;AAAA,IACnB,IAAIE,OAAS,EAAG,SAAQ;AAAA,IACxB,QAAQK;AAAAA,MACNP,SAAU;AAAA,QACR,MAAMI,MAAS,CAACC,QAAW,WAAW,GAAGA,QAAW,QAAQ,CAAC,CAAC;AAAA,QAC9D,SAASH,OAAS;AAAA,QAClB,SAASA,OAAS,EAAG,SAAQ;AAAA,MACrC,CAAO;AAAA,IACP,EAAM,SAAQ;AAAA,EACd,CAAG,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASX,eAAeD,QAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA,EAIpC,QAAQE,MAAQ,CAAC,OAAO,UAAU,MAAM,CAAC,EAAE,SAAQ;AAAA,EACnD,mBAAmBH,SAAU;AAAA,IAC3B,OAAOO;AAAAA,MACLC,mBAAsB,QAAQ;AAAA,QAC5BR,SAAU;AAAA,UACR,MAAMK,QAAW,0BAA0B;AAAA,UAC3C,SAASG,mBAAsB,QAAQ;AAAA,YACrCR,SAAU;AAAA,cACR,MAAMK,QAAW,cAAc;AAAA,cAC/B,OAAOC,SAAS;AAAA,YAC9B,CAAa;AAAA,YACDN,SAAU;AAAA,cACR,MAAMK,QAAW,WAAW;AAAA,cAC5B,OAAOC,SAAS;AAAA,YAC9B,CAAa;AAAA,UACb,CAAW,EAAE,SAAQ;AAAA,UACX,MAAMN,SAAU;AAAA,YACd,MAAMK,QAAW,WAAW;AAAA,YAC5B,OAAOC,SAAS;AAAA,UAC5B,CAAW,EAAE,SAAQ;AAAA,UACX,cAAcN,SAAU;AAAA,YACtB,MAAMK,QAAW,cAAc;AAAA,YAC/B,OAAOC,SAAS;AAAA,UAC5B,CAAW,EAAE,SAAQ;AAAA,UACX,iBAAiBL,QAAU,EAAG,SAAQ;AAAA,UACtC,cAAcM,QAASL,OAAS,CAAE,EAAE,SAAQ;AAAA,QACtD,CAAS;AAAA,QACDF,SAAU;AAAA,UACR,MAAMK,QAAW,yBAAyB;AAAA,UAC1C,MAAMD,MAAS;AAAA,YACbC,QAAW,KAAK;AAAA,YAChBL,SAAU;AAAA,cACR,MAAMK,QAAW,gBAAgB;AAAA,cACjC,OAAOC,SAAS;AAAA,YAC9B,CAAa;AAAA,UACb,CAAW,EAAE,SAAQ;AAAA,QACrB,CAAS;AAAA,MACT,CAAO;AAAA,IACP;AAAA,EACA,CAAG,EAAE,SAAQ;AACb,CAAC;AAQD,IAAI,wBAAwB;AAC5B,SAAS,gBAAgB,kBAAkB;AACzC,MAAI7X;AACJ,QAAM,aAAa,oBAAoB,OAAO,SAAS,iBAAiB;AACxE,QAAM,qBAAqBA,OAAK,cAAc,OAAO,SAAS,WAAW,iBAAiB,OAAOA,OAAK,cAAc,OAAO,SAAS,WAAW;AAC/I,SAAO;AACT;AACA,IAAI,wBAAwB,MAAM;AAAA,EAChC,cAAc;AACZ,SAAK,kBAAkB;AACvB,SAAK,WAAW,CAAA;AAAA,EAClB;AAAA,EACA,gBAAgB,kBAAkB,SAAS;AACzC,UAAM,oBAAoB,gBAAgB,gBAAgB;AAC1D,QAAI,CAAC,mBAAmB;AACtB,aAAO;AAAA,IACT;AACA,QAAI,CAAC,QAAQ,UAAU;AACrB,WAAK,SAAS,KAAK;AAAA,QACjB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS,kCAAkC,QAAQ,IAAI;AAAA,MAC/D,CAAO;AACD,aAAO;AAAA,IACT;AACA,SAAK;AACL,QAAI,KAAK,kBAAkB,uBAAuB;AAChD,WAAK,SAAS,KAAK;AAAA,QACjB,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS,WAAW,qBAAqB,sCAAsC,KAAK,eAAe;AAAA,MAC3G,CAAO;AACD,aAAO;AAAA,IACT;AACA,WAAO;AAAA,EACT;AAAA,EACA,cAAc;AACZ,WAAO,KAAK;AAAA,EACd;AACF;AAMA,IAAI,gCAAgCgY;AAAAA,EAClC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,eAAeC,SAAS,EAAG,SAAQ;AAAA,IACzC,CAAK;AAAA,EACL;AACA;AACA,IAAI,iCAAiCH;AAAAA,EACnC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,SAASE,MAAQ,CAAC,QAAQ,UAAU,eAAe,QAAQ,CAAC;AAAA,MAC5D,MAAMC,OAAS;AAAA,MACf,WAAWA,OAAS,EAAG,SAAQ;AAAA,MAC/B,aAAaF,SAAS,EAAG,IAAG,EAAG,SAAQ;AAAA,MACvC,SAASE,OAAS,EAAG,SAAQ;AAAA,MAC7B,SAASA,OAAS,EAAG,SAAQ;AAAA,MAC7B,YAAYC,QAASH,SAAS,EAAG,IAAG,CAAE,EAAE,SAAQ;AAAA,IACtD,CAAK;AAAA,EACL;AACA;AACA,IAAI,UAAU,0BAA0B;AAAA,EACtC,IAAI;AAAA,EACJ,aAAa;AACf,CAAC;AACD,IAAI,sBAAsB,CAAC,OAAO,OAAO;AACvC,SAAO,QAAQ,IAAI;AACrB;AASA,IAAI,+BAA+BI;AAAAA,EACjC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,SAASC,SAAS,EAAG,SAAQ;AAAA,MAC7B,gBAAgBC,QAASC,OAAS,CAAE,EAAE,SAAQ;AAAA,MAC9C,gBAAgBD,QAASC,OAAS,CAAE,EAAE,SAAQ;AAAA,MAC9C,cAAcH,SAAU;AAAA,QACtB,MAAMI,QAAW,aAAa;AAAA,QAC9B,MAAMD,OAAS,EAAG,SAAQ;AAAA,QAC1B,QAAQA,OAAS,EAAG,SAAQ;AAAA,QAC5B,SAASA,OAAS,EAAG,SAAQ;AAAA,QAC7B,UAAUA,OAAS,EAAG,SAAQ;AAAA,MACtC,CAAO,EAAE,SAAQ;AAAA,IACjB,CAAK;AAAA,EACL;AACA;AACA,IAAI,iCAAiCL;AAAAA,EACnC,MAAMC;AAAAA,IACJG;AAAAA,MACEF,SAAU;AAAA,QACR,KAAKG,OAAS;AAAA,QACd,OAAOA,OAAS,EAAG,SAAQ;AAAA,QAC3B,SAASA,OAAS,EAAG,SAAQ;AAAA,QAC7B,kBAAkBA,OAAS;AAAA,QAC3B,MAAMC,QAAW,mBAAmB;AAAA,MAC5C,CAAO;AAAA,IACP;AAAA,EACA;AACA;AACA,IAAI,gCAAgCN;AAAAA,EAClC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,OAAOG,OAAS;AAAA,IACtB,CAAK;AAAA,EACL;AACA;AACA,IAAI,WAAW,0CAA0C;AAAA,EACvD,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAAA,EACd,yBAAyB;AAC3B,CAAC;AACD,IAAI,qBAAqB,CAAC,OAAO,OAAO;AACtC,SAAO,SAAS,IAAI;AACtB;AASA,IAAI,8BAA8BE;AAAAA,EAChC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,SAASC,SAAS,EAAG,SAAQ;AAAA,MAC7B,gBAAgBC,QAASC,OAAS,CAAE,EAAE,SAAQ;AAAA,MAC9C,gBAAgBD,QAASC,OAAS,CAAE,EAAE,SAAQ;AAAA,MAC9C,WAAWH,SAAU,EAAE,SAASI,QAAU,EAAE,CAAE,EAAE,SAAQ;AAAA,MACxD,kBAAkBH,SAAS,EAAG,SAAQ;AAAA,IAC5C,CAAK;AAAA,EACL;AACA;AACA,IAAI,gCAAgCH;AAAAA,EAClC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,MAAMK,QAAW,kBAAkB;AAAA,MACnC,KAAKF,OAAS;AAAA,MACd,SAASH,SAAU;AAAA,QACjB,MAAMK,QAAW,UAAU;AAAA,QAC3B,OAAOF,OAAS,EAAG,SAAQ;AAAA,QAC3B,WAAWH,SAAU,EAAE,SAASI,QAAU,EAAE,CAAE,EAAE,SAAQ;AAAA,QACxD,QAAQE,MAAS;AAAA,UACfN,SAAU;AAAA,YACR,MAAMK,QAAW,QAAQ;AAAA,YACzB,WAAWA,QAAW,iBAAiB;AAAA,YACvC,MAAMF,OAAS;AAAA,UAC3B,CAAW;AAAA,UACDH,SAAU;AAAA,YACR,MAAMK,QAAW,MAAM;AAAA,YACvB,WAAWA,QAAW,YAAY;AAAA,YAClC,MAAMF,OAAS;AAAA,UAC3B,CAAW;AAAA,QACX,CAAS;AAAA,MACT,CAAO;AAAA,MACD,aAAaA,OAAS,EAAG,SAAQ;AAAA,IACvC,CAAK;AAAA,EACL;AACA;AACA,IAAI,+BAA+BL;AAAAA,EACjC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,KAAKG,OAAS;AAAA,IACpB,CAAK;AAAA,EACL;AACA;AACA,IAAI,WAAWI,0CAA2C;AAAA,EACxD,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAAA,EACd,yBAAyB;AAC3B,CAAC;AACD,IAAI,oBAAoB,CAAC,OAAO,OAAO;AACrC,SAAO,SAAS,IAAI;AACtB;AAIA,eAAeC,eAAa;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAIxZ;AACJ,WAAS,SAAS,OAAO,SAAS,MAAM,UAAU,QAAQ;AAC1D,QAAM,eAAe,CAAA;AACrB,QAAM,QAAwB,oBAAI,IAAG;AACrC,QAAM,YAAY,yBAAyB,IAAI,sBAAqB;AACpE,MAAI,SAAS,MAAM;AACjB,WAAO,EAAE,OAAO,QAAQ,YAAY,QAAQ,cAAc,MAAK;AAAA,EACjE;AACA,QAAM,kBAAkB,CAAA;AACxB,aAAWyZ,SAAQ,OAAO;AACxB,YAAQA,MAAK,MAAI;AAAA,MACf,KAAK,YAAY;AACf,cAAM,eAAe,UAAU,gBAAgBA,MAAK,iBAAiB;AAAA,UACnE,MAAM;AAAA,UACN,UAAU;AAAA,QACpB,CAAS;AACD,cAAM,oBAAoBzZ,OAAKyZ,MAAK,oBAAoB,OAAO,SAASzZ,KAAG;AAC3E,cAAM,eAAe,oBAAoB,OAAO,SAAS,iBAAiB;AAC1E,cAAM,iBAAiB,oBAAoB,OAAO,SAAS,iBAAiB;AAC5E,wBAAgB,KAAK;AAAA,UACnB,MAAMyZ,MAAK;AAAA,UACX,aAAaA,MAAK;AAAA,UAClB,cAAcA,MAAK;AAAA,UACnB,eAAe;AAAA,UACf,GAAG,6BAA6B,QAAQA,MAAK,UAAU,OAAO,EAAE,QAAQA,MAAK,OAAM,IAAK,CAAA;AAAA,UACxF,GAAG,gBAAgB,OAAO,EAAE,eAAe,aAAY,IAAK,CAAA;AAAA,UAC5D,GAAG,kBAAkB,OAAO,EAAE,iBAAiB,eAAc,IAAK,CAAA;AAAA,UAClE,GAAGA,MAAK,iBAAiB,OAAO;AAAA,YAC9B,gBAAgBA,MAAK,cAAc;AAAA,cACjC,CAAC,YAAY,QAAQ;AAAA,YACnC;AAAA,UACA,IAAc,CAAA;AAAA,QACd,CAAS;AACD,YAAI,6BAA6B,MAAM;AACrC,gBAAM,IAAI,+BAA+B;AAAA,QAC3C;AACA,YAAIA,MAAK,iBAAiB,QAAQ,kBAAkB,MAAM;AACxD,gBAAM,IAAI,8BAA8B;AAAA,QAC1C;AACA;AAAA,MACF;AAAA,MACA,KAAK,YAAY;AACf,gBAAQA,MAAK,IAAE;AAAA,UACb,KAAK,qCAAqC;AACxC,kBAAM,IAAI,2BAA2B;AACrC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,qCAAqC;AACxC,kBAAM,IAAI,2BAA2B;AACrC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,YACpB,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,+BAA+B;AAClC,kBAAM,IAAI,yBAAyB;AACnC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,kBAAkBA,MAAK,KAAK;AAAA,cAC5B,mBAAmBA,MAAK,KAAK;AAAA,cAC7B,gBAAgBA,MAAK,KAAK;AAAA,cAC1B,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,+BAA+B;AAClC,kBAAM,IAAI,yBAAyB;AACnC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,kBAAkBA,MAAK,KAAK;AAAA,cAC5B,mBAAmBA,MAAK,KAAK;AAAA,cAC7B,gBAAgBA,MAAK,KAAK;AAAA,cAC1B,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,kCAAkC;AACrC,kBAAM,IAAI,yBAAyB;AACnC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,kCAAkC;AACrC,kBAAM,IAAI,yBAAyB;AACnC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,kCAAkC;AACrC,kBAAM,IAAI,yBAAyB;AACnC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,kCAAkC;AACrC,kBAAM,OAAO,MAAM,cAAc;AAAA,cAC/B,OAAOA,MAAK;AAAA,cACZ,QAAQ;AAAA,YACtB,CAAa;AACD,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,gBAAgB,KAAK;AAAA,cACrB,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,2BAA2B;AAC9B,kBAAM,IAAI,yBAAyB;AACnC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,2BAA2B;AAC9B,kBAAM,IAAI,yBAAyB;AACnC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,6BAA6B;AAChC,kBAAM,IAAI,+BAA+B;AACzC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,YACpB,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,gCAAgC;AACnC,kBAAM,IAAI,sBAAsB;AAChC,kBAAM,OAAO,MAAM,cAAc;AAAA,cAC/B,OAAOA,MAAK;AAAA,cACZ,QAAQ;AAAA,YACtB,CAAa;AACD,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,UAAU,KAAK;AAAA,cACf,iBAAiB,KAAK;AAAA,cACtB,iBAAiB,KAAK;AAAA,cACtB,WAAW,KAAK;AAAA,cAChB,oBAAoB,KAAK;AAAA,cACzB,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,iCAAiC;AACpC,kBAAM,OAAO,MAAM,cAAc;AAAA,cAC/B,OAAOA,MAAK;AAAA,cACZ,QAAQ;AAAA,YACtB,CAAa;AACD,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,cACN,UAAU,KAAK;AAAA,cACf,iBAAiB,KAAK;AAAA,cACtB,iBAAiB,KAAK;AAAA,cACtB,eAAe,KAAK;AAAA,cACpB,eAAe;AAAA,YAC7B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,wCAAwC;AAC3C,kBAAM,IAAI,8BAA8B;AACxC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,YACpB,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,uCAAuC;AAC1C,kBAAM,IAAI,8BAA8B;AACxC,4BAAgB,KAAK;AAAA,cACnB,MAAM;AAAA,cACN,MAAM;AAAA,YACpB,CAAa;AACD;AAAA,UACF;AAAA,UACA,SAAS;AACP,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,SAAS,yBAAyBA,MAAK,EAAE;AAAA,YACvD,CAAa;AACD;AAAA,UACF;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,SAAS;AACP,qBAAa,KAAK;AAAA,UAChB,MAAM;AAAA,UACN,SAAS,QAAQA,KAAI;AAAA,QAC/B,CAAS;AACD;AAAA,MACF;AAAA,IACN;AAAA,EACE;AACA,MAAI,cAAc,MAAM;AACtB,WAAO;AAAA,MACL,OAAO;AAAA,MACP,YAAY,yBAAyB,EAAE,MAAM,QAAQ,2BAA2B,uBAAsB,IAAK;AAAA,MAC3G;AAAA,MACA;AAAA,IACN;AAAA,EACE;AACA,QAAM,OAAO,WAAW;AACxB,UAAQ,MAAI;AAAA,IACV,KAAK;AACH,aAAO;AAAA,QACL,OAAO;AAAA,QACP,YAAY;AAAA,UACV,MAAM;AAAA,UACN,2BAA2B;AAAA,QACrC;AAAA,QACQ;AAAA,QACA;AAAA,MACR;AAAA,IACI,KAAK;AACH,aAAO;AAAA,QACL,OAAO;AAAA,QACP,YAAY;AAAA,UACV,MAAM;AAAA,UACN,2BAA2B;AAAA,QACrC;AAAA,QACQ;AAAA,QACA;AAAA,MACR;AAAA,IACI,KAAK;AACH,aAAO,EAAE,OAAO,QAAQ,YAAY,QAAQ,cAAc,MAAK;AAAA,IACjE,KAAK;AACH,aAAO;AAAA,QACL,OAAO;AAAA,QACP,YAAY;AAAA,UACV,MAAM;AAAA,UACN,MAAM,WAAW;AAAA,UACjB,2BAA2B;AAAA,QACrC;AAAA,QACQ;AAAA,QACA;AAAA,MACR;AAAA,IACI,SAAS;AACP,YAAM,mBAAmB;AACzB,YAAM,IAAI,8BAA8B;AAAA,QACtC,eAAe,qBAAqB,gBAAgB;AAAA,MAC5D,CAAO;AAAA,IACH;AAAA,EACJ;AACA;AAGA,SAAS,8BAA8B,OAAO;AAC5C,MAAIzZ,MAAIC;AACR,QAAM,cAAc,MAAM;AAC1B,QAAM,eAAe,MAAM;AAC3B,QAAM,uBAAuBD,OAAK,MAAM,gCAAgC,OAAOA,OAAK;AACpF,QAAM,mBAAmBC,MAAK,MAAM,4BAA4B,OAAOA,MAAK;AAC5E,SAAO;AAAA,IACL,aAAa;AAAA,MACX,OAAO,cAAc,sBAAsB;AAAA,MAC3C,SAAS;AAAA,MACT,WAAW;AAAA,MACX,YAAY;AAAA,IAClB;AAAA,IACI,cAAc;AAAA,MACZ,OAAO;AAAA,MACP,MAAM;AAAA,MACN,WAAW;AAAA,IACjB;AAAA,IACI,KAAK;AAAA,EACT;AACA;AAoBA,IAAI,qCAAqCyZ;AAAAA,EACvC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,MAAMC,QAAW,uBAAuB;AAAA,MACxC,QAAQC,OAAS;AAAA,MACjB,QAAQA,OAAS;AAAA,MACjB,aAAaC,SAAS;AAAA,MACtB,SAASC;AAAAA,QACPJ,SAAU;AAAA,UACR,MAAMC,QAAW,uBAAuB;AAAA,UACxC,SAASC,OAAS;AAAA,QAC5B,CAAS;AAAA,MACT,EAAQ,SAAQ,EAAG,QAAQ,CAAA,CAAE;AAAA,IAC7B,CAAK;AAAA,EACL;AACA;AACA,IAAI,oCAAoCJ;AAAAA,EACtC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,MAAME,OAAS;AAAA,IACrB,CAAK;AAAA,EACL;AACA;AACA,IAAI,WAAWG,0CAA2C;AAAA,EACxD,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AACD,IAAI,yBAAyB,CAAC,OAAO,OAAO;AAC1C,SAAO,SAAS,IAAI;AACtB;AASA,IAAI,qCAAqCC;AAAAA,EACvC,MAAMC;AAAAA,IACJC,mBAAsB,QAAQ;AAAA,MAC5BC,SAAU;AAAA,QACR,MAAMC,QAAW,uBAAuB;AAAA,QACxC,QAAQC,OAAS;AAAA,QACjB,QAAQA,OAAS;AAAA,QACjB,aAAaC,SAAS;AAAA,QACtB,SAASC;AAAAA,UACPJ,SAAU;AAAA,YACR,MAAMC,QAAW,uBAAuB;AAAA,YACxC,SAASC,OAAS;AAAA,UAC9B,CAAW;AAAA,QACX,EAAU,SAAQ,EAAG,QAAQ,CAAA,CAAE;AAAA,MAC/B,CAAO;AAAA,MACDF,SAAU;AAAA,QACR,MAAMC,QAAW,4BAA4B;AAAA,QAC7C,SAASG;AAAAA,UACPJ,SAAU;AAAA,YACR,MAAMC,QAAW,4BAA4B;AAAA,YAC7C,SAASC,OAAS;AAAA,UAC9B,CAAW;AAAA,QACX;AAAA,QACQ,QAAQA,OAAS;AAAA,QACjB,QAAQA,OAAS;AAAA,QACjB,aAAaC,SAAS;AAAA,MAC9B,CAAO;AAAA,MACDH,SAAU;AAAA,QACR,MAAMC,QAAW,uCAAuC;AAAA,QACxD,YAAYC,OAAS;AAAA,MAC7B,CAAO;AAAA,MACDF,SAAU;AAAA,QACR,MAAMC,QAAW,8CAA8C;AAAA,QAC/D,YAAYC,OAAS;AAAA,MAC7B,CAAO;AAAA,MACDF,SAAU;AAAA,QACR,MAAMC,QAAW,wCAAwC;AAAA,QACzD,SAASC,OAAS;AAAA,QAClB,WAAWA,OAAS;AAAA,QACpB,WAAWC,SAAS,EAAG,SAAQ;AAAA,QAC/B,YAAYA,SAAS,EAAG,SAAQ;AAAA,QAChC,aAAaA,SAAS,EAAG,SAAQ;AAAA,MACzC,CAAO;AAAA,MACDH,SAAU;AAAA,QACR,MAAMC,QAAW,0CAA0C;AAAA,QAC3D,gBAAgBI,QAAU;AAAA,MAClC,CAAO;AAAA,MACDL,SAAU;AAAA,QACR,MAAMC,QAAW,+CAA+C;AAAA,QAChE,OAAOG,QAASF,OAAS,CAAE,EAAE,SAAQ;AAAA,QACrC,WAAWC,SAAS,EAAG,SAAQ;AAAA,QAC/B,WAAWA,SAAS,EAAG,SAAQ;AAAA,QAC/B,WAAWA,SAAS,EAAG,SAAQ;AAAA,QAC/B,WAAWA,SAAS,EAAG,SAAQ;AAAA,MACvC,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,oCAAoCN;AAAAA,EACtC,MAAMC;AAAAA,IACJC,mBAAsB,QAAQ;AAAA;AAAA,MAE5BC,SAAU;AAAA,QACR,MAAMC,QAAW,wBAAwB;AAAA,QACzC,MAAMC,OAAS;AAAA,MACvB,CAAO;AAAA,MACDF,SAAU;AAAA,QACR,MAAMC,QAAW,qBAAqB;AAAA,QACtC,SAASC,OAAS;AAAA,MAC1B,CAAO;AAAA,MACDH,mBAAsB,WAAW;AAAA,QAC/BC,SAAU;AAAA,UACR,MAAMC,QAAW,4BAA4B;AAAA,UAC7C,SAASA,QAAW,MAAM;AAAA,UAC1B,MAAMC,OAAS;AAAA,QACzB,CAAS;AAAA,QACDF,SAAU;AAAA,UACR,MAAMC,QAAW,4BAA4B;AAAA,UAC7C,SAASA,QAAW,QAAQ;AAAA,UAC5B,MAAMC,OAAS;AAAA,UACf,WAAWA,OAAS,EAAG,QAAO;AAAA,QACxC,CAAS;AAAA,QACDF,SAAU;AAAA,UACR,MAAMC,QAAW,4BAA4B;AAAA,UAC7C,SAASA,QAAW,aAAa;AAAA,UACjC,MAAMC,OAAS;AAAA,UACf,SAASA,OAAS;AAAA,UAClB,SAASA,OAAS;AAAA,QAC5B,CAAS;AAAA,MACT,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,WAAWI,0CAA2C;AAAA,EACxD,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAAA;AAAA;AAAA;AAAA,EAId,yBAAyB;AAC3B,CAAC;AACD,IAAI,yBAAyB,CAAC,OAAO,OAAO;AAC1C,SAAO,SAAS,IAAI;AACtB;AASA,IAAI,uCAAuCC;AAAAA,EACzC,MAAMC;AAAAA,IACJC;AAAAA,MACEC,SAAU;AAAA,QACR,MAAMC,QAAW,gBAAgB;AAAA,QACjC,UAAUC,OAAS;AAAA,MAC3B,CAAO;AAAA,IACP;AAAA,EACA;AACA;AACA,IAAI,sCAAsCL;AAAAA,EACxC,MAAMC;AAAAA,IACJE,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAWR,SAASE,OAAS;AAAA;AAAA;AAAA;AAAA,MAIlB,OAAOC,SAAS,EAAG,SAAQ;AAAA,IACjC,CAAK;AAAA,EACL;AACA;AACA,IAAI,WAAWC,0CAA2C;AAAA,EACxD,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AACD,IAAI,2BAA2B,CAAC,OAAO,OAAO;AAC5C,SAAO,SAAS,IAAI;AACtB;AAGA,SAAS,gBAAgB,MAAM;AAC7B,MAAI,OAAO,SAAS,UAAU;AAC5B,WAAO,OAAO,KAAK,MAAM,QAAQ,EAAE,SAAS,OAAO;AAAA,EACrD;AACA,MAAI,gBAAgB,YAAY;AAC9B,WAAO,IAAI,YAAW,EAAG,OAAO,IAAI;AAAA,EACtC;AACA,MAAI,gBAAgB,KAAK;AACvB,UAAM,IAAIC,8BAA+B;AAAA,MACvC,eAAe;AAAA,IACrB,CAAK;AAAA,EACH;AACA,QAAM,IAAIA,8BAA+B;AAAA,IACvC,eAAe,6CAA6C,OAAO,IAAI;AAAA,EAC3E,CAAG;AACH;AACA,SAAS,UAAU,MAAM;AACvB,SAAO,gBAAgB,OAAO,YAAY,IAAI;AAChD;AACA,SAAS,YAAY,MAAM;AACzB,SAAO,OAAO,SAAS,YAAY,gBAAgB,KAAK,IAAI;AAC9D;AACA,SAAS,aAAa,MAAM;AAC1B,SAAO,gBAAgB,MAAM,KAAK,SAAQ,IAAK;AACjD;AACA,eAAe,iCAAiC;AAAA,EAC9C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAIpb,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAC5D,QAAM,QAAwB,oBAAI,IAAG;AACrC,QAAM,SAAS,gBAAgB,MAAM;AACrC,QAAM,YAAY,yBAAyB,IAAI,sBAAqB;AACpE,MAAI,SAAS;AACb,QAAM,WAAW,CAAA;AACjB,iBAAe,sBAAsB,kBAAkB;AACrD,QAAII,MAAKC;AACT,UAAM,mBAAmB,MAAM,qBAAqB;AAAA,MAClD,UAAU;AAAA,MACV,iBAAiB;AAAA,MACjB,QAAQ;AAAA,IACd,CAAK;AACD,YAAQA,QAAOD,OAAM,oBAAoB,OAAO,SAAS,iBAAiB,cAAc,OAAO,SAASA,KAAI,YAAY,OAAOC,OAAM;AAAA,EACvI;AACA,iBAAe,oBAAoB,kBAAkB;AACnD,UAAM,mBAAmB,MAAM,qBAAqB;AAAA,MAClD,UAAU;AAAA,MACV,iBAAiB;AAAA,MACjB,QAAQ;AAAA,IACd,CAAK;AACD,WAAO;AAAA,MACL,OAAO,oBAAoB,OAAO,SAAS,iBAAiB;AAAA,MAC5D,SAAS,oBAAoB,OAAO,SAAS,iBAAiB;AAAA,IACpE;AAAA,EACE;AACA,WAAS,IAAI,GAAG,IAAI,OAAO,QAAQ,KAAK;AACtC,UAAM,QAAQ,OAAO,CAAC;AACtB,UAAM,cAAc,MAAM,OAAO,SAAS;AAC1C,UAAM,OAAO,MAAM;AACnB,YAAQ,MAAI;AAAA,MACV,KAAK,UAAU;AACb,YAAI,UAAU,MAAM;AAClB,gBAAM,IAAI8a,8BAA+B;AAAA,YACvC,eAAe;AAAA,UAC3B,CAAW;AAAA,QACH;AACA,iBAAS,MAAM,SAAS,IAAI,CAAC,EAAE,SAAS,uBAAuB;AAAA,UAC7D,MAAM;AAAA,UACN,MAAM;AAAA,UACN,eAAe,UAAU,gBAAgB,iBAAiB;AAAA,YACxD,MAAM;AAAA,YACN,UAAU;AAAA,UACtB,CAAW;AAAA,QACX,EAAU;AACF;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,cAAM,mBAAmB,CAAA;AACzB,mBAAW,WAAW,MAAM,UAAU;AACpC,gBAAM,EAAE,MAAM,QAAO,IAAK;AAC1B,kBAAQ,MAAI;AAAA,YACV,KAAK,QAAQ;AACX,uBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,sBAAM,OAAO,QAAQ,CAAC;AACtB,sBAAM,aAAa,MAAM,QAAQ,SAAS;AAC1C,sBAAM,gBAAgBpb,OAAK,UAAU,gBAAgB,KAAK,iBAAiB;AAAA,kBACzE,MAAM;AAAA,kBACN,UAAU;AAAA,gBAC5B,CAAiB,MAAM,OAAOA,OAAK,aAAa,UAAU,gBAAgB,QAAQ,iBAAiB;AAAA,kBACjF,MAAM;AAAA,kBACN,UAAU;AAAA,gBAC5B,CAAiB,IAAI;AACL,wBAAQ,KAAK,MAAI;AAAA,kBACf,KAAK,QAAQ;AACX,qCAAiB,KAAK;AAAA,sBACpB,MAAM;AAAA,sBACN,MAAM,KAAK;AAAA,sBACX,eAAe;AAAA,oBACrC,CAAqB;AACD;AAAA,kBACF;AAAA,kBACA,KAAK,QAAQ;AACX,wBAAI,KAAK,UAAU,WAAW,QAAQ,GAAG;AACvC,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,QAAQ,UAAU,KAAK,IAAI,IAAI;AAAA,0BAC7B,MAAM;AAAA,0BACN,KAAK,aAAa,KAAK,IAAI;AAAA,wBACrD,IAA4B;AAAA,0BACF,MAAM;AAAA,0BACN,YAAY,KAAK,cAAc,YAAY,eAAe,KAAK;AAAA,0BAC/D,MAAM,gBAAgB,KAAK,IAAI;AAAA,wBACzD;AAAA,wBACwB,eAAe;AAAA,sBACvC,CAAuB;AAAA,oBACH,WAAW,KAAK,cAAc,mBAAmB;AAC/C,4BAAM,IAAI,iBAAiB;AAC3B,4BAAM,kBAAkB,MAAM;AAAA,wBAC5B,KAAK;AAAA,sBAC7B;AACsB,4BAAM,WAAW,MAAM;AAAA,wBACrB,KAAK;AAAA,sBAC7B;AACsB,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,QAAQ,UAAU,KAAK,IAAI,IAAI;AAAA,0BAC7B,MAAM;AAAA,0BACN,KAAK,aAAa,KAAK,IAAI;AAAA,wBACrD,IAA4B;AAAA,0BACF,MAAM;AAAA,0BACN,YAAY;AAAA,0BACZ,MAAM,gBAAgB,KAAK,IAAI;AAAA,wBACzD;AAAA,wBACwB,QAAQC,MAAK,SAAS,UAAU,OAAOA,MAAK,KAAK;AAAA,wBACjD,GAAG,SAAS,WAAW,EAAE,SAAS,SAAS,QAAO;AAAA,wBAClD,GAAG,mBAAmB;AAAA,0BACpB,WAAW,EAAE,SAAS,KAAI;AAAA,wBACpD;AAAA,wBACwB,eAAe;AAAA,sBACvC,CAAuB;AAAA,oBACH,WAAW,KAAK,cAAc,cAAc;AAC1C,4BAAM,kBAAkB,MAAM;AAAA,wBAC5B,KAAK;AAAA,sBAC7B;AACsB,4BAAM,WAAW,MAAM;AAAA,wBACrB,KAAK;AAAA,sBAC7B;AACsB,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,QAAQ,UAAU,KAAK,IAAI,IAAI;AAAA,0BAC7B,MAAM;AAAA,0BACN,KAAK,aAAa,KAAK,IAAI;AAAA,wBACrD,IAA4B;AAAA,0BACF,MAAM;AAAA,0BACN,YAAY;AAAA,0BACZ,MAAM,gBAAgB,KAAK,IAAI;AAAA,wBACzD;AAAA,wBACwB,QAAQ,KAAK,SAAS,UAAU,OAAO,KAAK,KAAK;AAAA,wBACjD,GAAG,SAAS,WAAW,EAAE,SAAS,SAAS,QAAO;AAAA,wBAClD,GAAG,mBAAmB;AAAA,0BACpB,WAAW,EAAE,SAAS,KAAI;AAAA,wBACpD;AAAA,wBACwB,eAAe;AAAA,sBACvC,CAAuB;AAAA,oBACH,OAAO;AACL,4BAAM,IAAImb,8BAA+B;AAAA,wBACvC,eAAe,eAAe,KAAK,SAAS;AAAA,sBACpE,CAAuB;AAAA,oBACH;AACA;AAAA,kBACF;AAAA,gBAClB;AAAA,cACc;AACA;AAAA,YACF;AAAA,YACA,KAAK,QAAQ;AACX,uBAAS,KAAK,GAAG,KAAK,QAAQ,QAAQ,MAAM;AAC1C,sBAAM,OAAO,QAAQ,EAAE;AACvB,oBAAI,KAAK,SAAS,0BAA0B;AAC1C;AAAA,gBACF;AACA,sBAAM,aAAa,OAAO,QAAQ,SAAS;AAC3C,sBAAM,gBAAgB,KAAK,UAAU,gBAAgB,KAAK,iBAAiB;AAAA,kBACzE,MAAM;AAAA,kBACN,UAAU;AAAA,gBAC5B,CAAiB,MAAM,OAAO,KAAK,aAAa,UAAU,gBAAgB,QAAQ,iBAAiB;AAAA,kBACjF,MAAM;AAAA,kBACN,UAAU;AAAA,gBAC5B,CAAiB,IAAI;AACL,sBAAM,SAAS,KAAK;AACpB,oBAAI;AACJ,wBAAQ,OAAO,MAAI;AAAA,kBACjB,KAAK;AACH,mCAAe,OAAO,MAAM,IAAI,CAAC,gBAAgB;AAC/C,8BAAQ,YAAY,MAAI;AAAA,wBACtB,KAAK;AACH,iCAAO;AAAA,4BACL,MAAM;AAAA,4BACN,MAAM,YAAY;AAAA,0BAC9C;AAAA,wBACwB,KAAK,cAAc;AACjB,iCAAO;AAAA,4BACL,MAAM;AAAA,4BACN,QAAQ;AAAA,8BACN,MAAM;AAAA,8BACN,YAAY,YAAY;AAAA,8BACxB,MAAM,YAAY;AAAA,4BAChD;AAAA,0BACA;AAAA,wBACwB;AAAA,wBACA,KAAK,aAAa;AAChB,iCAAO;AAAA,4BACL,MAAM;AAAA,4BACN,QAAQ;AAAA,8BACN,MAAM;AAAA,8BACN,KAAK,YAAY;AAAA,4BAC/C;AAAA,0BACA;AAAA,wBACwB;AAAA,wBACA,KAAK,YAAY;AACf,iCAAO;AAAA,4BACL,MAAM;AAAA,4BACN,QAAQ;AAAA,8BACN,MAAM;AAAA,8BACN,KAAK,YAAY;AAAA,4BAC/C;AAAA,0BACA;AAAA,wBACwB;AAAA,wBACA,KAAK,aAAa;AAChB,8BAAI,YAAY,cAAc,mBAAmB;AAC/C,kCAAM,IAAI,iBAAiB;AAC3B,mCAAO;AAAA,8BACL,MAAM;AAAA,8BACN,QAAQ;AAAA,gCACN,MAAM;AAAA,gCACN,YAAY,YAAY;AAAA,gCACxB,MAAM,YAAY;AAAA,8BAClD;AAAA,4BACA;AAAA,0BAC0B;AACA,mCAAS,KAAK;AAAA,4BACZ,MAAM;AAAA,4BACN,SAAS,uCAAuC,YAAY,IAAI,qBAAqB,YAAY,SAAS;AAAA,0BACtI,CAA2B;AACD,iCAAO;AAAA,wBACT;AAAA,wBACA,SAAS;AACP,mCAAS,KAAK;AAAA,4BACZ,MAAM;AAAA,4BACN,SAAS,uCAAuC,YAAY,IAAI;AAAA,0BAC5F,CAA2B;AACD,iCAAO;AAAA,wBACT;AAAA,sBACxB;AAAA,oBACoB,CAAC,EAAE,OAAO,aAAa;AACvB;AAAA,kBACF,KAAK;AAAA,kBACL,KAAK;AACH,mCAAe,OAAO;AACtB;AAAA,kBACF,KAAK;AACH,oCAAgB,KAAK,OAAO,WAAW,OAAO,KAAK;AACnD;AAAA,kBACF,KAAK;AAAA,kBACL,KAAK;AAAA,kBACL;AACE,mCAAe,KAAK,UAAU,OAAO,KAAK;AAC1C;AAAA,gBACpB;AACgB,iCAAiB,KAAK;AAAA,kBACpB,MAAM;AAAA,kBACN,aAAa,KAAK;AAAA,kBAClB,SAAS;AAAA,kBACT,UAAU,OAAO,SAAS,gBAAgB,OAAO,SAAS,eAAe,OAAO;AAAA,kBAChF,eAAe;AAAA,gBACjC,CAAiB;AAAA,cACH;AACA;AAAA,YACF;AAAA,YACA,SAAS;AACP,oBAAM,mBAAmB;AACzB,oBAAM,IAAI,MAAM,qBAAqB,gBAAgB,EAAE;AAAA,YACzD;AAAA,UACZ;AAAA,QACQ;AACA,iBAAS,KAAK,EAAE,MAAM,QAAQ,SAAS,kBAAkB;AACzD;AAAA,MACF;AAAA,MACA,KAAK,aAAa;AAChB,cAAM,mBAAmB,CAAA;AACzB,cAAM,gBAAgC,oBAAI,IAAG;AAC7C,iBAAS,IAAI,GAAG,IAAI,MAAM,SAAS,QAAQ,KAAK;AAC9C,gBAAM,UAAU,MAAM,SAAS,CAAC;AAChC,gBAAM,gBAAgB,MAAM,MAAM,SAAS,SAAS;AACpD,gBAAM,EAAE,QAAO,IAAK;AACpB,mBAAS,IAAI,GAAG,IAAI,QAAQ,QAAQ,KAAK;AACvC,kBAAM,OAAO,QAAQ,CAAC;AACtB,kBAAM,oBAAoB,MAAM,QAAQ,SAAS;AACjD,kBAAM,gBAAgB,KAAK,UAAU,gBAAgB,KAAK,iBAAiB;AAAA,cACzE,MAAM;AAAA,cACN,UAAU;AAAA,YACxB,CAAa,MAAM,OAAO,KAAK,oBAAoB,UAAU,gBAAgB,QAAQ,iBAAiB;AAAA,cACxF,MAAM;AAAA,cACN,UAAU;AAAA,YACxB,CAAa,IAAI;AACL,oBAAQ,KAAK,MAAI;AAAA,cACf,KAAK,QAAQ;AACX,iCAAiB,KAAK;AAAA,kBACpB,MAAM;AAAA,kBACN;AAAA;AAAA;AAAA;AAAA,oBAIE,eAAe,iBAAiB,oBAAoB,KAAK,KAAK,KAAI,IAAK,KAAK;AAAA;AAAA,kBAE9E,eAAe;AAAA,gBACjC,CAAiB;AACD;AAAA,cACF;AAAA,cACA,KAAK,aAAa;AAChB,oBAAI,eAAe;AACjB,wBAAM,oBAAoB,MAAM,qBAAqB;AAAA,oBACnD,UAAU;AAAA,oBACV,iBAAiB,KAAK;AAAA,oBACtB,QAAQ;AAAA,kBAC5B,CAAmB;AACD,sBAAI,qBAAqB,MAAM;AAC7B,wBAAI,kBAAkB,aAAa,MAAM;AACvC,gCAAU,gBAAgB,KAAK,iBAAiB;AAAA,wBAC9C,MAAM;AAAA,wBACN,UAAU;AAAA,sBAClC,CAAuB;AACD,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,UAAU,KAAK;AAAA,wBACf,WAAW,kBAAkB;AAAA,sBACrD,CAAuB;AAAA,oBACH,WAAW,kBAAkB,gBAAgB,MAAM;AACjD,gCAAU,gBAAgB,KAAK,iBAAiB;AAAA,wBAC9C,MAAM;AAAA,wBACN,UAAU;AAAA,sBAClC,CAAuB;AACD,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,MAAM,kBAAkB;AAAA,sBAChD,CAAuB;AAAA,oBACH,OAAO;AACL,+BAAS,KAAK;AAAA,wBACZ,MAAM;AAAA,wBACN,SAAS;AAAA,sBACjC,CAAuB;AAAA,oBACH;AAAA,kBACF,OAAO;AACL,6BAAS,KAAK;AAAA,sBACZ,MAAM;AAAA,sBACN,SAAS;AAAA,oBAC/B,CAAqB;AAAA,kBACH;AAAA,gBACF,OAAO;AACL,2BAAS,KAAK;AAAA,oBACZ,MAAM;AAAA,oBACN,SAAS;AAAA,kBAC7B,CAAmB;AAAA,gBACH;AACA;AAAA,cACF;AAAA,cACA,KAAK,aAAa;AAChB,oBAAI,KAAK,kBAAkB;AACzB,wBAAM,mBAAmB,gBAAgB;AAAA,oBACvC,KAAK;AAAA,kBACzB;AACkB,wBAAM,iBAAiB,MAAM,KAAK,KAAK,oBAAoB,OAAO,SAAS,GAAG,cAAc,OAAO,SAAS,GAAG,UAAU;AACzH,sBAAI,cAAc;AAChB,kCAAc,IAAI,KAAK,UAAU;AACjC,0BAAM,cAAc,MAAM,KAAK,KAAK,oBAAoB,OAAO,SAAS,GAAG,cAAc,OAAO,SAAS,GAAG;AAC5G,wBAAI,cAAc,QAAQ,OAAO,eAAe,UAAU;AACxD,+BAAS,KAAK;AAAA,wBACZ,MAAM;AAAA,wBACN,SAAS;AAAA,sBACjC,CAAuB;AACD;AAAA,oBACF;AACA,qCAAiB,KAAK;AAAA,sBACpB,MAAM;AAAA,sBACN,IAAI,KAAK;AAAA,sBACT,MAAM,KAAK;AAAA,sBACX,OAAO,KAAK;AAAA,sBACZ,aAAa;AAAA,sBACb,eAAe;AAAA,oBACrC,CAAqB;AAAA,kBACH;AAAA;AAAA,oBAEE,qBAAqB,oBAAoB,KAAK,SAAS,QAAQ,OAAO,KAAK,UAAU,YAAY,UAAU,KAAK,SAAS,OAAO,KAAK,MAAM,SAAS,aAAa,KAAK,MAAM,SAAS,yBAAyB,KAAK,MAAM,SAAS;AAAA,oBAClO;AACA,qCAAiB,KAAK;AAAA,sBACpB,MAAM;AAAA,sBACN,IAAI,KAAK;AAAA,sBACT,MAAM,KAAK,MAAM;AAAA;AAAA,sBAEjB,OAAO,KAAK;AAAA,sBACZ,eAAe;AAAA,oBACrC,CAAqB;AAAA,kBACH;AAAA;AAAA;AAAA,oBAGE,qBAAqB,oBAAoB,KAAK,SAAS,QAAQ,OAAO,KAAK,UAAU,YAAY,UAAU,KAAK,SAAS,KAAK,MAAM,SAAS;AAAA,oBAC7I;AACA,0BAAM,EAAE,MAAM,GAAG,GAAG,iBAAgB,IAAK,KAAK;AAC9C,qCAAiB,KAAK;AAAA,sBACpB,MAAM;AAAA,sBACN,IAAI,KAAK;AAAA,sBACT,MAAM;AAAA,sBACN,OAAO;AAAA,sBACP,eAAe;AAAA,oBACrC,CAAqB;AAAA,kBACH,OAAO;AACL,wBAAI,qBAAqB;AAAA,oBACzB,qBAAqB,eAAe,qBAAqB,cAAc;AACrE,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,IAAI,KAAK;AAAA,wBACT,MAAM;AAAA,wBACN,OAAO,KAAK;AAAA,wBACZ,eAAe;AAAA,sBACvC,CAAuB;AAAA,oBACH,WAAW,qBAAqB,4BAA4B,qBAAqB,yBAAyB;AACxG,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,IAAI,KAAK;AAAA,wBACT,MAAM;AAAA,wBACN,OAAO,KAAK;AAAA,wBACZ,eAAe;AAAA,sBACvC,CAAuB;AAAA,oBACH,OAAO;AACL,+BAAS,KAAK;AAAA,wBACZ,MAAM;AAAA,wBACN,SAAS,wCAAwC,KAAK,QAAQ;AAAA,sBACtF,CAAuB;AAAA,oBACH;AAAA,kBACF;AACA;AAAA,gBACF;AACA,sBAAM,iBAAiB,KAAK,KAAK,oBAAoB,OAAO,SAAS,GAAG;AACxE,sBAAM,UAAU,iBAAiB,OAAO,SAAS,cAAc,UAAU,cAAc,OAAO,SAAS,6BAA6B,cAAc,OAAO,SAAS;AAAA,kBAChK,MAAM;AAAA,kBACN,SAAS,cAAc,OAAO;AAAA,gBAChD,IAAoB,cAAc,OAAO,SAAS,WAAW,EAAE,MAAM,aAAa,SAAS;AAC3E,iCAAiB,KAAK;AAAA,kBACpB,MAAM;AAAA,kBACN,IAAI,KAAK;AAAA,kBACT,MAAM,KAAK;AAAA,kBACX,OAAO,KAAK;AAAA,kBACZ,GAAG,UAAU,EAAE,OAAM;AAAA,kBACrB,eAAe;AAAA,gBACjC,CAAiB;AACD;AAAA,cACF;AAAA,cACA,KAAK,eAAe;AAClB,sBAAM,mBAAmB,gBAAgB;AAAA,kBACvC,KAAK;AAAA,gBACvB;AACgB,oBAAI,cAAc,IAAI,KAAK,UAAU,GAAG;AACtC,wBAAM,SAAS,KAAK;AACpB,sBAAI,OAAO,SAAS,UAAU,OAAO,SAAS,cAAc;AAC1D,6BAAS,KAAK;AAAA,sBACZ,MAAM;AAAA,sBACN,SAAS,6CAA6C,OAAO,IAAI,aAAa,KAAK,QAAQ;AAAA,oBACjH,CAAqB;AACD;AAAA,kBACF;AACA,mCAAiB,KAAK;AAAA,oBACpB,MAAM;AAAA,oBACN,aAAa,KAAK;AAAA,oBAClB,UAAU,OAAO,SAAS;AAAA,oBAC1B,SAAS,OAAO;AAAA,oBAChB,eAAe;AAAA,kBACnC,CAAmB;AAAA,gBACH,WAAW,qBAAqB,kBAAkB;AAChD,wBAAM,SAAS,KAAK;AACpB,sBAAI,OAAO,SAAS,gBAAgB,OAAO,SAAS,cAAc;AAChE,wBAAI,YAAY,CAAA;AAChB,wBAAI;AACF,0BAAI,OAAO,OAAO,UAAU,UAAU;AACpC,oCAAY,KAAK,MAAM,OAAO,KAAK;AAAA,sBACrC,WAAW,OAAO,OAAO,UAAU,YAAY,OAAO,UAAU,MAAM;AACpE,oCAAY,OAAO;AAAA,sBACrB;AAAA,oBACF,SAAS,GAAG;AAAA,oBACZ;AACA,wBAAI,UAAU,SAAS,oCAAoC;AACzD,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,aAAa,KAAK;AAAA,wBAClB,SAAS;AAAA,0BACP,MAAM;AAAA,0BACN,aAAa,KAAK,UAAU,cAAc,OAAO,KAAK;AAAA,wBAChF;AAAA,wBACwB,eAAe;AAAA,sBACvC,CAAuB;AAAA,oBACH,OAAO;AACL,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,aAAa,KAAK;AAAA,wBAClB,eAAe;AAAA,wBACf,SAAS;AAAA,0BACP,MAAM;AAAA,0BACN,aAAa,KAAK,UAAU,cAAc,OAAO,KAAK;AAAA,wBAChF;AAAA,sBACA,CAAuB;AAAA,oBACH;AACA;AAAA,kBACF;AACA,sBAAI,OAAO,SAAS,QAAQ;AAC1B,6BAAS,KAAK;AAAA,sBACZ,MAAM;AAAA,sBACN,SAAS,6CAA6C,OAAO,IAAI,aAAa,KAAK,QAAQ;AAAA,oBACjH,CAAqB;AACD;AAAA,kBACF;AACA,sBAAI,OAAO,SAAS,QAAQ,OAAO,OAAO,UAAU,YAAY,EAAE,UAAU,OAAO,UAAU,OAAO,OAAO,MAAM,SAAS,UAAU;AAClI,6BAAS,KAAK;AAAA,sBACZ,MAAM;AAAA,sBACN,SAAS,4FAA4F,KAAK,QAAQ;AAAA,oBACxI,CAAqB;AACD;AAAA,kBACF;AACA,sBAAI,OAAO,MAAM,SAAS,yBAAyB;AACjD,0BAAM,sBAAsB,MAAMC,cAAe;AAAA,sBAC/C,OAAO,OAAO;AAAA,sBACd,QAAQ;AAAA,oBAC9B,CAAqB;AACD,qCAAiB,KAAK;AAAA,sBACpB,MAAM;AAAA,sBACN,aAAa,KAAK;AAAA,sBAClB,SAAS;AAAA,wBACP,MAAM,oBAAoB;AAAA,wBAC1B,QAAQ,oBAAoB;AAAA,wBAC5B,QAAQ,oBAAoB;AAAA,wBAC5B,aAAa,oBAAoB;AAAA,wBACjC,UAAU,KAAK,oBAAoB,YAAY,OAAO,KAAK,CAAA;AAAA,sBACnF;AAAA,sBACsB,eAAe;AAAA,oBACrC,CAAqB;AAAA,kBACH,OAAO;AACL,0BAAM,sBAAsB,MAAMA,cAAe;AAAA,sBAC/C,OAAO,OAAO;AAAA,sBACd,QAAQ;AAAA,oBAC9B,CAAqB;AACD,wBAAI,oBAAoB,SAAS,yBAAyB;AACxD,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,aAAa,KAAK;AAAA,wBAClB,SAAS;AAAA,0BACP,MAAM,oBAAoB;AAAA,0BAC1B,QAAQ,oBAAoB;AAAA,0BAC5B,QAAQ,oBAAoB;AAAA,0BAC5B,aAAa,oBAAoB;AAAA,0BACjC,UAAU,KAAK,oBAAoB,YAAY,OAAO,KAAK,CAAA;AAAA,wBACrF;AAAA,wBACwB,eAAe;AAAA,sBACvC,CAAuB;AAAA,oBACH,WAAW,oBAAoB,SAAS,gCAAgC,oBAAoB,SAAS,yCAAyC;AAC5I,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,aAAa,KAAK;AAAA,wBAClB,eAAe;AAAA,wBACf,SAAS;AAAA,sBACjC,CAAuB;AAAA,oBACH,OAAO;AACL,uCAAiB,KAAK;AAAA,wBACpB,MAAM;AAAA,wBACN,aAAa,KAAK;AAAA,wBAClB,eAAe;AAAA,wBACf,SAAS;AAAA,sBACjC,CAAuB;AAAA,oBACH;AAAA,kBACF;AACA;AAAA,gBACF;AACA,oBAAI,qBAAqB,aAAa;AACpC,wBAAM,SAAS,KAAK;AACpB,sBAAI,OAAO,SAAS,cAAc;AAChC,0BAAM,aAAa,KAAK,MAAM,OAAO,KAAK;AAC1C,qCAAiB,KAAK;AAAA,sBACpB,MAAM;AAAA,sBACN,aAAa,KAAK;AAAA,sBAClB,SAAS;AAAA,wBACP,MAAM;AAAA,wBACN,YAAY,WAAW;AAAA,sBAC/C;AAAA,sBACsB,eAAe;AAAA,oBACrC,CAAqB;AACD;AAAA,kBACF;AACA,sBAAI,OAAO,SAAS,QAAQ;AAC1B,6BAAS,KAAK;AAAA,sBACZ,MAAM;AAAA,sBACN,SAAS,6CAA6C,OAAO,IAAI,aAAa,KAAK,QAAQ;AAAA,oBACjH,CAAqB;AACD;AAAA,kBACF;AACA,wBAAM,iBAAiB,MAAMA,cAAe;AAAA,oBAC1C,OAAO,OAAO;AAAA,oBACd,QAAQ;AAAA,kBAC5B,CAAmB;AACD,mCAAiB,KAAK;AAAA,oBACpB,MAAM;AAAA,oBACN,aAAa,KAAK;AAAA,oBAClB,SAAS;AAAA,sBACP,MAAM;AAAA,sBACN,KAAK,eAAe;AAAA,sBACpB,cAAc,eAAe;AAAA,sBAC7B,SAAS;AAAA,wBACP,MAAM;AAAA,wBACN,OAAO,eAAe,QAAQ;AAAA,wBAC9B,WAAW,eAAe,QAAQ;AAAA,wBAClC,QAAQ;AAAA,0BACN,MAAM,eAAe,QAAQ,OAAO;AAAA,0BACpC,YAAY,eAAe,QAAQ,OAAO;AAAA,0BAC1C,MAAM,eAAe,QAAQ,OAAO;AAAA,wBAC9D;AAAA,sBACA;AAAA,oBACA;AAAA,oBACoB,eAAe;AAAA,kBACnC,CAAmB;AACD;AAAA,gBACF;AACA,oBAAI,qBAAqB,cAAc;AACrC,wBAAM,SAAS,KAAK;AACpB,sBAAI,OAAO,SAAS,QAAQ;AAC1B,6BAAS,KAAK;AAAA,sBACZ,MAAM;AAAA,sBACN,SAAS,6CAA6C,OAAO,IAAI,aAAa,KAAK,QAAQ;AAAA,oBACjH,CAAqB;AACD;AAAA,kBACF;AACA,wBAAM,kBAAkB,MAAMA,cAAe;AAAA,oBAC3C,OAAO,OAAO;AAAA,oBACd,QAAQ;AAAA,kBAC5B,CAAmB;AACD,mCAAiB,KAAK;AAAA,oBACpB,MAAM;AAAA,oBACN,aAAa,KAAK;AAAA,oBAClB,SAAS,gBAAgB,IAAI,CAAC,YAAY;AAAA,sBACxC,KAAK,OAAO;AAAA,sBACZ,OAAO,OAAO;AAAA,sBACd,UAAU,OAAO;AAAA,sBACjB,mBAAmB,OAAO;AAAA,sBAC1B,MAAM,OAAO;AAAA,oBACnC,EAAsB;AAAA,oBACF,eAAe;AAAA,kBACnC,CAAmB;AACD;AAAA,gBACF;AACA,oBAAI,qBAAqB,4BAA4B,qBAAqB,yBAAyB;AACjG,wBAAM,SAAS,KAAK;AACpB,sBAAI,OAAO,SAAS,QAAQ;AAC1B,6BAAS,KAAK;AAAA,sBACZ,MAAM;AAAA,sBACN,SAAS,6CAA6C,OAAO,IAAI,aAAa,KAAK,QAAQ;AAAA,oBACjH,CAAqB;AACD;AAAA,kBACF;AACA,wBAAM,mBAAmB,MAAMA,cAAe;AAAA,oBAC5C,OAAO,OAAO;AAAA,oBACd,QAAQ;AAAA,kBAC5B,CAAmB;AACD,wBAAM,iBAAiB,iBAAiB,IAAI,CAAC,SAAS;AAAA,oBACpD,MAAM;AAAA,oBACN,WAAW,IAAI;AAAA,kBACnC,EAAoB;AACF,mCAAiB,KAAK;AAAA,oBACpB,MAAM;AAAA,oBACN,aAAa,KAAK;AAAA,oBAClB,SAAS;AAAA,sBACP,MAAM;AAAA,sBACN,iBAAiB;AAAA,oBACvC;AAAA,oBACoB,eAAe;AAAA,kBACnC,CAAmB;AACD;AAAA,gBACF;AACA,yBAAS,KAAK;AAAA,kBACZ,MAAM;AAAA,kBACN,SAAS,0CAA0C,KAAK,QAAQ;AAAA,gBAClF,CAAiB;AACD;AAAA,cACF;AAAA,YACd;AAAA,UACU;AAAA,QACF;AACA,iBAAS,KAAK,EAAE,MAAM,aAAa,SAAS,kBAAkB;AAC9D;AAAA,MACF;AAAA,MACA,SAAS;AACP,cAAM,mBAAmB;AACzB,cAAM,IAAI,MAAM,iBAAiB,gBAAgB,EAAE;AAAA,MACrD;AAAA,IACN;AAAA,EACE;AACA,SAAO;AAAA,IACL,QAAQ,EAAE,QAAQ,SAAQ;AAAA,IAC1B;AAAA,EACJ;AACA;AACA,SAAS,gBAAgB,QAAQ;AAC/B,QAAM,SAAS,CAAA;AACf,MAAI,eAAe;AACnB,aAAW,WAAW,QAAQ;AAC5B,UAAM,EAAE,KAAI,IAAK;AACjB,YAAQ,MAAI;AAAA,MACV,KAAK,UAAU;AACb,aAAK,gBAAgB,OAAO,SAAS,aAAa,UAAU,UAAU;AACpE,yBAAe,EAAE,MAAM,UAAU,UAAU,CAAA,EAAE;AAC7C,iBAAO,KAAK,YAAY;AAAA,QAC1B;AACA,qBAAa,SAAS,KAAK,OAAO;AAClC;AAAA,MACF;AAAA,MACA,KAAK,aAAa;AAChB,aAAK,gBAAgB,OAAO,SAAS,aAAa,UAAU,aAAa;AACvE,yBAAe,EAAE,MAAM,aAAa,UAAU,CAAA,EAAE;AAChD,iBAAO,KAAK,YAAY;AAAA,QAC1B;AACA,qBAAa,SAAS,KAAK,OAAO;AAClC;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,aAAK,gBAAgB,OAAO,SAAS,aAAa,UAAU,QAAQ;AAClE,yBAAe,EAAE,MAAM,QAAQ,UAAU,CAAA,EAAE;AAC3C,iBAAO,KAAK,YAAY;AAAA,QAC1B;AACA,qBAAa,SAAS,KAAK,OAAO;AAClC;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,aAAK,gBAAgB,OAAO,SAAS,aAAa,UAAU,QAAQ;AAClE,yBAAe,EAAE,MAAM,QAAQ,UAAU,CAAA,EAAE;AAC3C,iBAAO,KAAK,YAAY;AAAA,QAC1B;AACA,qBAAa,SAAS,KAAK,OAAO;AAClC;AAAA,MACF;AAAA,MACA,SAAS;AACP,cAAM,mBAAmB;AACzB,cAAM,IAAI,MAAM,qBAAqB,gBAAgB,EAAE;AAAA,MACzD;AAAA,IACN;AAAA,EACE;AACA,SAAO;AACT;AAGA,SAAS,uBAAuB;AAAA,EAC9B;AAAA,EACA;AACF,GAAG;AACD,UAAQ,cAAY;AAAA,IAClB,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO,yBAAyB,SAAS;AAAA,IAC3C,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,IACT;AACE,aAAO;AAAA,EACb;AACA;AAGA,SAAS,qBAAqB,UAAU,mBAAmB,aAAa;AACtE,MAAIrb;AACJ,MAAI,SAAS,SAAS,mBAAmB,SAAS,SAAS,iBAAiB;AAC1E;AAAA,EACF;AACA,QAAM,eAAe,kBAAkB,SAAS,cAAc;AAC9D,MAAI,CAAC,cAAc;AACjB;AAAA,EACF;AACA,SAAO;AAAA,IACL,MAAM;AAAA,IACN,YAAY;AAAA,IACZ,IAAI,YAAW;AAAA,IACf,WAAW,aAAa;AAAA,IACxB,QAAQA,OAAK,SAAS,mBAAmB,OAAOA,OAAK,aAAa;AAAA,IAClE,UAAU,aAAa;AAAA,IACvB,kBAAkB;AAAA,MAChB,WAAW,SAAS,SAAS,kBAAkB;AAAA,QAC7C,WAAW,SAAS;AAAA,QACpB,iBAAiB,SAAS;AAAA,QAC1B,eAAe,SAAS;AAAA,MAChC,IAAU;AAAA,QACF,WAAW,SAAS;AAAA,QACpB,gBAAgB,SAAS;AAAA,QACzB,cAAc,SAAS;AAAA,MAC/B;AAAA,IACA;AAAA,EACA;AACA;AACA,IAAI,iCAAiC,MAAM;AAAA,EACzC,YAAY,SAAShB,SAAQ;AAC3B,SAAK,uBAAuB;AAC5B,QAAIgB;AACJ,SAAK,UAAU;AACf,SAAK,SAAShB;AACd,SAAK,cAAcgB,OAAKhB,QAAO,eAAe,OAAOgB,OAAK;AAAA,EAC5D;AAAA,EACA,YAAY,KAAK;AACf,WAAO,IAAI,aAAa;AAAA,EAC1B;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,IAAI,gBAAgB;AAClB,QAAIA,MAAIC,KAAI;AACZ,YAAQ,MAAMA,OAAMD,OAAK,KAAK,QAAQ,kBAAkB,OAAO,SAASC,IAAG,KAAKD,IAAE,MAAM,OAAO,KAAK,CAAA;AAAA,EACtG;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,QAAIA,MAAIC,KAAI,IAAI,IAAI,IAAI;AACxB,UAAM,WAAW,CAAA;AACjB,QAAI,oBAAoB,MAAM;AAC5B,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,oBAAoB;AAAA,IACpE;AACA,QAAI,mBAAmB,MAAM;AAC3B,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,mBAAmB;AAAA,IACnE;AACA,QAAI,QAAQ,MAAM;AAChB,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,QAAQ;AAAA,IACxD;AACA,QAAI,eAAe,QAAQ,cAAc,GAAG;AAC1C,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS,GAAG,WAAW;AAAA,MAC/B,CAAO;AACD,oBAAc;AAAA,IAChB,WAAW,eAAe,QAAQ,cAAc,GAAG;AACjD,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS,GAAG,WAAW;AAAA,MAC/B,CAAO;AACD,oBAAc;AAAA,IAChB;AACA,SAAK,kBAAkB,OAAO,SAAS,eAAe,UAAU,QAAQ;AACtE,UAAI,eAAe,UAAU,MAAM;AACjC,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AAAA,IACF;AACA,UAAM,mBAAmB,MAAMqb,qBAAsB;AAAA,MACnD,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACd,CAAK;AACD,UAAM;AAAA,MACJ,iBAAiB;AAAA,MACjB,0BAA0B;AAAA,MAC1B;AAAA,IACN,IAAQ,qBAAqB,KAAK,OAAO;AACrC,UAAM,6BAA6Btb,OAAK,KAAK,OAAO,mCAAmC,OAAOA,OAAK,SAAS;AAC5G,UAAM,uBAAuBC,MAAK,oBAAoB,OAAO,SAAS,iBAAiB,yBAAyB,OAAOA,MAAK;AAC5H,UAAM,sBAAsB,wBAAwB,kBAAkB,wBAAwB,UAAU;AACxG,UAAM,oBAAoB,kBAAkB,OAAO,SAAS,eAAe,UAAU,UAAU,eAAe,UAAU,QAAQ,CAAC,sBAAsB;AAAA,MACrJ,MAAM;AAAA,MACN,MAAM;AAAA,MACN,aAAa;AAAA,MACb,aAAa,eAAe;AAAA,IAClC,IAAQ;AACJ,UAAM,oBAAoB,oBAAoB,OAAO,SAAS,iBAAiB;AAC/E,UAAM,wBAAwB,IAAI,sBAAqB;AACvD,UAAM,kBAAkB,sBAAsB;AAAA,MAC5C;AAAA,MACA,mBAAmB;AAAA,QACjB,qCAAqC;AAAA,QACrC,qCAAqC;AAAA,QACrC,+BAA+B;AAAA,QAC/B,+BAA+B;AAAA,QAC/B,kCAAkC;AAAA,QAClC,kCAAkC;AAAA,QAClC,kCAAkC;AAAA,QAClC,kCAAkC;AAAA,QAClC,2BAA2B;AAAA,QAC3B,2BAA2B;AAAA,QAC3B,6BAA6B;AAAA,QAC7B,iCAAiC;AAAA,QACjC,gCAAgC;AAAA,QAChC,wCAAwC;AAAA,QACxC,uCAAuC;AAAA,MAC/C;AAAA,IACA,CAAK;AACD,UAAM,EAAE,QAAQ,gBAAgB,MAAK,IAAK,MAAM,iCAAiC;AAAA,MAC/E;AAAA,MACA,gBAAgB,KAAK,oBAAoB,OAAO,SAAS,iBAAiB,kBAAkB,OAAO,KAAK;AAAA,MACxG;AAAA,MACA;AAAA,MACA;AAAA,IACN,CAAK;AACD,UAAM,eAAe,KAAK,oBAAoB,OAAO,SAAS,iBAAiB,aAAa,OAAO,SAAS,GAAG,UAAU;AACzH,QAAI,kBAAkB,KAAK,oBAAoB,OAAO,SAAS,iBAAiB,aAAa,OAAO,SAAS,GAAG;AAChH,UAAM,YAAY,mBAAmB,OAAO,kBAAkB;AAC9D,UAAM,WAAW;AAAA;AAAA,MAEf,OAAO,KAAK;AAAA;AAAA,MAEZ,YAAY;AAAA,MACZ;AAAA,MACA,OAAO;AAAA,MACP,OAAO;AAAA,MACP,gBAAgB;AAAA;AAAA,MAEhB,GAAG,cAAc;AAAA,QACf,UAAU,EAAE,MAAM,WAAW,eAAe,eAAc;AAAA,MAClE;AAAA,MACM,IAAI,oBAAoB,OAAO,SAAS,iBAAiB,WAAW;AAAA,QAClE,eAAe,EAAE,QAAQ,iBAAiB,OAAM;AAAA,MACxD;AAAA;AAAA,MAEM,GAAG,wBAAwB,kBAAkB,OAAO,SAAS,eAAe,UAAU,UAAU,eAAe,UAAU,QAAQ;AAAA,QAC/H,eAAe;AAAA,UACb,MAAM;AAAA,UACN,QAAQ,eAAe;AAAA,QACjC;AAAA,MACA;AAAA;AAAA,MAEM,IAAI,oBAAoB,OAAO,SAAS,iBAAiB,eAAe,iBAAiB,WAAW,SAAS,KAAK;AAAA,QAChH,aAAa,iBAAiB,WAAW,IAAI,CAAC,YAAY;AAAA,UACxD,MAAM,OAAO;AAAA,UACb,MAAM,OAAO;AAAA,UACb,KAAK,OAAO;AAAA,UACZ,qBAAqB,OAAO;AAAA,UAC5B,oBAAoB,OAAO,oBAAoB;AAAA,YAC7C,eAAe,OAAO,kBAAkB;AAAA,YACxC,SAAS,OAAO,kBAAkB;AAAA,UAC9C,IAAc;AAAA,QACd,EAAU;AAAA,MACV;AAAA;AAAA,MAEM,IAAI,oBAAoB,OAAO,SAAS,iBAAiB,cAAc;AAAA,QACrE,WAAW,iBAAiB,UAAU,UAAU,iBAAiB,UAAU,OAAO,SAAS;AAAA;AAAA,UAEzF;AAAA,YACE,IAAI,iBAAiB,UAAU;AAAA,YAC/B,QAAQ,iBAAiB,UAAU,OAAO,IAAI,CAAC,WAAW;AAAA,cACxD,MAAM,MAAM;AAAA,cACZ,UAAU,MAAM;AAAA,cAChB,SAAS,MAAM;AAAA,YAC7B,EAAc;AAAA,UACd;AAAA;AAAA;AAAA,UAGU,iBAAiB,UAAU;AAAA;AAAA,MAErC;AAAA;AAAA,MAEM,QAAQ,eAAe;AAAA,MACvB,UAAU,eAAe;AAAA,MACzB,GAAG,qBAAqB;AAAA,QACtB,oBAAoB;AAAA,UAClB,OAAO,kBAAkB,MAAM,IAAI,CAAC,SAAS;AAC3C,kBAAM,WAAW,KAAK;AACtB,oBAAQ,UAAQ;AAAA,cACd,KAAK;AACH,uBAAO;AAAA,kBACL,MAAM,KAAK;AAAA,kBACX,GAAG,KAAK,YAAY,UAAU;AAAA,oBAC5B,SAAS,KAAK;AAAA,kBAClC;AAAA,kBACkB,GAAG,KAAK,SAAS,UAAU,EAAE,MAAM,KAAK,KAAI;AAAA,kBAC5C,GAAG,KAAK,iBAAiB,UAAU;AAAA,oBACjC,gBAAgB,KAAK;AAAA,kBACzC;AAAA,kBACkB,GAAG,KAAK,oBAAoB,UAAU;AAAA,oBACpC,mBAAmB,KAAK;AAAA,kBAC5C;AAAA,kBACkB,GAAG,KAAK,iBAAiB,UAAU;AAAA,oBACjC,eAAe,KAAK;AAAA,kBACxC;AAAA,gBACA;AAAA,cACc,KAAK;AACH,uBAAO;AAAA,kBACL,MAAM,KAAK;AAAA,kBACX,GAAG,KAAK,SAAS,UAAU,EAAE,MAAM,KAAK,KAAI;AAAA,gBAC9D;AAAA,cACc;AACE,yBAAS,KAAK;AAAA,kBACZ,MAAM;AAAA,kBACN,SAAS,wCAAwC,QAAQ;AAAA,gBAC3E,CAAiB;AACD,uBAAO;AAAA,YACvB;AAAA,UACU,CAAC,EAAE,OAAO,CAAC,SAAS,SAAS,MAAM;AAAA,QAC7C;AAAA,MACA;AAAA,IACA;AACI,QAAI,YAAY;AACd,UAAI,kBAAkB,MAAM;AAC1B,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AACD,iBAAS,WAAW;AAAA,UAClB,MAAM;AAAA,UACN,eAAe;AAAA,QACzB;AACQ,yBAAiB;AAAA,MACnB;AACA,UAAI,SAAS,eAAe,MAAM;AAChC,iBAAS,cAAc;AACvB,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AACA,UAAI,QAAQ,MAAM;AAChB,iBAAS,QAAQ;AACjB,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AACA,UAAI,QAAQ,MAAM;AAChB,iBAAS,QAAQ;AACjB,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AACA,eAAS,aAAa,aAAa,kBAAkB,OAAO,iBAAiB;AAAA,IAC/E,OAAO;AACL,UAAI,QAAQ,QAAQ,eAAe,MAAM;AACvC,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AACD,iBAAS,QAAQ;AAAA,MACnB;AAAA,IACF;AACA,QAAI,gBAAgB,SAAS,aAAa,yBAAyB;AACjE,UAAI,mBAAmB,MAAM;AAC3B,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS,GAAG,SAAS,UAAU,uDAAuD,KAAK,OAAO,IAAI,uBAAuB,kEAAkE,uBAAuB;AAAA,QAChO,CAAS;AAAA,MACH;AACA,eAAS,aAAa;AAAA,IACxB;AACA,SAAK,oBAAoB,OAAO,SAAS,iBAAiB,eAAe,iBAAiB,WAAW,SAAS,GAAG;AAC/G,YAAM,IAAI,uBAAuB;AAAA,IACnC;AACA,QAAI,mBAAmB;AACrB,YAAM,IAAI,+BAA+B;AAAA,IAC3C;AACA,SAAK,oBAAoB,OAAO,SAAS,iBAAiB,cAAc,iBAAiB,UAAU,UAAU,iBAAiB,UAAU,OAAO,SAAS,GAAG;AACzJ,YAAM,IAAI,2BAA2B;AACrC,YAAM,IAAI,mBAAmB;AAC7B,YAAM,IAAI,sBAAsB;AAChC,UAAI,EAAE,SAAS,OAAO,SAAS,MAAM;AAAA,QACnC,CAACwZ,UAASA,MAAK,SAAS,cAAcA,MAAK,OAAO;AAAA,MAC1D,IAAU;AACF,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AAAA,IACF;AACA,QAAI,oBAAoB,OAAO,SAAS,iBAAiB,QAAQ;AAC/D,YAAM,IAAI,mBAAmB;AAAA,IAC/B;AACA,QAAI,YAAY,KAAK,oBAAoB,OAAO,SAAS,iBAAiB,kBAAkB,OAAO,KAAK,OAAO;AAC7G,YAAM,IAAI,wCAAwC;AAAA,IACpD;AACA,UAAM,0BAA0B,wBAAwB,kBAAkB,OAAO,SAAS,eAAe,UAAU,UAAU,eAAe,UAAU;AACtJ,QAAI,yBAAyB;AAC3B,YAAM,IAAI,+BAA+B;AAAA,IAC3C;AACA,UAAM;AAAA,MACJ,OAAO;AAAA,MACP,YAAY;AAAA,MACZ;AAAA,MACA,OAAO;AAAA,IACb,IAAQ,MAAMD;AAAAA,MACR,oBAAoB,OAAO;AAAA,QACzB,OAAO,CAAC,GAAG,SAAS,OAAO,QAAQ,CAAA,GAAI,gBAAgB;AAAA,QACvD,YAAY,EAAE,MAAM,WAAU;AAAA,QAC9B,wBAAwB;AAAA,QACxB;AAAA,QACA;AAAA,MACR,IAAU;AAAA,QACF,OAAO,SAAS,OAAO,QAAQ,CAAA;AAAA,QAC/B;AAAA,QACA,wBAAwB,oBAAoB,OAAO,SAAS,iBAAiB;AAAA,QAC7E;AAAA,QACA;AAAA,MACR;AAAA,IACA;AACI,UAAM,gBAAgB,sBAAsB,YAAW;AACvD,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,GAAG;AAAA,QACH,OAAO;AAAA,QACP,aAAa;AAAA,QACb,QAAQ,WAAW,OAAO,OAAO;AAAA;AAAA,MAEzC;AAAA,MACM,UAAU,CAAC,GAAG,UAAU,GAAG,cAAc,GAAG,aAAa;AAAA,MACzD,OAAuB,oBAAI,IAAI,CAAC,GAAG,OAAO,GAAG,YAAY,GAAG,iBAAiB,CAAC;AAAA,MAC9E,sBAAsB,oBAAoB;AAAA,MAC1C;AAAA,IACN;AAAA,EACE;AAAA,EACA,MAAM,WAAW;AAAA,IACf;AAAA,IACA;AAAA,EACJ,GAAK;AACD,WAAO;AAAA,MACL,MAAM,QAAQ,KAAK,OAAO,OAAO;AAAA,MACjC;AAAA,MACA,MAAM,OAAO,IAAI,EAAE,kBAAkB,MAAM,KAAK,KAAK,EAAE,KAAK,GAAG,EAAC,IAAK,CAAA;AAAA,IAC3E;AAAA,EACE;AAAA,EACA,MAAM,oBAAoB,gBAAgB;AACxC,QAAIxZ,MAAIC;AACR,UAAM,gBAAgB,MAAM,QAAQ,KAAK,OAAO,OAAO;AACvD,UAAM,oBAAoBD,OAAK,cAAc,gBAAgB,MAAM,OAAOA,OAAK;AAC/E,UAAM,qBAAqBC,MAAK,kBAAkB,OAAO,SAAS,eAAe,gBAAgB,MAAM,OAAOA,MAAK;AACnH,WAAO,IAAI;AAAA,MACT;AAAA,QACE,GAAG,iBAAiB,cAAc,MAAM,GAAG;AAAA,QAC3C,GAAG,kBAAkB,cAAc,MAAM,GAAG;AAAA,MACpD,EAAQ,IAAI,CAAC,SAAS,KAAK,MAAM,EAAE,OAAO,CAAC,SAAS,SAAS,EAAE;AAAA,IAC/D;AAAA,EACE;AAAA,EACA,gBAAgB,aAAa;AAC3B,QAAID,MAAIC,KAAI;AACZ,YAAQ,MAAMA,OAAMD,OAAK,KAAK,QAAQ,oBAAoB,OAAO,SAASC,IAAG,KAAKD,MAAI,KAAK,OAAO,SAAS,WAAW,MAAM,OAAO,KAAK,GAAG,KAAK,OAAO,OAAO;AAAA,EAChK;AAAA,EACA,qBAAqB,MAAM;AACzB,QAAIA,MAAIC,KAAI;AACZ,YAAQ,MAAMA,OAAMD,OAAK,KAAK,QAAQ,yBAAyB,OAAO,SAASC,IAAG,KAAKD,MAAI,IAAI,MAAM,OAAO,KAAK;AAAA,EACnH;AAAA,EACA,yBAAyB,QAAQ;AAC/B,UAAM,iBAAiB,CAAC,SAAS;AAC/B,UAAIA,MAAIC;AACR,UAAI,KAAK,SAAS,QAAQ;AACxB,eAAO;AAAA,MACT;AACA,UAAI,KAAK,cAAc,qBAAqB,KAAK,cAAc,cAAc;AAC3E,eAAO;AAAA,MACT;AACA,YAAM,cAAcD,OAAK,KAAK,oBAAoB,OAAO,SAASA,KAAG;AACrE,YAAM,kBAAkB,cAAc,OAAO,SAAS,WAAW;AACjE,cAAQC,MAAK,mBAAmB,OAAO,SAAS,gBAAgB,YAAY,OAAOA,MAAK;AAAA,IAC1F;AACA,WAAO,OAAO,OAAO,CAAC,YAAY,QAAQ,SAAS,MAAM,EAAE,QAAQ,CAAC,YAAY,QAAQ,OAAO,EAAE,OAAO,cAAc,EAAE,IAAI,CAAC,SAAS;AACpI,UAAID;AACJ,YAAM,WAAW;AACjB,aAAO;AAAA,QACL,QAAQA,OAAK,SAAS,aAAa,OAAOA,OAAK;AAAA,QAC/C,UAAU,SAAS;AAAA,QACnB,WAAW,SAAS;AAAA,MAC5B;AAAA,IACI,CAAC;AAAA,EACH;AAAA,EACA,MAAM,WAAW,SAAS;AACxB,QAAIA,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAC5C,UAAM,EAAE,MAAM,UAAU,OAAO,sBAAsB,gBAAe,IAAK,MAAM,KAAK,QAAQ;AAAA,MAC1F,GAAG;AAAA,MACH,QAAQ;AAAA,MACR,mBAAmB,MAAM,KAAK,oBAAoB,QAAQ,OAAO;AAAA,IACvE,CAAK;AACD,UAAM,oBAAoB,KAAK,yBAAyB,QAAQ,MAAM;AACtE,UAAM;AAAA,MACJ;AAAA,MACA,OAAO;AAAA,MACP,UAAU;AAAA,IAChB,IAAQ,MAAM,cAAc;AAAA,MACtB,KAAK,KAAK,gBAAgB,KAAK;AAAA,MAC/B,SAAS,MAAM,KAAK,WAAW,EAAE,OAAO,SAAS,QAAQ,SAAS;AAAA,MAClE,MAAM,KAAK,qBAAqB,IAAI;AAAA,MACpC,uBAAuB;AAAA,MACvB,2BAA2B;AAAA,QACzB;AAAA,MACR;AAAA,MACM,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,UAAM,UAAU,CAAA;AAChB,UAAM,eAAe,CAAA;AACrB,UAAM,kBAAkB,CAAA;AACxB,QAAI,yBAAyB;AAC7B,eAAW,QAAQ,SAAS,SAAS;AACnC,cAAQ,KAAK,MAAI;AAAA,QACf,KAAK,QAAQ;AACX,cAAI,CAAC,sBAAsB;AACzB,oBAAQ,KAAK,EAAE,MAAM,QAAQ,MAAM,KAAK,MAAM;AAC9C,gBAAI,KAAK,WAAW;AAClB,yBAAW,YAAY,KAAK,WAAW;AACrC,sBAAM,SAAS;AAAA,kBACb;AAAA,kBACA;AAAA,kBACA,KAAK;AAAA,gBACvB;AACgB,oBAAI,QAAQ;AACV,0BAAQ,KAAK,MAAM;AAAA,gBACrB;AAAA,cACF;AAAA,YACF;AAAA,UACF;AACA;AAAA,QACF;AAAA,QACA,KAAK,YAAY;AACf,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,MAAM,KAAK;AAAA,YACX,kBAAkB;AAAA,cAChB,WAAW;AAAA,gBACT,WAAW,KAAK;AAAA,cAChC;AAAA,YACA;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,qBAAqB;AACxB,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,MAAM;AAAA,YACN,kBAAkB;AAAA,cAChB,WAAW;AAAA,gBACT,cAAc,KAAK;AAAA,cACnC;AAAA,YACA;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,YAAY;AACf,gBAAM,qBAAqB,wBAAwB,KAAK,SAAS;AACjE,cAAI,oBAAoB;AACtB,qCAAyB;AACzB,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,MAAM,KAAK,UAAU,KAAK,KAAK;AAAA,YAC7C,CAAa;AAAA,UACH,OAAO;AACL,kBAAM,SAAS,KAAK;AACpB,kBAAM,aAAa,SAAS;AAAA,cAC1B,MAAM,OAAO;AAAA,cACb,QAAQ,aAAa,SAAS,OAAO,UAAU;AAAA,YAC7D,IAAgB;AACJ,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,KAAK;AAAA,cACf,OAAO,KAAK,UAAU,KAAK,KAAK;AAAA,cAChC,GAAG,cAAc;AAAA,gBACf,kBAAkB;AAAA,kBAChB,WAAW;AAAA,oBACT,QAAQ;AAAA,kBAC5B;AAAA,gBACA;AAAA,cACA;AAAA,YACA,CAAa;AAAA,UACH;AACA;AAAA,QACF;AAAA,QACA,KAAK,mBAAmB;AACtB,cAAI,KAAK,SAAS,gCAAgC,KAAK,SAAS,uBAAuB;AACrF,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,cAC3D,OAAO,KAAK,UAAU,EAAE,MAAM,KAAK,MAAM,GAAG,KAAK,OAAO;AAAA,cACxD,kBAAkB;AAAA,YAChC,CAAa;AAAA,UACH,WAAW,KAAK,SAAS,gBAAgB,KAAK,SAAS,oBAAoB,KAAK,SAAS,aAAa;AACpG,kBAAM,mBAAmB,KAAK,SAAS,oBAAoB,KAAK,SAAS,QAAQ,OAAO,KAAK,UAAU,YAAY,UAAU,KAAK,SAAS,EAAE,UAAU,KAAK,SAAS,EAAE,MAAM,0BAA0B,GAAG,KAAK,MAAK,IAAK,KAAK;AAC9N,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,KAAK,IAAI;AAAA,cACpD,OAAO,KAAK,UAAU,gBAAgB;AAAA,cACtC,kBAAkB;AAAA,YAChC,CAAa;AAAA,UACH,WAAW,KAAK,SAAS,4BAA4B,KAAK,SAAS,yBAAyB;AAC1F,4BAAgB,KAAK,EAAE,IAAI,KAAK;AAChC,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,KAAK,IAAI;AAAA,cACpD,OAAO,KAAK,UAAU,KAAK,KAAK;AAAA,cAChC,kBAAkB;AAAA,YAChC,CAAa;AAAA,UACH;AACA;AAAA,QACF;AAAA,QACA,KAAK,gBAAgB;AACnB,uBAAa,KAAK,EAAE,IAAI;AAAA,YACtB,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,KAAK;AAAA,YACf,OAAO,KAAK,UAAU,KAAK,KAAK;AAAA,YAChC,kBAAkB;AAAA,YAClB,SAAS;AAAA,YACT,kBAAkB;AAAA,cAChB,WAAW;AAAA,gBACT,MAAM;AAAA,gBACN,YAAY,KAAK;AAAA,cACjC;AAAA,YACA;AAAA,UACA;AACU,kBAAQ,KAAK,aAAa,KAAK,EAAE,CAAC;AAClC;AAAA,QACF;AAAA,QACA,KAAK,mBAAmB;AACtB,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,aAAa,KAAK,WAAW,EAAE;AAAA,YACzC,SAAS,KAAK;AAAA,YACd,QAAQ,KAAK;AAAA,YACb,SAAS;AAAA,YACT,kBAAkB,aAAa,KAAK,WAAW,EAAE;AAAA,UAC7D,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,yBAAyB;AAC5B,cAAI,KAAK,QAAQ,SAAS,oBAAoB;AAC5C,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,WAAW;AAAA,cACtD,QAAQ;AAAA,gBACN,MAAM;AAAA,gBACN,KAAK,KAAK,QAAQ;AAAA,gBAClB,aAAa,KAAK,QAAQ;AAAA,gBAC1B,SAAS;AAAA,kBACP,MAAM,KAAK,QAAQ,QAAQ;AAAA,kBAC3B,OAAO,KAAK,QAAQ,QAAQ;AAAA,kBAC5B,WAAW,KAAK,QAAQ,QAAQ;AAAA,kBAChC,QAAQ;AAAA,oBACN,MAAM,KAAK,QAAQ,QAAQ,OAAO;AAAA,oBAClC,WAAW,KAAK,QAAQ,QAAQ,OAAO;AAAA,oBACvC,MAAM,KAAK,QAAQ,QAAQ,OAAO;AAAA,kBACtD;AAAA,gBACA;AAAA,cACA;AAAA,YACA,CAAa;AAAA,UACH,WAAW,KAAK,QAAQ,SAAS,+BAA+B;AAC9D,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,WAAW;AAAA,cACtD,SAAS;AAAA,cACT,QAAQ;AAAA,gBACN,MAAM;AAAA,gBACN,WAAW,KAAK,QAAQ;AAAA,cACxC;AAAA,YACA,CAAa;AAAA,UACH;AACA;AAAA,QACF;AAAA,QACA,KAAK,0BAA0B;AAC7B,cAAI,MAAM,QAAQ,KAAK,OAAO,GAAG;AAC/B,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,YAAY;AAAA,cACvD,QAAQ,KAAK,QAAQ,IAAI,CAAC,WAAW;AACnC,oBAAII;AACJ,uBAAO;AAAA,kBACL,KAAK,OAAO;AAAA,kBACZ,OAAO,OAAO;AAAA,kBACd,UAAUA,OAAM,OAAO,aAAa,OAAOA,OAAM;AAAA,kBACjD,kBAAkB,OAAO;AAAA,kBACzB,MAAM,OAAO;AAAA,gBAC/B;AAAA,cACc,CAAC;AAAA,YACf,CAAa;AACD,uBAAW,UAAU,KAAK,SAAS;AACjC,sBAAQ,KAAK;AAAA,gBACX,MAAM;AAAA,gBACN,YAAY;AAAA,gBACZ,IAAI,KAAK,WAAU;AAAA,gBACnB,KAAK,OAAO;AAAA,gBACZ,OAAO,OAAO;AAAA,gBACd,kBAAkB;AAAA,kBAChB,WAAW;AAAA,oBACT,UAAUL,OAAK,OAAO,aAAa,OAAOA,OAAK;AAAA,kBACnE;AAAA,gBACA;AAAA,cACA,CAAe;AAAA,YACH;AAAA,UACF,OAAO;AACL,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,YAAY;AAAA,cACvD,SAAS;AAAA,cACT,QAAQ;AAAA,gBACN,MAAM;AAAA,gBACN,WAAW,KAAK,QAAQ;AAAA,cACxC;AAAA,YACA,CAAa;AAAA,UACH;AACA;AAAA,QACF;AAAA;AAAA,QAEA,KAAK,8BAA8B;AACjC,cAAI,KAAK,QAAQ,SAAS,yBAAyB;AACjD,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,cAC3D,QAAQ;AAAA,gBACN,MAAM,KAAK,QAAQ;AAAA,gBACnB,QAAQ,KAAK,QAAQ;AAAA,gBACrB,QAAQ,KAAK,QAAQ;AAAA,gBACrB,aAAa,KAAK,QAAQ;AAAA,gBAC1B,UAAUC,MAAK,KAAK,QAAQ,YAAY,OAAOA,MAAK,CAAA;AAAA,cACpE;AAAA,YACA,CAAa;AAAA,UACH,WAAW,KAAK,QAAQ,SAAS,oCAAoC;AACnE,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,cAC3D,SAAS;AAAA,cACT,QAAQ;AAAA,gBACN,MAAM;AAAA,gBACN,WAAW,KAAK,QAAQ;AAAA,cACxC;AAAA,YACA,CAAa;AAAA,UACH;AACA;AAAA,QACF;AAAA;AAAA,QAEA,KAAK;AAAA,QACL,KAAK,0CAA0C;AAC7C,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,YAC3D,QAAQ,KAAK;AAAA,UACzB,CAAW;AACD;AAAA,QACF;AAAA;AAAA,QAEA,KAAK,2BAA2B;AAC9B,gBAAM,oBAAoB,KAAK,gBAAgB,KAAK,WAAW,MAAM,OAAO,KAAK;AACjF,cAAI,KAAK,QAAQ,SAAS,kCAAkC;AAC1D,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,cAC3D,QAAQ,KAAK,QAAQ,gBAAgB,IAAI,CAAC,SAAS;AAAA,gBACjD,MAAM,IAAI;AAAA,gBACV,UAAU,IAAI;AAAA,cAC9B,EAAgB;AAAA,YAChB,CAAa;AAAA,UACH,OAAO;AACL,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,cAC3D,SAAS;AAAA,cACT,QAAQ;AAAA,gBACN,MAAM;AAAA,gBACN,WAAW,KAAK,QAAQ;AAAA,cACxC;AAAA,YACA,CAAa;AAAA,UACH;AACA;AAAA,QACF;AAAA,MACR;AAAA,IACI;AACA,WAAO;AAAA,MACL;AAAA,MACA,cAAc;AAAA,QACZ,SAAS,uBAAuB;AAAA,UAC9B,cAAc,SAAS;AAAA,UACvB;AAAA,QACV,CAAS;AAAA,QACD,MAAM,KAAK,SAAS,gBAAgB,OAAO,KAAK;AAAA,MACxD;AAAA,MACM,OAAO,8BAA8B,SAAS,KAAK;AAAA,MACnD,SAAS,EAAE,MAAM,KAAI;AAAA,MACrB,UAAU;AAAA,QACR,KAAK,KAAK,SAAS,OAAO,OAAO,KAAK;AAAA,QACtC,UAAU,KAAK,SAAS,UAAU,OAAO,KAAK;AAAA,QAC9C,SAAS;AAAA,QACT,MAAM;AAAA,MACd;AAAA,MACM;AAAA,MACA,kBAAkB;AAAA,QAChB,WAAW;AAAA,UACT,OAAO,SAAS;AAAA,UAChB,2BAA2B,KAAK,SAAS,MAAM,gCAAgC,OAAO,KAAK;AAAA,UAC3F,eAAe,KAAK,SAAS,kBAAkB,OAAO,KAAK;AAAA,UAC3D,WAAW,SAAS,YAAY;AAAA,YAC9B,WAAW,SAAS,UAAU;AAAA,YAC9B,IAAI,SAAS,UAAU;AAAA,YACvB,SAAS,MAAM,KAAK,SAAS,UAAU,WAAW,OAAO,SAAS,GAAG,IAAI,CAAC,WAAW;AAAA,cACnF,MAAM,MAAM;AAAA,cACZ,SAAS,MAAM;AAAA,cACf,SAAS,MAAM;AAAA,YAC7B,EAAc,MAAM,OAAO,KAAK;AAAA,UAChC,IAAc;AAAA,UACJ,oBAAoB,KAAK;AAAA,YACvB,SAAS;AAAA,UACrB,MAAgB,OAAO,KAAK;AAAA,QAC5B;AAAA,MACA;AAAA,IACA;AAAA,EACE;AAAA,EACA,MAAM,SAAS,SAAS;AACtB,QAAID,MAAIC;AACR,UAAM;AAAA,MACJ,MAAM;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN,IAAQ,MAAM,KAAK,QAAQ;AAAA,MACrB,GAAG;AAAA,MACH,QAAQ;AAAA,MACR,mBAAmB,MAAM,KAAK,oBAAoB,QAAQ,OAAO;AAAA,IACvE,CAAK;AACD,UAAM,oBAAoB,KAAK,yBAAyB,QAAQ,MAAM;AACtE,UAAM,MAAM,KAAK,gBAAgB,IAAI;AACrC,UAAM,EAAE,iBAAiB,OAAO,SAAQ,IAAK,MAAM,cAAc;AAAA,MAC/D;AAAA,MACA,SAAS,MAAM,KAAK,WAAW,EAAE,OAAO,SAAS,QAAQ,SAAS;AAAA,MAClE,MAAM,KAAK,qBAAqB,IAAI;AAAA,MACpC,uBAAuB;AAAA,MACvB,2BAA2B;AAAA,QACzB;AAAA,MACR;AAAA,MACM,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,QAAI,eAAe;AAAA,MACjB,SAAS;AAAA,MACT,KAAK;AAAA,IACX;AACI,UAAM,QAAQ;AAAA,MACZ,cAAc;AAAA,MACd,eAAe;AAAA,MACf,6BAA6B;AAAA,MAC7B,yBAAyB;AAAA,IAC/B;AACI,UAAM,gBAAgB,CAAA;AACtB,UAAM,eAAe,CAAA;AACrB,UAAM,kBAAkB,CAAA;AACxB,QAAI,oBAAoB;AACxB,QAAI,WAAW;AACf,QAAI,2BAA2B;AAC/B,QAAI,eAAe;AACnB,QAAI,YAAY;AAChB,QAAI,yBAAyB;AAC7B,QAAI,YAAY;AAChB,UAAM,cAAc,KAAK;AACzB,UAAM,oBAAoB,SAAS;AAAA,MACjC,IAAI,gBAAgB;AAAA,QAClB,MAAM,YAAY;AAChB,qBAAW,QAAQ,EAAE,MAAM,gBAAgB,SAAQ,CAAE;AAAA,QACvD;AAAA,QACA,UAAU,OAAO,YAAY;AAC3B,cAAII,MAAKC,MAAK,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AACtD,cAAI,QAAQ,kBAAkB;AAC5B,uBAAW,QAAQ,EAAE,MAAM,OAAO,UAAU,MAAM,UAAU;AAAA,UAC9D;AACA,cAAI,CAAC,MAAM,SAAS;AAClB,uBAAW,QAAQ,EAAE,MAAM,SAAS,OAAO,MAAM,OAAO;AACxD;AAAA,UACF;AACA,gBAAM,QAAQ,MAAM;AACpB,kBAAQ,MAAM,MAAI;AAAA,YAChB,KAAK,QAAQ;AACX;AAAA,YACF;AAAA,YACA,KAAK,uBAAuB;AAC1B,oBAAM,OAAO,MAAM;AACnB,oBAAM,mBAAmB,KAAK;AAC9B,0BAAY;AACZ,sBAAQ,kBAAgB;AAAA,gBACtB,KAAK,QAAQ;AACX,sBAAI,sBAAsB;AACxB;AAAA,kBACF;AACA,gCAAc,MAAM,KAAK,IAAI,EAAE,MAAM,OAAM;AAC3C,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,OAAO,MAAM,KAAK;AAAA,kBAC1C,CAAmB;AACD;AAAA,gBACF;AAAA,gBACA,KAAK,YAAY;AACf,gCAAc,MAAM,KAAK,IAAI,EAAE,MAAM,YAAW;AAChD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,OAAO,MAAM,KAAK;AAAA,kBAC1C,CAAmB;AACD;AAAA,gBACF;AAAA,gBACA,KAAK,qBAAqB;AACxB,gCAAc,MAAM,KAAK,IAAI,EAAE,MAAM,YAAW;AAChD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,OAAO,MAAM,KAAK;AAAA,oBACtB,kBAAkB;AAAA,sBAChB,WAAW;AAAA,wBACT,cAAc,KAAK;AAAA,sBAC3C;AAAA,oBACA;AAAA,kBACA,CAAmB;AACD;AAAA,gBACF;AAAA,gBACA,KAAK,YAAY;AACf,wBAAM,qBAAqB,wBAAwB,KAAK,SAAS;AACjE,sBAAI,oBAAoB;AACtB,6CAAyB;AACzB,kCAAc,MAAM,KAAK,IAAI,EAAE,MAAM,OAAM;AAC3C,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,OAAO,MAAM,KAAK;AAAA,oBAC5C,CAAqB;AAAA,kBACH,OAAO;AACL,0BAAM,SAAS,KAAK;AACpB,0BAAM,aAAa,SAAS;AAAA,sBAC1B,MAAM,OAAO;AAAA,sBACb,QAAQ,aAAa,SAAS,OAAO,UAAU;AAAA,oBACrE,IAAwB;AACJ,0BAAM,mBAAmB,KAAK,SAAS,OAAO,KAAK,KAAK,KAAK,EAAE,SAAS;AACxE,0BAAM,eAAe,mBAAmB,KAAK,UAAU,KAAK,KAAK,IAAI;AACrE,kCAAc,MAAM,KAAK,IAAI;AAAA,sBAC3B,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,KAAK;AAAA,sBACf,OAAO;AAAA,sBACP,YAAY,aAAa,WAAW;AAAA,sBACpC,GAAG,cAAc,EAAE,QAAQ,WAAU;AAAA,oBAC3D;AACoB,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,KAAK;AAAA,sBACT,UAAU,KAAK;AAAA,oBACrC,CAAqB;AAAA,kBACH;AACA;AAAA,gBACF;AAAA,gBACA,KAAK,mBAAmB;AACtB,sBAAI;AAAA,oBACF;AAAA,oBACA;AAAA;AAAA,oBAEA;AAAA;AAAA,oBAEA;AAAA;AAAA,oBAEA;AAAA,kBACpB,EAAoB,SAAS,KAAK,IAAI,GAAG;AACrB,0BAAM,mBAAmB,KAAK,SAAS,gCAAgC,KAAK,SAAS,wBAAwB,mBAAmB,KAAK;AACrI,0BAAM,iBAAiB,gBAAgB,iBAAiB,gBAAgB;AACxE,kCAAc,MAAM,KAAK,IAAI;AAAA,sBAC3B,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU;AAAA,sBACV,OAAO;AAAA,sBACP,kBAAkB;AAAA,sBAClB,YAAY;AAAA,sBACZ,kBAAkB,KAAK;AAAA,oBAC7C;AACoB,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,KAAK;AAAA,sBACT,UAAU;AAAA,sBACV,kBAAkB;AAAA,oBACxC,CAAqB;AAAA,kBACH,WAAW,KAAK,SAAS,4BAA4B,KAAK,SAAS,yBAAyB;AAC1F,oCAAgB,KAAK,EAAE,IAAI,KAAK;AAChC,0BAAM,iBAAiB,gBAAgB;AAAA,sBACrC,KAAK;AAAA,oBAC3B;AACoB,kCAAc,MAAM,KAAK,IAAI;AAAA,sBAC3B,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU;AAAA,sBACV,OAAO;AAAA,sBACP,kBAAkB;AAAA,sBAClB,YAAY;AAAA,sBACZ,kBAAkB,KAAK;AAAA,oBAC7C;AACoB,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,KAAK;AAAA,sBACT,UAAU;AAAA,sBACV,kBAAkB;AAAA,oBACxC,CAAqB;AAAA,kBACH;AACA;AAAA,gBACF;AAAA,gBACA,KAAK,yBAAyB;AAC5B,sBAAI,KAAK,QAAQ,SAAS,oBAAoB;AAC5C,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,gBAAgB,iBAAiB,WAAW;AAAA,sBACtD,QAAQ;AAAA,wBACN,MAAM;AAAA,wBACN,KAAK,KAAK,QAAQ;AAAA,wBAClB,aAAa,KAAK,QAAQ;AAAA,wBAC1B,SAAS;AAAA,0BACP,MAAM,KAAK,QAAQ,QAAQ;AAAA,0BAC3B,OAAO,KAAK,QAAQ,QAAQ;AAAA,0BAC5B,WAAW,KAAK,QAAQ,QAAQ;AAAA,0BAChC,QAAQ;AAAA,4BACN,MAAM,KAAK,QAAQ,QAAQ,OAAO;AAAA,4BAClC,WAAW,KAAK,QAAQ,QAAQ,OAAO;AAAA,4BACvC,MAAM,KAAK,QAAQ,QAAQ,OAAO;AAAA,0BAC9D;AAAA,wBACA;AAAA,sBACA;AAAA,oBACA,CAAqB;AAAA,kBACH,WAAW,KAAK,QAAQ,SAAS,+BAA+B;AAC9D,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,gBAAgB,iBAAiB,WAAW;AAAA,sBACtD,SAAS;AAAA,sBACT,QAAQ;AAAA,wBACN,MAAM;AAAA,wBACN,WAAW,KAAK,QAAQ;AAAA,sBAChD;AAAA,oBACA,CAAqB;AAAA,kBACH;AACA;AAAA,gBACF;AAAA,gBACA,KAAK,0BAA0B;AAC7B,sBAAI,MAAM,QAAQ,KAAK,OAAO,GAAG;AAC/B,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,gBAAgB,iBAAiB,YAAY;AAAA,sBACvD,QAAQ,KAAK,QAAQ,IAAI,CAAC,WAAW;AACnC,4BAAII;AACJ,+BAAO;AAAA,0BACL,KAAK,OAAO;AAAA,0BACZ,OAAO,OAAO;AAAA,0BACd,UAAUA,OAAM,OAAO,aAAa,OAAOA,OAAM;AAAA,0BACjD,kBAAkB,OAAO;AAAA,0BACzB,MAAM,OAAO;AAAA,wBACvC;AAAA,sBACsB,CAAC;AAAA,oBACvB,CAAqB;AACD,+BAAW,UAAU,KAAK,SAAS;AACjC,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,YAAY;AAAA,wBACZ,IAAI,YAAW;AAAA,wBACf,KAAK,OAAO;AAAA,wBACZ,OAAO,OAAO;AAAA,wBACd,kBAAkB;AAAA,0BAChB,WAAW;AAAA,4BACT,UAAUL,OAAM,OAAO,aAAa,OAAOA,OAAM;AAAA,0BAC7E;AAAA,wBACA;AAAA,sBACA,CAAuB;AAAA,oBACH;AAAA,kBACF,OAAO;AACL,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,gBAAgB,iBAAiB,YAAY;AAAA,sBACvD,SAAS;AAAA,sBACT,QAAQ;AAAA,wBACN,MAAM;AAAA,wBACN,WAAW,KAAK,QAAQ;AAAA,sBAChD;AAAA,oBACA,CAAqB;AAAA,kBACH;AACA;AAAA,gBACF;AAAA;AAAA,gBAEA,KAAK,8BAA8B;AACjC,sBAAI,KAAK,QAAQ,SAAS,yBAAyB;AACjD,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,sBAC3D,QAAQ;AAAA,wBACN,MAAM,KAAK,QAAQ;AAAA,wBACnB,QAAQ,KAAK,QAAQ;AAAA,wBACrB,QAAQ,KAAK,QAAQ;AAAA,wBACrB,aAAa,KAAK,QAAQ;AAAA,wBAC1B,UAAUC,OAAM,KAAK,QAAQ,YAAY,OAAOA,OAAM,CAAA;AAAA,sBAC9E;AAAA,oBACA,CAAqB;AAAA,kBACH,WAAW,KAAK,QAAQ,SAAS,oCAAoC;AACnE,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,sBAC3D,SAAS;AAAA,sBACT,QAAQ;AAAA,wBACN,MAAM;AAAA,wBACN,WAAW,KAAK,QAAQ;AAAA,sBAChD;AAAA,oBACA,CAAqB;AAAA,kBACH;AACA;AAAA,gBACF;AAAA;AAAA,gBAEA,KAAK;AAAA,gBACL,KAAK,0CAA0C;AAC7C,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,YAAY,KAAK;AAAA,oBACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,oBAC3D,QAAQ,KAAK;AAAA,kBACjC,CAAmB;AACD;AAAA,gBACF;AAAA;AAAA,gBAEA,KAAK,2BAA2B;AAC9B,wBAAM,oBAAoB,KAAK,gBAAgB,KAAK,WAAW,MAAM,OAAO,KAAK;AACjF,sBAAI,KAAK,QAAQ,SAAS,kCAAkC;AAC1D,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,sBAC3D,QAAQ,KAAK,QAAQ,gBAAgB,IAAI,CAAC,SAAS;AAAA,wBACjD,MAAM,IAAI;AAAA,wBACV,UAAU,IAAI;AAAA,sBACtC,EAAwB;AAAA,oBACxB,CAAqB;AAAA,kBACH,OAAO;AACL,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,gBAAgB,iBAAiB,gBAAgB;AAAA,sBAC3D,SAAS;AAAA,sBACT,QAAQ;AAAA,wBACN,MAAM;AAAA,wBACN,WAAW,KAAK,QAAQ;AAAA,sBAChD;AAAA,oBACA,CAAqB;AAAA,kBACH;AACA;AAAA,gBACF;AAAA,gBACA,KAAK,gBAAgB;AACnB,+BAAa,KAAK,EAAE,IAAI;AAAA,oBACtB,MAAM;AAAA,oBACN,YAAY,KAAK;AAAA,oBACjB,UAAU,KAAK;AAAA,oBACf,OAAO,KAAK,UAAU,KAAK,KAAK;AAAA,oBAChC,kBAAkB;AAAA,oBAClB,SAAS;AAAA,oBACT,kBAAkB;AAAA,sBAChB,WAAW;AAAA,wBACT,MAAM;AAAA,wBACN,YAAY,KAAK;AAAA,sBACzC;AAAA,oBACA;AAAA,kBACA;AACkB,6BAAW,QAAQ,aAAa,KAAK,EAAE,CAAC;AACxC;AAAA,gBACF;AAAA,gBACA,KAAK,mBAAmB;AACtB,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,YAAY,KAAK;AAAA,oBACjB,UAAU,aAAa,KAAK,WAAW,EAAE;AAAA,oBACzC,SAAS,KAAK;AAAA,oBACd,QAAQ,KAAK;AAAA,oBACb,SAAS;AAAA,oBACT,kBAAkB,aAAa,KAAK,WAAW,EAAE;AAAA,kBACrE,CAAmB;AACD;AAAA,gBACF;AAAA,gBACA,SAAS;AACP,wBAAM,mBAAmB;AACzB,wBAAM,IAAI;AAAA,oBACR,mCAAmC,gBAAgB;AAAA,kBACvE;AAAA,gBACgB;AAAA,cAChB;AAAA,YACY;AAAA,YACA,KAAK,sBAAsB;AACzB,kBAAI,cAAc,MAAM,KAAK,KAAK,MAAM;AACtC,sBAAM,eAAe,cAAc,MAAM,KAAK;AAC9C,wBAAQ,aAAa,MAAI;AAAA,kBACvB,KAAK,QAAQ;AACX,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,OAAO,MAAM,KAAK;AAAA,oBAC5C,CAAqB;AACD;AAAA,kBACF;AAAA,kBACA,KAAK,aAAa;AAChB,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,OAAO,MAAM,KAAK;AAAA,oBAC5C,CAAqB;AACD;AAAA,kBACF;AAAA,kBACA,KAAK;AACH,0BAAM,qBAAqB,wBAAwB,aAAa,aAAa;AAC7E,wBAAI,CAAC,oBAAoB;AACvB,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,IAAI,aAAa;AAAA,sBACzC,CAAuB;AACD,0BAAI,aAAa,aAAa,UAAU,KAAK,OAAO,aAAa;AACjE,0BAAI,aAAa,qBAAqB,kBAAkB;AACtD,4BAAI;AACF,gCAAM,SAAS,KAAK,MAAM,UAAU;AACpC,8BAAI,UAAU,QAAQ,OAAO,WAAW,YAAY,UAAU,UAAU,EAAE,UAAU,SAAS;AAC3F,yCAAa,KAAK,UAAU;AAAA,8BAC1B,MAAM;AAAA,8BACN,GAAG;AAAA,4BACjC,CAA6B;AAAA,0BACH;AAAA,wBACF,SAAS,GAAG;AAAA,wBACZ;AAAA,sBACF;AACA,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,YAAY,aAAa;AAAA,wBACzB,UAAU,aAAa;AAAA,wBACvB,OAAO;AAAA,wBACP,kBAAkB,aAAa;AAAA,wBAC/B,GAAG,aAAa,UAAU;AAAA,0BACxB,kBAAkB;AAAA,4BAChB,WAAW;AAAA,8BACT,QAAQ,aAAa;AAAA,4BACnD;AAAA,0BACA;AAAA,wBACA;AAAA,sBACA,CAAuB;AAAA,oBACH;AACA;AAAA,gBACpB;AACgB,uBAAO,cAAc,MAAM,KAAK;AAAA,cAClC;AACA,0BAAY;AACZ;AAAA,YACF;AAAA,YACA,KAAK,uBAAuB;AAC1B,oBAAM,YAAY,MAAM,MAAM;AAC9B,sBAAQ,WAAS;AAAA,gBACf,KAAK,cAAc;AACjB,sBAAI,sBAAsB;AACxB;AAAA,kBACF;AACA,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,OAAO,MAAM,KAAK;AAAA,oBACtB,OAAO,MAAM,MAAM;AAAA,kBACvC,CAAmB;AACD;AAAA,gBACF;AAAA,gBACA,KAAK,kBAAkB;AACrB,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,OAAO,MAAM,KAAK;AAAA,oBACtB,OAAO,MAAM,MAAM;AAAA,kBACvC,CAAmB;AACD;AAAA,gBACF;AAAA,gBACA,KAAK,mBAAmB;AACtB,sBAAI,cAAc,YAAY;AAC5B,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,OAAO,MAAM,KAAK;AAAA,sBACtB,OAAO;AAAA,sBACP,kBAAkB;AAAA,wBAChB,WAAW;AAAA,0BACT,WAAW,MAAM,MAAM;AAAA,wBACjD;AAAA,sBACA;AAAA,oBACA,CAAqB;AAAA,kBACH;AACA;AAAA,gBACF;AAAA,gBACA,KAAK,oBAAoB;AACvB,wBAAM,eAAe,cAAc,MAAM,KAAK;AAC9C,sBAAI,QAAQ,MAAM,MAAM;AACxB,sBAAI,MAAM,WAAW,GAAG;AACtB;AAAA,kBACF;AACA,sBAAI,wBAAwB;AAC1B,yBAAK,gBAAgB,OAAO,SAAS,aAAa,UAAU,QAAQ;AAClE;AAAA,oBACF;AACA,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,OAAO,MAAM,KAAK;AAAA,sBACtB;AAAA,oBACtB,CAAqB;AAAA,kBACH,OAAO;AACL,yBAAK,gBAAgB,OAAO,SAAS,aAAa,UAAU,aAAa;AACvE;AAAA,oBACF;AACA,wBAAI,aAAa,eAAe,aAAa,qBAAqB,yBAAyB,aAAa,qBAAqB,+BAA+B;AAC1J,8BAAQ,aAAa,aAAa,gBAAgB,KAAK,MAAM,UAAU,CAAC,CAAC;AAAA,oBAC3E;AACA,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,aAAa;AAAA,sBACjB;AAAA,oBACtB,CAAqB;AACD,iCAAa,SAAS;AACtB,iCAAa,aAAa;AAAA,kBAC5B;AACA;AAAA,gBACF;AAAA,gBACA,KAAK,mBAAmB;AACtB,wBAAM,WAAW,MAAM,MAAM;AAC7B,wBAAM,SAAS;AAAA,oBACb;AAAA,oBACA;AAAA,oBACA;AAAA,kBACpB;AACkB,sBAAI,QAAQ;AACV,+BAAW,QAAQ,MAAM;AAAA,kBAC3B;AACA;AAAA,gBACF;AAAA,gBACA,SAAS;AACP,wBAAM,mBAAmB;AACzB,wBAAM,IAAI;AAAA,oBACR,2BAA2B,gBAAgB;AAAA,kBAC/D;AAAA,gBACgB;AAAA,cAChB;AAAA,YACY;AAAA,YACA,KAAK,iBAAiB;AACpB,oBAAM,eAAe,MAAM,QAAQ,MAAM;AACzC,oBAAM,2BAA2B,KAAK,MAAM,QAAQ,MAAM,4BAA4B,OAAO,KAAK;AAClG,oBAAM,+BAA+B,KAAK,MAAM,QAAQ,MAAM,gCAAgC,OAAO,KAAK;AAC1G,yBAAW;AAAA,gBACT,GAAG,MAAM,QAAQ;AAAA,cACjC;AACc,0CAA4B,KAAK,MAAM,QAAQ,MAAM,gCAAgC,OAAO,KAAK;AACjG,kBAAI,MAAM,QAAQ,aAAa,MAAM;AACnC,4BAAY;AAAA,kBACV,WAAW,MAAM,QAAQ,UAAU;AAAA,kBACnC,IAAI,MAAM,QAAQ,UAAU;AAAA,kBAC5B,QAAQ;AAAA,gBAC1B;AAAA,cACc;AACA,kBAAI,MAAM,QAAQ,eAAe,MAAM;AACrC,+BAAe;AAAA,kBACb,SAAS,uBAAuB;AAAA,oBAC9B,cAAc,MAAM,QAAQ;AAAA,oBAC5B;AAAA,kBACpB,CAAmB;AAAA,kBACD,KAAK,MAAM,QAAQ;AAAA,gBACrC;AAAA,cACc;AACA,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,KAAK,KAAK,MAAM,QAAQ,OAAO,OAAO,KAAK;AAAA,gBAC3C,UAAU,KAAK,MAAM,QAAQ,UAAU,OAAO,KAAK;AAAA,cACnE,CAAe;AACD,kBAAI,MAAM,QAAQ,WAAW,MAAM;AACjC,yBAAS,eAAe,GAAG,eAAe,MAAM,QAAQ,QAAQ,QAAQ,gBAAgB;AACtF,wBAAM,OAAO,MAAM,QAAQ,QAAQ,YAAY;AAC/C,sBAAI,KAAK,SAAS,YAAY;AAC5B,0BAAM,SAAS,KAAK;AACpB,0BAAM,aAAa,SAAS;AAAA,sBAC1B,MAAM,OAAO;AAAA,sBACb,QAAQ,aAAa,SAAS,OAAO,UAAU;AAAA,oBACrE,IAAwB;AACJ,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,KAAK;AAAA,sBACT,UAAU,KAAK;AAAA,oBACrC,CAAqB;AACD,0BAAM,WAAW,KAAK,WAAW,KAAK,KAAK,UAAU,OAAO,KAAK,EAAE;AACnE,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,KAAK;AAAA,sBACT,OAAO;AAAA,oBAC7B,CAAqB;AACD,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,KAAK;AAAA,oBAC/B,CAAqB;AACD,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,YAAY,KAAK;AAAA,sBACjB,UAAU,KAAK;AAAA,sBACf,OAAO;AAAA,sBACP,GAAG,cAAc;AAAA,wBACf,kBAAkB;AAAA,0BAChB,WAAW;AAAA,4BACT,QAAQ;AAAA,0BACpC;AAAA,wBACA;AAAA,sBACA;AAAA,oBACA,CAAqB;AAAA,kBACH;AAAA,gBACF;AAAA,cACF;AACA;AAAA,YACF;AAAA,YACA,KAAK,iBAAiB;AACpB,kBAAI,MAAM,MAAM,gBAAgB,QAAQ,MAAM,iBAAiB,MAAM,MAAM,cAAc;AACvF,sBAAM,eAAe,MAAM,MAAM;AAAA,cACnC;AACA,oBAAM,gBAAgB,MAAM,MAAM;AAClC,6BAAe;AAAA,gBACb,SAAS,uBAAuB;AAAA,kBAC9B,cAAc,MAAM,MAAM;AAAA,kBAC1B;AAAA,gBAClB,CAAiB;AAAA,gBACD,MAAM,KAAK,MAAM,MAAM,gBAAgB,OAAO,KAAK;AAAA,cACnE;AACc,8BAAgB,KAAK,MAAM,MAAM,kBAAkB,OAAO,KAAK;AAC/D,0BAAY,MAAM,MAAM,aAAa,OAAO;AAAA,gBAC1C,WAAW,MAAM,MAAM,UAAU;AAAA,gBACjC,IAAI,MAAM,MAAM,UAAU;AAAA,gBAC1B,SAAS,MAAM,KAAK,MAAM,MAAM,UAAU,WAAW,OAAO,SAAS,GAAG,IAAI,CAAC,WAAW;AAAA,kBACtF,MAAM,MAAM;AAAA,kBACZ,SAAS,MAAM;AAAA,kBACf,SAAS,MAAM;AAAA,gBACjC,EAAkB,MAAM,OAAO,KAAK;AAAA,cACpC,IAAkB;AACJ,kBAAI,MAAM,MAAM,oBAAoB;AAClC,oCAAoB;AAAA,kBAClB,MAAM,MAAM;AAAA,gBAC9B;AAAA,cACc;AACA,yBAAW;AAAA,gBACT,GAAG;AAAA,gBACH,GAAG,MAAM;AAAA,cACzB;AACc;AAAA,YACF;AAAA,YACA,KAAK,gBAAgB;AACnB,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN;AAAA,gBACA,OAAO,8BAA8B,KAAK;AAAA,gBAC1C,kBAAkB;AAAA,kBAChB,WAAW;AAAA,oBACT,OAAO,YAAY,OAAO,WAAW;AAAA,oBACrC;AAAA,oBACA;AAAA,oBACA;AAAA,oBACA;AAAA,kBACpB;AAAA,gBACA;AAAA,cACA,CAAe;AACD;AAAA,YACF;AAAA,YACA,KAAK,SAAS;AACZ,yBAAW,QAAQ,EAAE,MAAM,SAAS,OAAO,MAAM,OAAO;AACxD;AAAA,YACF;AAAA,YACA,SAAS;AACP,oBAAM,mBAAmB;AACzB,oBAAM,IAAI,MAAM,2BAA2B,gBAAgB,EAAE;AAAA,YAC/D;AAAA,UACZ;AAAA,QACQ;AAAA,MACR,CAAO;AAAA,IACP;AACI,UAAM,CAAC,qBAAqB,iBAAiB,IAAI,kBAAkB,IAAG;AACtE,UAAM,mBAAmB,oBAAoB,UAAS;AACtD,QAAI;AACF,YAAM,iBAAiB,KAAI;AAC3B,UAAI,SAAS,MAAM,iBAAiB,KAAI;AACxC,YAAMN,OAAK,OAAO,UAAU,OAAO,SAASA,KAAG,UAAU,OAAO;AAC9D,iBAAS,MAAM,iBAAiB,KAAI;AAAA,MACtC;AACA,YAAMC,MAAK,OAAO,UAAU,OAAO,SAASA,IAAG,UAAU,SAAS;AAChE,cAAMR,SAAQ,OAAO,MAAM;AAC3B,cAAM,IAAI,aAAa;AAAA,UACrB,SAASA,OAAM;AAAA,UACf;AAAA,UACA,mBAAmB;AAAA,UACnB,YAAYA,OAAM,SAAS,qBAAqB,MAAM;AAAA,UACtD;AAAA,UACA,cAAc,KAAK,UAAUA,MAAK;AAAA,UAClC,aAAaA,OAAM,SAAS;AAAA,QACtC,CAAS;AAAA,MACH;AAAA,IACF,UAAC;AACC,uBAAiB,SAAS,MAAM,MAAM;AAAA,MACtC,CAAC;AACD,uBAAiB,YAAW;AAAA,IAC9B;AACA,WAAO;AAAA,MACL,QAAQ;AAAA,MACR,SAAS,EAAE,KAAI;AAAA,MACf,UAAU,EAAE,SAAS,gBAAe;AAAA,IAC1C;AAAA,EACE;AACF;AACA,SAAS,qBAAqB,SAAS;AACrC,MAAI,QAAQ,SAAS,mBAAmB,KAAK,QAAQ,SAAS,iBAAiB,KAAK,QAAQ,SAAS,kBAAkB,GAAG;AACxH,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,0BAA0B;AAAA,MAC1B,cAAc;AAAA,IACpB;AAAA,EACE,WAAW,QAAQ,SAAS,iBAAiB,GAAG;AAC9C,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,0BAA0B;AAAA,MAC1B,cAAc;AAAA,IACpB;AAAA,EACE,WAAW,QAAQ,SAAS,kBAAkB,KAAK,QAAQ,SAAS,mBAAmB,GAAG;AACxF,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,0BAA0B;AAAA,MAC1B,cAAc;AAAA,IACpB;AAAA,EACE,WAAW,QAAQ,SAAS,gBAAgB,GAAG;AAC7C,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,0BAA0B;AAAA,MAC1B,cAAc;AAAA,IACpB;AAAA,EACE,WAAW,QAAQ,SAAS,kBAAkB,GAAG;AAC/C,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,0BAA0B;AAAA,MAC1B,cAAc;AAAA,IACpB;AAAA,EACE,WAAW,QAAQ,SAAS,gBAAgB,GAAG;AAC7C,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,0BAA0B;AAAA,MAC1B,cAAc;AAAA,IACpB;AAAA,EACE,OAAO;AACL,WAAO;AAAA,MACL,iBAAiB;AAAA,MACjB,0BAA0B;AAAA,MAC1B,cAAc;AAAA,IACpB;AAAA,EACE;AACF;AACA,SAAS,sCAAsC,mBAAmB;AAChE,SAAO,oBAAoB;AAAA,IACzB,cAAc,kBAAkB,cAAc,IAAI,CAAC,SAAS;AAC1D,YAAM,WAAW,KAAK;AACtB,cAAQ,UAAQ;AAAA,QACd,KAAK;AACH,iBAAO;AAAA,YACL,MAAM,KAAK;AAAA,YACX,iBAAiB,KAAK;AAAA,YACtB,oBAAoB,KAAK;AAAA,UACrC;AAAA,QACQ,KAAK;AACH,iBAAO;AAAA,YACL,MAAM,KAAK;AAAA,YACX,sBAAsB,KAAK;AAAA,YAC3B,oBAAoB,KAAK;AAAA,UACrC;AAAA,MACA;AAAA,IACI,CAAC,EAAE,OAAO,CAAC,SAAS,SAAS,MAAM;AAAA,EACvC,IAAM;AACN;AASA,IAAI,2BAA2B8b;AAAAA,EAC7B,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,SAASC,OAAU;AAAA,MACnB,SAASC,QAAW,EAAG,SAAQ;AAAA,IACrC,CAAK;AAAA,EACL;AACA;AACA,IAAI,gBAAgBC,0BAA2B;AAAA,EAC7C,IAAI;AAAA,EACJ,aAAa;AACf,CAAC;AASD,IAAI,2BAA2BC;AAAAA,EAC7B,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,SAASC,OAAU;AAAA,MACnB,SAASC,QAAW,EAAG,SAAQ;AAAA,IACrC,CAAK;AAAA,EACL;AACA;AACA,IAAI,gBAAgBC,0BAA2B;AAAA,EAC7C,IAAI;AAAA,EACJ,aAAa;AACf,CAAC;AASD,IAAI,+BAA+BC;AAAAA,EACjC,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,QAAQC,MAAS;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACR,CAAO;AAAA,MACD,YAAYC,QAAUC,SAAU,EAAG,IAAG,CAAE,EAAE,SAAQ;AAAA,MAClD,MAAMC,OAAU,EAAG,SAAQ;AAAA,IACjC,CAAK;AAAA,EACL;AACA;AACA,IAAI,oBAAoBC,0BAA2B;AAAA,EACjD,IAAI;AAAA,EACJ,aAAa;AACf,CAAC;AASD,IAAI,+BAA+BC;AAAAA,EACjC,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,QAAQC,MAAS;AAAA,QACf;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACR,CAAO;AAAA,MACD,YAAYC,MAAU,CAACC,SAAU,EAAG,IAAG,GAAIA,SAAU,EAAG,IAAG,CAAE,CAAC,EAAE,SAAQ;AAAA,MACxE,UAAUA,SAAU,EAAG,SAAQ;AAAA,MAC/B,eAAeA,SAAU,EAAG,SAAQ;AAAA,MACpC,kBAAkBF,MAAS,CAAC,MAAM,QAAQ,QAAQ,OAAO,CAAC,EAAE,SAAQ;AAAA,MACpE,kBAAkBC,MAAU,CAACC,SAAU,EAAG,IAAG,GAAIA,SAAU,EAAG,IAAG,CAAE,CAAC,EAAE,SAAQ;AAAA,MAC9E,MAAMC,OAAU,EAAG,SAAQ;AAAA,IACjC,CAAK;AAAA,EACL;AACA;AACA,IAAI,oBAAoBC,0BAA2B;AAAA,EACjD,IAAI;AAAA,EACJ,aAAa;AACf,CAAC;AASD,IAAI,6BAA6BC;AAAAA,EAC/B,MAAMC;AAAAA,IACJC,mBAAuB,WAAW;AAAA,MAChCC,SAAW;AAAA,QACT,SAASC,QAAY,MAAM;AAAA,QAC3B,MAAMC,OAAU;AAAA,QAChB,YAAYC,MAAU,CAACC,SAAU,GAAIA,SAAU,CAAE,CAAC,EAAE,SAAQ;AAAA,MACpE,CAAO;AAAA,MACDJ,SAAW;AAAA,QACT,SAASC,QAAY,QAAQ;AAAA,QAC7B,MAAMC,OAAU;AAAA,QAChB,WAAWA,OAAU;AAAA,MAC7B,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,SAASC,QAAY,aAAa;AAAA,QAClC,MAAMC,OAAU;AAAA,QAChB,SAASA,OAAU;AAAA,QACnB,SAASA,OAAU;AAAA,MAC3B,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,SAASC,QAAY,QAAQ;AAAA,QAC7B,MAAMC,OAAU;AAAA,QAChB,aAAaE,SAAU;AAAA,QACvB,aAAaF,OAAU;AAAA,MAC/B,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,SAASC,QAAY,QAAQ;AAAA,QAC7B,MAAMC,OAAU;AAAA,MACxB,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,SAASC,QAAY,QAAQ;AAAA,QAC7B,UAAUC,OAAU;AAAA,QACpB,UAAUA,OAAU;AAAA,MAC5B,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,kBAAkBG,0BAA2B;AAAA,EAC/C,IAAI;AAAA,EACJ,aAAa;AACf,CAAC;AASD,IAAI,iCAAiCC;AAAAA,EACnC,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,SAASC,MAAS,CAAC,QAAQ,UAAU,eAAe,UAAU,WAAW,CAAC;AAAA,MAC1E,MAAMC,OAAU;AAAA,MAChB,WAAWA,OAAU,EAAG,SAAQ;AAAA,MAChC,aAAaC,SAAU,EAAG,IAAG,EAAG,SAAQ;AAAA,MACxC,SAASD,OAAU,EAAG,SAAQ;AAAA,MAC9B,SAASA,OAAU,EAAG,SAAQ;AAAA,MAC9B,YAAYE,QAAUD,SAAU,EAAG,IAAG,CAAE,EAAE,SAAQ;AAAA,IACxD,CAAK;AAAA,EACL;AACA;AACA,IAAI,sBAAsBE,0BAA2B;AAAA,EACnD,IAAI;AAAA,EACJ,aAAa;AACf,CAAC;AASD,IAAI,iCAAiCC;AAAAA,EACnC,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,SAASC,MAAS,CAAC,QAAQ,UAAU,eAAe,UAAU,WAAW,CAAC;AAAA,MAC1E,MAAMC,OAAU;AAAA,MAChB,WAAWA,OAAU,EAAG,SAAQ;AAAA,MAChC,aAAaC,SAAU,EAAG,IAAG,EAAG,SAAQ;AAAA,MACxC,SAASD,OAAU,EAAG,SAAQ;AAAA,MAC9B,SAASA,OAAU,EAAG,SAAQ;AAAA,MAC9B,YAAYE,QAAUD,SAAU,EAAG,IAAG,CAAE,EAAE,SAAQ;AAAA,IACxD,CAAK;AAAA,EACL;AACA;AACA,IAAI,sBAAsBE,0BAA2B;AAAA,EACnD,IAAI;AAAA,EACJ,aAAa;AACf,CAAC;AASD,IAAI,iCAAiCC;AAAAA,EACnC,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,SAASC,MAAS,CAAC,QAAQ,UAAU,eAAe,QAAQ,CAAC;AAAA,MAC7D,MAAMC,OAAU;AAAA,MAChB,WAAWA,OAAU,EAAG,SAAQ;AAAA,MAChC,aAAaC,SAAU,EAAG,IAAG,EAAG,SAAQ;AAAA,MACxC,SAASD,OAAU,EAAG,SAAQ;AAAA,MAC9B,SAASA,OAAU,EAAG,SAAQ;AAAA,MAC9B,YAAYE,QAAUD,SAAU,EAAG,IAAG,CAAE,EAAE,SAAQ;AAAA,IACxD,CAAK;AAAA,EACL;AACA;AACA,IAAI,sBAAsBE,0BAA2B;AAAA,EACnD,IAAI;AAAA,EACJ,aAAa;AACf,CAAC;AASD,IAAI,sCAAsCC;AAAAA,EACxC,MAAMC;AAAAA,IACJC;AAAAA,MACEC,SAAW;AAAA,QACT,MAAMC,QAAY,gBAAgB;AAAA,QAClC,UAAUC,OAAU;AAAA,MAC5B,CAAO;AAAA,IACP;AAAA,EACA;AACA;AACA,IAAI,qCAAqCL;AAAAA,EACvC,MAAMC;AAAAA,IACJE,SAAW;AAAA;AAAA;AAAA;AAAA;AAAA,MAKT,OAAOE,OAAU;AAAA;AAAA;AAAA;AAAA,MAIjB,OAAOC,SAAU,EAAG,SAAQ;AAAA,IAClC,CAAK;AAAA,EACL;AACA;AACA,IAAI,WAAWC,0CAA2C;AAAA,EACxD,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AACD,IAAI,0BAA0B,CAAC,OAAO,OAAO;AAC3C,SAAO,SAAS,IAAI;AACtB;AAGA,IAAI,iBAAiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcA;AACF;AAGA,SAAS,gBAAgB,UAAU,IAAI;AACrC,MAAI3f,MAAIC;AACR,QAAM,WAAWD,OAAK;AAAA,IACpB,oBAAoB;AAAA,MAClB,cAAc,QAAQ;AAAA,MACtB,yBAAyB;AAAA,IAC/B,CAAK;AAAA,EACL,MAAQ,OAAOA,OAAK;AAClB,QAAM,gBAAgBC,MAAK,QAAQ,SAAS,OAAOA,MAAK;AACxD,QAAM,aAAa,MAAM;AAAA,IACvB;AAAA,MACE,qBAAqB;AAAA,MACrB,aAAa,WAAW;AAAA,QACtB,QAAQ,QAAQ;AAAA,QAChB,yBAAyB;AAAA,QACzB,aAAa;AAAA,MACrB,CAAO;AAAA,MACD,GAAG,QAAQ;AAAA,IACjB;AAAA,IACI,oBAAoBqV,SAAO;AAAA,EAC/B;AACE,QAAM,kBAAkB,CAAC,YAAY;AACnC,QAAIjV;AACJ,WAAO,IAAI,+BAA+B,SAAS;AAAA,MACjD,UAAU;AAAA,MACV;AAAA,MACA,SAAS;AAAA,MACT,OAAO,QAAQ;AAAA,MACf,aAAaA,OAAM,QAAQ,eAAe,OAAOA,OAAMuf;AAAAA,MACvD,eAAe,OAAO;AAAA,QACpB,WAAW,CAAC,iBAAiB;AAAA,QAC7B,mBAAmB,CAAC,iBAAiB;AAAA,MAC7C;AAAA,IACA,CAAK;AAAA,EACH;AACA,QAAM,WAAW,SAAS,SAAS;AACjC,QAAI,YAAY;AACd,YAAM,IAAI;AAAA,QACR;AAAA,MACR;AAAA,IACI;AACA,WAAO,gBAAgB,OAAO;AAAA,EAChC;AACA,WAAS,uBAAuB;AAChC,WAAS,gBAAgB;AACzB,WAAS,OAAO;AAChB,WAAS,WAAW;AACpB,WAAS,iBAAiB,CAAC,YAAY;AACrC,UAAM,IAAI,iBAAiB,EAAE,SAAS,WAAW,iBAAgB,CAAE;AAAA,EACrE;AACA,WAAS,qBAAqB,SAAS;AACvC,WAAS,aAAa,CAAC,YAAY;AACjC,UAAM,IAAI,iBAAiB,EAAE,SAAS,WAAW,aAAY,CAAE;AAAA,EACjE;AACA,WAAS,QAAQ;AACjB,SAAO;AACT;AACA,IAAI,YAAY,gBAAe;ACtvI/B,IAAItK,YAAiB;AAwBrB,IAAI,wBAAwB;AAAA,EAC1B,MAAM;AAAA,IACJiB,SAAS;AAAA,MACP,OAAOA,SAAS;AAAA,QACd,MAAMsJ,SAAQ,EAAG,SAAQ;AAAA,QACzB,SAASpJ,OAAQ;AAAA,QACjB,QAAQA,OAAQ;AAAA,MACxB,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,8BAA8B,+BAA+B;AAAA,EAC/D,aAAa;AAAA,EACb,gBAAgB,CAAC,SAAS,KAAK,MAAM;AACvC,CAAC;AAQD,IAAI,6CAA6CC;AAAAA,EAC/C,MAAMC;AAAAA,IACJC,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA,MAKR,sBAAsBK,SAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAa1C,UAAU6I,MAAQ;AAAA,QAChB;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACR,CAAO,EAAE,SAAQ;AAAA,IACjB,CAAK;AAAA,EACL;AACA;AAGA,IAAI,mCAAmC,MAAM;AAAA,EAC3C,YAAY,SAAS9gB,SAAQ;AAC3B,SAAK,uBAAuB;AAC5B,SAAK,uBAAuB;AAC5B,SAAK,wBAAwB;AAC7B,SAAK,UAAU;AACf,SAAK,SAASA;AAAA,EAChB;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM,gBAAgB,MAAM,qBAAqB;AAAA,MAC/C,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACd,CAAK;AACD,QAAI,OAAO,SAAS,KAAK,sBAAsB;AAC7C,YAAM,IAAI,mCAAmC;AAAA,QAC3C,UAAU,KAAK;AAAA,QACf,SAAS,KAAK;AAAA,QACd,sBAAsB,KAAK;AAAA,QAC3B;AAAA,MACR,CAAO;AAAA,IACH;AACA,UAAM,gBAAgB;AAAA,MACpB,MAAM,QAAQ,KAAK,OAAO,OAAO;AAAA,MACjC;AAAA,IACN;AACI,QAAI,OAAO,WAAW,GAAG;AACvB,YAAM;AAAA,QACJ,iBAAiB;AAAA,QACjB,OAAO;AAAA,QACP,UAAU;AAAA,MAClB,IAAU,MAAM,cAAc;AAAA,QACtB,KAAK,GAAG,KAAK,OAAO,OAAO,WAAW,KAAK,OAAO;AAAA,QAClD,SAAS;AAAA,QACT,MAAM;AAAA,UACJ,OAAO,UAAU,KAAK,OAAO;AAAA,UAC7B,SAAS;AAAA,YACP,OAAO,CAAC,EAAE,MAAM,OAAO,CAAC,EAAC,CAAE;AAAA,UACvC;AAAA,UACU,sBAAsB,iBAAiB,OAAO,SAAS,cAAc;AAAA,UACrE,UAAU,iBAAiB,OAAO,SAAS,cAAc;AAAA,QACnE;AAAA,QACQ,uBAAuB;AAAA,QACvB,2BAA2B;AAAA,UACzB;AAAA,QACV;AAAA,QACQ;AAAA,QACA,OAAO,KAAK,OAAO;AAAA,MAC3B,CAAO;AACD,aAAO;AAAA,QACL,UAAU,CAAA;AAAA,QACV,YAAY,CAAC,UAAU,UAAU,MAAM;AAAA,QACvC,OAAO;AAAA,QACP,UAAU,EAAE,SAAS,kBAAkB,MAAM,UAAS;AAAA,MAC9D;AAAA,IACI;AACA,UAAM;AAAA,MACJ;AAAA,MACA,OAAO;AAAA,MACP;AAAA,IACN,IAAQ,MAAM,cAAc;AAAA,MACtB,KAAK,GAAG,KAAK,OAAO,OAAO,WAAW,KAAK,OAAO;AAAA,MAClD,SAAS;AAAA,MACT,MAAM;AAAA,QACJ,UAAU,OAAO,IAAI,CAAC,WAAW;AAAA,UAC/B,OAAO,UAAU,KAAK,OAAO;AAAA,UAC7B,SAAS,EAAE,MAAM,QAAQ,OAAO,CAAC,EAAE,MAAM,MAAK,CAAE,EAAC;AAAA,UACjD,sBAAsB,iBAAiB,OAAO,SAAS,cAAc;AAAA,UACrE,UAAU,iBAAiB,OAAO,SAAS,cAAc;AAAA,QACnE,EAAU;AAAA,MACV;AAAA,MACM,uBAAuB;AAAA,MACvB,2BAA2B;AAAA,QACzB;AAAA,MACR;AAAA,MACM;AAAA,MACA,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,WAAO;AAAA,MACL,UAAU,CAAA;AAAA,MACV,YAAY,SAAS,WAAW,IAAI,CAAC,SAAS,KAAK,MAAM;AAAA,MACzD,OAAO;AAAA,MACP,UAAU,EAAE,SAAS,iBAAiB,MAAM,SAAQ;AAAA,IAC1D;AAAA,EACE;AACF;AACA,IAAI,gDAAgDgZ;AAAAA,EAClD,MAAMC;AAAAA,IACJV,SAAU;AAAA,MACR,YAAYO,QAASP,SAAU,EAAE,QAAQO,QAASD,SAAS,CAAE,GAAG,CAAC;AAAA,IACvE,CAAK;AAAA,EACL;AACA;AACA,IAAI,kDAAkDG;AAAAA,EACpD,MAAMC;AAAAA,IACJV,SAAU;AAAA,MACR,WAAWA,SAAU,EAAE,QAAQO,QAASD,SAAS,CAAE,EAAC,CAAE;AAAA,IAC5D,CAAK;AAAA,EACL;AACA;AAiBA,SAAS,+BAA+B,OAAO;AAC7C,MAAI7X,MAAIC,KAAI,IAAI;AAChB,MAAI,SAAS,MAAM;AACjB,WAAO;AAAA,MACL,aAAa;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,QACT,WAAW;AAAA,QACX,YAAY;AAAA,MACpB;AAAA,MACM,cAAc;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACN,WAAW;AAAA,MACnB;AAAA,MACM,KAAK;AAAA,IACX;AAAA,EACE;AACA,QAAM,gBAAgBD,OAAK,MAAM,qBAAqB,OAAOA,OAAK;AAClE,QAAM,oBAAoBC,MAAK,MAAM,yBAAyB,OAAOA,MAAK;AAC1E,QAAM,uBAAuB,KAAK,MAAM,4BAA4B,OAAO,KAAK;AAChF,QAAM,kBAAkB,KAAK,MAAM,uBAAuB,OAAO,KAAK;AACtE,SAAO;AAAA,IACL,aAAa;AAAA,MACX,OAAO;AAAA,MACP,SAAS,eAAe;AAAA,MACxB,WAAW;AAAA,MACX,YAAY;AAAA,IAClB;AAAA,IACI,cAAc;AAAA,MACZ,OAAO,mBAAmB;AAAA,MAC1B,MAAM;AAAA,MACN,WAAW;AAAA,IACjB;AAAA,IACI,KAAK;AAAA,EACT;AACA;AAGA,SAAS,iCAAiC8f,aAAY,SAAS,MAAM;AACnE,MAAIA,eAAc,MAAM;AACtB,WAAO;AAAA,EACT;AACA,MAAI,oBAAoBA,WAAU,GAAG;AACnC,QAAI,QAAQ;AACV,aAAO;AAAA,IACT;AACA,QAAI,OAAOA,gBAAe,YAAYA,YAAW,aAAa;AAC5D,aAAO,EAAE,MAAM,UAAU,aAAaA,YAAW,YAAW;AAAA,IAC9D;AACA,WAAO,EAAE,MAAM,SAAQ;AAAA,EACzB;AACA,MAAI,OAAOA,gBAAe,WAAW;AACnC,WAAO,EAAE,MAAM,WAAW,YAAY,CAAA,EAAE;AAAA,EAC1C;AACA,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,IACA,UAAArK;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,OAAO;AAAA,IACP;AAAA,IACA,MAAM;AAAA,EACV,IAAMqK;AACJ,QAAM,SAAS,CAAA;AACf,MAAI,YAAa,QAAO,cAAc;AACtC,MAAIrK,UAAU,QAAO,WAAWA;AAChC,MAAI,OAAQ,QAAO,SAAS;AAC5B,MAAI,eAAe,QAAQ;AACzB,WAAO,OAAO,CAAC,UAAU;AAAA,EAC3B;AACA,MAAI,MAAM;AACR,QAAI,MAAM,QAAQ,IAAI,GAAG;AACvB,YAAM,UAAU,KAAK,SAAS,MAAM;AACpC,YAAM,eAAe,KAAK,OAAO,CAAC,MAAM,MAAM,MAAM;AACpD,UAAI,aAAa,WAAW,GAAG;AAC7B,eAAO,OAAO;AAAA,MAChB,OAAO;AACL,eAAO,QAAQ,aAAa,IAAI,CAAC,OAAO,EAAE,MAAM,EAAC,EAAG;AACpD,YAAI,SAAS;AACX,iBAAO,WAAW;AAAA,QACpB;AAAA,MACF;AAAA,IACF,OAAO;AACL,aAAO,OAAO;AAAA,IAChB;AAAA,EACF;AACA,MAAI,eAAe,QAAQ;AACzB,WAAO,OAAO;AAAA,EAChB;AACA,MAAI,cAAc,MAAM;AACtB,WAAO,aAAa,OAAO,QAAQ,UAAU,EAAE;AAAA,MAC7C,CAAC,KAAK,CAAC,KAAK,KAAK,MAAM;AACrB,YAAI,GAAG,IAAI,iCAAiC,OAAO,KAAK;AACxD,eAAO;AAAA,MACT;AAAA,MACA,CAAA;AAAA,IACN;AAAA,EACE;AACA,MAAI,OAAO;AACT,WAAO,QAAQ,MAAM,QAAQ,KAAK,IAAI,MAAM,IAAI,CAAC,SAAS,iCAAiC,MAAM,KAAK,CAAC,IAAI,iCAAiC,OAAO,KAAK;AAAA,EAC1J;AACA,MAAI,OAAO;AACT,WAAO,QAAQ,MAAM;AAAA,MACnB,CAAC,SAAS,iCAAiC,MAAM,KAAK;AAAA,IAC5D;AAAA,EACE;AACA,MAAI,OAAO;AACT,QAAI,MAAM;AAAA,MACR,CAAC,WAAW,OAAO,WAAW,aAAa,UAAU,OAAO,SAAS,OAAO,UAAU;AAAA,IAC5F,GAAO;AACD,YAAM,iBAAiB,MAAM;AAAA,QAC3B,CAAC,WAAW,EAAE,OAAO,WAAW,aAAa,UAAU,OAAO,SAAS,OAAO,UAAU;AAAA,MAChG;AACM,UAAI,eAAe,WAAW,GAAG;AAC/B,cAAM,YAAY;AAAA,UAChB,eAAe,CAAC;AAAA,UAChB;AAAA,QACV;AACQ,YAAI,OAAO,cAAc,UAAU;AACjC,iBAAO,WAAW;AAClB,iBAAO,OAAO,QAAQ,SAAS;AAAA,QACjC;AAAA,MACF,OAAO;AACL,eAAO,QAAQ,eAAe;AAAA,UAC5B,CAAC,SAAS,iCAAiC,MAAM,KAAK;AAAA,QAChE;AACQ,eAAO,WAAW;AAAA,MACpB;AAAA,IACF,OAAO;AACL,aAAO,QAAQ,MAAM;AAAA,QACnB,CAAC,SAAS,iCAAiC,MAAM,KAAK;AAAA,MAC9D;AAAA,IACI;AAAA,EACF;AACA,MAAI,OAAO;AACT,WAAO,QAAQ,MAAM;AAAA,MACnB,CAAC,SAAS,iCAAiC,MAAM,KAAK;AAAA,IAC5D;AAAA,EACE;AACA,MAAI,cAAc,QAAQ;AACxB,WAAO,YAAY;AAAA,EACrB;AACA,SAAO;AACT;AACA,SAAS,oBAAoBqK,aAAY;AACvC,SAAOA,eAAc,QAAQ,OAAOA,gBAAe,YAAYA,YAAW,SAAS,aAAaA,YAAW,cAAc,QAAQ,OAAO,KAAKA,YAAW,UAAU,EAAE,WAAW,MAAM,CAACA,YAAW;AACnM;AAOA,SAAS,oCAAoC,QAAQ,SAAS;AAC5D,MAAI/f,MAAIC,KAAI;AACZ,QAAM,yBAAyB,CAAA;AAC/B,QAAM,WAAW,CAAA;AACjB,MAAI,wBAAwB;AAC5B,QAAM,gBAAgBD,OAAK,WAAW,OAAO,SAAS,QAAQ,iBAAiB,OAAOA,OAAK;AAC3F,QAAM,uBAAuBC,MAAK,WAAW,OAAO,SAAS,QAAQ,wBAAwB,OAAOA,MAAK;AACzG,aAAW,EAAE,MAAM,QAAO,KAAM,QAAQ;AACtC,YAAQ,MAAI;AAAA,MACV,KAAK,UAAU;AACb,YAAI,CAAC,uBAAuB;AAC1B,gBAAM,IAAI,8BAA8B;AAAA,YACtC,eAAe;AAAA,UAC3B,CAAW;AAAA,QACH;AACA,+BAAuB,KAAK,EAAE,MAAM,QAAO,CAAE;AAC7C;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,gCAAwB;AACxB,cAAM,QAAQ,CAAA;AACd,mBAAW,QAAQ,SAAS;AAC1B,kBAAQ,KAAK,MAAI;AAAA,YACf,KAAK,QAAQ;AACX,oBAAM,KAAK,EAAE,MAAM,KAAK,KAAI,CAAE;AAC9B;AAAA,YACF;AAAA,YACA,KAAK,QAAQ;AACX,oBAAM,YAAY,KAAK,cAAc,YAAY,eAAe,KAAK;AACrE,oBAAM;AAAA,gBACJ,KAAK,gBAAgB,MAAM;AAAA,kBACzB,UAAU;AAAA,oBACR,UAAU;AAAA,oBACV,SAAS,KAAK,KAAK,SAAQ;AAAA,kBAC/C;AAAA,gBACA,IAAoB;AAAA,kBACF,YAAY;AAAA,oBACV,UAAU;AAAA,oBACV,MAAM,gBAAgB,KAAK,IAAI;AAAA,kBACnD;AAAA,gBACA;AAAA,cACA;AACc;AAAA,YACF;AAAA,UACZ;AAAA,QACQ;AACA,iBAAS,KAAK,EAAE,MAAM,QAAQ,MAAK,CAAE;AACrC;AAAA,MACF;AAAA,MACA,KAAK,aAAa;AAChB,gCAAwB;AACxB,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,OAAO,QAAQ,IAAI,CAAC,SAAS;AAC3B,gBAAII;AACJ,kBAAM,gBAAgBA,OAAM,KAAK,oBAAoB,OAAO,SAASA,KAAI,mBAAmB;AAC5F,kBAAM,oBAAoB,gBAAgB,OAAO,SAAS,aAAa,qBAAqB,OAAO,OAAO,aAAa,gBAAgB,IAAI;AAC3I,oBAAQ,KAAK,MAAI;AAAA,cACf,KAAK,QAAQ;AACX,uBAAO,KAAK,KAAK,WAAW,IAAI,SAAS;AAAA,kBACvC,MAAM,KAAK;AAAA,kBACX;AAAA,gBAClB;AAAA,cACc;AAAA,cACA,KAAK,aAAa;AAChB,uBAAO,KAAK,KAAK,WAAW,IAAI,SAAS;AAAA,kBACvC,MAAM,KAAK;AAAA,kBACX,SAAS;AAAA,kBACT;AAAA,gBAClB;AAAA,cACc;AAAA,cACA,KAAK,QAAQ;AACX,oBAAI,KAAK,gBAAgB,KAAK;AAC5B,wBAAM,IAAI,8BAA8B;AAAA,oBACtC,eAAe;AAAA,kBACnC,CAAmB;AAAA,gBACH;AACA,uBAAO;AAAA,kBACL,YAAY;AAAA,oBACV,UAAU,KAAK;AAAA,oBACf,MAAM,gBAAgB,KAAK,IAAI;AAAA,kBACnD;AAAA,kBACkB;AAAA,gBAClB;AAAA,cACc;AAAA,cACA,KAAK,aAAa;AAChB,uBAAO;AAAA,kBACL,cAAc;AAAA,oBACZ,MAAM,KAAK;AAAA,oBACX,MAAM,KAAK;AAAA,kBAC/B;AAAA,kBACkB;AAAA,gBAClB;AAAA,cACc;AAAA,YACd;AAAA,UACU,CAAC,EAAE,OAAO,CAAC,SAAS,SAAS,MAAM;AAAA,QAC7C,CAAS;AACD;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,gCAAwB;AACxB,cAAM,QAAQ,CAAA;AACd,mBAAW,QAAQ,SAAS;AAC1B,cAAI,KAAK,SAAS,0BAA0B;AAC1C;AAAA,UACF;AACA,gBAAM,SAAS,KAAK;AACpB,cAAI,OAAO,SAAS,WAAW;AAC7B,uBAAW,eAAe,OAAO,OAAO;AACtC,sBAAQ,YAAY,MAAI;AAAA,gBACtB,KAAK;AACH,wBAAM,KAAK;AAAA,oBACT,kBAAkB;AAAA,sBAChB,MAAM,KAAK;AAAA,sBACX,UAAU;AAAA,wBACR,MAAM,KAAK;AAAA,wBACX,SAAS,YAAY;AAAA,sBAC7C;AAAA,oBACA;AAAA,kBACA,CAAmB;AACD;AAAA,gBACF,KAAK;AACH,wBAAM;AAAA,oBACJ;AAAA,sBACE,YAAY;AAAA,wBACV,UAAU,YAAY;AAAA,wBACtB,MAAM,YAAY;AAAA,sBAC1C;AAAA,oBACA;AAAA,oBACoB;AAAA,sBACE,MAAM;AAAA,oBAC5B;AAAA,kBACA;AACkB;AAAA,gBACF;AACE,wBAAM,KAAK,EAAE,MAAM,KAAK,UAAU,WAAW,GAAG;AAChD;AAAA,cAClB;AAAA,YACY;AAAA,UACF,OAAO;AACL,kBAAM,KAAK;AAAA,cACT,kBAAkB;AAAA,gBAChB,MAAM,KAAK;AAAA,gBACX,UAAU;AAAA,kBACR,MAAM,KAAK;AAAA,kBACX,SAAS,OAAO,SAAS,sBAAsB,KAAK,OAAO,WAAW,OAAO,KAAK,2BAA2B,OAAO;AAAA,gBACtI;AAAA,cACA;AAAA,YACA,CAAa;AAAA,UACH;AAAA,QACF;AACA,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN;AAAA,QACV,CAAS;AACD;AAAA,MACF;AAAA,IACN;AAAA,EACE;AACA,MAAI,gBAAgB,uBAAuB,SAAS,KAAK,SAAS,SAAS,KAAK,SAAS,CAAC,EAAE,SAAS,QAAQ;AAC3G,UAAM,aAAa,uBAAuB,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE,KAAK,MAAM;AAC9E,aAAS,CAAC,EAAE,MAAM,QAAQ,EAAE,MAAM,aAAa,QAAQ;AAAA,EACzD;AACA,SAAO;AAAA,IACL,mBAAmB,uBAAuB,SAAS,KAAK,CAAC,eAAe,EAAE,OAAO,uBAAsB,IAAK;AAAA,IAC5G;AAAA,EACJ;AACA;AAGA,SAAS,aAAa,SAAS;AAC7B,SAAO,QAAQ,SAAS,GAAG,IAAI,UAAU,UAAU,OAAO;AAC5D;AAKA,IAAI,oCAAoCkY;AAAAA,EACtC,MAAMC;AAAAA,IACJN,SAAU;AAAA,MACR,oBAAoBI,QAASF,MAAQ,CAAC,QAAQ,OAAO,CAAC,CAAC,EAAE,SAAQ;AAAA,MACjE,gBAAgBF,SAAU;AAAA,QACxB,gBAAgBC,SAAS,EAAG,SAAQ;AAAA,QACpC,iBAAiB6H,QAAU,EAAG,SAAQ;AAAA;AAAA,QAEtC,eAAe5H,MAAQ,CAAC,WAAW,OAAO,UAAU,MAAM,CAAC,EAAE,SAAQ;AAAA,MAC7E,CAAO,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMX,eAAeC,OAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MASnC,mBAAmB2H,QAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA,MAIxC,gBAAgB1H;AAAAA,QACdJ,SAAU;AAAA,UACR,UAAUE,MAAQ;AAAA,YAChB;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACZ,CAAW;AAAA,UACD,WAAWA,MAAQ;AAAA,YACjB;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACZ,CAAW;AAAA,QACX,CAAS;AAAA,MACT,EAAQ,SAAQ;AAAA,MACV,WAAWA,MAAQ;AAAA,QACjB;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACR,CAAO,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMX,gBAAgB4H,QAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMrC,QAAQC,OAAU5H,OAAS,GAAIA,OAAS,CAAE,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMpD,iBAAiBD,MAAQ;AAAA,QACvB;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACR,CAAO,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMX,aAAaF,SAAU;AAAA,QACrB,aAAaE,MAAQ;AAAA,UACnB;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACV,CAAS,EAAE,SAAQ;AAAA,QACX,WAAWA,MAAQ,CAAC,MAAM,MAAM,IAAI,CAAC,EAAE,SAAQ;AAAA,MACvD,CAAO,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOX,iBAAiBF,SAAU;AAAA,QACzB,QAAQA,SAAU;AAAA,UAChB,UAAUC,SAAS;AAAA,UACnB,WAAWA,SAAS;AAAA,QAC9B,CAAS,EAAE,SAAQ;AAAA,MACnB,CAAO,EAAE,SAAQ;AAAA,IACjB,CAAK;AAAA,EACL;AACA;AAMA,SAAS,aAAa;AAAA,EACpB;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAInY;AACJ,WAAS,SAAS,OAAO,SAAS,MAAM,UAAU,QAAQ;AAC1D,QAAM,eAAe,CAAA;AACrB,QAAM,WAAW;AAAA,IACf;AAAA,IACA;AAAA,IACA;AAAA,EACJ,EAAI,KAAK,CAAC,OAAO,OAAO,OAAO;AAC7B,QAAM,mBAAmB,QAAQ,SAAS,UAAU,KAAK,QAAQ,SAAS,UAAU,KAAK;AACzF,QAAM,2BAA2B,QAAQ,SAAS,kBAAkB,KAAK,CAAC,QAAQ,SAAS,KAAK;AAChG,QAAM,qBAAqB,QAAQ,SAAS,YAAY,KAAK,QAAQ,SAAS,UAAU;AACxF,MAAI,SAAS,MAAM;AACjB,WAAO,EAAE,OAAO,QAAQ,YAAY,QAAQ,aAAY;AAAA,EAC1D;AACA,QAAM,mBAAmB,MAAM,KAAK,CAACyZ,UAASA,MAAK,SAAS,UAAU;AACtE,QAAM,mBAAmB,MAAM,KAAK,CAACA,UAASA,MAAK,SAAS,UAAU;AACtE,MAAI,oBAAoB,kBAAkB;AACxC,iBAAa,KAAK;AAAA,MAChB,MAAM;AAAA,MACN,SAAS;AAAA,IACf,CAAK;AAAA,EACH;AACA,MAAI,kBAAkB;AACpB,UAAM,eAAe,CAAA;AACrB,UAAM,gBAAgB,MAAM,OAAO,CAACA,UAASA,MAAK,SAAS,UAAU;AACrE,kBAAc,QAAQ,CAACA,UAAS;AAC9B,cAAQA,MAAK,IAAE;AAAA,QACb,KAAK;AACH,cAAI,kBAAkB;AACpB,yBAAa,KAAK,EAAE,cAAc,CAAA,EAAE,CAAE;AAAA,UACxC,WAAW,0BAA0B;AACnC,yBAAa,KAAK;AAAA,cAChB,uBAAuB;AAAA,gBACrB,wBAAwB;AAAA,kBACtB,MAAMA,MAAK,KAAK;AAAA,kBAChB,kBAAkBA,MAAK,KAAK;AAAA,gBAC9C;AAAA,cACA;AAAA,YACA,CAAa;AAAA,UACH,OAAO;AACL,yBAAa,KAAK,EAAE,uBAAuB,CAAA,EAAE,CAAE;AAAA,UACjD;AACA;AAAA,QACF,KAAK;AACH,cAAI,kBAAkB;AACpB,yBAAa,KAAK,EAAE,qBAAqB,CAAA,EAAE,CAAE;AAAA,UAC/C,OAAO;AACL,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,SAAS,yBAAyBA,MAAK,EAAE;AAAA,cACzC,SAAS;AAAA,YACvB,CAAa;AAAA,UACH;AACA;AAAA,QACF,KAAK;AACH,cAAI,kBAAkB;AACpB,yBAAa,KAAK,EAAE,YAAY,CAAA,EAAE,CAAE;AAAA,UACtC,OAAO;AACL,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,SAAS,yBAAyBA,MAAK,EAAE;AAAA,cACzC,SAAS;AAAA,YACvB,CAAa;AAAA,UACH;AACA;AAAA,QACF,KAAK;AACH,cAAI,kBAAkB;AACpB,yBAAa,KAAK,EAAE,eAAe,CAAA,EAAE,CAAE;AAAA,UACzC,OAAO;AACL,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,SAAS,yBAAyBA,MAAK,EAAE;AAAA,cACzC,SAAS;AAAA,YACvB,CAAa;AAAA,UACH;AACA;AAAA,QACF,KAAK;AACH,cAAI,oBAAoB;AACtB,yBAAa,KAAK,EAAE,YAAY,EAAE,GAAGA,MAAK,KAAI,GAAI;AAAA,UACpD,OAAO;AACL,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,SAAS,yBAAyBA,MAAK,EAAE;AAAA,cACzC,SAAS;AAAA,YACvB,CAAa;AAAA,UACH;AACA;AAAA,QACF,KAAK;AACH,cAAI,kBAAkB;AACpB,yBAAa,KAAK;AAAA,cAChB,WAAW;AAAA,gBACT,kBAAkB;AAAA,kBAChB,eAAe;AAAA,oBACb,YAAYA,MAAK,KAAK;AAAA,kBAC1C;AAAA,kBACkB,kBAAkBA,MAAK,KAAK;AAAA,gBAC9C;AAAA,cACA;AAAA,YACA,CAAa;AAAA,UACH,OAAO;AACL,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,SAAS,yBAAyBA,MAAK,EAAE;AAAA,cACzC,SAAS;AAAA,YACvB,CAAa;AAAA,UACH;AACA;AAAA,QACF,KAAK;AACH,cAAI,kBAAkB;AACpB,yBAAa,KAAK,EAAE,YAAY,CAAA,EAAE,CAAE;AAAA,UACtC,OAAO;AACL,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,SAAS,yBAAyBA,MAAK,EAAE;AAAA,cACzC,SAAS;AAAA,YACvB,CAAa;AAAA,UACH;AACA;AAAA,QACF;AACE,uBAAa,KAAK;AAAA,YAChB,MAAM;AAAA,YACN,SAAS,yBAAyBA,MAAK,EAAE;AAAA,UACrD,CAAW;AACD;AAAA,MACV;AAAA,IACI,CAAC;AACD,WAAO;AAAA,MACL,OAAO,aAAa,SAAS,IAAI,eAAe;AAAA,MAChD,YAAY;AAAA,MACZ;AAAA,IACN;AAAA,EACE;AACA,QAAM,uBAAuB,CAAA;AAC7B,aAAWA,SAAQ,OAAO;AACxB,YAAQA,MAAK,MAAI;AAAA,MACf,KAAK;AACH,6BAAqB,KAAK;AAAA,UACxB,MAAMA,MAAK;AAAA,UACX,cAAczZ,OAAKyZ,MAAK,gBAAgB,OAAOzZ,OAAK;AAAA,UACpD,YAAY,iCAAiCyZ,MAAK,WAAW;AAAA,QACvE,CAAS;AACD;AAAA,MACF;AACE,qBAAa,KAAK;AAAA,UAChB,MAAM;AAAA,UACN,SAAS,iBAAiBA,MAAK,IAAI;AAAA,QAC7C,CAAS;AACD;AAAA,IACR;AAAA,EACE;AACA,MAAI,cAAc,MAAM;AACtB,WAAO;AAAA,MACL,OAAO,CAAC,EAAE,sBAAsB;AAAA,MAChC,YAAY;AAAA,MACZ;AAAA,IACN;AAAA,EACE;AACA,QAAM,OAAO,WAAW;AACxB,UAAQ,MAAI;AAAA,IACV,KAAK;AACH,aAAO;AAAA,QACL,OAAO,CAAC,EAAE,sBAAsB;AAAA,QAChC,YAAY,EAAE,uBAAuB,EAAE,MAAM,OAAM,EAAE;AAAA,QACrD;AAAA,MACR;AAAA,IACI,KAAK;AACH,aAAO;AAAA,QACL,OAAO,CAAC,EAAE,sBAAsB;AAAA,QAChC,YAAY,EAAE,uBAAuB,EAAE,MAAM,OAAM,EAAE;AAAA,QACrD;AAAA,MACR;AAAA,IACI,KAAK;AACH,aAAO;AAAA,QACL,OAAO,CAAC,EAAE,sBAAsB;AAAA,QAChC,YAAY,EAAE,uBAAuB,EAAE,MAAM,MAAK,EAAE;AAAA,QACpD;AAAA,MACR;AAAA,IACI,KAAK;AACH,aAAO;AAAA,QACL,OAAO,CAAC,EAAE,sBAAsB;AAAA,QAChC,YAAY;AAAA,UACV,uBAAuB;AAAA,YACrB,MAAM;AAAA,YACN,sBAAsB,CAAC,WAAW,QAAQ;AAAA,UACtD;AAAA,QACA;AAAA,QACQ;AAAA,MACR;AAAA,IACI,SAAS;AACP,YAAM,mBAAmB;AACzB,YAAM,IAAI2B,8BAA+B;AAAA,QACvC,eAAe,qBAAqB,gBAAgB;AAAA,MAC5D,CAAO;AAAA,IACH;AAAA,EACJ;AACA;AAGA,SAAS,kCAAkC;AAAA,EACzC;AAAA,EACA;AACF,GAAG;AACD,UAAQ,cAAY;AAAA,IAClB,KAAK;AACH,aAAO,eAAe,eAAe;AAAA,IACvC,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AAAA,IACL;AACE,aAAO;AAAA,EACb;AACA;AAGA,IAAI,kCAAkC,MAAM;AAAA,EAC1C,YAAY,SAASpc,SAAQ;AAC3B,SAAK,uBAAuB;AAC5B,QAAIgB;AACJ,SAAK,UAAU;AACf,SAAK,SAAShB;AACd,SAAK,cAAcgB,OAAKhB,QAAO,eAAe,OAAOgB,OAAK;AAAA,EAC5D;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,IAAI,gBAAgB;AAClB,QAAIA,MAAIC,KAAI;AACZ,YAAQ,MAAMA,OAAMD,OAAK,KAAK,QAAQ,kBAAkB,OAAO,SAASC,IAAG,KAAKD,IAAE,MAAM,OAAO,KAAK,CAAA;AAAA,EACtG;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,QAAIA;AACJ,UAAM,WAAW,CAAA;AACjB,UAAM,sBAAsB,KAAK,OAAO,SAAS,SAAS,QAAQ,IAAI,WAAW;AACjF,QAAI,gBAAgB,MAAMsb,qBAAsB;AAAA,MAC9C,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACd,CAAK;AACD,QAAI,iBAAiB,QAAQ,wBAAwB,UAAU;AAC7D,sBAAgB,MAAMA,qBAAsB;AAAA,QAC1C,UAAU;AAAA,QACV;AAAA,QACA,QAAQ;AAAA,MAChB,CAAO;AAAA,IACH;AACA,SAAK,SAAS,OAAO,SAAS,MAAM;AAAA,MAClC,CAAC7B,UAASA,MAAK,SAAS,cAAcA,MAAK,OAAO;AAAA,IACxD,MAAU,CAAC,KAAK,OAAO,SAAS,WAAW,gBAAgB,GAAG;AACxD,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS,2KAA2K,KAAK,OAAO,QAAQ;AAAA,MAChN,CAAO;AAAA,IACH;AACA,UAAM,eAAe,KAAK,QAAQ,YAAW,EAAG,WAAW,QAAQ;AACnE,UAAM,EAAE,UAAU,kBAAiB,IAAK;AAAA,MACtC;AAAA,MACA,EAAE,cAAc,oBAAmB;AAAA,IACzC;AACI,UAAM;AAAA,MACJ,OAAO;AAAA,MACP,YAAY;AAAA,MACZ;AAAA,IACN,IAAQ,aAAa;AAAA,MACf;AAAA,MACA;AAAA,MACA,SAAS,KAAK;AAAA,IACpB,CAAK;AACD,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,kBAAkB;AAAA;AAAA,UAEhB;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA;AAAA,UAEA,mBAAmB,kBAAkB,OAAO,SAAS,eAAe,UAAU,SAAS,qBAAqB;AAAA,UAC5G,iBAAiB,kBAAkB,OAAO,SAAS,eAAe,UAAU,UAAU,eAAe,UAAU;AAAA;AAAA;AAAA,YAG7GzZ,OAAK,iBAAiB,OAAO,SAAS,cAAc,sBAAsB,OAAOA,OAAK,QAAQ,iCAAiC,eAAe,MAAM,IAAI;AAAA,UAC1J,IAAI,iBAAiB,OAAO,SAAS,cAAc,mBAAmB;AAAA,YACpE,gBAAgB,cAAc;AAAA,UAC1C;AAAA;AAAA,UAEU,oBAAoB,iBAAiB,OAAO,SAAS,cAAc;AAAA,UACnE,gBAAgB,iBAAiB,OAAO,SAAS,cAAc;AAAA,UAC/D,IAAI,iBAAiB,OAAO,SAAS,cAAc,oBAAoB;AAAA,YACrE,iBAAiB,cAAc;AAAA,UAC3C;AAAA,UACU,IAAI,iBAAiB,OAAO,SAAS,cAAc,gBAAgB;AAAA,YACjE,aAAa,cAAc;AAAA,UACvC;AAAA,QACA;AAAA,QACQ;AAAA,QACA,mBAAmB,eAAe,SAAS;AAAA,QAC3C,gBAAgB,iBAAiB,OAAO,SAAS,cAAc;AAAA,QAC/D,OAAO;AAAA,QACP,aAAa,iBAAiB,OAAO,SAAS,cAAc,mBAAmB;AAAA,UAC7E,GAAG;AAAA,UACH,iBAAiB,cAAc;AAAA,QACzC,IAAY;AAAA,QACJ,eAAe,iBAAiB,OAAO,SAAS,cAAc;AAAA,QAC9D,QAAQ,iBAAiB,OAAO,SAAS,cAAc;AAAA,MAC/D;AAAA,MACM,UAAU,CAAC,GAAG,UAAU,GAAG,YAAY;AAAA,MACvC;AAAA,IACN;AAAA,EACE;AAAA,EACA,MAAM,WAAW,SAAS;AACxB,QAAIA,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AACpC,UAAM,EAAE,MAAM,UAAU,oBAAmB,IAAK,MAAM,KAAK,QAAQ,OAAO;AAC1E,UAAM,gBAAgBigB;AAAAA,MACpB,MAAMC,QAAS,KAAK,OAAO,OAAO;AAAA,MAClC,QAAQ;AAAA,IACd;AACI,UAAM;AAAA,MACJ;AAAA,MACA,OAAO;AAAA,MACP,UAAU;AAAA,IAChB,IAAQ,MAAMC,cAAe;AAAA,MACvB,KAAK,GAAG,KAAK,OAAO,OAAO,IAAI;AAAA,QAC7B,KAAK;AAAA,MACb,CAAO;AAAA,MACD,SAAS;AAAA,MACT,MAAM;AAAA,MACN,uBAAuB;AAAA,MACvB,2BAA2BC,0BAA2B,cAAc;AAAA,MACpE,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,UAAM,YAAY,SAAS,WAAW,CAAC;AACvC,UAAM,UAAU,CAAA;AAChB,UAAM,SAASpgB,OAAMD,OAAK,UAAU,YAAY,OAAO,SAASA,KAAG,UAAU,OAAOC,MAAK,CAAA;AACzF,UAAM,gBAAgB,SAAS;AAC/B,QAAI;AACJ,eAAW,QAAQ,OAAO;AACxB,UAAI,oBAAoB,UAAU,KAAK,KAAK,mBAAmB,OAAO,SAAS,GAAG,OAAO;AACvF,cAAM,aAAa,KAAK,OAAO,WAAU;AACzC,sCAA8B;AAC9B,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN;AAAA,UACA,UAAU;AAAA,UACV,OAAO,KAAK,UAAU,KAAK,cAAc;AAAA,UACzC,kBAAkB;AAAA,QAC5B,CAAS;AAAA,MACH,WAAW,yBAAyB,QAAQ,KAAK,qBAAqB;AACpE,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA;AAAA,UAEN,YAAY;AAAA,UACZ,UAAU;AAAA,UACV,QAAQ;AAAA,YACN,SAAS,KAAK,oBAAoB;AAAA,YAClC,QAAQ,KAAK,oBAAoB;AAAA,UAC7C;AAAA,QACA,CAAS;AACD,sCAA8B;AAAA,MAChC,WAAW,UAAU,QAAQ,KAAK,QAAQ,QAAQ,KAAK,KAAK,SAAS,GAAG;AACtE,gBAAQ,KAAK;AAAA,UACX,MAAM,KAAK,YAAY,OAAO,cAAc;AAAA,UAC5C,MAAM,KAAK;AAAA,UACX,kBAAkB,KAAK,mBAAmB;AAAA,YACxC,CAAC,mBAAmB,GAAG;AAAA,cACrB,kBAAkB,KAAK;AAAA,YACrC;AAAA,UACA,IAAc;AAAA,QACd,CAAS;AAAA,MACH,WAAW,kBAAkB,MAAM;AACjC,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,YAAY,KAAK,OAAO,WAAU;AAAA,UAClC,UAAU,KAAK,aAAa;AAAA,UAC5B,OAAO,KAAK,UAAU,KAAK,aAAa,IAAI;AAAA,UAC5C,kBAAkB,KAAK,mBAAmB;AAAA,YACxC,CAAC,mBAAmB,GAAG;AAAA,cACrB,kBAAkB,KAAK;AAAA,YACrC;AAAA,UACA,IAAc;AAAA,QACd,CAAS;AAAA,MACH,WAAW,gBAAgB,MAAM;AAC/B,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,MAAM,KAAK,WAAW;AAAA,UACtB,WAAW,KAAK,WAAW;AAAA,UAC3B,kBAAkB,KAAK,mBAAmB;AAAA,YACxC,CAAC,mBAAmB,GAAG;AAAA,cACrB,kBAAkB,KAAK;AAAA,YACrC;AAAA,UACA,IAAc;AAAA,QACd,CAAS;AAAA,MACH;AAAA,IACF;AACA,UAAM,WAAW,KAAK,eAAe;AAAA,MACnC,mBAAmB,UAAU;AAAA,MAC7B,YAAY,KAAK,OAAO;AAAA,IAC9B,CAAK,MAAM,OAAO,KAAK,CAAA;AACnB,eAAW,UAAU,SAAS;AAC5B,cAAQ,KAAK,MAAM;AAAA,IACrB;AACA,WAAO;AAAA,MACL;AAAA,MACA,cAAc;AAAA,QACZ,SAAS,kCAAkC;AAAA,UACzC,cAAc,UAAU;AAAA;AAAA,UAExB,cAAc,QAAQ;AAAA,YACpB,CAAC,SAAS,KAAK,SAAS,eAAe,CAAC,KAAK;AAAA,UACzD;AAAA,QACA,CAAS;AAAA,QACD,MAAM,KAAK,UAAU,iBAAiB,OAAO,KAAK;AAAA,MAC1D;AAAA,MACM,OAAO,+BAA+B,aAAa;AAAA,MACnD;AAAA,MACA,kBAAkB;AAAA,QAChB,CAAC,mBAAmB,GAAG;AAAA,UACrB,iBAAiB,KAAK,SAAS,mBAAmB,OAAO,KAAK;AAAA,UAC9D,oBAAoB,KAAK,UAAU,sBAAsB,OAAO,KAAK;AAAA,UACrE,qBAAqB,KAAK,UAAU,uBAAuB,OAAO,KAAK;AAAA,UACvE,gBAAgB,KAAK,UAAU,kBAAkB,OAAO,KAAK;AAAA,UAC7D,eAAe,iBAAiB,OAAO,gBAAgB;AAAA,QACjE;AAAA,MACA;AAAA,MACM,SAAS,EAAE,MAAM,KAAI;AAAA,MACrB,UAAU;AAAA;AAAA,QAER,SAAS;AAAA,QACT,MAAM;AAAA,MACd;AAAA,IACA;AAAA,EACE;AAAA,EACA,MAAM,SAAS,SAAS;AACtB,UAAM,EAAE,MAAM,UAAU,oBAAmB,IAAK,MAAM,KAAK,QAAQ,OAAO;AAC1E,UAAM,UAAUigB;AAAAA,MACd,MAAMC,QAAS,KAAK,OAAO,OAAO;AAAA,MAClC,QAAQ;AAAA,IACd;AACI,UAAM,EAAE,iBAAiB,OAAO,SAAQ,IAAK,MAAMC,cAAe;AAAA,MAChE,KAAK,GAAG,KAAK,OAAO,OAAO,IAAI;AAAA,QAC7B,KAAK;AAAA,MACb,CAAO;AAAA,MACD;AAAA,MACA,MAAM;AAAA,MACN,uBAAuB;AAAA,MACvB,2BAA2B,iCAAiC,WAAW;AAAA,MACvE,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,QAAI,eAAe;AAAA,MACjB,SAAS;AAAA,MACT,KAAK;AAAA,IACX;AACI,QAAI,QAAQ;AACZ,QAAI,mBAAmB;AACvB,UAAM,cAAc,KAAK,OAAO;AAChC,QAAI,eAAe;AACnB,QAAI,qBAAqB;AACzB,QAAI,0BAA0B;AAC9B,QAAI,eAAe;AACnB,UAAM,oBAAoC,oBAAI,IAAG;AACjD,QAAI;AACJ,WAAO;AAAA,MACL,QAAQ,SAAS;AAAA,QACf,IAAI,gBAAgB;AAAA,UAClB,MAAM,YAAY;AAChB,uBAAW,QAAQ,EAAE,MAAM,gBAAgB,SAAQ,CAAE;AAAA,UACvD;AAAA,UACA,UAAU,OAAO,YAAY;AAC3B,gBAAIpgB,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI;AAC5B,gBAAI,QAAQ,kBAAkB;AAC5B,yBAAW,QAAQ,EAAE,MAAM,OAAO,UAAU,MAAM,UAAU;AAAA,YAC9D;AACA,gBAAI,CAAC,MAAM,SAAS;AAClB,yBAAW,QAAQ,EAAE,MAAM,SAAS,OAAO,MAAM,OAAO;AACxD;AAAA,YACF;AACA,kBAAM,QAAQ,MAAM;AACpB,kBAAM,gBAAgB,MAAM;AAC5B,gBAAI,iBAAiB,MAAM;AACzB,sBAAQ;AAAA,YACV;AACA,kBAAM,aAAaD,OAAK,MAAM,eAAe,OAAO,SAASA,KAAG,CAAC;AACjE,gBAAI,aAAa,MAAM;AACrB;AAAA,YACF;AACA,kBAAM,UAAU,UAAU;AAC1B,kBAAM,UAAU,eAAe;AAAA,cAC7B,mBAAmB,UAAU;AAAA,cAC7B,YAAY;AAAA,YAC1B,CAAa;AACD,gBAAI,WAAW,MAAM;AACnB,yBAAW,UAAU,SAAS;AAC5B,oBAAI,OAAO,eAAe,SAAS,CAAC,kBAAkB,IAAI,OAAO,GAAG,GAAG;AACrE,oCAAkB,IAAI,OAAO,GAAG;AAChC,6BAAW,QAAQ,MAAM;AAAA,gBAC3B;AAAA,cACF;AAAA,YACF;AACA,gBAAI,WAAW,MAAM;AACnB,oBAAM,SAASC,MAAK,QAAQ,UAAU,OAAOA,MAAK,CAAA;AAClD,yBAAW,QAAQ,OAAO;AACxB,oBAAI,oBAAoB,UAAU,KAAK,KAAK,mBAAmB,OAAO,SAAS,GAAG,OAAO;AACvF,wBAAM,aAAa,YAAW;AAC9B,gDAA8B;AAC9B,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN;AAAA,oBACA,UAAU;AAAA,oBACV,OAAO,KAAK,UAAU,KAAK,cAAc;AAAA,oBACzC,kBAAkB;AAAA,kBACtC,CAAmB;AAAA,gBACH,WAAW,yBAAyB,QAAQ,KAAK,qBAAqB;AACpE,wBAAM,aAAa;AACnB,sBAAI,YAAY;AACd,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN;AAAA,sBACA,UAAU;AAAA,sBACV,QAAQ;AAAA,wBACN,SAAS,KAAK,oBAAoB;AAAA,wBAClC,QAAQ,KAAK,oBAAoB;AAAA,sBACzD;AAAA,oBACA,CAAqB;AACD,kDAA8B;AAAA,kBAChC;AAAA,gBACF,WAAW,UAAU,QAAQ,KAAK,QAAQ,QAAQ,KAAK,KAAK,SAAS,GAAG;AACtE,sBAAI,KAAK,YAAY,MAAM;AACzB,wBAAI,uBAAuB,MAAM;AAC/B,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,IAAI;AAAA,sBAC5B,CAAuB;AACD,2CAAqB;AAAA,oBACvB;AACA,wBAAI,4BAA4B,MAAM;AACpC,gDAA0B,OAAO,cAAc;AAC/C,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,IAAI;AAAA,wBACJ,kBAAkB,KAAK,mBAAmB;AAAA,0BACxC,CAAC,mBAAmB,GAAG;AAAA,4BACrB,kBAAkB,KAAK;AAAA,0BACnD;AAAA,wBACA,IAA4B;AAAA,sBAC5B,CAAuB;AAAA,oBACH;AACA,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI;AAAA,sBACJ,OAAO,KAAK;AAAA,sBACZ,kBAAkB,KAAK,mBAAmB;AAAA,wBACxC,CAAC,mBAAmB,GAAG;AAAA,0BACrB,kBAAkB,KAAK;AAAA,wBACjD;AAAA,sBACA,IAA0B;AAAA,oBAC1B,CAAqB;AAAA,kBACH,OAAO;AACL,wBAAI,4BAA4B,MAAM;AACpC,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,IAAI;AAAA,sBAC5B,CAAuB;AACD,gDAA0B;AAAA,oBAC5B;AACA,wBAAI,uBAAuB,MAAM;AAC/B,2CAAqB,OAAO,cAAc;AAC1C,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,IAAI;AAAA,wBACJ,kBAAkB,KAAK,mBAAmB;AAAA,0BACxC,CAAC,mBAAmB,GAAG;AAAA,4BACrB,kBAAkB,KAAK;AAAA,0BACnD;AAAA,wBACA,IAA4B;AAAA,sBAC5B,CAAuB;AAAA,oBACH;AACA,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI;AAAA,sBACJ,OAAO,KAAK;AAAA,sBACZ,kBAAkB,KAAK,mBAAmB;AAAA,wBACxC,CAAC,mBAAmB,GAAG;AAAA,0BACrB,kBAAkB,KAAK;AAAA,wBACjD;AAAA,sBACA,IAA0B;AAAA,oBAC1B,CAAqB;AAAA,kBACH;AAAA,gBACF,WAAW,gBAAgB,MAAM;AAC/B,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,WAAW,KAAK,WAAW;AAAA,oBAC3B,MAAM,KAAK,WAAW;AAAA,kBAC1C,CAAmB;AAAA,gBACH;AAAA,cACF;AACA,oBAAM,iBAAiB,sBAAsB;AAAA,gBAC3C,OAAO,QAAQ;AAAA,gBACf,YAAY;AAAA,gBACZ;AAAA,cAChB,CAAe;AACD,kBAAI,kBAAkB,MAAM;AAC1B,2BAAW,YAAY,gBAAgB;AACrC,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,SAAS;AAAA,oBACb,UAAU,SAAS;AAAA,oBACnB,kBAAkB,SAAS;AAAA,kBAC/C,CAAmB;AACD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,SAAS;AAAA,oBACb,OAAO,SAAS;AAAA,oBAChB,kBAAkB,SAAS;AAAA,kBAC/C,CAAmB;AACD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,SAAS;AAAA,oBACb,kBAAkB,SAAS;AAAA,kBAC/C,CAAmB;AACD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,YAAY,SAAS;AAAA,oBACrB,UAAU,SAAS;AAAA,oBACnB,OAAO,SAAS;AAAA,oBAChB,kBAAkB,SAAS;AAAA,kBAC/C,CAAmB;AACD,iCAAe;AAAA,gBACjB;AAAA,cACF;AAAA,YACF;AACA,gBAAI,UAAU,gBAAgB,MAAM;AAClC,6BAAe;AAAA,gBACb,SAAS,kCAAkC;AAAA,kBACzC,cAAc,UAAU;AAAA,kBACxB;AAAA,gBAClB,CAAiB;AAAA,gBACD,KAAK,UAAU;AAAA,cAC/B;AACc,iCAAmB;AAAA,gBACjB,CAAC,mBAAmB,GAAG;AAAA,kBACrB,iBAAiB,KAAK,MAAM,mBAAmB,OAAO,KAAK;AAAA,kBAC3D,oBAAoB,KAAK,UAAU,sBAAsB,OAAO,KAAK;AAAA,kBACrE,qBAAqB,KAAK,UAAU,uBAAuB,OAAO,KAAK;AAAA,kBACvE,gBAAgB,KAAK,UAAU,kBAAkB,OAAO,KAAK;AAAA,gBAC/E;AAAA,cACA;AACc,kBAAI,iBAAiB,MAAM;AACzB,iCAAiB,mBAAmB,EAAE,gBAAgB;AAAA,cACxD;AAAA,YACF;AAAA,UACF;AAAA,UACA,MAAM,YAAY;AAChB,gBAAI,uBAAuB,MAAM;AAC/B,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,IAAI;AAAA,cACpB,CAAe;AAAA,YACH;AACA,gBAAI,4BAA4B,MAAM;AACpC,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,IAAI;AAAA,cACpB,CAAe;AAAA,YACH;AACA,uBAAW,QAAQ;AAAA,cACjB,MAAM;AAAA,cACN;AAAA,cACA,OAAO,+BAA+B,KAAK;AAAA,cAC3C;AAAA,YACd,CAAa;AAAA,UACH;AAAA,QACV,CAAS;AAAA,MACT;AAAA,MACM,UAAU,EAAE,SAAS,gBAAe;AAAA,MACpC,SAAS,EAAE,MAAM,KAAI;AAAA,IAC3B;AAAA,EACE;AACF;AACA,SAAS,sBAAsB;AAAA,EAC7B;AAAA,EACA,YAAY;AAAA,EACZ;AACF,GAAG;AACD,QAAM,oBAAoB,SAAS,OAAO,SAAS,MAAM;AAAA,IACvD,CAAC,SAAS,kBAAkB;AAAA,EAChC;AACE,SAAO,qBAAqB,QAAQ,kBAAkB,WAAW,IAAI,SAAS,kBAAkB,IAAI,CAAC,UAAU;AAAA,IAC7G,MAAM;AAAA,IACN,YAAY,YAAW;AAAA,IACvB,UAAU,KAAK,aAAa;AAAA,IAC5B,MAAM,KAAK,UAAU,KAAK,aAAa,IAAI;AAAA,IAC3C,kBAAkB,KAAK,mBAAmB;AAAA,MACxC,CAAC,mBAAmB,GAAG;AAAA,QACrB,kBAAkB,KAAK;AAAA,MAC/B;AAAA,IACA,IAAQ;AAAA,EACR,EAAI;AACJ;AACA,SAAS,eAAe;AAAA,EACtB;AAAA,EACA,YAAY;AACd,GAAG;AACD,MAAID,MAAIC,KAAI,IAAI,IAAI;AACpB,MAAI,EAAE,qBAAqB,OAAO,SAAS,kBAAkB,kBAAkB;AAC7E,WAAO;AAAA,EACT;AACA,QAAM,UAAU,CAAA;AAChB,aAAW,SAAS,kBAAkB,iBAAiB;AACrD,QAAI,MAAM,OAAO,MAAM;AACrB,cAAQ,KAAK;AAAA,QACX,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,IAAI,YAAW;AAAA,QACf,KAAK,MAAM,IAAI;AAAA,QACf,QAAQD,OAAK,MAAM,IAAI,UAAU,OAAOA,OAAK;AAAA,MACrD,CAAO;AAAA,IACH,WAAW,MAAM,oBAAoB,MAAM;AACzC,YAAM,MAAM,MAAM,iBAAiB;AACnC,YAAM,kBAAkB,MAAM,iBAAiB;AAC/C,UAAI,QAAQ,IAAI,WAAW,SAAS,KAAK,IAAI,WAAW,UAAU,IAAI;AACpE,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,IAAI,YAAW;AAAA,UACf,KAAK;AAAA,UACL,QAAQC,MAAK,MAAM,iBAAiB,UAAU,OAAOA,MAAK;AAAA,QACpE,CAAS;AAAA,MACH,WAAW,KAAK;AACd,cAAM,SAAS,KAAK,MAAM,iBAAiB,UAAU,OAAO,KAAK;AACjE,YAAI,YAAY;AAChB,YAAI,WAAW;AACf,YAAI,IAAI,SAAS,MAAM,GAAG;AACxB,sBAAY;AACZ,qBAAW,IAAI,MAAM,GAAG,EAAE,IAAG;AAAA,QAC/B,WAAW,IAAI,SAAS,MAAM,GAAG;AAC/B,sBAAY;AACZ,qBAAW,IAAI,MAAM,GAAG,EAAE,IAAG;AAAA,QAC/B,WAAW,IAAI,SAAS,OAAO,GAAG;AAChC,sBAAY;AACZ,qBAAW,IAAI,MAAM,GAAG,EAAE,IAAG;AAAA,QAC/B,WAAW,IAAI,SAAS,MAAM,GAAG;AAC/B,sBAAY;AACZ,qBAAW,IAAI,MAAM,GAAG,EAAE,IAAG;AAAA,QAC/B,WAAW,IAAI,MAAM,kBAAkB,GAAG;AACxC,sBAAY;AACZ,qBAAW,IAAI,MAAM,GAAG,EAAE,IAAG;AAAA,QAC/B,OAAO;AACL,qBAAW,IAAI,MAAM,GAAG,EAAE,IAAG;AAAA,QAC/B;AACA,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,IAAI,YAAW;AAAA,UACf;AAAA,UACA;AAAA,UACA;AAAA,QACV,CAAS;AAAA,MACH,WAAW,iBAAiB;AAC1B,cAAM,SAAS,KAAK,MAAM,iBAAiB,UAAU,OAAO,KAAK;AACjE,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,IAAI,YAAW;AAAA,UACf,WAAW;AAAA,UACX;AAAA,UACA,UAAU,gBAAgB,MAAM,GAAG,EAAE,IAAG;AAAA,QAClD,CAAS;AAAA,MACH;AAAA,IACF,WAAW,MAAM,QAAQ,MAAM;AAC7B,UAAI,MAAM,KAAK,KAAK;AAClB,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,YAAY;AAAA,UACZ,IAAI,YAAW;AAAA,UACf,KAAK,MAAM,KAAK;AAAA,UAChB,QAAQ,KAAK,MAAM,KAAK,UAAU,OAAO,KAAK;AAAA,QACxD,CAAS;AAAA,MACH;AAAA,IACF;AAAA,EACF;AACA,SAAO,QAAQ,SAAS,IAAI,UAAU;AACxC;AACA,IAAI,6BAA6B,MAAMwY,SAAU;AAAA,EAC/C,kBAAkBE,QAASC,OAAS,CAAE,EAAE,QAAO;AAAA,EAC/C,kBAAkBD,QAASC,OAAS,CAAE,EAAE,QAAO;AAAA,EAC/C,kBAAkBH,SAAU,EAAE,iBAAiBG,OAAS,EAAE,CAAE,EAAE,QAAO;AAAA,EACrE,iBAAiBD;AAAAA,IACfF,SAAU;AAAA,MACR,KAAKA,SAAU,EAAE,KAAKG,OAAS,GAAI,OAAOA,SAAY,UAAS,CAAE,EAAE,QAAO;AAAA,MAC1E,kBAAkBH,SAAU;AAAA,QAC1B,KAAKG,OAAS,EAAG,QAAO;AAAA,QACxB,OAAOA,OAAS,EAAG,QAAO;AAAA,QAC1B,MAAMA,OAAS,EAAG,QAAO;AAAA,QACzB,iBAAiBA,OAAS,EAAG,QAAO;AAAA,MAC5C,CAAO,EAAE,QAAO;AAAA,MACV,MAAMH,SAAU;AAAA,QACd,KAAKG,OAAS,EAAG,QAAO;AAAA,QACxB,OAAOA,OAAS,EAAG,QAAO;AAAA,QAC1B,MAAMA,OAAS,EAAG,QAAO;AAAA,QACzB,SAASA,OAAS,EAAG,QAAO;AAAA,MACpC,CAAO,EAAE,QAAO;AAAA,IAChB,CAAK;AAAA,EACL,EAAI,QAAO;AAAA,EACT,mBAAmBD;AAAAA,IACjBF,SAAU;AAAA,MACR,SAASA,SAAU;AAAA,QACjB,YAAYC,SAAS,EAAG,QAAO;AAAA,QAC/B,UAAUA,SAAS,EAAG,QAAO;AAAA,QAC7B,MAAME,OAAS,EAAG,QAAO;AAAA,MACjC,CAAO;AAAA,MACD,cAAcA,OAAS,EAAG,QAAO;AAAA,MACjC,uBAAuBD,QAASD,SAAS,CAAE,EAAE,QAAO;AAAA,MACpD,qBAAqBC,QAASD,SAAS,CAAE,EAAE,QAAO;AAAA,MAClD,kBAAkBC,QAASD,SAAS,CAAE,EAAE,QAAO;AAAA,MAC/C,iBAAiBC,QAASD,SAAS,CAAE,EAAE,QAAO;AAAA,IACpD,CAAK;AAAA,EACL,EAAI,QAAO;AAAA,EACT,mBAAmB4H,MAAS;AAAA,IAC1B7H,SAAU;AAAA,MACR,0BAA0BC,SAAS;AAAA,IACzC,CAAK;AAAA,IACDD,SAAU,CAAA,CAAE;AAAA,EAChB,CAAG,EAAE,QAAO;AACZ,CAAC;AACD,IAAI,mBAAmB,MAAMA,SAAU;AAAA,EACrC,OAAOE;AAAAA,IACL2H,MAAS;AAAA;AAAA,MAEP7H,SAAU;AAAA,QACR,cAAcA,SAAU;AAAA,UACtB,MAAMG,OAAS;AAAA,UACf,MAAM2H,QAAU;AAAA,QAC1B,CAAS;AAAA,QACD,kBAAkB3H,OAAS,EAAG,QAAO;AAAA,MAC7C,CAAO;AAAA,MACDH,SAAU;AAAA,QACR,YAAYA,SAAU;AAAA,UACpB,UAAUG,OAAS;AAAA,UACnB,MAAMA,OAAS;AAAA,QACzB,CAAS;AAAA,QACD,kBAAkBA,OAAS,EAAG,QAAO;AAAA,MAC7C,CAAO;AAAA,MACDH,SAAU;AAAA,QACR,gBAAgBA,SAAU;AAAA,UACxB,UAAUG,OAAS;AAAA,UACnB,MAAMA,OAAS;AAAA,QACzB,CAAS,EAAE,QAAO;AAAA,QACV,qBAAqBH,SAAU;AAAA,UAC7B,SAASG,OAAS;AAAA,UAClB,QAAQA,OAAS;AAAA,QAC3B,CAAS,EAAE,QAAO;AAAA,QACV,MAAMA,OAAS,EAAG,QAAO;AAAA,QACzB,SAAS4H,QAAU,EAAG,QAAO;AAAA,QAC7B,kBAAkB5H,OAAS,EAAG,QAAO;AAAA,MAC7C,CAAO;AAAA,IACP,CAAK;AAAA,EACL,EAAI,QAAO;AACX,CAAC;AACD,IAAI,wBAAwB,MAAMH,SAAU;AAAA,EAC1C,UAAUG,OAAS,EAAG,QAAO;AAAA,EAC7B,aAAaA,OAAS,EAAG,QAAO;AAAA,EAChC,kBAAkBF,SAAS,EAAG,QAAO;AAAA,EACrC,UAAUE,OAAS,EAAG,QAAO;AAAA,EAC7B,eAAeF,SAAS,EAAG,QAAO;AAAA,EAClC,SAAS8H,QAAU,EAAG,QAAO;AAC/B,CAAC;AACD,IAAI,cAAc/H,SAAU;AAAA,EAC1B,yBAAyBC,SAAS,EAAG,QAAO;AAAA,EAC5C,oBAAoBA,SAAS,EAAG,QAAO;AAAA,EACvC,kBAAkBA,SAAS,EAAG,QAAO;AAAA,EACrC,sBAAsBA,SAAS,EAAG,QAAO;AAAA,EACzC,iBAAiBA,SAAS,EAAG,QAAO;AAAA;AAAA,EAEpC,aAAaE,OAAS,EAAG,QAAO;AAClC,CAAC;AACD,IAAI,8BAA8B,MAAMH,SAAU;AAAA,EAChD,aAAaE;AAAAA,IACXF,SAAU;AAAA,MACR,cAAcG,OAAS;AAAA,MACvB,oBAAoBA,OAAS;AAAA,IACnC,CAAK;AAAA,EACL;AACA,CAAC;AACD,IAAI,iBAAiBE;AAAAA,EACnB,MAAMC;AAAAA,IACJN,SAAU;AAAA,MACR,YAAYE;AAAAA,QACVF,SAAU;AAAA,UACR,SAAS,iBAAgB,EAAG,QAAO,EAAG,GAAGA,SAAU,CAAA,CAAE,EAAE,QAAQ;AAAA,UAC/D,cAAcG,OAAS,EAAG,QAAO;AAAA,UACjC,eAAeD,QAAS,sBAAqB,CAAE,EAAE,QAAO;AAAA,UACxD,mBAAmB,2BAA0B,EAAG,QAAO;AAAA,UACvD,oBAAoB,4BAA2B,EAAG,QAAO;AAAA,QACnE,CAAS;AAAA,MACT;AAAA,MACM,eAAe,YAAY,QAAO;AAAA,MAClC,gBAAgBF,SAAU;AAAA,QACxB,aAAaG,OAAS,EAAG,QAAO;AAAA,QAChC,eAAeD,QAAS,sBAAqB,CAAE,EAAE,QAAO;AAAA,MAChE,CAAO,EAAE,QAAO;AAAA,IAChB,CAAK;AAAA,EACL;AACA;AACA,IAAI,cAAcG;AAAAA,EAChB,MAAMC;AAAAA,IACJN,SAAU;AAAA,MACR,YAAYE;AAAAA,QACVF,SAAU;AAAA,UACR,SAAS,iBAAgB,EAAG,QAAO;AAAA,UACnC,cAAcG,OAAS,EAAG,QAAO;AAAA,UACjC,eAAeD,QAAS,sBAAqB,CAAE,EAAE,QAAO;AAAA,UACxD,mBAAmB,2BAA0B,EAAG,QAAO;AAAA,UACvD,oBAAoB,4BAA2B,EAAG,QAAO;AAAA,QACnE,CAAS;AAAA,MACT,EAAQ,QAAO;AAAA,MACT,eAAe,YAAY,QAAO;AAAA,MAClC,gBAAgBF,SAAU;AAAA,QACxB,aAAaG,OAAS,EAAG,QAAO;AAAA,QAChC,eAAeD,QAAS,sBAAqB,CAAE,EAAE,QAAO;AAAA,MAChE,CAAO,EAAE,QAAO;AAAA,IAChB,CAAK;AAAA,EACL;AACA;AAKA,IAAI,gBAAgB,0CAA0C;AAAA,EAC5D,IAAI;AAAA,EACJ,aAAaK,SAAU;AAAA,IACrB,UAAUG,OAAS,EAAG,SAAS,uCAAuC;AAAA,IACtE,MAAMA,SAAY,SAAS,0BAA0B;AAAA,EACzD,CAAG;AAAA,EACD,cAAcH,SAAU;AAAA,IACtB,SAASG,OAAS,EAAG,SAAS,oDAAoD;AAAA,IAClF,QAAQA,SAAY,SAAS,qCAAqC;AAAA,EACtE,CAAG;AACH,CAAC;AASD,IAAI,sBAAsB,0BAA0B;AAAA,EAClD,IAAI;AAAA,EACJ,aAAaO,WAAY,MAAMC,UAAWC,SAAU,CAAA,CAAE,CAAC,CAAC;AAC1D,CAAC;AASD,IAAI,2BAA2BS,SAAU;AAAA;AAAA;AAAA;AAAA,EAIvC,sBAAsBI,QAASF,OAAS,CAAE,EAAE;AAAA,IAC1C;AAAA,EACJ;AAAA;AAAA,EAEE,MAAMC,SAAS,EAAG,IAAG,EAAG,SAAQ,EAAG,SAAS,yDAAyD,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA,EAI/G,gBAAgBD,OAAS,EAAG;AAAA,IAC1B;AAAA,EACJ,EAAI,SAAQ;AACZ,CAAC,EAAE,YAAW;AACd,IAAIkG,yBAAuBvG;AAAAA,EACzB,MAAMC,UAAW,wBAAwB;AAC3C;AACA,IAAIuG,eAAa9E,0BAA2B;AAAA,EAC1C,IAAI;AAAA,EACJ,aAAa6E;AACf,CAAC;AASD,IAAI,aAAavE,0BAA2B;AAAA,EAC1C,IAAI;AAAA,EACJ,aAAatB,WAAY,MAAMC,UAAWE,SAAU,CAAA,CAAE,CAAC,CAAC;AAC1D,CAAC;AASD,IAAI,eAAe2B,0BAA2B;AAAA,EAC5C,IAAI;AAAA,EACJ,aAAanB;AAAAA,IACX,MAAMC;AAAAA,MACJC,SAAW;AAAA,QACT,MAAMkF,MAAS,CAAC,gBAAgB,kBAAkB,CAAC,EAAE,QAAQ,kBAAkB;AAAA,QAC/E,kBAAkBC,WAAa,QAAQ,CAAC;AAAA,MAChD,CAAO;AAAA,IACP;AAAA,EACA;AACA,CAAC;AASD,IAAI,aAAa1D,0BAA2B;AAAA,EAC1C,IAAI;AAAA,EACJ,aAAarB,WAAa,MAAMC,UAAYC,SAAW,CAAA,CAAE,CAAC,CAAC;AAC7D,CAAC;AAKD,IAAI,iBAAiB4B,0BAA2B;AAAA,EAC9C,IAAI;AAAA,EACJ,aAAatB,SAAW;AAAA,IACtB,WAAWI,OAAU;AAAA,IACrB,MAAMD,SAAU,EAAG,SAAQ;AAAA,EAC/B,CAAG;AACH,CAAC;AAGD,IAAI,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA,EAKhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWF,YAAEkE;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,EAWA;AAAA;AAAA;AAAA;AAAA;AAAA,EAKA;AACF;AAaA,IAAI,+BAA+B,MAAM;AAAA,EACvC,YAAY,SAAS,UAAU1hB,SAAQ;AACrC,SAAK,UAAU;AACf,SAAK,WAAW;AAChB,SAAK,SAASA;AACd,SAAK,uBAAuB;AAAA,EAC9B;AAAA,EACA,IAAI,mBAAmB;AACrB,QAAIgB;AACJ,YAAQA,OAAK,KAAK,SAAS,qBAAqB,OAAOA,OAAK;AAAA,EAC9D;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,WAAW,SAAS;AACxB,QAAIA,MAAIC,KAAI;AACZ,UAAM;AAAA,MACJ;AAAA,MACA,IAAI;AAAA,MACJ;AAAA,MACA,cAAc;AAAA,MACd;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN,IAAQ;AACJ,UAAM,WAAW,CAAA;AACjB,QAAI,SAAS,QAAQ,MAAM,SAAS,GAAG;AACrC,YAAM,IAAI;AAAA,QACR;AAAA,MACR;AAAA,IACI;AACA,QAAI,QAAQ,MAAM;AAChB,YAAM,IAAI;AAAA,QACR;AAAA,MACR;AAAA,IACI;AACA,QAAI,QAAQ,MAAM;AAChB,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AACA,QAAI,QAAQ,MAAM;AAChB,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AACA,UAAM,gBAAgB,MAAM4gB,qBAAsB;AAAA,MAChD,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACd,CAAK;AACD,UAAM,eAAe,MAAM5gB,OAAMD,OAAK,KAAK,OAAO,cAAc,OAAO,SAASA,KAAG,gBAAgB,OAAO,SAASC,IAAG,KAAKD,IAAE,MAAM,OAAO,KAAqB,oBAAI,KAAI;AACvK,UAAM,aAAa;AAAA,MACjB,aAAa;AAAA,IACnB;AACI,QAAI,eAAe,MAAM;AACvB,iBAAW,cAAc;AAAA,IAC3B;AACA,QAAI,eAAe;AACjB,aAAO,OAAO,YAAY,aAAa;AAAA,IACzC;AACA,UAAM,OAAO;AAAA,MACX,WAAW,CAAC,EAAE,QAAQ;AAAA,MACtB;AAAA,IACN;AACI,UAAM,EAAE,iBAAiB,OAAO,SAAQ,IAAK,MAAM8gB,cAAe;AAAA,MAChE,KAAK,GAAG,KAAK,OAAO,OAAO,WAAW,KAAK,OAAO;AAAA,MAClD,SAASC,eAAgB,MAAMC,QAAS,KAAK,OAAO,OAAO,GAAG,OAAO;AAAA,MACrE;AAAA,MACA,uBAAuB;AAAA,MACvB,2BAA2BC;AAAAA,QACzB;AAAA,MACR;AAAA,MACM;AAAA,MACA,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,WAAO;AAAA,MACL,QAAQ,SAAS,YAAY;AAAA,QAC3B,CAAC,MAAM,EAAE;AAAA,MACjB;AAAA,MACM,UAAU,YAAY,OAAO,WAAW,CAAA;AAAA,MACxC,kBAAkB;AAAA,QAChB,QAAQ;AAAA,UACN,QAAQ,SAAS,YAAY,IAAI,CAAC,gBAAgB;AAAA;AAAA,UAE5D,EAAY;AAAA,QACZ;AAAA,MACA;AAAA,MACM,UAAU;AAAA,QACR,WAAW;AAAA,QACX,SAAS,KAAK;AAAA,QACd,SAAS;AAAA,MACjB;AAAA,IACA;AAAA,EACE;AACF;AACA,IAAI,4BAA4B9E;AAAAA,EAC9B,MAAMC;AAAAA,IACJS,SAAW;AAAA,MACT,aAAaqE,QAAUrE,SAAW,EAAE,oBAAoBI,SAAY,CAAE,CAAC,EAAE,QAAQ,CAAA,CAAE;AAAA,IACzF,CAAK;AAAA,EACL;AACA;AACA,IAAI,mCAAmCd;AAAAA,EACrC,MAAMC;AAAAA,IACJS,SAAW;AAAA,MACT,kBAAkBC,MAAS,CAAC,cAAc,eAAe,WAAW,CAAC,EAAE,QAAO;AAAA,MAC9E,aAAaA,MAAS,CAAC,OAAO,OAAO,OAAO,QAAQ,MAAM,CAAC,EAAE,QAAO;AAAA,IAC1E,CAAK;AAAA,EACL;AACA;AAGA,SAAS,yBAAyB,UAAU,IAAI;AAC9C,MAAI9c,MAAIC;AACR,QAAM,WAAWD,OAAK,qBAAqB,QAAQ,OAAO,MAAM,OAAOA,OAAK;AAC5E,QAAM,gBAAgBC,MAAK,QAAQ,SAAS,OAAOA,MAAK;AACxD,QAAM,aAAa,MAAM;AAAA,IACvB;AAAA,MACE,kBAAkB,WAAW;AAAA,QAC3B,QAAQ,QAAQ;AAAA,QAChB,yBAAyB;AAAA,QACzB,aAAa;AAAA,MACrB,CAAO;AAAA,MACD,GAAG,QAAQ;AAAA,IACjB;AAAA,IACI,iBAAiBqV,SAAO;AAAA,EAC5B;AACE,QAAM,kBAAkB,CAAC,YAAY;AACnC,QAAIjV;AACJ,WAAO,IAAI,gCAAgC,SAAS;AAAA,MAClD,UAAU;AAAA,MACV;AAAA,MACA,SAAS;AAAA,MACT,aAAaA,OAAM,QAAQ,eAAe,OAAOA,OAAMuf;AAAAA,MACvD,eAAe,OAAO;AAAA,QACpB,KAAK;AAAA;AAAA;AAAA,UAGH,IAAI,OAAO,IAAI,OAAO,YAAY;AAAA;AAAA,UAElC,IAAI;AAAA,YACF;AAAA,UACZ;AAAA,UACU,IAAI,OAAO,gDAAgD;AAAA,QACrE;AAAA,MACA;AAAA,MACM,OAAO,QAAQ;AAAA,IACrB,CAAK;AAAA,EACH;AACA,QAAM,uBAAuB,CAAC,YAAY,IAAI,iCAAiC,SAAS;AAAA,IACtF,UAAU;AAAA,IACV;AAAA,IACA,SAAS;AAAA,IACT,OAAO,QAAQ;AAAA,EACnB,CAAG;AACD,QAAM,mBAAmB,CAAC,SAAS,WAAW,CAAA,MAAO,IAAI,6BAA6B,SAAS,UAAU;AAAA,IACvG,UAAU;AAAA,IACV;AAAA,IACA,SAAS;AAAA,IACT,OAAO,QAAQ;AAAA,EACnB,CAAG;AACD,QAAM,WAAW,SAAS,SAAS;AACjC,QAAI,YAAY;AACd,YAAM,IAAI;AAAA,QACR;AAAA,MACR;AAAA,IACI;AACA,WAAO,gBAAgB,OAAO;AAAA,EAChC;AACA,WAAS,uBAAuB;AAChC,WAAS,gBAAgB;AACzB,WAAS,OAAO;AAChB,WAAS,eAAe;AACxB,WAAS,YAAY;AACrB,WAAS,iBAAiB;AAC1B,WAAS,gBAAgB;AACzB,WAAS,qBAAqB;AAC9B,WAAS,QAAQ;AACjB,WAAS,aAAa;AACtB,WAAS,QAAQ;AACjB,SAAO;AACT;AACa,yBAAwB;ACv7DrC,IAAI,wBAAwBrJ,SAAS;AAAA,EACnC,OAAOA,SAAS;AAAA,IACd,SAASE,OAAQ;AAAA;AAAA;AAAA;AAAA,IAIjB,MAAMA,OAAQ,EAAG,QAAO;AAAA,IACxB,OAAO0K,IAAK,EAAG,QAAO;AAAA,IACtB,MAAMC,MAAQ,CAAC3K,OAAQ,GAAIoJ,SAAQ,CAAE,CAAC,EAAE,QAAO;AAAA,EACnD,CAAG;AACH,CAAC;AACD,IAAI,8BAA8B,+BAA+B;AAAA,EAC/D,aAAa;AAAA,EACb,gBAAgB,CAAC,SAAS,KAAK,MAAM;AACvC,CAAC;AAGD,SAAS,mCAAmC,SAAS;AACnD,QAAM,yBAAyB,QAAQ,WAAW,IAAI,KAAK,QAAQ,WAAW,SAAS,KAAK,QAAQ,WAAW,OAAO,KAAK,CAAC,QAAQ,WAAW,YAAY;AAC3J,QAAM,6BAA6B,QAAQ,WAAW,OAAO,KAAK,QAAQ,WAAW,YAAY,KAAK,QAAQ,WAAW,OAAO,KAAK,CAAC,QAAQ,WAAW,YAAY,KAAK,CAAC,QAAQ,WAAW,YAAY,KAAK,QAAQ,WAAW,IAAI,KAAK,QAAQ,WAAW,SAAS;AACvQ,QAAM,mBAAmB,QAAQ,WAAW,IAAI,KAAK,QAAQ,WAAW,IAAI,KAAK,QAAQ,WAAW,SAAS,KAAK,QAAQ,WAAW,YAAY,KAAK,QAAQ,WAAW,sBAAsB,KAAK,QAAQ,WAAW,OAAO,KAAK,CAAC,QAAQ,WAAW,YAAY;AACnQ,QAAM,iCAAiC,QAAQ,WAAW,SAAS,KAAK,QAAQ,WAAW,SAAS;AACpG,QAAM,oBAAoB,mBAAmB,cAAc;AAC3D,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACA;AAGA,SAAS,uBAAuB,OAAO;AACrC,MAAI7f,MAAIC,KAAI,IAAI,IAAI,IAAI;AACxB,MAAI,SAAS,MAAM;AACjB,WAAO;AAAA,MACL,aAAa;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,QACT,WAAW;AAAA,QACX,YAAY;AAAA,MACpB;AAAA,MACM,cAAc;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACN,WAAW;AAAA,MACnB;AAAA,MACM,KAAK;AAAA,IACX;AAAA,EACE;AACA,QAAM,gBAAgBD,OAAK,MAAM,kBAAkB,OAAOA,OAAK;AAC/D,QAAM,oBAAoBC,MAAK,MAAM,sBAAsB,OAAOA,MAAK;AACvE,QAAM,gBAAgB,MAAM,KAAK,MAAM,0BAA0B,OAAO,SAAS,GAAG,kBAAkB,OAAO,KAAK;AAClH,QAAM,mBAAmB,MAAM,KAAK,MAAM,8BAA8B,OAAO,SAAS,GAAG,qBAAqB,OAAO,KAAK;AAC5H,SAAO;AAAA,IACL,aAAa;AAAA,MACX,OAAO;AAAA,MACP,SAAS,eAAe;AAAA,MACxB,WAAW;AAAA,MACX,YAAY;AAAA,IAClB;AAAA,IACI,cAAc;AAAA,MACZ,OAAO;AAAA,MACP,MAAM,mBAAmB;AAAA,MACzB,WAAW;AAAA,IACjB;AAAA,IACI,KAAK;AAAA,EACT;AACA;AAOA,SAAS,4BAA4B;AAAA,EACnC;AAAA,EACA,oBAAoB;AACtB,GAAG;AACD,MAAID;AACJ,QAAM,WAAW,CAAA;AACjB,QAAM,WAAW,CAAA;AACjB,aAAW,EAAE,MAAM,QAAO,KAAM,QAAQ;AACtC,YAAQ,MAAI;AAAA,MACV,KAAK,UAAU;AACb,gBAAQ,mBAAiB;AAAA,UACvB,KAAK,UAAU;AACb,qBAAS,KAAK,EAAE,MAAM,UAAU,QAAO,CAAE;AACzC;AAAA,UACF;AAAA,UACA,KAAK,aAAa;AAChB,qBAAS,KAAK,EAAE,MAAM,aAAa,QAAO,CAAE;AAC5C;AAAA,UACF;AAAA,UACA,KAAK,UAAU;AACb,qBAAS,KAAK;AAAA,cACZ,MAAM;AAAA,cACN,SAAS;AAAA,YACvB,CAAa;AACD;AAAA,UACF;AAAA,UACA,SAAS;AACP,kBAAM,mBAAmB;AACzB,kBAAM,IAAI;AAAA,cACR,oCAAoC,gBAAgB;AAAA,YAClE;AAAA,UACU;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,YAAI,QAAQ,WAAW,KAAK,QAAQ,CAAC,EAAE,SAAS,QAAQ;AACtD,mBAAS,KAAK,EAAE,MAAM,QAAQ,SAAS,QAAQ,CAAC,EAAE,MAAM;AACxD;AAAA,QACF;AACA,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS,QAAQ,IAAI,CAAC,MAAM,UAAU;AACpC,gBAAIK,MAAKJ,KAAI;AACb,oBAAQ,KAAK,MAAI;AAAA,cACf,KAAK,QAAQ;AACX,uBAAO,EAAE,MAAM,QAAQ,MAAM,KAAK,KAAI;AAAA,cACxC;AAAA,cACA,KAAK,QAAQ;AACX,oBAAI,KAAK,UAAU,WAAW,QAAQ,GAAG;AACvC,wBAAM,YAAY,KAAK,cAAc,YAAY,eAAe,KAAK;AACrE,yBAAO;AAAA,oBACL,MAAM;AAAA,oBACN,WAAW;AAAA,sBACT,KAAK,KAAK,gBAAgB,MAAM,KAAK,KAAK,SAAQ,IAAK,QAAQ,SAAS,WAAW,gBAAgB,KAAK,IAAI,CAAC;AAAA;AAAA,sBAE7G,SAASA,OAAMI,OAAM,KAAK,oBAAoB,OAAO,SAASA,KAAI,WAAW,OAAO,SAASJ,IAAG;AAAA,oBACtH;AAAA,kBACA;AAAA,gBACgB,WAAW,KAAK,UAAU,WAAW,QAAQ,GAAG;AAC9C,sBAAI,KAAK,gBAAgB,KAAK;AAC5B,0BAAM,IAAI,8BAA8B;AAAA,sBACtC,eAAe;AAAA,oBACrC,CAAqB;AAAA,kBACH;AACA,0BAAQ,KAAK,WAAS;AAAA,oBACpB,KAAK,aAAa;AAChB,6BAAO;AAAA,wBACL,MAAM;AAAA,wBACN,aAAa;AAAA,0BACX,MAAM,gBAAgB,KAAK,IAAI;AAAA,0BAC/B,QAAQ;AAAA,wBAClC;AAAA,sBACA;AAAA,oBACoB;AAAA,oBACA,KAAK;AAAA,oBACL,KAAK,cAAc;AACjB,6BAAO;AAAA,wBACL,MAAM;AAAA,wBACN,aAAa;AAAA,0BACX,MAAM,gBAAgB,KAAK,IAAI;AAAA,0BAC/B,QAAQ;AAAA,wBAClC;AAAA,sBACA;AAAA,oBACoB;AAAA,oBACA,SAAS;AACP,4BAAM,IAAI,8BAA8B;AAAA,wBACtC,eAAe,uCAAuC,KAAK,SAAS;AAAA,sBAC5F,CAAuB;AAAA,oBACH;AAAA,kBACpB;AAAA,gBACgB,WAAW,KAAK,cAAc,mBAAmB;AAC/C,sBAAI,KAAK,gBAAgB,KAAK;AAC5B,0BAAM,IAAI,8BAA8B;AAAA,sBACtC,eAAe;AAAA,oBACrC,CAAqB;AAAA,kBACH;AACA,yBAAO;AAAA,oBACL,MAAM;AAAA,oBACN,MAAM,OAAO,KAAK,SAAS,YAAY,KAAK,KAAK,WAAW,OAAO,IAAI,EAAE,SAAS,KAAK,KAAI,IAAK;AAAA,sBAC9F,WAAW,KAAK,KAAK,aAAa,OAAO,KAAK,QAAQ,KAAK;AAAA,sBAC3D,WAAW,+BAA+B,gBAAgB,KAAK,IAAI,CAAC;AAAA,oBAC1F;AAAA,kBACA;AAAA,gBACgB,OAAO;AACL,wBAAM,IAAI,8BAA8B;AAAA,oBACtC,eAAe,wBAAwB,KAAK,SAAS;AAAA,kBACzE,CAAmB;AAAA,gBACH;AAAA,cACF;AAAA,YACd;AAAA,UACU,CAAC;AAAA,QACX,CAAS;AACD;AAAA,MACF;AAAA,MACA,KAAK,aAAa;AAChB,YAAId,QAAO;AACX,cAAM,YAAY,CAAA;AAClB,mBAAW,QAAQ,SAAS;AAC1B,kBAAQ,KAAK,MAAI;AAAA,YACf,KAAK,QAAQ;AACX,cAAAA,SAAQ,KAAK;AACb;AAAA,YACF;AAAA,YACA,KAAK,aAAa;AAChB,wBAAU,KAAK;AAAA,gBACb,IAAI,KAAK;AAAA,gBACT,MAAM;AAAA,gBACN,UAAU;AAAA,kBACR,MAAM,KAAK;AAAA,kBACX,WAAW,KAAK,UAAU,KAAK,KAAK;AAAA,gBACtD;AAAA,cACA,CAAe;AACD;AAAA,YACF;AAAA,UACZ;AAAA,QACQ;AACA,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAASA;AAAA,UACT,YAAY,UAAU,SAAS,IAAI,YAAY;AAAA,QACzD,CAAS;AACD;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,mBAAW,gBAAgB,SAAS;AAClC,cAAI,aAAa,SAAS,0BAA0B;AAClD;AAAA,UACF;AACA,gBAAM,SAAS,aAAa;AAC5B,cAAI;AACJ,kBAAQ,OAAO,MAAI;AAAA,YACjB,KAAK;AAAA,YACL,KAAK;AACH,6BAAe,OAAO;AACtB;AAAA,YACF,KAAK;AACH,8BAAgBa,OAAK,OAAO,WAAW,OAAOA,OAAK;AACnD;AAAA,YACF,KAAK;AAAA,YACL,KAAK;AAAA,YACL,KAAK;AACH,6BAAe,KAAK,UAAU,OAAO,KAAK;AAC1C;AAAA,UACd;AACU,mBAAS,KAAK;AAAA,YACZ,MAAM;AAAA,YACN,cAAc,aAAa;AAAA,YAC3B,SAAS;AAAA,UACrB,CAAW;AAAA,QACH;AACA;AAAA,MACF;AAAA,MACA,SAAS;AACP,cAAM,mBAAmB;AACzB,cAAM,IAAI,MAAM,qBAAqB,gBAAgB,EAAE;AAAA,MACzD;AAAA,IACN;AAAA,EACE;AACA,SAAO,EAAE,UAAU,SAAQ;AAC7B;AAGA,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,SAAO;AAAA,IACL,IAAI,MAAM,OAAO,KAAK;AAAA,IACtB,SAAS,SAAS,OAAO,QAAQ;AAAA,IACjC,WAAW,UAAU,IAAI,KAAK,UAAU,GAAG,IAAI;AAAA,EACnD;AACA;AAGA,SAAS,sBAAsB,cAAc;AAC3C,UAAQ,cAAY;AAAA,IAClB,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,IACT;AACE,aAAO;AAAA,EACb;AACA;AAKA,IAAI,2BAA2B;AAAA,EAC7B,MAAM;AAAA,IACJ4W,SAAU;AAAA,MACR,IAAIE,OAAS,EAAG,QAAO;AAAA,MACvB,SAASG,SAAS,EAAG,QAAO;AAAA,MAC5B,OAAOH,OAAS,EAAG,QAAO;AAAA,MAC1B,SAASC;AAAAA,QACPH,SAAU;AAAA,UACR,SAASA,SAAU;AAAA,YACjB,MAAMC,QAAW,WAAW,EAAE,QAAO;AAAA,YACrC,SAASC,OAAS,EAAG,QAAO;AAAA,YAC5B,YAAYC;AAAAA,cACVH,SAAU;AAAA,gBACR,IAAIE,OAAS,EAAG,QAAO;AAAA,gBACvB,MAAMD,QAAW,UAAU;AAAA,gBAC3B,UAAUD,SAAU;AAAA,kBAClB,MAAME,OAAS;AAAA,kBACf,WAAWA,OAAS;AAAA,gBACtC,CAAiB;AAAA,cACjB,CAAe;AAAA,YACf,EAAc,QAAO;AAAA,YACT,aAAaC;AAAAA,cACXH,SAAU;AAAA,gBACR,MAAMC,QAAW,cAAc;AAAA,gBAC/B,cAAcD,SAAU;AAAA,kBACtB,aAAaK,SAAS;AAAA,kBACtB,WAAWA,SAAS;AAAA,kBACpB,KAAKH,OAAS;AAAA,kBACd,OAAOA,OAAS;AAAA,gBAClC,CAAiB;AAAA,cACjB,CAAe;AAAA,YACf,EAAc,QAAO;AAAA,UACrB,CAAW;AAAA,UACD,OAAOG,SAAS;AAAA,UAChB,UAAUL,SAAU;AAAA,YAClB,SAASG;AAAAA,cACPH,SAAU;AAAA,gBACR,OAAOE,OAAS;AAAA,gBAChB,SAASG,SAAS;AAAA,gBAClB,cAAcF;AAAAA,kBACZH,SAAU;AAAA,oBACR,OAAOE,OAAS;AAAA,oBAChB,SAASG,SAAS;AAAA,kBACtC,CAAmB;AAAA,gBACnB;AAAA,cACA,CAAe;AAAA,YACf,EAAc,QAAO;AAAA,UACrB,CAAW,EAAE,QAAO;AAAA,UACV,eAAeH,OAAS,EAAG,QAAO;AAAA,QAC5C,CAAS;AAAA,MACT;AAAA,MACM,OAAOF,SAAU;AAAA,QACf,eAAeK,SAAS,EAAG,QAAO;AAAA,QAClC,mBAAmBA,SAAS,EAAG,QAAO;AAAA,QACtC,cAAcA,SAAS,EAAG,QAAO;AAAA,QACjC,uBAAuBL,SAAU;AAAA,UAC/B,eAAeK,SAAS,EAAG,QAAO;AAAA,QAC5C,CAAS,EAAE,QAAO;AAAA,QACV,2BAA2BL,SAAU;AAAA,UACnC,kBAAkBK,SAAS,EAAG,QAAO;AAAA,UACrC,4BAA4BA,SAAS,EAAG,QAAO;AAAA,UAC/C,4BAA4BA,SAAS,EAAG,QAAO;AAAA,QACzD,CAAS,EAAE,QAAO;AAAA,MAClB,CAAO,EAAE,QAAO;AAAA,IAChB,CAAK;AAAA,EACL;AACA;AACA,IAAI,wBAAwB;AAAA,EAC1B,MAAM;AAAA,IACJE,MAAS;AAAA,MACPP,SAAU;AAAA,QACR,IAAIE,OAAS,EAAG,QAAO;AAAA,QACvB,SAASG,SAAS,EAAG,QAAO;AAAA,QAC5B,OAAOH,OAAS,EAAG,QAAO;AAAA,QAC1B,SAASC;AAAAA,UACPH,SAAU;AAAA,YACR,OAAOA,SAAU;AAAA,cACf,MAAMkJ,MAAQ,CAAC,WAAW,CAAC,EAAE,QAAO;AAAA,cACpC,SAAShJ,OAAS,EAAG,QAAO;AAAA,cAC5B,YAAYC;AAAAA,gBACVH,SAAU;AAAA,kBACR,OAAOK,SAAS;AAAA,kBAChB,IAAIH,OAAS,EAAG,QAAO;AAAA,kBACvB,MAAMD,QAAW,UAAU,EAAE,QAAO;AAAA,kBACpC,UAAUD,SAAU;AAAA,oBAClB,MAAME,OAAS,EAAG,QAAO;AAAA,oBACzB,WAAWA,OAAS,EAAG,QAAO;AAAA,kBAClD,CAAmB;AAAA,gBACnB,CAAiB;AAAA,cACjB,EAAgB,QAAO;AAAA,cACT,aAAaC;AAAAA,gBACXH,SAAU;AAAA,kBACR,MAAMC,QAAW,cAAc;AAAA,kBAC/B,cAAcD,SAAU;AAAA,oBACtB,aAAaK,SAAS;AAAA,oBACtB,WAAWA,SAAS;AAAA,oBACpB,KAAKH,OAAS;AAAA,oBACd,OAAOA,OAAS;AAAA,kBACpC,CAAmB;AAAA,gBACnB,CAAiB;AAAA,cACjB,EAAgB,QAAO;AAAA,YACvB,CAAa,EAAE,QAAO;AAAA,YACV,UAAUF,SAAU;AAAA,cAClB,SAASG;AAAAA,gBACPH,SAAU;AAAA,kBACR,OAAOE,OAAS;AAAA,kBAChB,SAASG,SAAS;AAAA,kBAClB,cAAcF;AAAAA,oBACZH,SAAU;AAAA,sBACR,OAAOE,OAAS;AAAA,sBAChB,SAASG,SAAS;AAAA,oBACxC,CAAqB;AAAA,kBACrB;AAAA,gBACA,CAAiB;AAAA,cACjB,EAAgB,QAAO;AAAA,YACvB,CAAa,EAAE,QAAO;AAAA,YACV,eAAeH,OAAS,EAAG,QAAO;AAAA,YAClC,OAAOG,SAAS;AAAA,UAC5B,CAAW;AAAA,QACX;AAAA,QACQ,OAAOL,SAAU;AAAA,UACf,eAAeK,SAAS,EAAG,QAAO;AAAA,UAClC,mBAAmBA,SAAS,EAAG,QAAO;AAAA,UACtC,cAAcA,SAAS,EAAG,QAAO;AAAA,UACjC,uBAAuBL,SAAU;AAAA,YAC/B,eAAeK,SAAS,EAAG,QAAO;AAAA,UAC9C,CAAW,EAAE,QAAO;AAAA,UACV,2BAA2BL,SAAU;AAAA,YACnC,kBAAkBK,SAAS,EAAG,QAAO;AAAA,YACrC,4BAA4BA,SAAS,EAAG,QAAO;AAAA,YAC/C,4BAA4BA,SAAS,EAAG,QAAO;AAAA,UAC3D,CAAW,EAAE,QAAO;AAAA,QACpB,CAAS,EAAE,QAAO;AAAA,MAClB,CAAO;AAAA,MACD;AAAA,IACN,CAAK;AAAA,EACL;AACA;AAKA,IAAI,iCAAiCP;AAAAA,EACnC,MAAMC;AAAAA,IACJY,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOR,WAAW8J,OAAUC,OAAgB,GAAIzJ,SAAS,CAAE,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAU9D,UAAUF,MAAS,CAACH,QAAU,GAAIK,SAAS,CAAE,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA,MAIxD,mBAAmBL,QAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,MAKxC,MAAMC,OAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA,MAI1B,iBAAiBC,MAAQ,CAAC,QAAQ,WAAW,OAAO,UAAU,QAAQ,OAAO,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA,MAIxF,qBAAqBG,SAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA,MAIzC,OAAOL,QAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA,MAI5B,UAAU6J,OAAU5J,OAAS,EAAG,IAAI,EAAE,GAAGA,OAAS,EAAG,IAAI,GAAG,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA,MAIvE,YAAY4J,OAAU5J,OAAS,GAAI8J,IAAM,CAAE,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAWrD,aAAa7J,MAAQ,CAAC,QAAQ,QAAQ,YAAY,SAAS,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMtE,kBAAkBF,QAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,MAKvC,eAAeE,MAAQ,CAAC,OAAO,UAAU,MAAM,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,MAK1D,gBAAgBD,OAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MASpC,sBAAsBC,MAAQ,CAAC,aAAa,KAAK,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQ5D,kBAAkBD,OAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAStC,mBAAmBC,MAAQ,CAAC,UAAU,aAAa,QAAQ,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAUtE,gBAAgBF,QAAU,EAAG,SAAQ;AAAA,IAC3C,CAAK;AAAA,EACL;AACA;AAMA,SAAS,iBAAiB;AAAA,EACxB;AAAA,EACA;AACF,GAAG;AACD,WAAS,SAAS,OAAO,SAAS,MAAM,UAAU,QAAQ;AAC1D,QAAM,eAAe,CAAA;AACrB,MAAI,SAAS,MAAM;AACjB,WAAO,EAAE,OAAO,QAAQ,YAAY,QAAQ,aAAY;AAAA,EAC1D;AACA,QAAM,eAAe,CAAA;AACrB,aAAWiC,SAAQ,OAAO;AACxB,YAAQA,MAAK,MAAI;AAAA,MACf,KAAK;AACH,qBAAa,KAAK;AAAA,UAChB,MAAM;AAAA,UACN,UAAU;AAAA,YACR,MAAMA,MAAK;AAAA,YACX,aAAaA,MAAK;AAAA,YAClB,YAAYA,MAAK;AAAA,YACjB,GAAGA,MAAK,UAAU,OAAO,EAAE,QAAQA,MAAK,WAAW,CAAA;AAAA,UAC/D;AAAA,QACA,CAAS;AACD;AAAA,MACF;AACE,qBAAa,KAAK;AAAA,UAChB,MAAM;AAAA,UACN,SAAS,cAAcA,MAAK,IAAI;AAAA,QAC1C,CAAS;AACD;AAAA,IACR;AAAA,EACE;AACA,MAAI,cAAc,MAAM;AACtB,WAAO,EAAE,OAAO,cAAc,YAAY,QAAQ,aAAY;AAAA,EAChE;AACA,QAAM,OAAO,WAAW;AACxB,UAAQ,MAAI;AAAA,IACV,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAAO,EAAE,OAAO,cAAc,YAAY,MAAM,aAAY;AAAA,IAC9D,KAAK;AACH,aAAO;AAAA,QACL,OAAO;AAAA,QACP,YAAY;AAAA,UACV,MAAM;AAAA,UACN,UAAU;AAAA,YACR,MAAM,WAAW;AAAA,UAC7B;AAAA,QACA;AAAA,QACQ;AAAA,MACR;AAAA,IACI,SAAS;AACP,YAAM,mBAAmB;AACzB,YAAM,IAAI2B,8BAA+B;AAAA,QACvC,eAAe,qBAAqB,gBAAgB;AAAA,MAC5D,CAAO;AAAA,IACH;AAAA,EACJ;AACA;AAGA,IAAI,0BAA0B,MAAM;AAAA,EAClC,YAAY,SAASpc,SAAQ;AAC3B,SAAK,uBAAuB;AAC5B,SAAK,gBAAgB;AAAA,MACnB,WAAW,CAAC,iBAAiB;AAAA,IACnC;AACI,SAAK,UAAU;AACf,SAAK,SAASA;AAAA,EAChB;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,QAAIgB,MAAIC,KAAI,IAAI,IAAI;AACpB,UAAM,WAAW,CAAA;AACjB,UAAM,iBAAiBD,OAAK,MAAM,qBAAqB;AAAA,MACrD,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACd,CAAK,MAAM,OAAOA,OAAK,CAAA;AACnB,UAAM,oBAAoB,mCAAmC,KAAK,OAAO;AACzE,UAAM,oBAAoBC,MAAK,cAAc,mBAAmB,OAAOA,MAAK,kBAAkB;AAC9F,QAAI,QAAQ,MAAM;AAChB,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,QAAQ;AAAA,IACxD;AACA,UAAM,EAAE,UAAU,UAAU,gBAAe,IAAK;AAAA,MAC9C;AAAA,QACE;AAAA,QACA,oBAAoB,KAAK,cAAc,sBAAsB,OAAO,KAAK,mBAAmB,cAAc,kBAAkB;AAAA,MACpI;AAAA,IACA;AACI,aAAS,KAAK,GAAG,eAAe;AAChC,UAAM,oBAAoB,KAAK,cAAc,qBAAqB,OAAO,KAAK;AAC9E,UAAM,WAAW;AAAA;AAAA,MAEf,OAAO,KAAK;AAAA;AAAA,MAEZ,YAAY,cAAc;AAAA,MAC1B,UAAU,cAAc,aAAa,QAAQ,OAAO,cAAc,aAAa,WAAW,OAAO;AAAA,MACjG,cAAc,OAAO,cAAc,aAAa,WAAW,cAAc,WAAW,OAAO,cAAc,aAAa,YAAY,cAAc,WAAW,IAAI,SAAS;AAAA,MACxK,MAAM,cAAc;AAAA,MACpB,qBAAqB,cAAc;AAAA;AAAA,MAEnC,YAAY;AAAA,MACZ;AAAA,MACA,OAAO;AAAA,MACP,mBAAmB;AAAA,MACnB,kBAAkB;AAAA,MAClB,kBAAkB,kBAAkB,OAAO,SAAS,eAAe,UAAU,SAAS,eAAe,UAAU,OAAO;AAAA,QACpH,MAAM;AAAA,QACN,aAAa;AAAA,UACX,QAAQ,eAAe;AAAA,UACvB,QAAQ;AAAA,UACR,OAAO,KAAK,eAAe,SAAS,OAAO,KAAK;AAAA,UAChD,aAAa,eAAe;AAAA,QACtC;AAAA,MACA,IAAU,EAAE,MAAM,cAAa,IAAK;AAAA,MAC9B,MAAM;AAAA,MACN;AAAA,MACA,WAAW,cAAc;AAAA;AAAA;AAAA,MAGzB,uBAAuB,cAAc;AAAA,MACrC,OAAO,cAAc;AAAA,MACrB,UAAU,cAAc;AAAA,MACxB,YAAY,cAAc;AAAA,MAC1B,kBAAkB,cAAc;AAAA,MAChC,cAAc,cAAc;AAAA,MAC5B,kBAAkB,cAAc;AAAA,MAChC,wBAAwB,cAAc;AAAA,MACtC,mBAAmB,cAAc;AAAA;AAAA,MAEjC;AAAA,IACN;AACI,QAAI,kBAAkB;AACpB,UAAI,cAAc,oBAAoB,UAAU,CAAC,kBAAkB,gCAAgC;AACjG,YAAI,SAAS,eAAe,MAAM;AAChC,mBAAS,cAAc;AACvB,mBAAS,KAAK;AAAA,YACZ,MAAM;AAAA,YACN,SAAS;AAAA,YACT,SAAS;AAAA,UACrB,CAAW;AAAA,QACH;AACA,YAAI,SAAS,SAAS,MAAM;AAC1B,mBAAS,QAAQ;AACjB,mBAAS,KAAK;AAAA,YACZ,MAAM;AAAA,YACN,SAAS;AAAA,YACT,SAAS;AAAA,UACrB,CAAW;AAAA,QACH;AACA,YAAI,SAAS,YAAY,MAAM;AAC7B,mBAAS,WAAW;AACpB,mBAAS,KAAK;AAAA,YACZ,MAAM;AAAA,YACN,SAAS;AAAA,UACrB,CAAW;AAAA,QACH;AAAA,MACF;AACA,UAAI,SAAS,qBAAqB,MAAM;AACtC,iBAAS,oBAAoB;AAC7B,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AACA,UAAI,SAAS,oBAAoB,MAAM;AACrC,iBAAS,mBAAmB;AAC5B,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AACA,UAAI,SAAS,cAAc,MAAM;AAC/B,iBAAS,aAAa;AACtB,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AACA,UAAI,SAAS,gBAAgB,MAAM;AACjC,iBAAS,eAAe;AACxB,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AACA,UAAI,SAAS,cAAc,MAAM;AAC/B,YAAI,SAAS,yBAAyB,MAAM;AAC1C,mBAAS,wBAAwB,SAAS;AAAA,QAC5C;AACA,iBAAS,aAAa;AAAA,MACxB;AAAA,IACF,WAAW,KAAK,QAAQ,WAAW,uBAAuB,KAAK,KAAK,QAAQ,WAAW,4BAA4B,GAAG;AACpH,UAAI,SAAS,eAAe,MAAM;AAChC,iBAAS,cAAc;AACvB,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AAAA,IACF;AACA,QAAI,cAAc,gBAAgB,UAAU,CAAC,kBAAkB,wBAAwB;AACrF,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB,CAAO;AACD,eAAS,eAAe;AAAA,IAC1B;AACA,QAAI,cAAc,gBAAgB,cAAc,CAAC,kBAAkB,4BAA4B;AAC7F,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB,CAAO;AACD,eAAS,eAAe;AAAA,IAC1B;AACA,UAAM;AAAA,MACJ,OAAO;AAAA,MACP,YAAY;AAAA,MACZ;AAAA,IACN,IAAQ,iBAAiB;AAAA,MACnB;AAAA,MACA;AAAA,IACN,CAAK;AACD,WAAO;AAAA,MACL,MAAM;AAAA,QACJ,GAAG;AAAA,QACH,OAAO;AAAA,QACP,aAAa;AAAA,MACrB;AAAA,MACM,UAAU,CAAC,GAAG,UAAU,GAAG,YAAY;AAAA,IAC7C;AAAA,EACE;AAAA,EACA,MAAM,WAAW,SAAS;AACxB,QAAID,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI;AAC5B,UAAM,EAAE,MAAM,MAAM,SAAQ,IAAK,MAAM,KAAK,QAAQ,OAAO;AAC3D,UAAM;AAAA,MACJ;AAAA,MACA,OAAO;AAAA,MACP,UAAU;AAAA,IAChB,IAAQ,MAAM,cAAc;AAAA,MACtB,KAAK,KAAK,OAAO,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,KAAK;AAAA,MACtB,CAAO;AAAA,MACD,SAAS,eAAe,KAAK,OAAO,QAAO,GAAI,QAAQ,OAAO;AAAA,MAC9D;AAAA,MACA,uBAAuB;AAAA,MACvB,2BAA2B;AAAA,QACzB;AAAA,MACR;AAAA,MACM,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,UAAMjC,UAAS,SAAS,QAAQ,CAAC;AACjC,UAAM,UAAU,CAAA;AAChB,UAAMmB,QAAOnB,QAAO,QAAQ;AAC5B,QAAImB,SAAQ,QAAQA,MAAK,SAAS,GAAG;AACnC,cAAQ,KAAK,EAAE,MAAM,QAAQ,MAAAA,MAAI,CAAE;AAAA,IACrC;AACA,eAAW,aAAaa,OAAKhC,QAAO,QAAQ,eAAe,OAAOgC,OAAK,IAAI;AACzE,cAAQ,KAAK;AAAA,QACX,MAAM;AAAA,QACN,aAAaC,MAAK,SAAS,OAAO,OAAOA,MAAK,WAAU;AAAA,QACxD,UAAU,SAAS,SAAS;AAAA,QAC5B,OAAO,SAAS,SAAS;AAAA,MACjC,CAAO;AAAA,IACH;AACA,eAAW,eAAe,KAAKjC,QAAO,QAAQ,gBAAgB,OAAO,KAAK,IAAI;AAC5E,cAAQ,KAAK;AAAA,QACX,MAAM;AAAA,QACN,YAAY;AAAA,QACZ,IAAI,WAAU;AAAA,QACd,KAAK,WAAW,aAAa;AAAA,QAC7B,OAAO,WAAW,aAAa;AAAA,MACvC,CAAO;AAAA,IACH;AACA,UAAM,0BAA0B,KAAK,SAAS,UAAU,OAAO,SAAS,GAAG;AAChD,KAAC,KAAK,SAAS,UAAU,OAAO,SAAS,GAAG;AACvE,UAAM,mBAAmB,EAAE,QAAQ,GAAE;AACrC,SAAK,0BAA0B,OAAO,SAAS,uBAAuB,+BAA+B,MAAM;AACzG,uBAAiB,OAAO,2BAA2B,0BAA0B,OAAO,SAAS,uBAAuB;AAAA,IACtH;AACA,SAAK,0BAA0B,OAAO,SAAS,uBAAuB,+BAA+B,MAAM;AACzG,uBAAiB,OAAO,2BAA2B,0BAA0B,OAAO,SAAS,uBAAuB;AAAA,IACtH;AACA,UAAM,KAAKA,QAAO,aAAa,OAAO,SAAS,GAAG,YAAY,MAAM;AAClE,uBAAiB,OAAO,WAAWA,QAAO,SAAS;AAAA,IACrD;AACA,WAAO;AAAA,MACL;AAAA,MACA,cAAc;AAAA,QACZ,SAAS,sBAAsBA,QAAO,aAAa;AAAA,QACnD,MAAM,KAAKA,QAAO,kBAAkB,OAAO,KAAK;AAAA,MACxD;AAAA,MACM,OAAO,uBAAuB,SAAS,KAAK;AAAA,MAC5C,SAAS,EAAE,KAAI;AAAA,MACf,UAAU;AAAA,QACR,GAAG,oBAAoB,QAAQ;AAAA,QAC/B,SAAS;AAAA,QACT,MAAM;AAAA,MACd;AAAA,MACM;AAAA,MACA;AAAA,IACN;AAAA,EACE;AAAA,EACA,MAAM,SAAS,SAAS;AACtB,UAAM,EAAE,MAAM,SAAQ,IAAK,MAAM,KAAK,QAAQ,OAAO;AACrD,UAAM,OAAO;AAAA,MACX,GAAG;AAAA,MACH,QAAQ;AAAA,MACR,gBAAgB;AAAA,QACd,eAAe;AAAA,MACvB;AAAA,IACA;AACI,UAAM,EAAE,iBAAiB,OAAO,SAAQ,IAAK,MAAM,cAAc;AAAA,MAC/D,KAAK,KAAK,OAAO,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,KAAK;AAAA,MACtB,CAAO;AAAA,MACD,SAAS,eAAe,KAAK,OAAO,QAAO,GAAI,QAAQ,OAAO;AAAA,MAC9D;AAAA,MACA,uBAAuB;AAAA,MACvB,2BAA2B;AAAA,QACzB;AAAA,MACR;AAAA,MACM,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,UAAM,YAAY,CAAA;AAClB,QAAI,eAAe;AAAA,MACjB,SAAS;AAAA,MACT,KAAK;AAAA,IACX;AACI,QAAI,QAAQ;AACZ,QAAI,oBAAoB;AACxB,QAAI,eAAe;AACnB,UAAM,mBAAmB,EAAE,QAAQ,GAAE;AACrC,WAAO;AAAA,MACL,QAAQ,SAAS;AAAA,QACf,IAAI,gBAAgB;AAAA,UAClB,MAAM,YAAY;AAChB,uBAAW,QAAQ,EAAE,MAAM,gBAAgB,SAAQ,CAAE;AAAA,UACvD;AAAA,UACA,UAAU,OAAO,YAAY;AAC3B,gBAAIgC,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AACpE,gBAAI,QAAQ,kBAAkB;AAC5B,yBAAW,QAAQ,EAAE,MAAM,OAAO,UAAU,MAAM,UAAU;AAAA,YAC9D;AACA,gBAAI,CAAC,MAAM,SAAS;AAClB,6BAAe,EAAE,SAAS,SAAS,KAAK,OAAM;AAC9C,yBAAW,QAAQ,EAAE,MAAM,SAAS,OAAO,MAAM,OAAO;AACxD;AAAA,YACF;AACA,kBAAM,QAAQ,MAAM;AACpB,gBAAI,WAAW,OAAO;AACpB,6BAAe,EAAE,SAAS,SAAS,KAAK,OAAM;AAC9C,yBAAW,QAAQ,EAAE,MAAM,SAAS,OAAO,MAAM,OAAO;AACxD;AAAA,YACF;AACA,gBAAI,CAAC,mBAAmB;AACtB,oBAAM,WAAW,oBAAoB,KAAK;AAC1C,kBAAI,OAAO,OAAO,QAAQ,EAAE,KAAK,OAAO,GAAG;AACzC,oCAAoB;AACpB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,GAAG,oBAAoB,KAAK;AAAA,gBAC9C,CAAiB;AAAA,cACH;AAAA,YACF;AACA,gBAAI,MAAM,SAAS,MAAM;AACvB,sBAAQ,MAAM;AACd,oBAAMD,OAAK,MAAM,MAAM,8BAA8B,OAAO,SAASA,KAAG,+BAA+B,MAAM;AAC3G,iCAAiB,OAAO,4BAA4BC,MAAK,MAAM,MAAM,8BAA8B,OAAO,SAASA,IAAG;AAAA,cACxH;AACA,oBAAM,KAAK,MAAM,MAAM,8BAA8B,OAAO,SAAS,GAAG,+BAA+B,MAAM;AAC3G,iCAAiB,OAAO,4BAA4B,KAAK,MAAM,MAAM,8BAA8B,OAAO,SAAS,GAAG;AAAA,cACxH;AAAA,YACF;AACA,kBAAMjC,UAAS,MAAM,QAAQ,CAAC;AAC9B,iBAAKA,WAAU,OAAO,SAASA,QAAO,kBAAkB,MAAM;AAC5D,6BAAe;AAAA,gBACb,SAAS,sBAAsBA,QAAO,aAAa;AAAA,gBACnD,KAAKA,QAAO;AAAA,cAC5B;AAAA,YACY;AACA,kBAAM,KAAKA,WAAU,OAAO,SAASA,QAAO,aAAa,OAAO,SAAS,GAAG,YAAY,MAAM;AAC5F,+BAAiB,OAAO,WAAWA,QAAO,SAAS;AAAA,YACrD;AACA,iBAAKA,WAAU,OAAO,SAASA,QAAO,UAAU,MAAM;AACpD;AAAA,YACF;AACA,kBAAM,QAAQA,QAAO;AACrB,gBAAI,MAAM,WAAW,MAAM;AACzB,kBAAI,CAAC,cAAc;AACjB,2BAAW,QAAQ,EAAE,MAAM,cAAc,IAAI,KAAK;AAClD,+BAAe;AAAA,cACjB;AACA,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,IAAI;AAAA,gBACJ,OAAO,MAAM;AAAA,cAC7B,CAAe;AAAA,YACH;AACA,gBAAI,MAAM,cAAc,MAAM;AAC5B,yBAAW,iBAAiB,MAAM,YAAY;AAC5C,sBAAM,QAAQ,cAAc;AAC5B,oBAAI,UAAU,KAAK,KAAK,MAAM;AAC5B,sBAAI,cAAc,SAAS,YAAY;AACrC,0BAAM,IAAI,yBAAyB;AAAA,sBACjC,MAAM;AAAA,sBACN,SAAS;AAAA,oBAC/B,CAAqB;AAAA,kBACH;AACA,sBAAI,cAAc,MAAM,MAAM;AAC5B,0BAAM,IAAI,yBAAyB;AAAA,sBACjC,MAAM;AAAA,sBACN,SAAS;AAAA,oBAC/B,CAAqB;AAAA,kBACH;AACA,wBAAM,KAAK,cAAc,aAAa,OAAO,SAAS,GAAG,SAAS,MAAM;AACtE,0BAAM,IAAI,yBAAyB;AAAA,sBACjC,MAAM;AAAA,sBACN,SAAS;AAAA,oBAC/B,CAAqB;AAAA,kBACH;AACA,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,cAAc;AAAA,oBAClB,UAAU,cAAc,SAAS;AAAA,kBACrD,CAAmB;AACD,4BAAU,KAAK,IAAI;AAAA,oBACjB,IAAI,cAAc;AAAA,oBAClB,MAAM;AAAA,oBACN,UAAU;AAAA,sBACR,MAAM,cAAc,SAAS;AAAA,sBAC7B,YAAY,KAAK,cAAc,SAAS,cAAc,OAAO,KAAK;AAAA,oBACxF;AAAA,oBACoB,aAAa;AAAA,kBACjC;AACkB,wBAAM,YAAY,UAAU,KAAK;AACjC,wBAAM,KAAK,UAAU,aAAa,OAAO,SAAS,GAAG,SAAS,UAAU,KAAK,UAAU,aAAa,OAAO,SAAS,GAAG,cAAc,MAAM;AACzI,wBAAI,UAAU,SAAS,UAAU,SAAS,GAAG;AAC3C,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,IAAI,UAAU;AAAA,wBACd,OAAO,UAAU,SAAS;AAAA,sBAClD,CAAuB;AAAA,oBACH;AACA,wBAAI,eAAe,UAAU,SAAS,SAAS,GAAG;AAChD,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,IAAI,UAAU;AAAA,sBACtC,CAAuB;AACD,iCAAW,QAAQ;AAAA,wBACjB,MAAM;AAAA,wBACN,aAAa,KAAK,UAAU,OAAO,OAAO,KAAK,WAAU;AAAA,wBACzD,UAAU,UAAU,SAAS;AAAA,wBAC7B,OAAO,UAAU,SAAS;AAAA,sBAClD,CAAuB;AACD,gCAAU,cAAc;AAAA,oBAC1B;AAAA,kBACF;AACA;AAAA,gBACF;AACA,sBAAM,WAAW,UAAU,KAAK;AAChC,oBAAI,SAAS,aAAa;AACxB;AAAA,gBACF;AACA,sBAAM,KAAK,cAAc,aAAa,OAAO,SAAS,GAAG,cAAc,MAAM;AAC3E,2BAAS,SAAS,cAAc,MAAM,KAAK,cAAc,aAAa,OAAO,SAAS,GAAG,cAAc,OAAO,KAAK;AAAA,gBACrH;AACA,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,SAAS;AAAA,kBACb,QAAQ,KAAK,cAAc,SAAS,cAAc,OAAO,KAAK;AAAA,gBAChF,CAAiB;AACD,sBAAM,KAAK,SAAS,aAAa,OAAO,SAAS,GAAG,SAAS,UAAU,KAAK,SAAS,aAAa,OAAO,SAAS,GAAG,cAAc,QAAQ,eAAe,SAAS,SAAS,SAAS,GAAG;AACtL,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,SAAS;AAAA,kBACjC,CAAmB;AACD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,aAAa,KAAK,SAAS,OAAO,OAAO,KAAK,WAAU;AAAA,oBACxD,UAAU,SAAS,SAAS;AAAA,oBAC5B,OAAO,SAAS,SAAS;AAAA,kBAC7C,CAAmB;AACD,2BAAS,cAAc;AAAA,gBACzB;AAAA,cACF;AAAA,YACF;AACA,gBAAI,MAAM,eAAe,MAAM;AAC7B,yBAAW,cAAc,MAAM,aAAa;AAC1C,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,IAAI,WAAU;AAAA,kBACd,KAAK,WAAW,aAAa;AAAA,kBAC7B,OAAO,WAAW,aAAa;AAAA,gBACjD,CAAiB;AAAA,cACH;AAAA,YACF;AAAA,UACF;AAAA,UACA,MAAM,YAAY;AAChB,gBAAI,cAAc;AAChB,yBAAW,QAAQ,EAAE,MAAM,YAAY,IAAI,KAAK;AAAA,YAClD;AACA,uBAAW,QAAQ;AAAA,cACjB,MAAM;AAAA,cACN;AAAA,cACA,OAAO,uBAAuB,KAAK;AAAA,cACnC,GAAG,oBAAoB,OAAO,EAAE,qBAAqB,CAAA;AAAA,YACnE,CAAa;AAAA,UACH;AAAA,QACV,CAAS;AAAA,MACT;AAAA,MACM,SAAS,EAAE,KAAI;AAAA,MACf,UAAU,EAAE,SAAS,gBAAe;AAAA,IAC1C;AAAA,EACE;AACF;AAYA,SAAS,6BAA6B,OAAO;AAC3C,MAAIgC,MAAIC,KAAI,IAAI;AAChB,MAAI,SAAS,MAAM;AACjB,WAAO;AAAA,MACL,aAAa;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,QACT,WAAW;AAAA,QACX,YAAY;AAAA,MACpB;AAAA,MACM,cAAc;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACN,WAAW;AAAA,MACnB;AAAA,MACM,KAAK;AAAA,IACX;AAAA,EACE;AACA,QAAM,gBAAgBD,OAAK,MAAM,kBAAkB,OAAOA,OAAK;AAC/D,QAAM,oBAAoBC,MAAK,MAAM,sBAAsB,OAAOA,MAAK;AACvE,SAAO;AAAA,IACL,aAAa;AAAA,MACX,QAAQ,KAAK,MAAM,kBAAkB,OAAO,KAAK;AAAA,MACjD,SAAS;AAAA,MACT,WAAW;AAAA,MACX,YAAY;AAAA,IAClB;AAAA,IACI,cAAc;AAAA,MACZ,QAAQ,KAAK,MAAM,sBAAsB,OAAO,KAAK;AAAA,MACrD,MAAM;AAAA,MACN,WAAW;AAAA,IACjB;AAAA,IACI,KAAK;AAAA,EACT;AACA;AAOA,SAAS,gCAAgC;AAAA,EACvC;AAAA,EACA,OAAO;AAAA,EACP,YAAY;AACd,GAAG;AACD,MAAId,QAAO;AACX,MAAI,OAAO,CAAC,EAAE,SAAS,UAAU;AAC/B,IAAAA,SAAQ,GAAG,OAAO,CAAC,EAAE,OAAO;AAAA;AAAA;AAG5B,aAAS,OAAO,MAAM,CAAC;AAAA,EACzB;AACA,aAAW,EAAE,MAAM,QAAO,KAAM,QAAQ;AACtC,YAAQ,MAAI;AAAA,MACV,KAAK,UAAU;AACb,cAAM,IAAI,mBAAmB;AAAA,UAC3B,SAAS;AAAA,UACT;AAAA,QACV,CAAS;AAAA,MACH;AAAA,MACA,KAAK,QAAQ;AACX,cAAM,cAAc,QAAQ,IAAI,CAAC,SAAS;AACxC,kBAAQ,KAAK,MAAI;AAAA,YACf,KAAK,QAAQ;AACX,qBAAO,KAAK;AAAA,YACd;AAAA,UACZ;AAAA,QACQ,CAAC,EAAE,OAAO,OAAO,EAAE,KAAK,EAAE;AAC1B,QAAAA,SAAQ,GAAG,IAAI;AAAA,EACrB,WAAW;AAAA;AAAA;AAGL;AAAA,MACF;AAAA,MACA,KAAK,aAAa;AAChB,cAAM,mBAAmB,QAAQ,IAAI,CAAC,SAAS;AAC7C,kBAAQ,KAAK,MAAI;AAAA,YACf,KAAK,QAAQ;AACX,qBAAO,KAAK;AAAA,YACd;AAAA,YACA,KAAK,aAAa;AAChB,oBAAM,IAAIqiB,8BAA+B;AAAA,gBACvC,eAAe;AAAA,cAC/B,CAAe;AAAA,YACH;AAAA,UACZ;AAAA,QACQ,CAAC,EAAE,KAAK,EAAE;AACV,QAAAriB,SAAQ,GAAG,SAAS;AAAA,EAC1B,gBAAgB;AAAA;AAAA;AAGV;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,cAAM,IAAIqiB,8BAA+B;AAAA,UACvC,eAAe;AAAA,QACzB,CAAS;AAAA,MACH;AAAA,MACA,SAAS;AACP,cAAM,mBAAmB;AACzB,cAAM,IAAI,MAAM,qBAAqB,gBAAgB,EAAE;AAAA,MACzD;AAAA,IACN;AAAA,EACE;AACA,EAAAriB,SAAQ,GAAG,SAAS;AAAA;AAEpB,SAAO;AAAA,IACL,QAAQA;AAAA,IACR,eAAe,CAAC;AAAA,EAClB,IAAI,GAAG;AAAA,EACT;AACA;AAGA,SAAS,qBAAqB;AAAA,EAC5B;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,SAAO;AAAA,IACL,IAAI,MAAM,OAAO,KAAK;AAAA,IACtB,SAAS,SAAS,OAAO,QAAQ;AAAA,IACjC,WAAW,WAAW,OAAO,IAAI,KAAK,UAAU,GAAG,IAAI;AAAA,EAC3D;AACA;AAGA,SAAS,uBAAuB,cAAc;AAC5C,UAAQ,cAAY;AAAA,IAClB,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AAAA,IACL,KAAK;AACH,aAAO;AAAA,IACT;AACE,aAAO;AAAA,EACb;AACA;AAKA,IAAI,iCAAiC6Y;AAAAA,EACnC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,IAAIG,OAAS,EAAG,QAAO;AAAA,MACvB,SAASF,SAAS,EAAG,QAAO;AAAA,MAC5B,OAAOE,OAAS,EAAG,QAAO;AAAA,MAC1B,SAASC;AAAAA,QACPJ,SAAU;AAAA,UACR,MAAMG,OAAS;AAAA,UACf,eAAeA,OAAS;AAAA,UACxB,UAAUH,SAAU;AAAA,YAClB,QAAQI,QAASD,QAAW;AAAA,YAC5B,gBAAgBC,QAASH,UAAW;AAAA,YACpC,cAAcG,QAAS2H,OAAU5H,OAAS,GAAIF,SAAS,CAAE,CAAC,EAAE,QAAO;AAAA,UAC/E,CAAW,EAAE,QAAO;AAAA,QACpB,CAAS;AAAA,MACT;AAAA,MACM,OAAOD,SAAU;AAAA,QACf,eAAeC,SAAS;AAAA,QACxB,mBAAmBA,SAAS;AAAA,QAC5B,cAAcA,SAAS;AAAA,MAC/B,CAAO,EAAE,QAAO;AAAA,IAChB,CAAK;AAAA,EACL;AACA;AACA,IAAI,8BAA8BH;AAAAA,EAChC,MAAMC;AAAAA,IACJwJ,MAAS;AAAA,MACPvJ,SAAU;AAAA,QACR,IAAIG,OAAS,EAAG,QAAO;AAAA,QACvB,SAASF,SAAS,EAAG,QAAO;AAAA,QAC5B,OAAOE,OAAS,EAAG,QAAO;AAAA,QAC1B,SAASC;AAAAA,UACPJ,SAAU;AAAA,YACR,MAAMG,OAAS;AAAA,YACf,eAAeA,OAAS,EAAG,QAAO;AAAA,YAClC,OAAOF,SAAS;AAAA,YAChB,UAAUD,SAAU;AAAA,cAClB,QAAQI,QAASD,QAAW;AAAA,cAC5B,gBAAgBC,QAASH,UAAW;AAAA,cACpC,cAAcG,QAAS2H,OAAU5H,OAAS,GAAIF,SAAS,CAAE,CAAC,EAAE,QAAO;AAAA,YACjF,CAAa,EAAE,QAAO;AAAA,UACtB,CAAW;AAAA,QACX;AAAA,QACQ,OAAOD,SAAU;AAAA,UACf,eAAeC,SAAS;AAAA,UACxB,mBAAmBA,SAAS;AAAA,UAC5B,cAAcA,SAAS;AAAA,QACjC,CAAS,EAAE,QAAO;AAAA,MAClB,CAAO;AAAA,MACD;AAAA,IACN,CAAK;AAAA,EACL;AACA;AAKA,IAAI,kCAAkCI;AAAAA,EACpC,MAAMC;AAAAA,IACJC,SAAU;AAAA;AAAA;AAAA;AAAA,MAIR,MAAM+H,QAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAe3B,WAAWkB,OAAU9I,OAAS,GAAIF,SAAS,CAAE,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA,MAIvD,QAAQE,OAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,MAK5B,MAAMA,OAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAU1B,UAAU0H,MAAS,CAACE,QAAU,GAAI9H,SAAS,CAAE,CAAC,EAAE,SAAQ;AAAA,IAC9D,CAAK;AAAA,EACL;AACA;AAGA,IAAI,gCAAgC,MAAM;AAAA,EACxC,YAAY,SAAS1Z,SAAQ;AAC3B,SAAK,uBAAuB;AAC5B,SAAK,gBAAgB;AAAA;AAAA,IAEzB;AACI,SAAK,UAAU;AACf,SAAK,SAASA;AAAA,EAChB;AAAA,EACA,IAAI,sBAAsB;AACxB,WAAO,KAAK,OAAO,SAAS,MAAM,GAAG,EAAE,CAAC,EAAE,KAAI;AAAA,EAChD;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA,eAAe;AAAA,IACf;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM,WAAW,CAAA;AACjB,UAAM,gBAAgB;AAAA,MACpB,GAAG,MAAMsc,qBAAsB;AAAA,QAC7B,UAAU;AAAA,QACV;AAAA,QACA,QAAQ;AAAA,MAChB,CAAO;AAAA,MACD,GAAG,MAAMA,qBAAsB;AAAA,QAC7B,UAAU,KAAK;AAAA,QACf;AAAA,QACA,QAAQ;AAAA,MAChB,CAAO;AAAA,IACP;AACI,QAAI,QAAQ,MAAM;AAChB,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,QAAQ;AAAA,IACxD;AACA,QAAI,SAAS,OAAO,SAAS,MAAM,QAAQ;AACzC,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,SAAS;AAAA,IACzD;AACA,QAAI,cAAc,MAAM;AACtB,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,cAAc;AAAA,IAC9D;AACA,QAAI,kBAAkB,QAAQ,eAAe,SAAS,QAAQ;AAC5D,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AACA,UAAM,EAAE,QAAQ,kBAAkB,cAAa,IAAK,gCAAgC,EAAE,QAAQ;AAC9F,UAAM,OAAO,CAAC,GAAG,iBAAiB,OAAO,gBAAgB,CAAA,GAAI,GAAG,qBAAqB,OAAO,oBAAoB,CAAA,CAAE;AAClH,WAAO;AAAA,MACL,MAAM;AAAA;AAAA,QAEJ,OAAO,KAAK;AAAA;AAAA,QAEZ,MAAM,cAAc;AAAA,QACpB,YAAY,cAAc;AAAA,QAC1B,WAAW,iBAAiB,OAAO,SAAS,cAAc,cAAc,OAAO,KAAK,iBAAiB,OAAO,SAAS,cAAc,cAAc,QAAQ,SAAS,iBAAiB,OAAO,SAAS,cAAc;AAAA,QACjN,QAAQ,cAAc;AAAA,QACtB,MAAM,cAAc;AAAA;AAAA,QAEpB,YAAY;AAAA,QACZ;AAAA,QACA,OAAO;AAAA,QACP,mBAAmB;AAAA,QACnB,kBAAkB;AAAA,QAClB;AAAA;AAAA,QAEA,QAAQ;AAAA;AAAA,QAER,MAAM,KAAK,SAAS,IAAI,OAAO;AAAA,MACvC;AAAA,MACM;AAAA,IACN;AAAA,EACE;AAAA,EACA,MAAM,WAAW,SAAS;AACxB,QAAItb;AACJ,UAAM,EAAE,MAAM,SAAQ,IAAK,MAAM,KAAK,QAAQ,OAAO;AACrD,UAAM;AAAA,MACJ;AAAA,MACA,OAAO;AAAA,MACP,UAAU;AAAA,IAChB,IAAQ,MAAMogB,cAAe;AAAA,MACvB,KAAK,KAAK,OAAO,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,KAAK;AAAA,MACtB,CAAO;AAAA,MACD,SAASF,eAAgB,KAAK,OAAO,QAAO,GAAI,QAAQ,OAAO;AAAA,MAC/D,MAAM;AAAA,MACN,uBAAuB;AAAA,MACvB,2BAA2BG;AAAAA,QACzB;AAAA,MACR;AAAA,MACM,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,UAAMriB,UAAS,SAAS,QAAQ,CAAC;AACjC,UAAM,mBAAmB,EAAE,QAAQ,GAAE;AACrC,QAAIA,QAAO,YAAY,MAAM;AAC3B,uBAAiB,OAAO,WAAWA,QAAO;AAAA,IAC5C;AACA,WAAO;AAAA,MACL,SAAS,CAAC,EAAE,MAAM,QAAQ,MAAMA,QAAO,MAAM;AAAA,MAC7C,OAAO,6BAA6B,SAAS,KAAK;AAAA,MAClD,cAAc;AAAA,QACZ,SAAS,uBAAuBA,QAAO,aAAa;AAAA,QACpD,MAAMgC,OAAKhC,QAAO,kBAAkB,OAAOgC,OAAK;AAAA,MACxD;AAAA,MACM,SAAS,EAAE,MAAM,KAAI;AAAA,MACrB,UAAU;AAAA,QACR,GAAG,qBAAqB,QAAQ;AAAA,QAChC,SAAS;AAAA,QACT,MAAM;AAAA,MACd;AAAA,MACM;AAAA,MACA;AAAA,IACN;AAAA,EACE;AAAA,EACA,MAAM,SAAS,SAAS;AACtB,UAAM,EAAE,MAAM,SAAQ,IAAK,MAAM,KAAK,QAAQ,OAAO;AACrD,UAAM,OAAO;AAAA,MACX,GAAG;AAAA,MACH,QAAQ;AAAA,MACR,gBAAgB;AAAA,QACd,eAAe;AAAA,MACvB;AAAA,IACA;AACI,UAAM,EAAE,iBAAiB,OAAO,SAAQ,IAAK,MAAMogB,cAAe;AAAA,MAChE,KAAK,KAAK,OAAO,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,KAAK;AAAA,MACtB,CAAO;AAAA,MACD,SAASF,eAAgB,KAAK,OAAO,QAAO,GAAI,QAAQ,OAAO;AAAA,MAC/D;AAAA,MACA,uBAAuB;AAAA,MACvB,2BAA2ByB;AAAAA,QACzB;AAAA,MACR;AAAA,MACM,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,QAAI,eAAe;AAAA,MACjB,SAAS;AAAA,MACT,KAAK;AAAA,IACX;AACI,UAAM,mBAAmB,EAAE,QAAQ,GAAE;AACrC,QAAI,QAAQ;AACZ,QAAI,eAAe;AACnB,WAAO;AAAA,MACL,QAAQ,SAAS;AAAA,QACf,IAAI,gBAAgB;AAAA,UAClB,MAAM,YAAY;AAChB,uBAAW,QAAQ,EAAE,MAAM,gBAAgB,SAAQ,CAAE;AAAA,UACvD;AAAA,UACA,UAAU,OAAO,YAAY;AAC3B,gBAAI,QAAQ,kBAAkB;AAC5B,yBAAW,QAAQ,EAAE,MAAM,OAAO,UAAU,MAAM,UAAU;AAAA,YAC9D;AACA,gBAAI,CAAC,MAAM,SAAS;AAClB,6BAAe,EAAE,SAAS,SAAS,KAAK,OAAM;AAC9C,yBAAW,QAAQ,EAAE,MAAM,SAAS,OAAO,MAAM,OAAO;AACxD;AAAA,YACF;AACA,kBAAM,QAAQ,MAAM;AACpB,gBAAI,WAAW,OAAO;AACpB,6BAAe,EAAE,SAAS,SAAS,KAAK,OAAM;AAC9C,yBAAW,QAAQ,EAAE,MAAM,SAAS,OAAO,MAAM,OAAO;AACxD;AAAA,YACF;AACA,gBAAI,cAAc;AAChB,6BAAe;AACf,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,GAAG,qBAAqB,KAAK;AAAA,cAC7C,CAAe;AACD,yBAAW,QAAQ,EAAE,MAAM,cAAc,IAAI,KAAK;AAAA,YACpD;AACA,gBAAI,MAAM,SAAS,MAAM;AACvB,sBAAQ,MAAM;AAAA,YAChB;AACA,kBAAM3jB,UAAS,MAAM,QAAQ,CAAC;AAC9B,iBAAKA,WAAU,OAAO,SAASA,QAAO,kBAAkB,MAAM;AAC5D,6BAAe;AAAA,gBACb,SAAS,uBAAuBA,QAAO,aAAa;AAAA,gBACpD,KAAKA,QAAO;AAAA,cAC5B;AAAA,YACY;AACA,iBAAKA,WAAU,OAAO,SAASA,QAAO,aAAa,MAAM;AACvD,+BAAiB,OAAO,WAAWA,QAAO;AAAA,YAC5C;AACA,iBAAKA,WAAU,OAAO,SAASA,QAAO,SAAS,QAAQA,QAAO,KAAK,SAAS,GAAG;AAC7E,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,IAAI;AAAA,gBACJ,OAAOA,QAAO;AAAA,cAC9B,CAAe;AAAA,YACH;AAAA,UACF;AAAA,UACA,MAAM,YAAY;AAChB,gBAAI,CAAC,cAAc;AACjB,yBAAW,QAAQ,EAAE,MAAM,YAAY,IAAI,KAAK;AAAA,YAClD;AACA,uBAAW,QAAQ;AAAA,cACjB,MAAM;AAAA,cACN;AAAA,cACA;AAAA,cACA,OAAO,6BAA6B,KAAK;AAAA,YACvD,CAAa;AAAA,UACH;AAAA,QACV,CAAS;AAAA,MACT;AAAA,MACM,SAAS,EAAE,KAAI;AAAA,MACf,UAAU,EAAE,SAAS,gBAAe;AAAA,IAC1C;AAAA,EACE;AACF;AAgBA,IAAI,iCAAiC8a;AAAAA,EACnC,MAAMC;AAAAA,IACJC,SAAU;AAAA;AAAA;AAAA;AAAA;AAAA,MAKR,YAAYC,SAAS,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,MAKhC,MAAME,OAAS,EAAG,SAAQ;AAAA,IAChC,CAAK;AAAA,EACL;AACA;AAKA,IAAI,oCAAoCO;AAAAA,EACtC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,MAAMI,QAASJ,SAAU,EAAE,WAAWI,QAASD,SAAS,CAAE,EAAC,CAAE,CAAC;AAAA,MAC9D,OAAOH,SAAU,EAAE,eAAeG,SAAS,EAAE,CAAE,EAAE,QAAO;AAAA,IAC9D,CAAK;AAAA,EACL;AACA;AAGA,IAAI,uBAAuB,MAAM;AAAA,EAC/B,YAAY,SAAS/a,SAAQ;AAC3B,SAAK,uBAAuB;AAC5B,SAAK,uBAAuB;AAC5B,SAAK,wBAAwB;AAC7B,SAAK,UAAU;AACf,SAAK,SAASA;AAAA,EAChB;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,QAAIgB;AACJ,QAAI,OAAO,SAAS,KAAK,sBAAsB;AAC7C,YAAM,IAAI,mCAAmC;AAAA,QAC3C,UAAU,KAAK;AAAA,QACf,SAAS,KAAK;AAAA,QACd,sBAAsB,KAAK;AAAA,QAC3B;AAAA,MACR,CAAO;AAAA,IACH;AACA,UAAM,iBAAiBA,OAAK,MAAM6gB,qBAAsB;AAAA,MACtD,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACd,CAAK,MAAM,OAAO7gB,OAAK,CAAA;AACnB,UAAM;AAAA,MACJ;AAAA,MACA,OAAO;AAAA,MACP;AAAA,IACN,IAAQ,MAAM8gB,cAAe;AAAA,MACvB,KAAK,KAAK,OAAO,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,KAAK;AAAA,MACtB,CAAO;AAAA,MACD,SAASC,eAAgB,KAAK,OAAO,QAAO,GAAI,OAAO;AAAA,MACvD,MAAM;AAAA,QACJ,OAAO,KAAK;AAAA,QACZ,OAAO;AAAA,QACP,iBAAiB;AAAA,QACjB,YAAY,cAAc;AAAA,QAC1B,MAAM,cAAc;AAAA,MAC5B;AAAA,MACM,uBAAuB;AAAA,MACvB,2BAA2BE;AAAAA,QACzB;AAAA,MACR;AAAA,MACM;AAAA,MACA,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,WAAO;AAAA,MACL,UAAU,CAAA;AAAA,MACV,YAAY,SAAS,KAAK,IAAI,CAAC,SAAS,KAAK,SAAS;AAAA,MACtD,OAAO,SAAS,QAAQ,EAAE,QAAQ,SAAS,MAAM,cAAa,IAAK;AAAA,MACnE,UAAU,EAAE,SAAS,iBAAiB,MAAM,SAAQ;AAAA,IAC1D;AAAA,EACE;AACF;AAgBA,IAAI,4BAA4B/G;AAAAA,EAC9B,MAAMC;AAAAA,IACJE,SAAU;AAAA,MACR,SAASG,SAAS,EAAG,QAAO;AAAA,MAC5B,MAAMC;AAAAA,QACJJ,SAAU;AAAA,UACR,UAAUE,OAAS;AAAA,UACnB,gBAAgBA,OAAS,EAAG,QAAO;AAAA,QAC7C,CAAS;AAAA,MACT;AAAA,MACM,YAAYA,OAAS,EAAG,QAAO;AAAA,MAC/B,eAAeA,OAAS,EAAG,QAAO;AAAA,MAClC,MAAMA,OAAS,EAAG,QAAO;AAAA,MACzB,SAASA,OAAS,EAAG,QAAO;AAAA,MAC5B,OAAOF,SAAU;AAAA,QACf,cAAcG,SAAS,EAAG,QAAO;AAAA,QACjC,eAAeA,SAAS,EAAG,QAAO;AAAA,QAClC,cAAcA,SAAS,EAAG,QAAO;AAAA,QACjC,sBAAsBH,SAAU;AAAA,UAC9B,cAAcG,SAAS,EAAG,QAAO;AAAA,UACjC,aAAaA,SAAS,EAAG,QAAO;AAAA,QAC1C,CAAS,EAAE,QAAO;AAAA,MAClB,CAAO,EAAE,QAAO;AAAA,IAChB,CAAK;AAAA,EACL;AACA;AAGA,IAAI,wBAAwB;AAAA,EAC1B,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,eAAe;AAAA,EACf,oBAAoB;AAAA,EACpB,iBAAiB;AACnB;AACA,IAAI,gCAAgC;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AACF;AACA,SAAS,yBAAyB,SAAS;AACzC,SAAO,8BAA8B;AAAA,IACnC,CAAC,WAAW,QAAQ,WAAW,MAAM;AAAA,EACzC;AACA;AAGA,IAAI,mBAAmB,MAAM;AAAA,EAC3B,YAAY,SAASxb,SAAQ;AAC3B,SAAK,UAAU;AACf,SAAK,SAASA;AACd,SAAK,uBAAuB;AAAA,EAC9B;AAAA,EACA,IAAI,mBAAmB;AACrB,QAAIgB;AACJ,YAAQA,OAAK,sBAAsB,KAAK,OAAO,MAAM,OAAOA,OAAK;AAAA,EACnE;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,WAAW;AAAA,IACf;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,QAAIA,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAC5C,UAAM,WAAW,CAAA;AACjB,QAAI,eAAe,MAAM;AACvB,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AACA,QAAI,QAAQ,MAAM;AAChB,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,QAAQ;AAAA,IACxD;AACA,UAAM,eAAe,MAAMA,OAAMD,OAAK,KAAK,OAAO,cAAc,OAAO,SAASA,KAAG,gBAAgB,OAAO,SAASC,IAAG,KAAKD,IAAE,MAAM,OAAO,KAAqB,oBAAI,KAAI;AACvK,QAAI,SAAS,MAAM;AACjB,YAAM,EAAE,OAAO,WAAW,iBAAiB,iBAAgB,IAAK,MAAM,kBAAkB;AAAA,QACtF,KAAK,KAAK,OAAO,IAAI;AAAA,UACnB,MAAM;AAAA,UACN,SAAS,KAAK;AAAA,QACxB,CAAS;AAAA,QACD,SAAS4hB,eAAgB,KAAK,OAAO,QAAO,GAAI,OAAO;AAAA,QACvD,UAAU,kBAAkB;AAAA,UAC1B,OAAO,KAAK;AAAA,UACZ;AAAA,UACA,OAAO,MAAM,QAAQ;AAAA,YACnB,MAAM;AAAA,cACJ,CAAC,SAAS,KAAK,SAAS,SAAS,IAAI;AAAA,gBACnC;AAAA,kBACE,KAAK,gBAAgB,aAAa,IAAI,KAAK,CAAC,KAAK,IAAI,GAAG;AAAA,oBACtD,MAAM,KAAK;AAAA,kBAC/B,CAAmB,IAAI,IAAI,KAAK,CAAC,0BAA0B,KAAK,IAAI,CAAC,GAAG;AAAA,oBACpD,MAAM,KAAK;AAAA,kBAC/B,CAAmB;AAAA,gBACnB;AAAA,gBACgB,EAAE,MAAM,KAAK,UAAS;AAAA,cACtC,IAAkB,aAAa,KAAK,GAAG;AAAA,YACvC;AAAA,UACA;AAAA,UACU,MAAM,QAAQ,OAAO,MAAM,WAAW,IAAI,IAAI;AAAA,UAC9C;AAAA,UACA;AAAA,UACA,IAAI,KAAK,gBAAgB,WAAW,OAAO,KAAK,CAAA;AAAA,QAC1D,CAAS;AAAA,QACD,uBAAuB;AAAA,QACvB,2BAA2BC;AAAAA,UACzB;AAAA,QACV;AAAA,QACQ;AAAA,QACA,OAAO,KAAK,OAAO;AAAA,MAC3B,CAAO;AACD,aAAO;AAAA,QACL,QAAQ,UAAU,KAAK,IAAI,CAAC,SAAS,KAAK,QAAQ;AAAA,QAClD;AAAA,QACA,OAAO,UAAU,SAAS,OAAO;AAAA,UAC/B,cAAc,KAAK,UAAU,MAAM,iBAAiB,OAAO,KAAK;AAAA,UAChE,eAAe,KAAK,UAAU,MAAM,kBAAkB,OAAO,KAAK;AAAA,UAClE,cAAc,KAAK,UAAU,MAAM,iBAAiB,OAAO,KAAK;AAAA,QAC1E,IAAY;AAAA,QACJ,UAAU;AAAA,UACR,WAAW;AAAA,UACX,SAAS,KAAK;AAAA,UACd,SAAS;AAAA,QACnB;AAAA,QACQ,kBAAkB;AAAA,UAChB,QAAQ;AAAA,YACN,QAAQ,UAAU,KAAK,IAAI,CAAC,SAAS;AACnC,kBAAIxhB,MAAKC,MAAK,KAAK,KAAK;AACxB,qBAAO;AAAA,gBACL,GAAG,KAAK,iBAAiB,EAAE,eAAe,KAAK,eAAc,IAAK,CAAA;AAAA,gBAClE,UAAUD,OAAM,UAAU,YAAY,OAAOA,OAAM;AAAA,gBACnD,OAAOC,OAAM,UAAU,SAAS,OAAOA,OAAM;AAAA,gBAC7C,UAAU,MAAM,UAAU,YAAY,OAAO,MAAM;AAAA,gBACnD,aAAa,MAAM,UAAU,eAAe,OAAO,MAAM;AAAA,gBACzD,eAAe,MAAM,UAAU,kBAAkB,OAAO,MAAM;AAAA,cAC9E;AAAA,YACY,CAAC;AAAA,UACb;AAAA,QACA;AAAA,MACA;AAAA,IACI;AACA,UAAM,EAAE,OAAO,UAAU,gBAAe,IAAK,MAAMwhB,cAAe;AAAA,MAChE,KAAK,KAAK,OAAO,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,KAAK;AAAA,MACtB,CAAO;AAAA,MACD,SAASF,eAAgB,KAAK,OAAO,QAAO,GAAI,OAAO;AAAA,MACvD,MAAM;AAAA,QACJ,OAAO,KAAK;AAAA,QACZ;AAAA,QACA;AAAA,QACA;AAAA,QACA,IAAI,KAAK,gBAAgB,WAAW,OAAO,KAAK,CAAA;AAAA,QAChD,GAAG,CAAC,yBAAyB,KAAK,OAAO,IAAI,EAAE,iBAAiB,eAAe,CAAA;AAAA,MACvF;AAAA,MACM,uBAAuB;AAAA,MACvB,2BAA2BC;AAAAA,QACzB;AAAA,MACR;AAAA,MACM;AAAA,MACA,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,WAAO;AAAA,MACL,QAAQ,SAAS,KAAK,IAAI,CAAC,SAAS,KAAK,QAAQ;AAAA,MACjD;AAAA,MACA,OAAO,SAAS,SAAS,OAAO;AAAA,QAC9B,cAAc,KAAK,SAAS,MAAM,iBAAiB,OAAO,KAAK;AAAA,QAC/D,eAAe,KAAK,SAAS,MAAM,kBAAkB,OAAO,KAAK;AAAA,QACjE,cAAc,KAAK,SAAS,MAAM,iBAAiB,OAAO,KAAK;AAAA,MACvE,IAAU;AAAA,MACJ,UAAU;AAAA,QACR,WAAW;AAAA,QACX,SAAS,KAAK;AAAA,QACd,SAAS;AAAA,MACjB;AAAA,MACM,kBAAkB;AAAA,QAChB,QAAQ;AAAA,UACN,QAAQ,SAAS,KAAK,IAAI,CAAC,SAAS;AAClC,gBAAIxhB,MAAKC,MAAK,KAAK,KAAK;AACxB,mBAAO;AAAA,cACL,GAAG,KAAK,iBAAiB,EAAE,eAAe,KAAK,eAAc,IAAK,CAAA;AAAA,cAClE,UAAUD,OAAM,SAAS,YAAY,OAAOA,OAAM;AAAA,cAClD,OAAOC,OAAM,SAAS,SAAS,OAAOA,OAAM;AAAA,cAC5C,UAAU,MAAM,SAAS,YAAY,OAAO,MAAM;AAAA,cAClD,aAAa,MAAM,SAAS,eAAe,OAAO,MAAM;AAAA,cACxD,eAAe,MAAM,SAAS,kBAAkB,OAAO,MAAM;AAAA,YAC3E;AAAA,UACU,CAAC;AAAA,QACX;AAAA,MACA;AAAA,IACA;AAAA,EACE;AACF;AACA,eAAe,WAAW,MAAM;AAC9B,MAAI,CAAC,KAAM,QAAO;AAClB,MAAI,KAAK,SAAS,OAAO;AACvB,WAAO,aAAa,KAAK,GAAG;AAAA,EAC9B;AACA,QAAM,OAAO,KAAK,gBAAgB,aAAa,KAAK,OAAO,0BAA0B,KAAK,IAAI;AAC9F,SAAO,IAAI,KAAK,CAAC,IAAI,GAAG,EAAE,MAAM,KAAK,WAAW;AAClD;AASA,IAAI,wBAAwBsa;AAAAA,EAC1B,MAAMC;AAAAA,IACJE,SAAU;AAAA,MACR,QAAQE,OAAS;AAAA,MACjB,WAAW8G,mBAAsB,QAAQ;AAAA,QACvChH,SAAU;AAAA,UACR,MAAMC,QAAW,aAAa;AAAA,UAC9B,MAAMC,OAAS;AAAA,UACf,MAAMA,OAAS;AAAA,QACzB,CAAS;AAAA,QACDF,SAAU;AAAA,UACR,MAAMC,QAAW,aAAa;AAAA,UAC9B,MAAMC,OAAS;AAAA,QACzB,CAAS;AAAA,QACDF,SAAU;AAAA,UACR,MAAMC,QAAW,aAAa;AAAA,UAC9B,MAAMC,OAAS;AAAA,UACf,MAAMA,OAAS;AAAA,QACzB,CAAS;AAAA,MACT,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,yBAAyBL;AAAAA,EAC3B,MAAMC;AAAAA,IACJE,SAAU;AAAA,MACR,QAAQiH,MAAQ,CAAC,aAAa,QAAQ,CAAC;AAAA,MACvC,QAAQ/G,OAAS,EAAG,SAAQ;AAAA,IAClC,CAAK;AAAA,EACL;AACA;AAEA,IAAI,wBAAwB,0CAA0C;AAAA,EACpE,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AACD,IAAI,aAAa;AASjB,IAAI,6BAA6BM;AAAAA,EAC/B,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,MAAMC,OAAU,EAAG,QAAO;AAAA,MAC1B,aAAaA,OAAU;AAAA,IAC7B,CAAK;AAAA,EACL;AACA;AACA,IAAI,8BAA8BH;AAAAA,EAChC,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,SAASwG;AAAAA,QACPC,mBAAuB,QAAQ;AAAA,UAC7BzG,SAAW,EAAE,MAAM0G,QAAY,MAAM,GAAG,MAAMzG,OAAU,GAAI;AAAA,UAC5DD,SAAW,EAAE,MAAM0G,QAAY,OAAO,GAAG,KAAKzG,SAAY,CAAE;AAAA,QACtE,CAAS;AAAA,MACT,EAAQ,QAAO;AAAA,IACf,CAAK;AAAA,EACL;AACA;AACA,IAAI,4BAA4BH;AAAAA,EAC9B,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,WAAW2G,MAAU;AAAA,QACnB1G,OAAU;AAAA,QACVD,SAAW;AAAA,UACT,SAASwG,QAAUvG,OAAU,CAAE,EAAE,SAAQ;AAAA,QACnD,CAAS;AAAA,MACT,CAAO,EAAE,SAAQ;AAAA,IACjB,CAAK;AAAA,EACL;AACA;AACA,IAAI,6BAA6BnC,0CAA2C;AAAA,EAC1E,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AACD,IAAI,kBAAkB,CAAC,OAAO,OAAO;AACnC,SAAO,2BAA2B,IAAI;AACxC;AASA,IAAI,yBAAyBwC,SAAW;AAAA,EACtC,KAAKC,OAAU;AAAA,EACf,MAAMqG,MAAS,CAAC,MAAM,MAAM,MAAM,OAAO,MAAM,OAAO,MAAM,KAAK,CAAC;AAAA,EAClE,OAAOC,MAAU,CAACtG,UAAcuG,YAActG,WAAeuG,QAAUxG,OAAU,CAAE,CAAC,CAAC;AACvF,CAAC;AACD,IAAI,uBAAuBD,SAAW;AAAA,EACpC,MAAMsG,MAAS,CAAC,OAAO,IAAI,CAAC;AAAA,EAC5B,SAASG;AAAAA,IACPF,MAAU,CAAC,wBAAwBG,KAAS,MAAM,oBAAoB,CAAC,CAAC;AAAA,EAC5E;AACA,CAAC;AACD,IAAI,uBAAuB5G;AAAAA,EACzB,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,gBAAgByG,QAAUxG,QAAY;AAAA,MACtC,eAAeuG,SAAU,EAAG,SAAQ;AAAA,MACpC,SAASxG,SAAW;AAAA,QAClB,QAAQC,OAAU,EAAG,SAAQ;AAAA,QAC7B,gBAAgBuG,SAAU,EAAG,SAAQ;AAAA,MAC7C,CAAO,EAAE,SAAQ;AAAA,MACX,SAASD,MAAU,CAAC,wBAAwB,oBAAoB,CAAC,EAAE,SAAQ;AAAA,IACjF,CAAK;AAAA,EACL;AACA;AACA,IAAI,yBAAyBzG;AAAAA,EAC3B,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,SAASyG,QAAUxG,QAAY;AAAA,MAC/B,SAASwG;AAAAA,QACPzG,SAAW;AAAA,UACT,YAAY2G,OAAW1G,OAAU,GAAI2G,QAAW,CAAE;AAAA,UAClD,QAAQ3G,OAAU;AAAA,UAClB,UAAUA,OAAU;AAAA,UACpB,OAAOuG,SAAU;AAAA,UACjB,MAAMvG,OAAU;AAAA,QAC1B,CAAS;AAAA,MACT,EAAQ,SAAQ;AAAA,IAChB,CAAK;AAAA,EACL;AACA;AACA,IAAI,aAAa/B,0CAA2C;AAAA,EAC1D,IAAI;AAAA,EACJ,aAAa8B,SAAW,EAAE;AAAA,EAC1B,cAAc;AAChB,CAAC;AASD,IAAI,4BAA4BI;AAAAA,EAC9B,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,YAAYC,MAAS,CAAC,QAAQ,UAAU,aAAa,CAAC,EAAE,SAAQ;AAAA,MAChE,eAAeA,MAAS,CAAC,OAAO,MAAM,CAAC,EAAE,SAAQ;AAAA,MACjD,gBAAgBD,SAAW;AAAA,QACzB,QAAQI,OAAU,EAAG,SAAQ;AAAA,QAC7B,UAAUA,OAAU,EAAG,SAAQ;AAAA,MACvC,CAAO,EAAE,SAAQ;AAAA,MACX,OAAOA,OAAU,EAAG,SAAQ;AAAA,MAC5B,YAAYH,MAAS,CAAC,MAAM,CAAC,EAAE,SAAQ;AAAA,MACvC,mBAAmBE,WAAa,MAAM,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,SAAQ;AAAA,MAC9D,cAAcF,MAAS,CAAC,OAAO,QAAQ,MAAM,CAAC,EAAE,SAAQ;AAAA,MACxD,eAAeE,WAAa,MAAM,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,SAAQ;AAAA,MACxD,SAASF,MAAS,CAAC,QAAQ,OAAO,UAAU,MAAM,CAAC,EAAE,SAAQ;AAAA,MAC7D,MAAMA,MAAS,CAAC,aAAa,aAAa,aAAa,MAAM,CAAC,EAAE,SAAQ;AAAA,IAC9E,CAAK,EAAE,OAAM;AAAA,EACb;AACA;AACA,IAAI,6BAA6BH,WAAa,MAAMC,UAAYC,SAAW,CAAA,CAAE,CAAC,CAAC;AAC/E,IAAI,8BAA8BF;AAAAA,EAChC,MAAMC,UAAYC,SAAW,EAAE,QAAQI,OAAU,EAAE,CAAE,CAAC;AACxD;AACA,IAAI,6BAA6B9B,0CAA2C;AAAA,EAC1E,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AACD,IAAI,kBAAkB,CAAC,OAAO,OAAO;AACnC,SAAO,2BAA2B,IAAI;AACxC;AASA,IAAI,wBAAwBgC;AAAAA,EAC1B,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,QAAQA,SAAW;AAAA,QACjB,MAAM+F,QAAY,MAAM;AAAA,QACxB,SAAS1B,QAAUjE,QAAY;AAAA,QAC/B,WAAWD,SAAU,EAAG,SAAQ;AAAA,QAChC,MAAMC,OAAU,EAAG,SAAQ;AAAA,QAC3B,kBAAkBA,OAAU,EAAG,SAAQ;AAAA,QACvC,KAAK4F,OAAW5F,OAAU,GAAIA,OAAU,CAAE,EAAE,SAAQ;AAAA,MAC5D,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,yBAAyBN;AAAAA,EAC3B,MAAMC,UAAYC,SAAW,EAAE,QAAQI,OAAU,EAAE,CAAE,CAAC;AACxD;AACA,IAAI,aAAa9B,0CAA2C;AAAA,EAC1D,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AASD,IAAI,mBAAmBgC;AAAAA,EACrB,MAAMC;AAAAA,IACJE,SAAW;AAAA,MACT,QAAQA,SAAW;AAAA,QACjB,UAAUwF,QAAUtF,QAAY;AAAA,QAChC,WAAWE,SAAU,EAAG,SAAQ;AAAA,QAChC,iBAAiBA,SAAU,EAAG,SAAQ;AAAA,MAC9C,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,oBAAoBP;AAAAA,EACtB,MAAMC;AAAAA,IACJE,SAAW;AAAA,MACT,QAAQwF;AAAAA,QACNxF,SAAW;AAAA,UACT,QAAQE,OAAU;AAAA,UAClB,QAAQA,OAAU;AAAA,UAClB,SAASH,mBAAuB,QAAQ;AAAA,YACtCC,SAAW,EAAE,MAAMC,QAAY,SAAS,EAAC,CAAE;AAAA,YAC3CD,SAAW,EAAE,MAAMC,QAAY,MAAM,GAAG,UAAUG,WAAY,CAAE;AAAA,UAC5E,CAAW;AAAA,QACX,CAAS;AAAA,MACT;AAAA,IACA,CAAK;AAAA,EACL;AACA;AACA,IAAI,QAAQiC,0CAA2C;AAAA,EACrD,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AASD,IAAI,sBAAsB/B;AAAAA,EACxB,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,mBAAmBiF,QAAW,EAAG,SAAQ;AAAA,MACzC,SAASjF,SAAW,EAAE,gBAAgBI,QAAUF,OAAU,CAAE,EAAE,SAAQ,GAAI,EAAE,SAAQ;AAAA,MACpF,mBAAmBD,MAAS,CAAC,OAAO,UAAU,MAAM,CAAC,EAAE,SAAQ;AAAA,MAC/D,cAAcD,SAAW;AAAA,QACvB,MAAMkF,QAAY,aAAa;AAAA,QAC/B,SAAShF,OAAU,EAAG,SAAQ;AAAA,QAC9B,MAAMA,OAAU,EAAG,SAAQ;AAAA,QAC3B,QAAQA,OAAU,EAAG,SAAQ;AAAA,QAC7B,UAAUA,OAAU,EAAG,SAAQ;AAAA,MACvC,CAAO,EAAE,SAAQ;AAAA,IACjB,CAAK;AAAA,EACL;AACA;AACA,IAAI,uBAAuBJ,WAAa,MAAMC,UAAYC,SAAW,CAAA,CAAE,CAAC,CAAC;AACzE,IAAI,wBAAwBF;AAAAA,EAC1B,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,QAAQmF,mBAAuB,QAAQ;AAAA,QACrCnF,SAAW;AAAA,UACT,MAAMkF,QAAY,QAAQ;AAAA,UAC1B,OAAOhF,OAAU,EAAG,SAAQ;AAAA,QACtC,CAAS;AAAA,QACDF,SAAW;AAAA,UACT,MAAMkF,QAAY,UAAU;AAAA,UAC5B,KAAKhF,OAAU,EAAG,QAAO;AAAA,QACnC,CAAS;AAAA,QACDF,SAAW;AAAA,UACT,MAAMkF,QAAY,YAAY;AAAA,UAC9B,KAAKhF,OAAU,EAAG,QAAO;AAAA,UACzB,SAASA,OAAU,EAAG,QAAO;AAAA,QACvC,CAAS;AAAA,MACT,CAAO;AAAA,MACD,SAASE;AAAAA,QACP+E,mBAAuB,QAAQ;AAAA,UAC7BnF,SAAW,EAAE,MAAMkF,QAAY,KAAK,GAAG,KAAKhF,OAAU,GAAI;AAAA,UAC1DF,SAAW,EAAE,MAAMkF,QAAY,KAAK,GAAG,MAAMhF,SAAY,CAAE;AAAA,QACrE,CAAS;AAAA,MACT,EAAQ,SAAQ;AAAA,IAChB,CAAK;AAAA,EACL;AACA;AACA,IAAI,uBAAuBkF,0CAA2C;AAAA,EACpE,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AACD,IAAI,YAAY,CAAC,OAAO,OAAO,qBAAqB,IAAI;AASxD,IAAI,6BAA6B9E;AAAAA,EAC/B,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,mBAAmBC,MAAS,CAAC,OAAO,UAAU,MAAM,CAAC,EAAE,SAAQ;AAAA,MAC/D,cAAcD,SAAW;AAAA,QACvB,MAAM6E,QAAY,aAAa;AAAA,QAC/B,SAAS3E,OAAU,EAAG,SAAQ;AAAA,QAC9B,MAAMA,OAAU,EAAG,SAAQ;AAAA,QAC3B,QAAQA,OAAU,EAAG,SAAQ;AAAA,QAC7B,UAAUA,OAAU,EAAG,SAAQ;AAAA,MACvC,CAAO,EAAE,SAAQ;AAAA,IACjB,CAAK;AAAA,EACL;AACA;AACA,IAAI,8BAA8BJ;AAAAA,EAChC,MAAMC,UAAYC,SAAW,EAAE,CAAC;AAClC;AACA,IAAI,+BAA+BF;AAAAA,EACjC,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,QAAQ8E,mBAAuB,QAAQ;AAAA,QACrC9E,SAAW;AAAA,UACT,MAAM6E,QAAY,QAAQ;AAAA,UAC1B,OAAO3E,OAAU,EAAG,SAAQ;AAAA,QACtC,CAAS;AAAA,QACDF,SAAW;AAAA,UACT,MAAM6E,QAAY,UAAU;AAAA,UAC5B,KAAK3E,OAAU,EAAG,QAAO;AAAA,QACnC,CAAS;AAAA,QACDF,SAAW;AAAA,UACT,MAAM6E,QAAY,YAAY;AAAA,UAC9B,KAAK3E,OAAU,EAAG,QAAO;AAAA,UACzB,SAASA,OAAU,EAAG,QAAO;AAAA,QACvC,CAAS;AAAA,MACT,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,mBAAmB6E,0CAA2C;AAAA,EAChE,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AASD,IAAIC,oBAAkBC;AAAAA,EACpB,MAAMC,MAAU;AAAA,IACdxE,OAAU;AAAA,IACVC,SAAU;AAAA,IACVwE,QAAW;AAAA,IACXC,MAAQ;AAAA,IACRxE,QAAUoE,iBAAe;AAAA,IACzBK,OAAW3E,OAAU,GAAIsE,iBAAe;AAAA,EAC5C,CAAG;AACH;AACA,IAAI,gBAAgB1E;AAAAA,EAClB,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,aAAaE,OAAU;AAAA,MACvB,cAAcwE,MAAU;AAAA,QACtBtE,QAAUF,OAAU,CAAE;AAAA,QACtBF,SAAW;AAAA,UACT,UAAU2E,QAAW,EAAG,SAAQ;AAAA,UAChC,WAAWvE,QAAUF,OAAU,CAAE,EAAE,SAAQ;AAAA,QACrD,CAAS;AAAA,MACT,CAAO,EAAE,SAAQ;AAAA,MACX,eAAeA,OAAU,EAAG,SAAQ;AAAA,MACpC,aAAaA,OAAU,EAAG,SAAQ;AAAA,MAClC,SAAS2E,OAAW3E,OAAU,GAAIA,OAAU,CAAE,EAAE,SAAQ;AAAA,MACxD,iBAAiBwE,MAAU;AAAA,QACzBzE,MAAS,CAAC,UAAU,OAAO,CAAC;AAAA,QAC5BD,SAAW;AAAA,UACT,OAAOA,SAAW;AAAA,YAChB,WAAWI,QAAUF,OAAU,CAAE,EAAE,SAAQ;AAAA,UACvD,CAAW,EAAE,SAAQ;AAAA,QACrB,CAAS;AAAA,MACT,CAAO,EAAE,SAAQ;AAAA,MACX,mBAAmBA,OAAU,EAAG,SAAQ;AAAA,MACxC,WAAWA,OAAU,EAAG,SAAQ;AAAA,IACtC,CAAK,EAAE;AAAA,MACD,CAAC,MAAM,EAAE,aAAa,QAAQ,EAAE,eAAe;AAAA,MAC/C;AAAA,IACN;AAAA,EACA;AACA;AACA,IAAI,iBAAiBJ,WAAa,MAAMC,UAAYC,SAAW,CAAA,CAAE,CAAC,CAAC;AACnE,IAAI,kBAAkBF;AAAAA,EACpB,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,MAAM8E,QAAY,MAAM;AAAA,MACxB,aAAa5E,OAAU;AAAA,MACvB,MAAMA,OAAU;AAAA,MAChB,WAAWA,OAAU;AAAA,MACrB,QAAQA,OAAU,EAAG,QAAO;AAAA,MAC5B,OAAOwE,MAAU,CAACxE,OAAU,GAAIsE,iBAAe,CAAC,EAAE,SAAQ;AAAA,IAChE,CAAK;AAAA,EACL;AACA;AACA,IAAI,iBAAiBO,0CAA2C;AAAA,EAC9D,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AACD,IAAI,MAAM,CAAC,SAAS,eAAe,IAAI;AAGvC,IAAI,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAiBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAYA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAcA;AACF;AAiBA,SAAS,4BAA4B,OAAO;AAC1C,MAAI7jB,MAAIC,KAAI,IAAI;AAChB,MAAI,SAAS,MAAM;AACjB,WAAO;AAAA,MACL,aAAa;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,QACT,WAAW;AAAA,QACX,YAAY;AAAA,MACpB;AAAA,MACM,cAAc;AAAA,QACZ,OAAO;AAAA,QACP,MAAM;AAAA,QACN,WAAW;AAAA,MACnB;AAAA,MACM,KAAK;AAAA,IACX;AAAA,EACE;AACA,QAAM,cAAc,MAAM;AAC1B,QAAM,eAAe,MAAM;AAC3B,QAAM,gBAAgBA,OAAMD,OAAK,MAAM,yBAAyB,OAAO,SAASA,KAAG,kBAAkB,OAAOC,MAAK;AACjH,QAAM,mBAAmB,MAAM,KAAK,MAAM,0BAA0B,OAAO,SAAS,GAAG,qBAAqB,OAAO,KAAK;AACxH,SAAO;AAAA,IACL,aAAa;AAAA,MACX,OAAO;AAAA,MACP,SAAS,cAAc;AAAA,MACvB,WAAW;AAAA,MACX,YAAY;AAAA,IAClB;AAAA,IACI,cAAc;AAAA,MACZ,OAAO;AAAA,MACP,MAAM,eAAe;AAAA,MACrB,WAAW;AAAA,IACjB;AAAA,IACI,KAAK;AAAA,EACT;AACA;AAaA,SAAS,SAAS,MAAM,UAAU;AAChC,MAAI,CAAC,SAAU,QAAO;AACtB,SAAO,SAAS,KAAK,CAAC,WAAW,KAAK,WAAW,MAAM,CAAC;AAC1D;AACA,eAAe,8BAA8B;AAAA,EAC3C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,oBAAoB;AAAA,EACpB,eAAe;AAAA,EACf,oBAAoB;AACtB,GAAG;AACD,MAAID,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AACpD,QAAM,QAAQ,CAAA;AACd,QAAM,WAAW,CAAA;AACjB,QAAM,uBAAuC,oBAAI,IAAG;AACpD,aAAW,EAAE,MAAM,QAAO,KAAM,QAAQ;AACtC,YAAQ,MAAI;AAAA,MACV,KAAK,UAAU;AACb,gBAAQ,mBAAiB;AAAA,UACvB,KAAK,UAAU;AACb,kBAAM,KAAK,EAAE,MAAM,UAAU,QAAO,CAAE;AACtC;AAAA,UACF;AAAA,UACA,KAAK,aAAa;AAChB,kBAAM,KAAK,EAAE,MAAM,aAAa,QAAO,CAAE;AACzC;AAAA,UACF;AAAA,UACA,KAAK,UAAU;AACb,qBAAS,KAAK;AAAA,cACZ,MAAM;AAAA,cACN,SAAS;AAAA,YACvB,CAAa;AACD;AAAA,UACF;AAAA,UACA,SAAS;AACP,kBAAM,mBAAmB;AACzB,kBAAM,IAAI;AAAA,cACR,oCAAoC,gBAAgB;AAAA,YAClE;AAAA,UACU;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,cAAM,KAAK;AAAA,UACT,MAAM;AAAA,UACN,SAAS,QAAQ,IAAI,CAAC,MAAM,UAAU;AACpC,gBAAII,MAAKC,MAAK;AACd,oBAAQ,KAAK,MAAI;AAAA,cACf,KAAK,QAAQ;AACX,uBAAO,EAAE,MAAM,cAAc,MAAM,KAAK,KAAI;AAAA,cAC9C;AAAA,cACA,KAAK,QAAQ;AACX,oBAAI,KAAK,UAAU,WAAW,QAAQ,GAAG;AACvC,wBAAM,YAAY,KAAK,cAAc,YAAY,eAAe,KAAK;AACrE,yBAAO;AAAA,oBACL,MAAM;AAAA,oBACN,GAAG,KAAK,gBAAgB,MAAM,EAAE,WAAW,KAAK,KAAK,SAAQ,EAAE,IAAK,OAAO,KAAK,SAAS,YAAY,SAAS,KAAK,MAAM,cAAc,IAAI,EAAE,SAAS,KAAK,SAAS;AAAA,sBAClK,WAAW,QAAQ,SAAS,WAAWwjB,gBAAiB,KAAK,IAAI,CAAC;AAAA,oBACxF;AAAA,oBACoB,SAASxjB,QAAOD,OAAM,KAAK,oBAAoB,OAAO,SAASA,KAAI,mBAAmB,MAAM,OAAO,SAASC,KAAI;AAAA,kBACpI;AAAA,gBACgB,WAAW,KAAK,cAAc,mBAAmB;AAC/C,sBAAI,KAAK,gBAAgB,KAAK;AAC5B,2BAAO;AAAA,sBACL,MAAM;AAAA,sBACN,UAAU,KAAK,KAAK,SAAQ;AAAA,oBAClD;AAAA,kBACkB;AACA,yBAAO;AAAA,oBACL,MAAM;AAAA,oBACN,GAAG,OAAO,KAAK,SAAS,YAAY,SAAS,KAAK,MAAM,cAAc,IAAI,EAAE,SAAS,KAAK,KAAI,IAAK;AAAA,sBACjG,WAAW,MAAM,KAAK,aAAa,OAAO,MAAM,QAAQ,KAAK;AAAA,sBAC7D,WAAW,+BAA+BwjB,gBAAiB,KAAK,IAAI,CAAC;AAAA,oBAC3F;AAAA,kBACA;AAAA,gBACgB,OAAO;AACL,wBAAM,IAAIC,8BAA+B;AAAA,oBACvC,eAAe,wBAAwB,KAAK,SAAS;AAAA,kBACzE,CAAmB;AAAA,gBACH;AAAA,cACF;AAAA,YACd;AAAA,UACU,CAAC;AAAA,QACX,CAAS;AACD;AAAA,MACF;AAAA,MACA,KAAK,aAAa;AAChB,cAAM,oBAAoB,CAAA;AAC1B,mBAAW,QAAQ,SAAS;AAC1B,kBAAQ,KAAK,MAAI;AAAA,YACf,KAAK,QAAQ;AACX,oBAAM,MAAM9jB,OAAMD,OAAK,KAAK,oBAAoB,OAAO,SAASA,KAAG,mBAAmB,MAAM,OAAO,SAASC,IAAG;AAC/G,kBAAI,SAAS,MAAM,MAAM;AACvB,sBAAM,KAAK,EAAE,MAAM,kBAAkB,GAAE,CAAE;AACzC;AAAA,cACF;AACA,oBAAM,KAAK;AAAA,gBACT,MAAM;AAAA,gBACN,SAAS,CAAC,EAAE,MAAM,eAAe,MAAM,KAAK,MAAM;AAAA,gBAClD;AAAA,cAChB,CAAe;AACD;AAAA,YACF;AAAA,YACA,KAAK,aAAa;AAChB,oBAAM,MAAM,MAAM,MAAM,KAAK,KAAK,oBAAoB,OAAO,SAAS,GAAG,mBAAmB,MAAM,OAAO,SAAS,GAAG,WAAW,OAAO,MAAM,MAAM,KAAK,KAAK,qBAAqB,OAAO,SAAS,GAAG,mBAAmB,MAAM,OAAO,SAAS,GAAG;AACjP,kBAAI,KAAK,kBAAkB;AACzB,oBAAI,SAAS,MAAM,MAAM;AACvB,wBAAM,KAAK,EAAE,MAAM,kBAAkB,GAAE,CAAE;AAAA,gBAC3C;AACA;AAAA,cACF;AACA,kBAAI,SAAS,MAAM,MAAM;AACvB,sBAAM,KAAK,EAAE,MAAM,kBAAkB,GAAE,CAAE;AACzC;AAAA,cACF;AACA,oBAAM,mBAAmB,gBAAgB;AAAA,gBACvC,KAAK;AAAA,cACrB;AACc,kBAAI,qBAAqB,qBAAqB,eAAe;AAC3D,sBAAM,cAAc,MAAM,cAAc;AAAA,kBACtC,OAAO,KAAK;AAAA,kBACZ,QAAQ;AAAA,gBAC1B,CAAiB;AACD,sBAAM,KAAK;AAAA,kBACT,MAAM;AAAA,kBACN,SAAS,KAAK;AAAA,kBACd;AAAA,kBACA,QAAQ;AAAA,oBACN,MAAM;AAAA,oBACN,SAAS,YAAY,OAAO;AAAA,oBAC5B,YAAY,YAAY,OAAO;AAAA,oBAC/B,MAAM,YAAY,OAAO;AAAA,oBACzB,mBAAmB,YAAY,OAAO;AAAA,oBACtC,KAAK,YAAY,OAAO;AAAA,kBAC5C;AAAA,gBACA,CAAiB;AACD;AAAA,cACF;AACA,kBAAI,gBAAgB,qBAAqB,SAAS;AAChD,sBAAM,cAAc,MAAM,cAAc;AAAA,kBACtC,OAAO,KAAK;AAAA,kBACZ,QAAQ;AAAA,gBAC1B,CAAiB;AACD,sBAAM,KAAK;AAAA,kBACT,MAAM;AAAA,kBACN,SAAS,KAAK;AAAA,kBACd;AAAA,kBACA,QAAQ;AAAA,kBACR,QAAQ;AAAA,oBACN,UAAU,YAAY,OAAO;AAAA,oBAC7B,YAAY,YAAY,OAAO;AAAA,oBAC/B,mBAAmB,YAAY,OAAO;AAAA,kBAC1D;AAAA,gBACA,CAAiB;AACD;AAAA,cACF;AACA,oBAAM,KAAK;AAAA,gBACT,MAAM;AAAA,gBACN,SAAS,KAAK;AAAA,gBACd,MAAM;AAAA,gBACN,WAAW,KAAK,UAAU,KAAK,KAAK;AAAA,gBACpC;AAAA,cAChB,CAAe;AACD;AAAA,YACF;AAAA;AAAA,YAEA,KAAK,eAAe;AAClB,kBAAI,KAAK,OAAO,SAAS,sBAAsB,KAAK,OAAO,SAAS,UAAU,OAAO,KAAK,OAAO,UAAU,YAAY,KAAK,OAAO,SAAS,QAAQ,UAAU,KAAK,OAAO,SAAS,KAAK,OAAO,MAAM,SAAS,oBAAoB;AAChO;AAAA,cACF;AACA,kBAAI,OAAO;AACT,sBAAM,UAAU,MAAM,MAAM,KAAK,KAAK,qBAAqB,OAAO,SAAS,GAAG,mBAAmB,MAAM,OAAO,SAAS,GAAG,WAAW,OAAO,KAAK,KAAK;AACtJ,sBAAM,KAAK,EAAE,MAAM,kBAAkB,IAAI,QAAQ;AAAA,cACnD,OAAO;AACL,yBAAS,KAAK;AAAA,kBACZ,MAAM;AAAA,kBACN,SAAS,2BAA2B,KAAK,QAAQ;AAAA,gBACnE,CAAiB;AAAA,cACH;AACA;AAAA,YACF;AAAA,YACA,KAAK,aAAa;AAChB,oBAAM,kBAAkB,MAAM+jB,qBAAsB;AAAA,gBAClD,UAAU;AAAA,gBACV,iBAAiB,KAAK;AAAA,gBACtB,QAAQ;AAAA,cACxB,CAAe;AACD,oBAAM,cAAc,mBAAmB,OAAO,SAAS,gBAAgB;AACvE,kBAAI,eAAe,MAAM;AACvB,sBAAM,mBAAmB,kBAAkB,WAAW;AACtD,oBAAI,OAAO;AACT,sBAAI,qBAAqB,QAAQ;AAC/B,0BAAM,KAAK,EAAE,MAAM,kBAAkB,IAAI,aAAa;AACtD,sCAAkB,WAAW,IAAI;AAAA,sBAC/B,MAAM;AAAA,sBACN,IAAI;AAAA,sBACJ,SAAS,CAAA;AAAA,oBAC/B;AAAA,kBACkB;AAAA,gBACF,OAAO;AACL,wBAAM,eAAe,CAAA;AACrB,sBAAI,KAAK,KAAK,SAAS,GAAG;AACxB,iCAAa,KAAK;AAAA,sBAChB,MAAM;AAAA,sBACN,MAAM,KAAK;AAAA,oBACjC,CAAqB;AAAA,kBACH,WAAW,qBAAqB,QAAQ;AACtC,6BAAS,KAAK;AAAA,sBACZ,MAAM;AAAA,sBACN,SAAS,+FAA+F,KAAK,UAAU,IAAI,CAAC;AAAA,oBAClJ,CAAqB;AAAA,kBACH;AACA,sBAAI,qBAAqB,QAAQ;AAC/B,sCAAkB,WAAW,IAAI;AAAA,sBAC/B,MAAM;AAAA,sBACN,IAAI;AAAA,sBACJ,mBAAmB,mBAAmB,OAAO,SAAS,gBAAgB;AAAA,sBACtE,SAAS;AAAA,oBAC/B;AACoB,0BAAM,KAAK,kBAAkB,WAAW,CAAC;AAAA,kBAC3C,OAAO;AACL,qCAAiB,QAAQ,KAAK,GAAG,YAAY;AAC7C,yBAAK,mBAAmB,OAAO,SAAS,gBAAgB,8BAA8B,MAAM;AAC1F,uCAAiB,oBAAoB,gBAAgB;AAAA,oBACvD;AAAA,kBACF;AAAA,gBACF;AAAA,cACF,OAAO;AACL,yBAAS,KAAK;AAAA,kBACZ,MAAM;AAAA,kBACN,SAAS,0EAA0E,KAAK,UAAU,IAAI,CAAC;AAAA,gBACzH,CAAiB;AAAA,cACH;AACA;AAAA,YACF;AAAA,UACZ;AAAA,QACQ;AACA;AAAA,MACF;AAAA,MACA,KAAK,QAAQ;AACX,mBAAW,QAAQ,SAAS;AAC1B,cAAI,KAAK,SAAS,0BAA0B;AAC1C,kBAAM,mBAAmB;AACzB,gBAAI,qBAAqB,IAAI,iBAAiB,UAAU,GAAG;AACzD;AAAA,YACF;AACA,iCAAqB,IAAI,iBAAiB,UAAU;AACpD,gBAAI,OAAO;AACT,oBAAM,KAAK;AAAA,gBACT,MAAM;AAAA,gBACN,IAAI,iBAAiB;AAAA,cACrC,CAAe;AAAA,YACH;AACA,kBAAM,KAAK;AAAA,cACT,MAAM;AAAA,cACN,qBAAqB,iBAAiB;AAAA,cACtC,SAAS,iBAAiB;AAAA,YACxC,CAAa;AACD;AAAA,UACF;AACA,gBAAM,SAAS,KAAK;AACpB,cAAI,OAAO,SAAS,oBAAoB;AACtC,kBAAM,cAAc,MAAM,KAAK,OAAO,oBAAoB,OAAO,SAAS,GAAG,WAAW,OAAO,SAAS,GAAG;AAC3G,gBAAI,YAAY;AACd;AAAA,YACF;AAAA,UACF;AACA,gBAAM,mBAAmB,gBAAgB;AAAA,YACvC,KAAK;AAAA,UACjB;AACU,cAAI,qBAAqB,qBAAqB,iBAAiB,OAAO,SAAS,QAAQ;AACrF,kBAAM,eAAe,MAAM,cAAc;AAAA,cACvC,OAAO,OAAO;AAAA,cACd,QAAQ;AAAA,YACtB,CAAa;AACD,kBAAM,KAAK;AAAA,cACT,MAAM;AAAA,cACN,SAAS,KAAK;AAAA,cACd,QAAQ,aAAa;AAAA,YACnC,CAAa;AACD;AAAA,UACF;AACA,cAAI,gBAAgB,qBAAqB,WAAW,OAAO,SAAS,QAAQ;AAC1E,kBAAM,eAAe,MAAM,cAAc;AAAA,cACvC,OAAO,OAAO;AAAA,cACd,QAAQ;AAAA,YACtB,CAAa;AACD,kBAAM,KAAK;AAAA,cACT,MAAM;AAAA,cACN,SAAS,KAAK;AAAA,cACd,QAAQ,aAAa,OAAO,IAAI,CAAC,UAAU;AAAA,gBACzC,QAAQ,KAAK;AAAA,gBACb,QAAQ,KAAK;AAAA,gBACb,SAAS,KAAK,QAAQ,SAAS,YAAY,EAAE,MAAM,cAAc;AAAA,kBAC/D,MAAM;AAAA,kBACN,WAAW,KAAK,QAAQ;AAAA,gBAC1C;AAAA,cACA,EAAgB;AAAA,YAChB,CAAa;AACD;AAAA,UACF;AACA,cAAI,qBAAqB,KAAK,aAAa,iBAAiB,OAAO,SAAS,QAAQ;AAClF,kBAAM,eAAe,MAAM,cAAc;AAAA,cACvC,OAAO,OAAO;AAAA,cACd,QAAQ;AAAA,YACtB,CAAa;AACD,kBAAM,KAAK;AAAA,cACT,MAAM;AAAA,cACN,SAAS,KAAK;AAAA,cACd,QAAQ,aAAa;AAAA,cACrB,QAAQ,aAAa;AAAA,YACnC,CAAa;AACD;AAAA,UACF;AACA,cAAI;AACJ,kBAAQ,OAAO,MAAI;AAAA,YACjB,KAAK;AAAA,YACL,KAAK;AACH,6BAAe,OAAO;AACtB;AAAA,YACF,KAAK;AACH,8BAAgB,KAAK,OAAO,WAAW,OAAO,KAAK;AACnD;AAAA,YACF,KAAK;AAAA,YACL,KAAK;AACH,6BAAe,KAAK,UAAU,OAAO,KAAK;AAC1C;AAAA,YACF,KAAK;AACH,6BAAe,OAAO,MAAM,IAAI,CAAC,SAAS;AACxC,oBAAI3jB;AACJ,wBAAQ,KAAK,MAAI;AAAA,kBACf,KAAK,QAAQ;AACX,2BAAO,EAAE,MAAM,cAAc,MAAM,KAAK,KAAI;AAAA,kBAC9C;AAAA,kBACA,KAAK,cAAc;AACjB,2BAAO;AAAA,sBACL,MAAM;AAAA,sBACN,WAAW,QAAQ,KAAK,SAAS,WAAW,KAAK,IAAI;AAAA,oBAC3E;AAAA,kBACkB;AAAA,kBACA,KAAK,aAAa;AAChB,2BAAO;AAAA,sBACL,MAAM;AAAA,sBACN,WAAW,KAAK;AAAA,oBACtC;AAAA,kBACkB;AAAA,kBACA,KAAK,aAAa;AAChB,2BAAO;AAAA,sBACL,MAAM;AAAA,sBACN,WAAWA,OAAM,KAAK,aAAa,OAAOA,OAAM;AAAA,sBAChD,WAAW,QAAQ,KAAK,SAAS,WAAW,KAAK,IAAI;AAAA,oBAC3E;AAAA,kBACkB;AAAA,kBACA,SAAS;AACP,6BAAS,KAAK;AAAA,sBACZ,MAAM;AAAA,sBACN,SAAS,uCAAuC,KAAK,IAAI;AAAA,oBAC/E,CAAqB;AACD,2BAAO;AAAA,kBACT;AAAA,gBAClB;AAAA,cACc,CAAC,EAAE,OAAO,aAAa;AACvB;AAAA,UACd;AACU,gBAAM,KAAK;AAAA,YACT,MAAM;AAAA,YACN,SAAS,KAAK;AAAA,YACd,QAAQ;AAAA,UACpB,CAAW;AAAA,QACH;AACA;AAAA,MACF;AAAA,MACA,SAAS;AACP,cAAM,mBAAmB;AACzB,cAAM,IAAI,MAAM,qBAAqB,gBAAgB,EAAE;AAAA,MACzD;AAAA,IACN;AAAA,EACE;AACA,SAAO,EAAE,OAAO,SAAQ;AAC1B;AACA,IAAI,gDAAgDkf,SAAW;AAAA,EAC7D,QAAQE,OAAU,EAAG,QAAO;AAAA,EAC5B,2BAA2BA,OAAU,EAAG,QAAO;AACjD,CAAC;AAGD,SAAS,8BAA8B;AAAA,EACrC;AAAA,EACA;AACF,GAAG;AACD,UAAQ,cAAY;AAAA,IAClB,KAAK;AAAA,IACL,KAAK;AACH,aAAO,kBAAkB,eAAe;AAAA,IAC1C,KAAK;AACH,aAAO;AAAA,IACT,KAAK;AACH,aAAO;AAAA,IACT;AACE,aAAO,kBAAkB,eAAe;AAAA,EAC9C;AACA;AAKA,IAAI,6BAA6BL;AAAAA,EAC/B,MAAMC;AAAAA,IACJ4E,MAAU;AAAA,MACRC,SAAW;AAAA,QACT,MAAMC,QAAY,4BAA4B;AAAA,QAC9C,SAASC,OAAU;AAAA,QACnB,OAAOA,OAAU;AAAA,QACjB,UAAUC;AAAAA,UACRH,SAAW;AAAA,YACT,OAAOE,OAAU;AAAA,YACjB,SAASE,SAAU;AAAA,YACnB,cAAcD;AAAAA,cACZH,SAAW;AAAA,gBACT,OAAOE,OAAU;AAAA,gBACjB,SAASE,SAAU;AAAA,cACnC,CAAe;AAAA,YACf;AAAA,UACA,CAAW;AAAA,QACX,EAAU,QAAO;AAAA,MACjB,CAAO;AAAA,MACDJ,SAAW;AAAA,QACT,MAAMK,MAAS,CAAC,sBAAsB,qBAAqB,CAAC;AAAA,QAC5D,UAAUL,SAAW;AAAA,UACnB,oBAAoBA,SAAW,EAAE,QAAQE,OAAU,EAAE,CAAE,EAAE,QAAO;AAAA,UAChE,OAAOF,SAAW;AAAA,YAChB,cAAcI,SAAU;AAAA,YACxB,sBAAsBJ,SAAW,EAAE,eAAeI,SAAU,EAAG,QAAO,EAAE,CAAE,EAAE,QAAO;AAAA,YACnF,eAAeA,SAAU;AAAA,YACzB,uBAAuBJ,SAAW,EAAE,kBAAkBI,SAAU,EAAG,QAAO,EAAE,CAAE,EAAE,QAAO;AAAA,UACnG,CAAW;AAAA,UACD,cAAcF,OAAU,EAAG,QAAO;AAAA,QAC5C,CAAS;AAAA,MACT,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,kBAAkB;AAAA,QACpC,UAAUD,SAAW;AAAA,UACnB,IAAIE,OAAU;AAAA,UACd,YAAYE,SAAU;AAAA,UACtB,OAAOF,OAAU;AAAA,UACjB,cAAcA,OAAU,EAAG,QAAO;AAAA,QAC5C,CAAS;AAAA,MACT,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,4BAA4B;AAAA,QAC9C,cAAcG,SAAU;AAAA,QACxB,MAAME,mBAAuB,QAAQ;AAAA,UACnCN,SAAW;AAAA,YACT,MAAMC,QAAY,SAAS;AAAA,YAC3B,IAAIC,OAAU;AAAA,UAC1B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,WAAW;AAAA,YAC7B,IAAIC,OAAU;AAAA,YACd,mBAAmBA,OAAU,EAAG,QAAO;AAAA,UACnD,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,eAAe;AAAA,YACjC,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,MAAMA,OAAU;AAAA,YAChB,WAAWA,OAAU;AAAA,UACjC,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,iBAAiB;AAAA,YACnC,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU;AAAA,UAC9B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,eAAe;AAAA,YACjC,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU;AAAA,UAC9B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,kBAAkB;AAAA,YACpC,IAAIC,OAAU;AAAA,UAC1B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,uBAAuB;AAAA,YACzC,IAAIC,OAAU;AAAA,UAC1B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,uBAAuB;AAAA,YACzC,IAAIC,OAAU;AAAA,YACd,cAAcA,OAAU;AAAA,YACxB,MAAMA,OAAU,EAAG,SAAQ;AAAA,YAC3B,SAASC;AAAAA,cACPG,mBAAuB,QAAQ;AAAA,gBAC7BN,SAAW,EAAE,MAAMC,QAAY,MAAM,GAAG,MAAMC,OAAU,GAAI;AAAA,gBAC5DF,SAAW,EAAE,MAAMC,QAAY,OAAO,GAAG,KAAKC,SAAY,CAAE;AAAA,cAC5E,CAAe;AAAA,YACf,EAAc,SAAQ;AAAA,YACV,QAAQA,OAAU;AAAA,UAC9B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,UAAU;AAAA,YAC5B,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU;AAAA,YAClB,qBAAqBA,OAAU,EAAG,QAAO;AAAA,UACrD,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,gBAAgB;AAAA,YAClC,IAAIC,OAAU;AAAA,UAC1B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,sBAAsB;AAAA,YACxC,IAAIC,OAAU;AAAA,UAC1B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,kBAAkB;AAAA,YACpC,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,QAAQG,MAAS,CAAC,eAAe,WAAW,CAAC;AAAA,YAC7C,WAAWC,mBAAuB,QAAQ;AAAA,cACxCN,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,gBAChB,MAAMA,OAAU;AAAA,cAChC,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,cAChC,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,gBAChB,MAAMA,OAAU;AAAA,cAChC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,YAAY;AAAA,YAC9B,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,QAAQG,MAAS,CAAC,eAAe,aAAa,YAAY,CAAC;AAAA,YAC3D,QAAQL,SAAW;AAAA,cACjB,UAAUG,QAAUD,OAAU,CAAE;AAAA,YAC9C,CAAa;AAAA,UACb,CAAW;AAAA,QACX,CAAS;AAAA,MACT,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,2BAA2B;AAAA,QAC7C,cAAcG,SAAU;AAAA,QACxB,MAAME,mBAAuB,QAAQ;AAAA,UACnCN,SAAW;AAAA,YACT,MAAMC,QAAY,SAAS;AAAA,YAC3B,IAAIC,OAAU;AAAA,UAC1B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,WAAW;AAAA,YAC7B,IAAIC,OAAU;AAAA,YACd,mBAAmBA,OAAU,EAAG,QAAO;AAAA,UACnD,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,eAAe;AAAA,YACjC,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,MAAMA,OAAU;AAAA,YAChB,WAAWA,OAAU;AAAA,YACrB,QAAQD,QAAY,WAAW;AAAA,UAC3C,CAAW;AAAA,UACDD,SAAW;AAAA,YACT,MAAMC,QAAY,uBAAuB;AAAA,YACzC,IAAIC,OAAU;AAAA,YACd,MAAMA,OAAU,EAAG,SAAQ;AAAA,YAC3B,cAAcA,OAAU;AAAA,YACxB,SAASC;AAAAA,cACPG,mBAAuB,QAAQ;AAAA,gBAC7BN,SAAW,EAAE,MAAMC,QAAY,MAAM,GAAG,MAAMC,OAAU,GAAI;AAAA,gBAC5DF,SAAW,EAAE,MAAMC,QAAY,OAAO,GAAG,KAAKC,SAAY,CAAE;AAAA,cAC5E,CAAe;AAAA,YACf,EAAc,SAAQ;AAAA,UACtB,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,uBAAuB;AAAA,YACzC,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU;AAAA,UAC9B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,iBAAiB;AAAA,YACnC,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU;AAAA,YAClB,QAAQI,mBAAuB,QAAQ;AAAA,cACrCN,SAAW;AAAA,gBACT,MAAMC,QAAY,QAAQ;AAAA,gBAC1B,OAAOC,OAAU,EAAG,QAAO;AAAA,gBAC3B,SAASC;AAAAA,kBACPG,mBAAuB,QAAQ;AAAA,oBAC7BN,SAAW,EAAE,MAAMC,QAAY,KAAK,GAAG,KAAKC,OAAU,GAAI;AAAA,oBAC1DF,SAAW,EAAE,MAAMC,QAAY,KAAK,GAAG,MAAMC,SAAY,CAAE;AAAA,kBAC/E,CAAmB;AAAA,gBACnB,EAAkB,QAAO;AAAA,cACzB,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,WAAW;AAAA,gBAC7B,KAAKC,OAAU,EAAG,QAAO;AAAA,cACzC,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,cAAc;AAAA,gBAChC,KAAKC,OAAU,EAAG,QAAO;AAAA,gBACzB,SAASA,OAAU,EAAG,QAAO;AAAA,cAC7C,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,kBAAkB;AAAA,YACpC,IAAIC,OAAU;AAAA,YACd,SAASC,QAAUD,QAAY;AAAA,YAC/B,SAASC;AAAAA,cACPH,SAAW;AAAA,gBACT,YAAYO;AAAAA,kBACVL,OAAU;AAAA,kBACVH,MAAU,CAACG,OAAU,GAAIE,SAAU,GAAII,QAAW,CAAE,CAAC;AAAA,gBACvE;AAAA,gBACgB,SAASN,OAAU;AAAA,gBACnB,UAAUA,OAAU;AAAA,gBACpB,OAAOE,SAAU;AAAA,gBACjB,MAAMF,OAAU;AAAA,cAChC,CAAe;AAAA,YACf,EAAc,QAAO;AAAA,UACrB,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,kBAAkB;AAAA,YACpC,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,QAAQF,SAAW;AAAA,cACjB,MAAMC,QAAY,MAAM;AAAA,cACxB,SAASE,QAAUD,QAAY;AAAA,cAC/B,YAAYE,SAAU,EAAG,SAAQ;AAAA,cACjC,MAAMF,OAAU,EAAG,SAAQ;AAAA,cAC3B,mBAAmBA,OAAU,EAAG,SAAQ;AAAA,cACxC,KAAKK,OAAWL,OAAU,GAAIA,OAAU,CAAE,EAAE,SAAQ;AAAA,YAClE,CAAa;AAAA,UACb,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,eAAe;AAAA,YACjC,IAAIC,OAAU;AAAA,YACd,QAAQD,QAAY,WAAW;AAAA,UAC3C,CAAW;AAAA,UACDD,SAAW;AAAA,YACT,MAAMC,QAAY,UAAU;AAAA,YAC5B,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU;AAAA,YAClB,WAAWA,OAAU;AAAA,YACrB,MAAMA,OAAU;AAAA,YAChB,cAAcA,OAAU;AAAA,YACxB,QAAQA,OAAU,EAAG,QAAO;AAAA,YAC5B,OAAOH,MAAU;AAAA,cACfG,OAAU;AAAA,cACVF,SAAW;AAAA,gBACT,MAAME,OAAU,EAAG,SAAQ;AAAA,gBAC3B,MAAMH,MAAU,CAACK,SAAU,GAAIF,OAAU,CAAE,CAAC,EAAE,SAAQ;AAAA,gBACtD,SAASA,OAAU,EAAG,SAAQ;AAAA,cAC9C,CAAe,EAAE,MAAK;AAAA,YACtB,CAAa,EAAE,QAAO;AAAA,YACV,qBAAqBA,OAAU,EAAG,QAAO;AAAA,UACrD,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,gBAAgB;AAAA,YAClC,IAAIC,OAAU;AAAA,YACd,cAAcA,OAAU;AAAA,YACxB,OAAOC;AAAAA,cACLH,SAAW;AAAA,gBACT,MAAME,OAAU;AAAA,gBAChB,aAAaA,OAAU,EAAG,SAAQ;AAAA,gBAClC,cAAcO,IAAO;AAAA,gBACrB,aAAaF,OAAWL,OAAU,GAAIQ,QAAW,CAAE,EAAE,SAAQ;AAAA,cAC7E,CAAe;AAAA,YACf;AAAA,YACY,OAAOX,MAAU;AAAA,cACfG,OAAU;AAAA,cACVF,SAAW;AAAA,gBACT,MAAME,OAAU,EAAG,SAAQ;AAAA,gBAC3B,MAAMH,MAAU,CAACK,SAAU,GAAIF,OAAU,CAAE,CAAC,EAAE,SAAQ;AAAA,gBACtD,SAASA,OAAU,EAAG,SAAQ;AAAA,cAC9C,CAAe,EAAE,MAAK;AAAA,YACtB,CAAa,EAAE,SAAQ;AAAA,UACvB,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,sBAAsB;AAAA,YACxC,IAAIC,OAAU;AAAA,YACd,cAAcA,OAAU;AAAA,YACxB,MAAMA,OAAU;AAAA,YAChB,WAAWA,OAAU;AAAA,YACrB,qBAAqBA,OAAU,EAAG,SAAQ;AAAA,UACtD,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,kBAAkB;AAAA,YACpC,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,QAAQG,MAAS,CAAC,eAAe,WAAW,CAAC;AAAA,YAC7C,WAAWC,mBAAuB,QAAQ;AAAA,cACxCN,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,gBAChB,MAAMA,OAAU;AAAA,cAChC,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,cAChC,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,gBAChB,MAAMA,OAAU;AAAA,cAChC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,YAAY;AAAA,YAC9B,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,QAAQG,MAAS,CAAC,eAAe,aAAa,YAAY,CAAC;AAAA,YAC3D,QAAQL,SAAW;AAAA,cACjB,UAAUG,QAAUD,OAAU,CAAE;AAAA,YAC9C,CAAa;AAAA,UACb,CAAW;AAAA,QACX,CAAS;AAAA,MACT,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,wCAAwC;AAAA,QAC1D,SAASC,OAAU;AAAA,QACnB,cAAcE,SAAU;AAAA,QACxB,OAAOF,OAAU;AAAA,MACzB,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,8CAA8C;AAAA,QAChE,SAASC,OAAU;AAAA,QACnB,cAAcE,SAAU;AAAA,QACxB,mBAAmBF,OAAU;AAAA,MACrC,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,2CAA2C;AAAA,QAC7D,SAASC,OAAU;AAAA,QACnB,cAAcE,SAAU;AAAA,QACxB,OAAOF,OAAU;AAAA,MACzB,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,0CAA0C;AAAA,QAC5D,SAASC,OAAU;AAAA,QACnB,cAAcE,SAAU;AAAA,QACxB,MAAMF,OAAU;AAAA,MACxB,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,uCAAuC;AAAA,QACzD,YAAYK,mBAAuB,QAAQ;AAAA,UACzCN,SAAW;AAAA,YACT,MAAMC,QAAY,cAAc;AAAA,YAChC,aAAaG,SAAU;AAAA,YACvB,WAAWA,SAAU;AAAA,YACrB,KAAKF,OAAU;AAAA,YACf,OAAOA,OAAU;AAAA,UAC7B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,eAAe;AAAA,YACjC,SAASC,OAAU;AAAA,YACnB,UAAUA,OAAU;AAAA,YACpB,OAAOE,SAAU;AAAA,UAC7B,CAAW;AAAA,UACDJ,SAAW;AAAA,YACT,MAAMC,QAAY,yBAAyB;AAAA,YAC3C,cAAcC,OAAU;AAAA,YACxB,SAASA,OAAU;AAAA,YACnB,UAAUA,OAAU;AAAA,YACpB,aAAaE,SAAU;AAAA,YACvB,WAAWA,SAAU;AAAA,UACjC,CAAW;AAAA,UACDJ,SAAW;AAAA,YACT,MAAMC,QAAY,WAAW;AAAA,YAC7B,SAASC,OAAU;AAAA,YACnB,OAAOE,SAAU;AAAA,UAC7B,CAAW;AAAA,QACX,CAAS;AAAA,MACT,CAAO;AAAA,MACDJ,SAAW;AAAA,QACT,MAAMC,QAAY,uCAAuC;AAAA,QACzD,SAASC,OAAU;AAAA,QACnB,eAAeE,SAAU;AAAA,MACjC,CAAO;AAAA,MACDJ,SAAW;AAAA,QACT,MAAMC,QAAY,uCAAuC;AAAA,QACzD,SAASC,OAAU;AAAA,QACnB,eAAeE,SAAU;AAAA,QACzB,OAAOF,OAAU;AAAA,MACzB,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,sCAAsC;AAAA,QACxD,SAASC,OAAU;AAAA,QACnB,eAAeE,SAAU;AAAA,MACjC,CAAO;AAAA,MACDJ,SAAW;AAAA,QACT,MAAMC,QAAY,gDAAgD;AAAA,QAClE,SAASC,OAAU;AAAA,QACnB,cAAcE,SAAU;AAAA,QACxB,OAAOF,OAAU;AAAA,QACjB,aAAaA,OAAU,EAAG,QAAO;AAAA,MACzC,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,+CAA+C;AAAA,QACjE,SAASC,OAAU;AAAA,QACnB,cAAcE,SAAU;AAAA,QACxB,MAAMF,OAAU;AAAA,MACxB,CAAO;AAAA,MACDF,SAAW;AAAA,QACT,MAAMC,QAAY,OAAO;AAAA,QACzB,iBAAiBG,SAAU;AAAA,QAC3B,OAAOJ,SAAW;AAAA,UAChB,MAAME,OAAU;AAAA,UAChB,MAAMA,OAAU;AAAA,UAChB,SAASA,OAAU;AAAA,UACnB,OAAOA,OAAU,EAAG,QAAO;AAAA,QACrC,CAAS;AAAA,MACT,CAAO;AAAA,MACDF,SAAW,EAAE,MAAME,OAAU,EAAE,CAAE,EAAE,MAAK,EAAG,UAAU,CAAC,WAAW;AAAA,QAC/D,MAAM;AAAA,QACN,SAAS,MAAM;AAAA,MACvB,EAAQ;AAAA;AAAA,IAER,CAAK;AAAA,EACL;AACA;AACA,IAAI,gCAAgChF;AAAAA,EAClC,MAAMC;AAAAA,IACJ6E,SAAW;AAAA,MACT,IAAIE,OAAU,EAAG,SAAQ;AAAA,MACzB,YAAYE,SAAU,EAAG,SAAQ;AAAA,MACjC,OAAOJ,SAAW;AAAA,QAChB,SAASE,OAAU;AAAA,QACnB,MAAMA,OAAU;AAAA,QAChB,OAAOA,OAAU,EAAG,QAAO;AAAA,QAC3B,MAAMA,OAAU;AAAA,MACxB,CAAO,EAAE,QAAO;AAAA,MACV,OAAOA,OAAU,EAAG,SAAQ;AAAA,MAC5B,QAAQC;AAAAA,QACNG,mBAAuB,QAAQ;AAAA,UAC7BN,SAAW;AAAA,YACT,MAAMC,QAAY,SAAS;AAAA,YAC3B,MAAMA,QAAY,WAAW;AAAA,YAC7B,IAAIC,OAAU;AAAA,YACd,SAASC;AAAAA,cACPH,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,gBAChB,UAAUC;AAAAA,kBACRH,SAAW;AAAA,oBACT,OAAOE,OAAU;AAAA,oBACjB,SAASE,SAAU;AAAA,oBACnB,cAAcD;AAAAA,sBACZH,SAAW;AAAA,wBACT,OAAOE,OAAU;AAAA,wBACjB,SAASE,SAAU;AAAA,sBAC3C,CAAuB;AAAA,oBACvB;AAAA,kBACA,CAAmB;AAAA,gBACnB,EAAkB,QAAO;AAAA,gBACT,aAAaD;AAAAA,kBACXG,mBAAuB,QAAQ;AAAA,oBAC7BN,SAAW;AAAA,sBACT,MAAMC,QAAY,cAAc;AAAA,sBAChC,aAAaG,SAAU;AAAA,sBACvB,WAAWA,SAAU;AAAA,sBACrB,KAAKF,OAAU;AAAA,sBACf,OAAOA,OAAU;AAAA,oBACvC,CAAqB;AAAA,oBACDF,SAAW;AAAA,sBACT,MAAMC,QAAY,eAAe;AAAA,sBACjC,SAASC,OAAU;AAAA,sBACnB,UAAUA,OAAU;AAAA,sBACpB,OAAOE,SAAU;AAAA,oBACvC,CAAqB;AAAA,oBACDJ,SAAW;AAAA,sBACT,MAAMC,QAAY,yBAAyB;AAAA,sBAC3C,cAAcC,OAAU;AAAA,sBACxB,SAASA,OAAU;AAAA,sBACnB,UAAUA,OAAU;AAAA,sBACpB,aAAaE,SAAU;AAAA,sBACvB,WAAWA,SAAU;AAAA,oBAC3C,CAAqB;AAAA,oBACDJ,SAAW;AAAA,sBACT,MAAMC,QAAY,WAAW;AAAA,sBAC7B,SAASC,OAAU;AAAA,sBACnB,OAAOE,SAAU;AAAA,oBACvC,CAAqB;AAAA,kBACrB,CAAmB;AAAA,gBACnB;AAAA,cACA,CAAe;AAAA,YACf;AAAA,UACA,CAAW;AAAA,UACDJ,SAAW;AAAA,YACT,MAAMC,QAAY,iBAAiB;AAAA,YACnC,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU;AAAA,YAClB,QAAQI,mBAAuB,QAAQ;AAAA,cACrCN,SAAW;AAAA,gBACT,MAAMC,QAAY,QAAQ;AAAA,gBAC1B,OAAOC,OAAU,EAAG,QAAO;AAAA,gBAC3B,SAASC;AAAAA,kBACPG,mBAAuB,QAAQ;AAAA,oBAC7BN,SAAW,EAAE,MAAMC,QAAY,KAAK,GAAG,KAAKC,OAAU,GAAI;AAAA,oBAC1DF,SAAW,EAAE,MAAMC,QAAY,KAAK,GAAG,MAAMC,SAAY,CAAE;AAAA,kBAC/E,CAAmB;AAAA,gBACnB,EAAkB,QAAO;AAAA,cACzB,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,WAAW;AAAA,gBAC7B,KAAKC,OAAU,EAAG,QAAO;AAAA,cACzC,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,cAAc;AAAA,gBAChC,KAAKC,OAAU,EAAG,QAAO;AAAA,gBACzB,SAASA,OAAU,EAAG,QAAO;AAAA,cAC7C,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,kBAAkB;AAAA,YACpC,IAAIC,OAAU;AAAA,YACd,SAASC,QAAUD,QAAY;AAAA,YAC/B,SAASC;AAAAA,cACPH,SAAW;AAAA,gBACT,YAAYO;AAAAA,kBACVL,OAAU;AAAA,kBACVH,MAAU,CAACG,OAAU,GAAIE,SAAU,GAAII,QAAW,CAAE,CAAC;AAAA,gBACvE;AAAA,gBACgB,SAASN,OAAU;AAAA,gBACnB,UAAUA,OAAU;AAAA,gBACpB,OAAOE,SAAU;AAAA,gBACjB,MAAMF,OAAU;AAAA,cAChC,CAAe;AAAA,YACf,EAAc,QAAO;AAAA,UACrB,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,uBAAuB;AAAA,YACzC,IAAIC,OAAU;AAAA,YACd,MAAMA,OAAU,EAAG,SAAQ;AAAA,YAC3B,cAAcA,OAAU;AAAA,YACxB,SAASC;AAAAA,cACPG,mBAAuB,QAAQ;AAAA,gBAC7BN,SAAW,EAAE,MAAMC,QAAY,MAAM,GAAG,MAAMC,OAAU,GAAI;AAAA,gBAC5DF,SAAW,EAAE,MAAMC,QAAY,OAAO,GAAG,KAAKC,SAAY,CAAE;AAAA,cAC5E,CAAe;AAAA,YACf,EAAc,SAAQ;AAAA,UACtB,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,uBAAuB;AAAA,YACzC,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU;AAAA,UAC9B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,kBAAkB;AAAA,YACpC,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,QAAQF,SAAW;AAAA,cACjB,MAAMC,QAAY,MAAM;AAAA,cACxB,SAASE,QAAUD,QAAY;AAAA,cAC/B,YAAYE,SAAU,EAAG,SAAQ;AAAA,cACjC,MAAMF,OAAU,EAAG,SAAQ;AAAA,cAC3B,mBAAmBA,OAAU,EAAG,SAAQ;AAAA,cACxC,KAAKK,OAAWL,OAAU,GAAIA,OAAU,CAAE,EAAE,SAAQ;AAAA,YAClE,CAAa;AAAA,UACb,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,eAAe;AAAA,YACjC,SAASC,OAAU;AAAA,YACnB,MAAMA,OAAU;AAAA,YAChB,WAAWA,OAAU;AAAA,YACrB,IAAIA,OAAU;AAAA,UAC1B,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,eAAe;AAAA,YACjC,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU,EAAG,SAAQ;AAAA,UACzC,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,WAAW;AAAA,YAC7B,IAAIC,OAAU;AAAA,YACd,mBAAmBA,OAAU,EAAG,QAAO;AAAA,YACvC,SAASC;AAAAA,cACPH,SAAW;AAAA,gBACT,MAAMC,QAAY,cAAc;AAAA,gBAChC,MAAMC,OAAU;AAAA,cAChC,CAAe;AAAA,YACf;AAAA,UACA,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,UAAU;AAAA,YAC5B,IAAIC,OAAU;AAAA,YACd,QAAQA,OAAU;AAAA,YAClB,WAAWA,OAAU;AAAA,YACrB,MAAMA,OAAU;AAAA,YAChB,cAAcA,OAAU;AAAA,YACxB,QAAQA,OAAU,EAAG,QAAO;AAAA,YAC5B,OAAOH,MAAU;AAAA,cACfG,OAAU;AAAA,cACVF,SAAW;AAAA,gBACT,MAAME,OAAU,EAAG,SAAQ;AAAA,gBAC3B,MAAMH,MAAU,CAACK,SAAU,GAAIF,OAAU,CAAE,CAAC,EAAE,SAAQ;AAAA,gBACtD,SAASA,OAAU,EAAG,SAAQ;AAAA,cAC9C,CAAe,EAAE,MAAK;AAAA,YACtB,CAAa,EAAE,QAAO;AAAA,YACV,qBAAqBA,OAAU,EAAG,QAAO;AAAA,UACrD,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,gBAAgB;AAAA,YAClC,IAAIC,OAAU;AAAA,YACd,cAAcA,OAAU;AAAA,YACxB,OAAOC;AAAAA,cACLH,SAAW;AAAA,gBACT,MAAME,OAAU;AAAA,gBAChB,aAAaA,OAAU,EAAG,SAAQ;AAAA,gBAClC,cAAcO,IAAO;AAAA,gBACrB,aAAaF,OAAWL,OAAU,GAAIQ,QAAW,CAAE,EAAE,SAAQ;AAAA,cAC7E,CAAe;AAAA,YACf;AAAA,YACY,OAAOX,MAAU;AAAA,cACfG,OAAU;AAAA,cACVF,SAAW;AAAA,gBACT,MAAME,OAAU,EAAG,SAAQ;AAAA,gBAC3B,MAAMH,MAAU,CAACK,SAAU,GAAIF,OAAU,CAAE,CAAC,EAAE,SAAQ;AAAA,gBACtD,SAASA,OAAU,EAAG,SAAQ;AAAA,cAC9C,CAAe,EAAE,MAAK;AAAA,YACtB,CAAa,EAAE,SAAQ;AAAA,UACvB,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,sBAAsB;AAAA,YACxC,IAAIC,OAAU;AAAA,YACd,cAAcA,OAAU;AAAA,YACxB,MAAMA,OAAU;AAAA,YAChB,WAAWA,OAAU;AAAA,YACrB,qBAAqBA,OAAU,EAAG,SAAQ;AAAA,UACtD,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,kBAAkB;AAAA,YACpC,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,QAAQG,MAAS,CAAC,eAAe,WAAW,CAAC;AAAA,YAC7C,WAAWC,mBAAuB,QAAQ;AAAA,cACxCN,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,gBAChB,MAAMA,OAAU;AAAA,cAChC,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,cAChC,CAAe;AAAA,cACDF,SAAW;AAAA,gBACT,MAAMC,QAAY,aAAa;AAAA,gBAC/B,MAAMC,OAAU;AAAA,gBAChB,MAAMA,OAAU;AAAA,cAChC,CAAe;AAAA,YACf,CAAa;AAAA,UACb,CAAW;AAAA,UACDF,SAAW;AAAA,YACT,MAAMC,QAAY,YAAY;AAAA,YAC9B,IAAIC,OAAU;AAAA,YACd,SAASA,OAAU;AAAA,YACnB,QAAQG,MAAS,CAAC,eAAe,aAAa,YAAY,CAAC;AAAA,YAC3D,QAAQL,SAAW;AAAA,cACjB,UAAUG,QAAUD,OAAU,CAAE;AAAA,YAC9C,CAAa;AAAA,UACb,CAAW;AAAA,QACX,CAAS;AAAA,MACT,EAAQ,SAAQ;AAAA,MACV,cAAcA,OAAU,EAAG,QAAO;AAAA,MAClC,oBAAoBF,SAAW,EAAE,QAAQE,OAAU,EAAE,CAAE,EAAE,QAAO;AAAA,MAChE,OAAOF,SAAW;AAAA,QAChB,cAAcI,SAAU;AAAA,QACxB,sBAAsBJ,SAAW,EAAE,eAAeI,SAAU,EAAG,QAAO,EAAE,CAAE,EAAE,QAAO;AAAA,QACnF,eAAeA,SAAU;AAAA,QACzB,uBAAuBJ,SAAW,EAAE,kBAAkBI,SAAU,EAAG,QAAO,EAAE,CAAE,EAAE,QAAO;AAAA,MAC/F,CAAO,EAAE,SAAQ;AAAA,IACjB,CAAK;AAAA,EACL;AACA;AAKA,IAAI,mBAAmB;AAsEvB,IAAI,uCAAuCO;AAAAA,EACzC,MAAMC;AAAAA,IACJC,SAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQT,cAAcC,OAAU,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA,MAKlC,SAASC;AAAAA,QACPC,MAAS;AAAA,UACP;AAAA;AAAA,UAEA;AAAA,UACA;AAAA,QACV,CAAS;AAAA,MACT,EAAQ,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMT,cAAcF,OAAU,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAelC,UAAUG,MAAU,CAACC,QAAW,GAAIC,SAAU,EAAG,IAAI,CAAC,EAAE,IAAI,gBAAgB,CAAC,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMxF,cAAcA,SAAU,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA,MAIlC,UAAUC,IAAO,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA,MAI3B,mBAAmBF,QAAW,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA,MAKxC,oBAAoBJ,OAAU,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA,MAIxC,gBAAgBA,OAAU,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MASpC,sBAAsBE,MAAS,CAAC,aAAa,KAAK,CAAC,EAAE,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAW5D,iBAAiBF,OAAU,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMrC,kBAAkBA,OAAU,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA,MAItC,kBAAkBA,OAAU,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAQtC,aAAaE,MAAS,CAAC,QAAQ,QAAQ,YAAY,SAAS,CAAC,EAAE,QAAO;AAAA;AAAA;AAAA;AAAA,MAItE,OAAOE,QAAW,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA,MAK5B,kBAAkBA,QAAW,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAMvC,eAAeF,MAAS,CAAC,OAAO,UAAU,MAAM,CAAC,EAAE,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA,MAK1D,YAAYA,MAAS,CAAC,QAAQ,UAAU,CAAC,EAAE,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAOlD,MAAMF,OAAU,EAAG,QAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAS1B,mBAAmBE,MAAS,CAAC,UAAU,aAAa,QAAQ,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAUvE,gBAAgBE,QAAW,EAAG,SAAQ;AAAA,IAC5C,CAAK;AAAA,EACL;AACA;AAOA,eAAe,sBAAsB;AAAA,EACnC;AAAA,EACA;AACF,GAAG;AACD,WAAS,SAAS,OAAO,SAAS,MAAM,UAAU,QAAQ;AAC1D,QAAM,eAAe,CAAA;AACrB,MAAI,SAAS,MAAM;AACjB,WAAO,EAAE,OAAO,QAAQ,YAAY,QAAQ,aAAY;AAAA,EAC1D;AACA,QAAM,eAAe,CAAA;AACrB,aAAW3L,SAAQ,OAAO;AACxB,YAAQA,MAAK,MAAI;AAAA,MACf,KAAK;AACH,qBAAa,KAAK;AAAA,UAChB,MAAM;AAAA,UACN,MAAMA,MAAK;AAAA,UACX,aAAaA,MAAK;AAAA,UAClB,YAAYA,MAAK;AAAA,UACjB,GAAGA,MAAK,UAAU,OAAO,EAAE,QAAQA,MAAK,WAAW,CAAA;AAAA,QAC7D,CAAS;AACD;AAAA,MACF,KAAK,YAAY;AACf,gBAAQA,MAAK,IAAE;AAAA,UACb,KAAK,sBAAsB;AACzB,kBAAM,OAAO,MAAM4B,cAAe;AAAA,cAChC,OAAO5B,MAAK;AAAA,cACZ,QAAQ;AAAA,YACtB,CAAa;AACD,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,kBAAkB,KAAK;AAAA,cACvB,iBAAiB,KAAK;AAAA,cACtB,iBAAiB,KAAK,UAAU;AAAA,gBAC9B,QAAQ,KAAK,QAAQ;AAAA,gBACrB,iBAAiB,KAAK,QAAQ;AAAA,cAC9C,IAAkB;AAAA,cACJ,SAAS,KAAK;AAAA,YAC5B,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,sBAAsB;AACzB,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,YACpB,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,gBAAgB;AACnB,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,YACpB,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,sBAAsB;AACzB,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,YACpB,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,6BAA6B;AAChC,kBAAM,OAAO,MAAM4B,cAAe;AAAA,cAChC,OAAO5B,MAAK;AAAA,cACZ,QAAQ;AAAA,YACtB,CAAa;AACD,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,qBAAqB,KAAK;AAAA,cAC1B,eAAe,KAAK;AAAA,YAClC,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,qBAAqB;AACxB,kBAAM,OAAO,MAAM4B,cAAe;AAAA,cAChC,OAAO5B,MAAK;AAAA,cACZ,QAAQ;AAAA,YACtB,CAAa;AACD,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,SAAS,KAAK,WAAW,OAAO,EAAE,iBAAiB,KAAK,QAAQ,eAAc,IAAK;AAAA,cACnF,qBAAqB,KAAK;AAAA,cAC1B,qBAAqB,KAAK;AAAA,cAC1B,eAAe,KAAK;AAAA,YAClC,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,2BAA2B;AAC9B,kBAAM,OAAO,MAAM4B,cAAe;AAAA,cAChC,OAAO5B,MAAK;AAAA,cACZ,QAAQ;AAAA,YACtB,CAAa;AACD,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,WAAW,KAAK,aAAa,OAAO,EAAE,MAAM,QAAQ,UAAU,OAAM,IAAK,OAAO,KAAK,cAAc,WAAW,KAAK,YAAY,EAAE,MAAM,QAAQ,UAAU,KAAK,UAAU,QAAO;AAAA,YAC7L,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,2BAA2B;AAC9B,kBAAM,OAAO,MAAM4B,cAAe;AAAA,cAChC,OAAO5B,MAAK;AAAA,cACZ,QAAQ;AAAA,YACtB,CAAa;AACD,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,gBAAgB,KAAK;AAAA,cACrB,kBAAkB,KAAK,iBAAiB;AAAA,gBACtC,SAAS,KAAK,eAAe;AAAA,gBAC7B,WAAW,KAAK,eAAe;AAAA,cAC/C,IAAkB;AAAA,cACJ,OAAO,KAAK;AAAA,cACZ,YAAY,KAAK;AAAA,cACjB,gBAAgB,KAAK;AAAA,cACrB,SAAS,KAAK;AAAA,cACd,oBAAoB,KAAK;AAAA,cACzB,eAAe,KAAK;AAAA,cACpB,MAAM,KAAK;AAAA,YACzB,CAAa;AACD;AAAA,UACF;AAAA,UACA,KAAK,cAAc;AACjB,kBAAM,OAAO,MAAM4B,cAAe;AAAA,cAChC,OAAO5B,MAAK;AAAA,cACZ,QAAQ;AAAA,YACtB,CAAa;AACD,kBAAM,oBAAoB,CAAC8L,aAAY;AAAA,cACrC,YAAYA,QAAO;AAAA,YACjC;AACY,kBAAM,kBAAkB,KAAK;AAC7B,kBAAM,uBAAuB,mBAAmB,OAAO,SAAS,OAAO,oBAAoB,WAAW,kBAAkB,gBAAgB,SAAS,OAAO,EAAE,OAAO,kBAAkB,gBAAgB,KAAK,EAAC,IAAK;AAC9M,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,cAAc,KAAK;AAAA,cACnB,eAAe,MAAM,QAAQ,KAAK,YAAY,IAAI,KAAK,eAAe,KAAK,eAAe;AAAA,gBACxF,WAAW,KAAK,aAAa;AAAA,gBAC7B,YAAY,KAAK,aAAa;AAAA,cAC9C,IAAkB;AAAA,cACJ,eAAe,KAAK;AAAA,cACpB,cAAc,KAAK;AAAA,cACnB,SAAS,KAAK;AAAA,cACd,kBAAkB,wBAAwB,OAAO,uBAAuB;AAAA,cACxE,oBAAoB,KAAK;AAAA,cACzB,YAAY,KAAK;AAAA,YAC/B,CAAa;AACD;AAAA,UACF;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA;AACE,qBAAa,KAAK;AAAA,UAChB,MAAM;AAAA,UACN,SAAS,iBAAiB9L,KAAI;AAAA,QACxC,CAAS;AACD;AAAA,IACR;AAAA,EACE;AACA,MAAI,cAAc,MAAM;AACtB,WAAO,EAAE,OAAO,cAAc,YAAY,QAAQ,aAAY;AAAA,EAChE;AACA,QAAM,OAAO,WAAW;AACxB,UAAQ,MAAI;AAAA,IACV,KAAK;AAAA,IACL,KAAK;AAAA,IACL,KAAK;AACH,aAAO,EAAE,OAAO,cAAc,YAAY,MAAM,aAAY;AAAA,IAC9D,KAAK;AACH,aAAO;AAAA,QACL,OAAO;AAAA,QACP,YAAY,WAAW,aAAa,sBAAsB,WAAW,aAAa,iBAAiB,WAAW,aAAa,sBAAsB,WAAW,aAAa,wBAAwB,WAAW,aAAa,gBAAgB,WAAW,aAAa,SAAS,WAAW,aAAa,gBAAgB,EAAE,MAAM,WAAW,SAAQ,IAAK,EAAE,MAAM,YAAY,MAAM,WAAW,SAAQ;AAAA,QAC/X;AAAA,MACR;AAAA,IACI,SAAS;AACP,YAAM,mBAAmB;AACzB,YAAM,IAAI+L,8BAA+B;AAAA,QACvC,eAAe,qBAAqB,gBAAgB;AAAA,MAC5D,CAAO;AAAA,IACH;AAAA,EACJ;AACA;AAGA,SAAS,4CAA4C,QAAQ;AAC3D,MAAIxlB,MAAIC;AACR,QAAM,UAAU,CAAA;AAChB,aAAW,WAAW,QAAQ;AAC5B,QAAI,QAAQ,SAAS,YAAa;AAClC,eAAW,QAAQ,QAAQ,SAAS;AAClC,UAAI,KAAK,SAAS,YAAa;AAC/B,YAAM,qBAAqBA,OAAMD,OAAK,KAAK,oBAAoB,OAAO,SAASA,KAAG,WAAW,OAAO,SAASC,IAAG;AAChH,UAAI,qBAAqB,MAAM;AAC7B,gBAAQ,iBAAiB,IAAI,KAAK;AAAA,MACpC;AAAA,IACF;AAAA,EACF;AACA,SAAO;AACT;AACA,IAAI,+BAA+B,MAAM;AAAA,EACvC,YAAY,SAASjB,SAAQ;AAC3B,SAAK,uBAAuB;AAC5B,SAAK,gBAAgB;AAAA,MACnB,WAAW,CAAC,iBAAiB;AAAA,MAC7B,mBAAmB,CAAC,iBAAiB;AAAA,IAC3C;AACI,SAAK,UAAU;AACf,SAAK,SAASA;AAAA,EAChB;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,QAAIgB,MAAIC,KAAI,IAAI,IAAI,IAAI;AACxB,UAAM,WAAW,CAAA;AACjB,UAAM,oBAAoB,mCAAmC,KAAK,OAAO;AACzE,QAAI,QAAQ,MAAM;AAChB,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,QAAQ;AAAA,IACxD;AACA,QAAI,QAAQ,MAAM;AAChB,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,QAAQ;AAAA,IACxD;AACA,QAAI,mBAAmB,MAAM;AAC3B,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,mBAAmB;AAAA,IACnE;AACA,QAAI,oBAAoB,MAAM;AAC5B,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,oBAAoB;AAAA,IACpE;AACA,QAAI,iBAAiB,MAAM;AACzB,eAAS,KAAK,EAAE,MAAM,eAAe,SAAS,iBAAiB;AAAA,IACjE;AACA,UAAM,sBAAsB,KAAK,OAAO,SAAS,SAAS,OAAO,IAAI,UAAU;AAC/E,QAAI,gBAAgB,MAAMwlB,qBAAsB;AAAA,MAC9C,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACd,CAAK;AACD,QAAI,iBAAiB,QAAQ,wBAAwB,UAAU;AAC7D,sBAAgB,MAAMA,qBAAsB;AAAA,QAC1C,UAAU;AAAA,QACV;AAAA,QACA,QAAQ;AAAA,MAChB,CAAO;AAAA,IACH;AACA,UAAM,oBAAoBzlB,OAAK,iBAAiB,OAAO,SAAS,cAAc,mBAAmB,OAAOA,OAAK,kBAAkB;AAC/H,SAAK,iBAAiB,OAAO,SAAS,cAAc,kBAAkB,iBAAiB,OAAO,SAAS,cAAc,qBAAqB;AACxI,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AACA,UAAM,kBAAkB,sBAAsB;AAAA,MAC5C;AAAA,MACA,mBAAmB;AAAA,QACjB,2BAA2B;AAAA,QAC3B,sBAAsB;AAAA,QACtB,2BAA2B;AAAA,QAC3B,sBAAsB;AAAA,QACtB,gBAAgB;AAAA,QAChB,qBAAqB;AAAA,QACrB,6BAA6B;AAAA,QAC7B,cAAc;AAAA,QACd,sBAAsB;AAAA,MAC9B;AAAA,IACA,CAAK;AACD,UAAM,EAAE,OAAO,UAAU,cAAa,IAAK,MAAM,8BAA8B;AAAA,MAC7E;AAAA,MACA;AAAA,MACA,oBAAoBC,MAAK,iBAAiB,OAAO,SAAS,cAAc,sBAAsB,OAAOA,MAAK,mBAAmB,cAAc,kBAAkB;AAAA,MAC7J;AAAA,MACA,gBAAgB,KAAK,OAAO;AAAA,MAC5B,QAAQ,KAAK,iBAAiB,OAAO,SAAS,cAAc,UAAU,OAAO,KAAK;AAAA,MAClF,mBAAmB,cAAc,oBAAoB;AAAA,MACrD,cAAc,cAAc,cAAc;AAAA,MAC1C,mBAAmB,cAAc,oBAAoB;AAAA,IAC3D,CAAK;AACD,aAAS,KAAK,GAAG,aAAa;AAC9B,UAAM,oBAAoB,KAAK,iBAAiB,OAAO,SAAS,cAAc,qBAAqB,OAAO,KAAK;AAC/G,QAAI,UAAU,iBAAiB,OAAO,SAAS,cAAc;AAC7D,aAAS,WAAW,KAAK;AACvB,UAAI,WAAW,MAAM;AACnB,kBAAU,CAAC,GAAG;AAAA,MAChB,WAAW,CAAC,QAAQ,SAAS,GAAG,GAAG;AACjC,kBAAU,CAAC,GAAG,SAAS,GAAG;AAAA,MAC5B;AAAA,IACF;AACA,aAAS,cAAc,IAAI;AACzB,cAAQ,SAAS,OAAO,SAAS,MAAM,KAAK,CAACwZ,UAASA,MAAK,SAAS,cAAcA,MAAK,OAAO,EAAE,MAAM;AAAA,IACxG;AACA,UAAM,cAAc,QAAQ,iBAAiB,OAAO,SAAS,cAAc,cAAc,WAAW,iBAAiB,OAAO,SAAS,cAAc,YAAY,iBAAiB,OAAO,SAAS,cAAc,cAAc,OAAO,mBAAmB;AACtP,QAAI,aAAa;AACf,iBAAW,8BAA8B;AAAA,IAC3C;AACA,UAAM,qBAAqB,KAAK,SAAS,OAAO,SAAS,MAAM;AAAA,MAC7D,CAACA,UAASA,MAAK,SAAS,eAAeA,MAAK,OAAO,uBAAuBA,MAAK,OAAO;AAAA,IAC5F,MAAU,OAAO,SAAS,GAAG;AACzB,QAAI,mBAAmB;AACrB,iBAAW,gCAAgC;AAAA,IAC7C;AACA,QAAI,cAAc,yBAAyB,GAAG;AAC5C,iBAAW,+BAA+B;AAAA,IAC5C;AACA,UAAM,QAAQ,iBAAiB,OAAO,SAAS,cAAc;AAC7D,QAAI,UAAU,SAAS,kBAAkB;AACvC,iBAAW,6BAA6B;AAAA,IAC1C;AACA,UAAM,WAAW;AAAA,MACf,OAAO,KAAK;AAAA,MACZ;AAAA,MACA;AAAA,MACA,OAAO;AAAA,MACP,mBAAmB;AAAA,MACnB,KAAK,kBAAkB,OAAO,SAAS,eAAe,UAAU,WAAW,iBAAiB,OAAO,SAAS,cAAc,mBAAmB;AAAA,QAC3I,MAAM;AAAA,UACJ,IAAI,kBAAkB,OAAO,SAAS,eAAe,UAAU,UAAU;AAAA,YACvE,QAAQ,eAAe,UAAU,OAAO;AAAA,cACtC,MAAM;AAAA,cACN,QAAQ;AAAA,cACR,OAAO,KAAK,eAAe,SAAS,OAAO,KAAK;AAAA,cAChD,aAAa,eAAe;AAAA,cAC5B,QAAQ,eAAe;AAAA,YACrC,IAAgB,EAAE,MAAM,cAAa;AAAA,UACrC;AAAA,UACU,IAAI,iBAAiB,OAAO,SAAS,cAAc,kBAAkB;AAAA,YACnE,WAAW,cAAc;AAAA,UACrC;AAAA,QACA;AAAA,MACA;AAAA;AAAA,MAEM,cAAc,iBAAiB,OAAO,SAAS,cAAc;AAAA,MAC7D,gBAAgB,iBAAiB,OAAO,SAAS,cAAc;AAAA,MAC/D,UAAU,iBAAiB,OAAO,SAAS,cAAc;AAAA,MACzD,qBAAqB,iBAAiB,OAAO,SAAS,cAAc;AAAA,MACpE,sBAAsB,iBAAiB,OAAO,SAAS,cAAc;AAAA,MACrE;AAAA,MACA,MAAM,iBAAiB,OAAO,SAAS,cAAc;AAAA,MACrD,cAAc,iBAAiB,OAAO,SAAS,cAAc;AAAA,MAC7D,cAAc,iBAAiB,OAAO,SAAS,cAAc;AAAA,MAC7D;AAAA,MACA,kBAAkB,iBAAiB,OAAO,SAAS,cAAc;AAAA,MACjE,wBAAwB,iBAAiB,OAAO,SAAS,cAAc;AAAA,MACvE,mBAAmB,iBAAiB,OAAO,SAAS,cAAc;AAAA,MAClE,cAAc;AAAA,MACd,YAAY,iBAAiB,OAAO,SAAS,cAAc;AAAA;AAAA,MAE3D,GAAG,sBAAsB,iBAAiB,OAAO,SAAS,cAAc,oBAAoB,SAAS,iBAAiB,OAAO,SAAS,cAAc,qBAAqB,SAAS;AAAA,QAChL,WAAW;AAAA,UACT,IAAI,iBAAiB,OAAO,SAAS,cAAc,oBAAoB,QAAQ;AAAA,YAC7E,QAAQ,cAAc;AAAA,UAClC;AAAA,UACU,IAAI,iBAAiB,OAAO,SAAS,cAAc,qBAAqB,QAAQ;AAAA,YAC9E,SAAS,cAAc;AAAA,UACnC;AAAA,QACA;AAAA,MACA;AAAA,IACA;AACI,QAAI,kBAAkB;AACpB,UAAI,GAAG,iBAAiB,OAAO,SAAS,cAAc,qBAAqB,UAAU,kBAAkB,iCAAiC;AACtI,YAAI,SAAS,eAAe,MAAM;AAChC,mBAAS,cAAc;AACvB,mBAAS,KAAK;AAAA,YACZ,MAAM;AAAA,YACN,SAAS;AAAA,YACT,SAAS;AAAA,UACrB,CAAW;AAAA,QACH;AACA,YAAI,SAAS,SAAS,MAAM;AAC1B,mBAAS,QAAQ;AACjB,mBAAS,KAAK;AAAA,YACZ,MAAM;AAAA,YACN,SAAS;AAAA,YACT,SAAS;AAAA,UACrB,CAAW;AAAA,QACH;AAAA,MACF;AAAA,IACF,OAAO;AACL,WAAK,iBAAiB,OAAO,SAAS,cAAc,oBAAoB,MAAM;AAC5E,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AACA,WAAK,iBAAiB,OAAO,SAAS,cAAc,qBAAqB,MAAM;AAC7E,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS;AAAA,QACnB,CAAS;AAAA,MACH;AAAA,IACF;AACA,SAAK,iBAAiB,OAAO,SAAS,cAAc,iBAAiB,UAAU,CAAC,kBAAkB,wBAAwB;AACxH,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB,CAAO;AACD,aAAO,SAAS;AAAA,IAClB;AACA,SAAK,iBAAiB,OAAO,SAAS,cAAc,iBAAiB,cAAc,CAAC,kBAAkB,4BAA4B;AAChI,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB,CAAO;AACD,aAAO,SAAS;AAAA,IAClB;AACA,UAAM;AAAA,MACJ,OAAO;AAAA,MACP,YAAY;AAAA,MACZ;AAAA,IACN,IAAQ,MAAM,sBAAsB;AAAA,MAC9B;AAAA,MACA;AAAA,IACN,CAAK;AACD,WAAO;AAAA,MACL;AAAA,MACA,MAAM;AAAA,QACJ,GAAG;AAAA,QACH,OAAO;AAAA,QACP,aAAa;AAAA,MACrB;AAAA,MACM,UAAU,CAAC,GAAG,UAAU,GAAG,YAAY;AAAA,MACvC;AAAA,MACA;AAAA,MACA;AAAA,IACN;AAAA,EACE;AAAA,EACA,MAAM,WAAW,SAAS;AACxB,QAAIzZ,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AACpG,UAAM;AAAA,MACJ,MAAM;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN,IAAQ,MAAM,KAAK,QAAQ,OAAO;AAC9B,UAAM,MAAM,KAAK,OAAO,IAAI;AAAA,MAC1B,MAAM;AAAA,MACN,SAAS,KAAK;AAAA,IACpB,CAAK;AACD,UAAM,+CAA+C,4CAA4C,QAAQ,MAAM;AAC/G,UAAM;AAAA,MACJ;AAAA,MACA,OAAO;AAAA,MACP,UAAU;AAAA,IAChB,IAAQ,MAAMylB,cAAe;AAAA,MACvB;AAAA,MACA,SAASC,eAAgB,KAAK,OAAO,QAAO,GAAI,QAAQ,OAAO;AAAA,MAC/D;AAAA,MACA,uBAAuB;AAAA,MACvB,2BAA2BC;AAAAA,QACzB;AAAA,MACR;AAAA,MACM,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,QAAI,SAAS,OAAO;AAClB,YAAM,IAAI,aAAa;AAAA,QACrB,SAAS,SAAS,MAAM;AAAA,QACxB;AAAA,QACA,mBAAmB;AAAA,QACnB,YAAY;AAAA,QACZ;AAAA,QACA,cAAc;AAAA,QACd,aAAa;AAAA,MACrB,CAAO;AAAA,IACH;AACA,UAAM,UAAU,CAAA;AAChB,UAAM,WAAW,CAAA;AACjB,QAAI,kBAAkB;AACtB,eAAW,QAAQ,SAAS,QAAQ;AAClC,cAAQ,KAAK,MAAI;AAAA,QACf,KAAK,aAAa;AAChB,cAAI,KAAK,QAAQ,WAAW,GAAG;AAC7B,iBAAK,QAAQ,KAAK,EAAE,MAAM,gBAAgB,MAAM,IAAI;AAAA,UACtD;AACA,qBAAW,WAAW,KAAK,SAAS;AAClC,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,MAAM,QAAQ;AAAA,cACd,kBAAkB;AAAA,gBAChB,CAAC,mBAAmB,GAAG;AAAA,kBACrB,QAAQ,KAAK;AAAA,kBACb,4BAA4B5lB,OAAK,KAAK,sBAAsB,OAAOA,OAAK;AAAA,gBAC1F;AAAA,cACA;AAAA,YACA,CAAa;AAAA,UACH;AACA;AAAA,QACF;AAAA,QACA,KAAK,yBAAyB;AAC5B,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,YAC7D,OAAO;AAAA,YACP,kBAAkB;AAAA,UAC9B,CAAW;AACD,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,YAC7D,QAAQ;AAAA,cACN,QAAQ,KAAK;AAAA,YAC3B;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,oBAAoB;AACvB,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,YACxD,OAAO,KAAK,UAAU;AAAA,cACpB,QAAQ,KAAK;AAAA,YAC3B,CAAa;AAAA,YACD,kBAAkB;AAAA,cAChB,CAAC,mBAAmB,GAAG;AAAA,gBACrB,QAAQ,KAAK;AAAA,cAC7B;AAAA,YACA;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,cAAc;AACjB,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,OAAO;AAAA,YAClD,OAAO,KAAK,UAAU;AAAA,cACpB,QAAQ;AAAA,gBACN,UAAU,KAAK,OAAO;AAAA,cACtC;AAAA,YACA,CAAa;AAAA,YACD,kBAAkB;AAAA,cAChB,CAAC,mBAAmB,GAAG;AAAA,gBACrB,QAAQ,KAAK;AAAA,cAC7B;AAAA,YACA;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,WAAW;AACd,qBAAW,eAAe,KAAK,SAAS;AACtC,kBAAM,MAAMC,MAAK,QAAQ,oBAAoB,OAAO,SAASA,IAAG,mBAAmB,MAAM,OAAO,SAAS,GAAG,aAAa,YAAY,UAAU;AAC7I,uBAAS,KAAK,YAAY,QAAQ;AAAA,YACpC;AACA,kBAAM,oBAAoB;AAAA,cACxB,QAAQ,KAAK;AAAA,cACb,GAAG,YAAY,YAAY,SAAS,KAAK;AAAA,gBACvC,aAAa,YAAY;AAAA,cACzC;AAAA,YACA;AACY,oBAAQ,KAAK;AAAA,cACX,MAAM;AAAA,cACN,MAAM,YAAY;AAAA,cAClB,kBAAkB;AAAA,gBAChB,CAAC,mBAAmB,GAAG;AAAA,cACvC;AAAA,YACA,CAAa;AACD,uBAAW,cAAc,YAAY,aAAa;AAChD,kBAAI,WAAW,SAAS,gBAAgB;AACtC,wBAAQ,KAAK;AAAA,kBACX,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,KAAK,MAAM,MAAM,KAAK,KAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAK2f,WAAW;AAAA,kBACzG,KAAK,WAAW;AAAA,kBAChB,OAAO,WAAW;AAAA,gBACpC,CAAiB;AAAA,cACH,WAAW,WAAW,SAAS,iBAAiB;AAC9C,wBAAQ,KAAK;AAAA,kBACX,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,KAAK,MAAM,MAAM,KAAK,KAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAKA,WAAW;AAAA,kBACzG,WAAW;AAAA,kBACX,OAAO,WAAW;AAAA,kBAClB,UAAU,WAAW;AAAA,kBACrB,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,MAAM,WAAW;AAAA,sBACjB,QAAQ,WAAW;AAAA,sBACnB,OAAO,WAAW;AAAA,oBACxC;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,WAAW,SAAS,2BAA2B;AACxD,wBAAQ,KAAK;AAAA,kBACX,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,KAAK,MAAM,MAAM,KAAK,KAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAKA,WAAW;AAAA,kBACzG,WAAW;AAAA,kBACX,OAAO,WAAW;AAAA,kBAClB,UAAU,WAAW;AAAA,kBACrB,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,MAAM,WAAW;AAAA,sBACjB,QAAQ,WAAW;AAAA,sBACnB,aAAa,WAAW;AAAA,oBAC9C;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,WAAW,SAAS,aAAa;AAC1C,wBAAQ,KAAK;AAAA,kBACX,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,KAAK,MAAM,MAAM,KAAK,KAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAKA,WAAW;AAAA,kBACzG,WAAW;AAAA,kBACX,OAAO,WAAW;AAAA,kBAClB,UAAU,WAAW;AAAA,kBACrB,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,MAAM,WAAW;AAAA,sBACjB,QAAQ,WAAW;AAAA,sBACnB,OAAO,WAAW;AAAA,oBACxC;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH;AAAA,YACF;AAAA,UACF;AACA;AAAA,QACF;AAAA,QACA,KAAK,iBAAiB;AACpB,4BAAkB;AAClB,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,KAAK;AAAA,YACf,OAAO,KAAK;AAAA,YACZ,kBAAkB;AAAA,cAChB,CAAC,mBAAmB,GAAG;AAAA,gBACrB,QAAQ,KAAK;AAAA,cAC7B;AAAA,YACA;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,mBAAmB;AACtB,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB;AAAA,cACxB,qBAAqB,OAAO,oBAAoB;AAAA,YAC9D;AAAA,YACY,OAAO,KAAK,UAAU,EAAE;AAAA,YACxB,kBAAkB;AAAA,UAC9B,CAAW;AACD,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB;AAAA,cACxB,qBAAqB,OAAO,oBAAoB;AAAA,YAC9D;AAAA,YACY,QAAQ,mBAAmB,KAAK,MAAM;AAAA,UAClD,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,YAAY;AACf,gBAAM,aAAa,KAAK,uBAAuB,QAAQ,KAAK,6CAA6C,KAAK,mBAAmB,MAAM,OAAO,KAAK,KAAK,KAAK,KAAK;AAClK,gBAAM,WAAW,OAAO,KAAK,IAAI;AACjC,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN;AAAA,YACA;AAAA,YACA,OAAO,KAAK;AAAA,YACZ,kBAAkB;AAAA,YAClB,SAAS;AAAA,UACrB,CAAW;AACD,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN;AAAA,YACA;AAAA,YACA,QAAQ;AAAA,cACN,MAAM;AAAA,cACN,aAAa,KAAK;AAAA,cAClB,MAAM,KAAK;AAAA,cACX,WAAW,KAAK;AAAA,cAChB,GAAG,KAAK,UAAU,OAAO,EAAE,QAAQ,KAAK,OAAM,IAAK,CAAA;AAAA,cACnD,GAAG,KAAK,SAAS,OAAO,EAAE,OAAO,KAAK,UAAU,CAAA;AAAA,YAC9D;AAAA,YACY,kBAAkB;AAAA,cAChB,CAAC,mBAAmB,GAAG;AAAA,gBACrB,QAAQ,KAAK;AAAA,cAC7B;AAAA,YACA;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,kBAAkB;AACrB;AAAA,QACF;AAAA,QACA,KAAK,wBAAwB;AAC3B,gBAAM,qBAAqB,KAAK,KAAK,wBAAwB,OAAO,KAAK,KAAK;AAC9E,gBAAM,mBAAmB,MAAM,MAAM,KAAK,KAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAKA,WAAW;AAC7H,gBAAM,WAAW,OAAO,KAAK,IAAI;AACjC,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY;AAAA,YACZ;AAAA,YACA,OAAO,KAAK;AAAA,YACZ,kBAAkB;AAAA,YAClB,SAAS;AAAA,UACrB,CAAW;AACD,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY;AAAA,YACZ,YAAY;AAAA,UACxB,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,iBAAiB;AACpB,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,cAAc;AAAA,YACzD,OAAO;AAAA,YACP,kBAAkB;AAAA,UAC9B,CAAW;AACD,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,cAAc;AAAA,YACzD,QAAQ;AAAA,cACN,MAAM;AAAA,cACN,QAAQ,KAAK,UAAU;AAAA,YACrC;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,oBAAoB;AACvB,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,YACxD,OAAO;AAAA,YACP,kBAAkB;AAAA,UAC9B,CAAW;AACD,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,YACxD,QAAQ;AAAA,cACN,SAAS,KAAK;AAAA,cACd,UAAU,MAAM,KAAK,KAAK,YAAY,OAAO,SAAS,GAAG,IAAI,CAAC,YAAY;AAAA,gBACxE,YAAY,OAAO;AAAA,gBACnB,QAAQ,OAAO;AAAA,gBACf,UAAU,OAAO;AAAA,gBACjB,OAAO,OAAO;AAAA,gBACd,MAAM,OAAO;AAAA,cAC7B,EAAgB,MAAM,OAAO,KAAK;AAAA,YAClC;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,yBAAyB;AAC5B,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,YAC7D,OAAO,KAAK,UAAU;AAAA,cACpB,MAAM,KAAK;AAAA,cACX,aAAa,KAAK;AAAA,YAChC,CAAa;AAAA,YACD,kBAAkB;AAAA,UAC9B,CAAW;AACD,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,YAC7D,QAAQ;AAAA,cACN,SAAS,KAAK;AAAA,YAC5B;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,QACA,KAAK,oBAAoB;AACvB,kBAAQ,KAAK;AAAA,YACX,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,YACxD,OAAO,KAAK,UAAU;AAAA,cACpB,QAAQ,KAAK;AAAA,cACb,WAAW,KAAK;AAAA,YAC9B,CAAa;AAAA,YACD,kBAAkB;AAAA,cAChB,CAAC,mBAAmB,GAAG;AAAA,gBACrB,QAAQ,KAAK;AAAA,cAC7B;AAAA,YACA;AAAA,UACA,CAAW;AACD;AAAA,QACF;AAAA,MACR;AAAA,IACI;AACA,UAAM,mBAAmB;AAAA,MACvB,CAAC,mBAAmB,GAAG,EAAE,YAAY,SAAS,GAAE;AAAA,IACtD;AACI,QAAI,SAAS,SAAS,GAAG;AACvB,uBAAiB,mBAAmB,EAAE,WAAW;AAAA,IACnD;AACA,QAAI,OAAO,SAAS,iBAAiB,UAAU;AAC7C,uBAAiB,mBAAmB,EAAE,cAAc,SAAS;AAAA,IAC/D;AACA,UAAM,QAAQ,SAAS;AACvB,WAAO;AAAA,MACL;AAAA,MACA,cAAc;AAAA,QACZ,SAAS,8BAA8B;AAAA,UACrC,eAAe,KAAK,SAAS,uBAAuB,OAAO,SAAS,GAAG;AAAA,UACvE;AAAA,QACV,CAAS;AAAA,QACD,MAAM,MAAM,KAAK,SAAS,uBAAuB,OAAO,SAAS,GAAG,WAAW,OAAO,KAAK;AAAA,MACnG;AAAA,MACM,OAAO,4BAA4B,KAAK;AAAA,MACxC,SAAS,EAAE,KAAI;AAAA,MACf,UAAU;AAAA,QACR,IAAI,SAAS;AAAA,QACb,WAAW,IAAI,KAAK,SAAS,aAAa,GAAG;AAAA,QAC7C,SAAS,SAAS;AAAA,QAClB,SAAS;AAAA,QACT,MAAM;AAAA,MACd;AAAA,MACM;AAAA,MACA;AAAA,IACN;AAAA,EACE;AAAA,EACA,MAAM,SAAS,SAAS;AACtB,UAAM;AAAA,MACJ,MAAM;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN,IAAQ,MAAM,KAAK,QAAQ,OAAO;AAC9B,UAAM,EAAE,iBAAiB,OAAO,SAAQ,IAAK,MAAM8F,cAAe;AAAA,MAChE,KAAK,KAAK,OAAO,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,KAAK;AAAA,MACtB,CAAO;AAAA,MACD,SAASC,eAAgB,KAAK,OAAO,QAAO,GAAI,QAAQ,OAAO;AAAA,MAC/D,MAAM;AAAA,QACJ,GAAG;AAAA,QACH,QAAQ;AAAA,MAChB;AAAA,MACM,uBAAuB;AAAA,MACvB,2BAA2BE;AAAAA,QACzB;AAAA,MACR;AAAA,MACM,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,UAAMxoB,QAAO;AACb,UAAM,+CAA+C,4CAA4C,QAAQ,MAAM;AAC/G,UAAM,+CAA+D,oBAAI,IAAG;AAC5E,QAAI,eAAe;AAAA,MACjB,SAAS;AAAA,MACT,KAAK;AAAA,IACX;AACI,QAAI,QAAQ;AACZ,UAAM,WAAW,CAAA;AACjB,QAAI,aAAa;AACjB,UAAM,mBAAmB,CAAA;AACzB,UAAM,qBAAqB,CAAA;AAC3B,QAAI,kBAAkB;AACtB,UAAM,kBAAkB,CAAA;AACxB,QAAI;AACJ,WAAO;AAAA,MACL,QAAQ,SAAS;AAAA,QACf,IAAI,gBAAgB;AAAA,UAClB,MAAM,YAAY;AAChB,uBAAW,QAAQ,EAAE,MAAM,gBAAgB,SAAQ,CAAE;AAAA,UACvD;AAAA,UACA,UAAU,OAAO,YAAY;AAC3B,gBAAI2C,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AACxH,gBAAI,QAAQ,kBAAkB;AAC5B,yBAAW,QAAQ,EAAE,MAAM,OAAO,UAAU,MAAM,UAAU;AAAA,YAC9D;AACA,gBAAI,CAAC,MAAM,SAAS;AAClB,6BAAe,EAAE,SAAS,SAAS,KAAK,OAAM;AAC9C,yBAAW,QAAQ,EAAE,MAAM,SAAS,OAAO,MAAM,OAAO;AACxD;AAAA,YACF;AACA,kBAAM,QAAQ,MAAM;AACpB,gBAAI,+BAA+B,KAAK,GAAG;AACzC,kBAAI,MAAM,KAAK,SAAS,iBAAiB;AACvC,iCAAiB,MAAM,YAAY,IAAI;AAAA,kBACrC,UAAU,MAAM,KAAK;AAAA,kBACrB,YAAY,MAAM,KAAK;AAAA,gBACzC;AACgB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,kBACf,UAAU,MAAM,KAAK;AAAA,gBACvC,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,mBAAmB;AAChD,iCAAiB,MAAM,YAAY,IAAI;AAAA,kBACrC,UAAU,gBAAgB;AAAA,oBACxB,qBAAqB,OAAO,oBAAoB;AAAA,kBACpE;AAAA,kBACkB,YAAY,MAAM,KAAK;AAAA,gBACzC;AACgB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,kBACf,UAAU,gBAAgB;AAAA,oBACxB,qBAAqB,OAAO,oBAAoB;AAAA,kBACpE;AAAA,kBACkB,kBAAkB;AAAA,gBACpC,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,gBACjC,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB;AAAA,oBACxB,qBAAqB,OAAO,oBAAoB;AAAA,kBACpE;AAAA,kBACkB,OAAO,KAAK,UAAU,EAAE;AAAA,kBACxB,kBAAkB;AAAA,gBACpC,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,iBAAiB;AAC9C,iCAAiB,MAAM,YAAY,IAAI;AAAA,kBACrC,UAAU,gBAAgB,iBAAiB,cAAc;AAAA,kBACzD,YAAY,MAAM,KAAK;AAAA,gBACzC;AACgB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,kBACf,UAAU,gBAAgB,iBAAiB,cAAc;AAAA,kBACzD,kBAAkB;AAAA,gBACpC,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,yBAAyB;AACtD,iCAAiB,MAAM,YAAY,IAAI;AAAA,kBACrC,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,kBAC7D,YAAY,MAAM,KAAK;AAAA,kBACvB,iBAAiB;AAAA,oBACf,aAAa,MAAM,KAAK;AAAA,kBAC5C;AAAA,gBACA;AACgB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,kBACf,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,kBAC7D,kBAAkB;AAAA,gBACpC,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,kBACf,OAAO,mBAAmB,MAAM,KAAK,YAAY;AAAA,gBACnE,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,oBAAoB;AACjD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,kBACxD,OAAO;AAAA,kBACP,kBAAkB;AAAA,gBACpC,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,yBAAyB;AACtD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,kBAC7D,OAAO;AAAA,kBACP,kBAAkB;AAAA,gBACpC,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,cAAc,MAAM,KAAK,SAAS,oBAAoB,MAAM,KAAK,SAAS,uBAAwB;AAAA,uBACtH,MAAM,KAAK,SAAS,oBAAoB;AACjD,sBAAM,EAAE,SAAS,QAAQ,UAAS,IAAK,MAAM;AAC7C,iCAAiB,MAAM,YAAY,IAAI;AAAA,kBACrC,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,kBACxD,YAAY;AAAA,kBACZ,YAAY;AAAA;AAAA,oBAEV,SAAS,UAAU,SAAS;AAAA,oBAC5B,YAAY,UAAU,SAAS;AAAA,kBACnD;AAAA,gBACA;AACgB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI;AAAA,kBACJ,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,gBAC1E,CAAiB;AACD,oBAAI,UAAU,SAAS,eAAe;AACpC,wBAAM,cAAc,KAAK,UAAU;AAAA,oBACjC;AAAA,oBACA;AAAA,kBACpB,CAAmB;AACD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI;AAAA,oBACJ,OAAO;AAAA,kBAC3B,CAAmB;AACD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI;AAAA,kBACxB,CAAmB;AAAA,gBACH,OAAO;AACL,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI;AAAA,oBACJ,OAAO,cAAc,gBAAgB,MAAM,CAAC,0BAA0B,gBAAgB,UAAU,IAAI,CAAC,aAAa,gBAAgB,UAAU,IAAI,CAAC;AAAA,kBACrK,CAAmB;AAAA,gBACH;AAAA,cACF,WAAW,MAAM,KAAK,SAAS,cAAc;AAC3C,iCAAiB,MAAM,YAAY,IAAI;AAAA,kBACrC,UAAU,gBAAgB,iBAAiB,OAAO;AAAA,kBAClD,YAAY,MAAM,KAAK;AAAA,gBACzC;AAAA,cACc,WAAW,MAAM,KAAK,SAAS,WAAW;AACxC,mCAAmB,OAAO,GAAG,mBAAmB,MAAM;AACtD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,kBACf,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,QAAQ,MAAM,KAAK;AAAA,oBACzC;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,+BAA+B,KAAK,KAAK,MAAM,KAAK,SAAS,aAAa;AACnF,gCAAgB,MAAM,KAAK,EAAE,IAAI;AAAA,kBAC/B,kBAAkB,MAAM,KAAK;AAAA,kBAC7B,cAAc,EAAE,GAAG,SAAQ;AAAA,gBAC7C;AACgB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,GAAG,MAAM,KAAK,EAAE;AAAA,kBACpB,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,QAAQ,MAAM,KAAK;AAAA,sBACnB,4BAA4BD,OAAK,MAAM,KAAK,sBAAsB,OAAOA,OAAK;AAAA,oBACpG;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH;AAAA,YACF,WAAW,8BAA8B,KAAK,GAAG;AAC/C,kBAAI,MAAM,KAAK,SAAS,WAAW;AACjC,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,kBACf,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,QAAQ,MAAM,KAAK;AAAA,sBACnB,GAAG,mBAAmB,SAAS,KAAK;AAAA,wBAClC,aAAa;AAAA,sBACrC;AAAA,oBACA;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,iBAAiB;AAC9C,iCAAiB,MAAM,YAAY,IAAI;AACvC,kCAAkB;AAClB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,gBACjC,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,MAAM,KAAK;AAAA,kBACrB,OAAO,MAAM,KAAK;AAAA,kBAClB,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,QAAQ,MAAM,KAAK;AAAA,oBACzC;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,mBAAmB;AAChD,iCAAiB,MAAM,YAAY,IAAI;AACvC,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB;AAAA,oBACxB,qBAAqB,OAAO,oBAAoB;AAAA,kBACpE;AAAA,kBACkB,QAAQ,mBAAmB,MAAM,KAAK,MAAM;AAAA,gBAC9D,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,iBAAiB;AAC9C,iCAAiB,MAAM,YAAY,IAAI;AACvC,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,MAAM,KAAK;AAAA,gBACjC,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB,iBAAiB,cAAc;AAAA,kBACzD,OAAO;AAAA,kBACP,kBAAkB;AAAA,gBACpC,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB,iBAAiB,cAAc;AAAA,kBACzD,QAAQ;AAAA,oBACN,MAAM;AAAA,oBACN,QAAQ,MAAM,KAAK,UAAU;AAAA,kBACjD;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,oBAAoB;AACjD,iCAAiB,MAAM,YAAY,IAAI;AACvC,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,kBACxD,QAAQ;AAAA,oBACN,SAAS,MAAM,KAAK;AAAA,oBACpB,UAAU,MAAMC,MAAK,MAAM,KAAK,YAAY,OAAO,SAASA,IAAG,IAAI,CAAC,YAAY;AAAA,sBAC9E,YAAY,OAAO;AAAA,sBACnB,QAAQ,OAAO;AAAA,sBACf,UAAU,OAAO;AAAA,sBACjB,OAAO,OAAO;AAAA,sBACd,MAAM,OAAO;AAAA,oBACnC,EAAsB,MAAM,OAAO,KAAK;AAAA,kBACxC;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,yBAAyB;AACtD,iCAAiB,MAAM,YAAY,IAAI;AACvC,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,kBAC7D,QAAQ;AAAA,oBACN,SAAS,MAAM,KAAK;AAAA,kBACxC;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,yBAAyB;AACtD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,kBAC7D,QAAQ;AAAA,oBACN,QAAQ,MAAM,KAAK;AAAA,kBACvC;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,YAAY;AACzC,iCAAiB,MAAM,YAAY,IAAI;AACvC,sBAAM,qBAAqB,KAAK,MAAM,KAAK,wBAAwB,OAAO,KAAK;AAC/E,sBAAM,oBAAoB,qBAAqB,QAAQ,MAAM,KAAK,6CAA6C;AAAA,kBAC7G;AAAA,gBAClB,MAAsB,OAAO,KAAK,6CAA6C,iBAAiB,MAAM,OAAO,KAAK,MAAM,KAAK,KAAK,MAAM,KAAK;AAC7H,sBAAM,WAAW,OAAO,MAAM,KAAK,IAAI;AACvC,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ;AAAA,kBACA,OAAO,MAAM,KAAK;AAAA,kBAClB,kBAAkB;AAAA,kBAClB,SAAS;AAAA,gBAC3B,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ;AAAA,kBACA,QAAQ;AAAA,oBACN,MAAM;AAAA,oBACN,aAAa,MAAM,KAAK;AAAA,oBACxB,MAAM,MAAM,KAAK;AAAA,oBACjB,WAAW,MAAM,KAAK;AAAA,oBACtB,GAAG,MAAM,KAAK,UAAU,OAAO,EAAE,QAAQ,MAAM,KAAK,OAAM,IAAK,CAAA;AAAA,oBAC/D,GAAG,MAAM,KAAK,SAAS,OAAO,EAAE,OAAO,MAAM,KAAK,UAAU,CAAA;AAAA,kBAChF;AAAA,kBACkB,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,QAAQ,MAAM,KAAK;AAAA,oBACzC;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,kBAAkB;AAC/C,iCAAiB,MAAM,YAAY,IAAI;AAAA,cACzC,WAAW,MAAM,KAAK,SAAS,oBAAoB;AACjD,sBAAM,WAAW,iBAAiB,MAAM,YAAY;AACpD,qBAAK,YAAY,OAAO,SAAS,SAAS,eAAe,CAAC,SAAS,WAAW,cAAc,MAAM,KAAK,UAAU,SAAS,eAAe;AACvI,sBAAI,CAAC,SAAS,WAAW,SAAS;AAChC,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,SAAS;AAAA,sBACb,OAAO,gBAAgB,MAAM,KAAK,UAAU,IAAI;AAAA,oBACtE,CAAqB;AAAA,kBACH;AACA,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,SAAS;AAAA,oBACb,OAAO;AAAA,kBAC3B,CAAmB;AACD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,SAAS;AAAA,kBACjC,CAAmB;AACD,2BAAS,WAAW,aAAa;AAAA,gBACnC;AACA,oBAAI,YAAY,MAAM,KAAK,WAAW,aAAa;AACjD,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,YAAY,SAAS;AAAA,oBACrB,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,oBACxD,OAAO,KAAK,UAAU;AAAA,sBACpB,QAAQ,MAAM,KAAK;AAAA,sBACnB,WAAW,MAAM,KAAK;AAAA,oBAC5C,CAAqB;AAAA,oBACD,kBAAkB;AAAA,sBAChB,CAAC,mBAAmB,GAAG;AAAA,wBACrB,QAAQ,MAAM,KAAK;AAAA,sBAC3C;AAAA,oBACA;AAAA,kBACA,CAAmB;AAAA,gBACH;AACA,iCAAiB,MAAM,YAAY,IAAI;AAAA,cACzC,WAAW,MAAM,KAAK,SAAS,wBAAwB;AACrD,iCAAiB,MAAM,YAAY,IAAI;AACvC,sBAAM,mBAAmB,MAAM,MAAM,KAAK5C,MAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAKuiB,WAAW;AAC7H,sBAAM,qBAAqB,KAAK,MAAM,KAAK,wBAAwB,OAAO,KAAK,MAAM,KAAK;AAC1F,6DAA6C;AAAA,kBAC3C;AAAA,kBACA;AAAA,gBAClB;AACgB,sBAAM,WAAW,OAAO,MAAM,KAAK,IAAI;AACvC,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ;AAAA,kBACA,OAAO,MAAM,KAAK;AAAA,kBAClB,kBAAkB;AAAA,kBAClB,SAAS;AAAA,gBAC3B,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,YAAY;AAAA,gBAC9B,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,oBAAoB;AACjD,iCAAiB,MAAM,YAAY,IAAI;AACvC,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB,iBAAiB,aAAa;AAAA,kBACxD,OAAO,KAAK,UAAU;AAAA,oBACpB,QAAQ;AAAA,sBACN,MAAM;AAAA,sBACN,SAAS,MAAM,KAAK,OAAO;AAAA,sBAC3B,WAAW,MAAM,KAAK,OAAO;AAAA,sBAC7B,MAAM,MAAM,KAAK,OAAO;AAAA,sBACxB,kBAAkB,MAAM,KAAK,OAAO;AAAA,sBACpC,KAAK,MAAM,KAAK,OAAO;AAAA,oBAC7C;AAAA,kBACA,CAAmB;AAAA,kBACD,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG,EAAE,QAAQ,MAAM,KAAK,GAAE;AAAA,kBAClE;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,cAAc;AAC3C,iCAAiB,MAAM,YAAY,IAAI;AACvC,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,MAAM,KAAK;AAAA,kBACvB,UAAU,gBAAgB,iBAAiB,OAAO;AAAA,kBAClD,OAAO,KAAK,UAAU;AAAA,oBACpB,QAAQ;AAAA,sBACN,UAAU,MAAM,KAAK,OAAO;AAAA,oBAClD;AAAA,kBACA,CAAmB;AAAA,kBACD,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG,EAAE,QAAQ,MAAM,KAAK,GAAE;AAAA,kBAClE;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,KAAK,SAAS,aAAa;AAC1C,sBAAM,sBAAsB,gBAAgB,MAAM,KAAK,EAAE;AACzD,sBAAM,qBAAqB,OAAO;AAAA,kBAChC,oBAAoB;AAAA,gBACtC,EAAkB;AAAA,kBACA,CAAC,CAAC,GAAG,MAAM,MAAM,WAAW,YAAY,WAAW;AAAA,gBACrE,EAAkB,IAAI,CAAC,CAAC,YAAY,MAAM,YAAY;AACtC,2BAAW,gBAAgB,oBAAoB;AAC7C,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,GAAG,MAAM,KAAK,EAAE,IAAI,YAAY;AAAA,oBACpC,kBAAkB;AAAA,sBAChB,CAAC,mBAAmB,GAAG;AAAA,wBACrB,QAAQ,MAAM,KAAK;AAAA,wBACnB,4BAA4B,KAAK,MAAM,KAAK,sBAAsB,OAAO,KAAK;AAAA,sBACtG;AAAA,oBACA;AAAA,kBACA,CAAmB;AAAA,gBACH;AACA,uBAAO,gBAAgB,MAAM,KAAK,EAAE;AAAA,cACtC;AAAA,YACF,WAAW,0CAA0C,KAAK,GAAG;AAC3D,oBAAM,WAAW,iBAAiB,MAAM,YAAY;AACpD,kBAAI,YAAY,MAAM;AACpB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,SAAS;AAAA,kBACb,OAAO,MAAM;AAAA,gBAC/B,CAAiB;AAAA,cACH;AAAA,YACF,WAAW,gDAAgD,KAAK,GAAG;AACjE,oBAAM,WAAW,iBAAiB,MAAM,YAAY;AACpD,kBAAI,YAAY,OAAO,SAAS,SAAS,YAAY;AACnD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,SAAS;AAAA,kBACb,OAAO,gBAAgB,MAAM,KAAK;AAAA,gBACpD,CAAiB;AACD,yBAAS,WAAW,UAAU;AAAA,cAChC;AAAA,YACF,WAAW,+CAA+C,KAAK,GAAG;AAChE,oBAAM,WAAW,iBAAiB,MAAM,YAAY;AACpD,mBAAK,YAAY,OAAO,SAAS,SAAS,eAAe,CAAC,SAAS,WAAW,YAAY;AACxF,oBAAI,CAAC,SAAS,WAAW,SAAS;AAChC,6BAAW,QAAQ;AAAA,oBACjB,MAAM;AAAA,oBACN,IAAI,SAAS;AAAA,oBACb,OAAO,gBAAgB,MAAM,IAAI;AAAA,kBACrD,CAAmB;AACD,2BAAS,WAAW,UAAU;AAAA,gBAChC;AACA,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,SAAS;AAAA,kBACb,OAAO;AAAA,gBACzB,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,SAAS;AAAA,gBAC/B,CAAiB;AACD,yBAAS,WAAW,aAAa;AAAA,cACnC;AAAA,YACF,WAAW,+CAA+C,KAAK,GAAG;AAChE,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,YAAY,MAAM;AAAA,gBAClB,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,gBAC7D,QAAQ;AAAA,kBACN,QAAQ,MAAM;AAAA,gBAChC;AAAA,gBACgB,aAAa;AAAA,cAC7B,CAAe;AAAA,YACH,WAAW,4CAA4C,KAAK,GAAG;AAC7D,oBAAM,WAAW,iBAAiB,MAAM,YAAY;AACpD,kBAAI,YAAY,MAAM;AACpB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,SAAS;AAAA,kBACb,OAAO,gBAAgB,MAAM,KAAK;AAAA,gBACpD,CAAiB;AAAA,cACH;AAAA,YACF,WAAW,2CAA2C,KAAK,GAAG;AAC5D,oBAAM,WAAW,iBAAiB,MAAM,YAAY;AACpD,kBAAI,YAAY,MAAM;AACpB,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,SAAS;AAAA,kBACb,OAAO;AAAA,gBACzB,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,SAAS;AAAA,gBAC/B,CAAiB;AACD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY,SAAS;AAAA,kBACrB,UAAU,gBAAgB,iBAAiB,kBAAkB;AAAA,kBAC7D,OAAO,KAAK,UAAU;AAAA,oBACpB,MAAM,MAAM;AAAA,oBACZ,aAAa,SAAS,gBAAgB;AAAA,kBAC1D,CAAmB;AAAA,kBACD,kBAAkB;AAAA,gBACpC,CAAiB;AAAA,cACH;AAAA,YACF,WAAW,uBAAuB,KAAK,GAAG;AACxC,2BAAa,MAAM,SAAS;AAC5B,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,IAAI,MAAM,SAAS;AAAA,gBACnB,WAAW,IAAI,KAAK,MAAM,SAAS,aAAa,GAAG;AAAA,gBACnD,SAAS,MAAM,SAAS;AAAA,cACxC,CAAe;AAAA,YACH,WAAW,iBAAiB,KAAK,GAAG;AAClC,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,IAAI,MAAM;AAAA,gBACV,OAAO,MAAM;AAAA,cAC7B,CAAe;AACD,oBAAM,MAAM,KAAK,QAAQ,oBAAoB,OAAO,SAAS,GAAG,mBAAmB,MAAM,OAAO,SAAS,GAAG,aAAa,MAAM,UAAU;AACvI,yBAAS,KAAK,MAAM,QAAQ;AAAA,cAC9B;AAAA,YACF,WAAW,MAAM,SAAS,yCAAyC;AACjE,kBAAI,MAAM,gBAAgB,GAAG;AAC3B,sBAAM,sBAAsB,gBAAgB,MAAM,OAAO;AACzD,oCAAoB,aAAa,MAAM,aAAa,IAAI;AACxD,2BAAW,gBAAgB,OAAO;AAAA,kBAChC,oBAAoB;AAAA,gBACtC,GAAmB;AACD,sBAAI,oBAAoB,aAAa,YAAY,MAAM,gBAAgB;AACrE,+BAAW,QAAQ;AAAA,sBACjB,MAAM;AAAA,sBACN,IAAI,GAAG,MAAM,OAAO,IAAI,YAAY;AAAA,sBACpC,kBAAkB;AAAA,wBAChB,CAAC,mBAAmB,GAAG,EAAE,QAAQ,MAAM,QAAO;AAAA,sBACtE;AAAA,oBACA,CAAqB;AACD,wCAAoB,aAAa,YAAY,IAAI;AAAA,kBACnD;AAAA,gBACF;AACA,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,GAAG,MAAM,OAAO,IAAI,MAAM,aAAa;AAAA,kBAC3C,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,QAAQ,MAAM;AAAA,sBACd,4BAA4B,MAAM,KAAK,gBAAgB,MAAM,OAAO,MAAM,OAAO,SAAS,GAAG,qBAAqB,OAAO,KAAK;AAAA,oBACpJ;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH;AAAA,YACF,WAAW,MAAM,SAAS,yCAAyC;AACjE,yBAAW,QAAQ;AAAA,gBACjB,MAAM;AAAA,gBACN,IAAI,GAAG,MAAM,OAAO,IAAI,MAAM,aAAa;AAAA,gBAC3C,OAAO,MAAM;AAAA,gBACb,kBAAkB;AAAA,kBAChB,CAAC,mBAAmB,GAAG;AAAA,oBACrB,QAAQ,MAAM;AAAA,kBAClC;AAAA,gBACA;AAAA,cACA,CAAe;AAAA,YACH,WAAW,MAAM,SAAS,wCAAwC;AAChE,kBAAI,OAAO;AACT,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,IAAI,GAAG,MAAM,OAAO,IAAI,MAAM,aAAa;AAAA,kBAC3C,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG,EAAE,QAAQ,MAAM,QAAO;AAAA,kBAClE;AAAA,gBACA,CAAiB;AACD,gCAAgB,MAAM,OAAO,EAAE,aAAa,MAAM,aAAa,IAAI;AAAA,cACrE,OAAO;AACL,gCAAgB,MAAM,OAAO,EAAE,aAAa,MAAM,aAAa,IAAI;AAAA,cACrE;AAAA,YACF,WAAW,wBAAwB,KAAK,GAAG;AACzC,6BAAe;AAAA,gBACb,SAAS,8BAA8B;AAAA,kBACrC,eAAe,KAAK,MAAM,SAAS,uBAAuB,OAAO,SAAS,GAAG;AAAA,kBAC7E;AAAA,gBAClB,CAAiB;AAAA,gBACD,MAAM,MAAM,KAAK,MAAM,SAAS,uBAAuB,OAAO,SAAS,GAAG,WAAW,OAAO,KAAK;AAAA,cACjH;AACc,sBAAQ,MAAM,SAAS;AACvB,kBAAI,OAAO,MAAM,SAAS,iBAAiB,UAAU;AACnD,8BAAc,MAAM,SAAS;AAAA,cAC/B;AAAA,YACF,WAAW,+BAA+B,KAAK,GAAG;AAChD,iCAAmB,KAAK,MAAM,UAAU;AACxC,kBAAI,MAAM,WAAW,SAAS,gBAAgB;AAC5C,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,KAAK,MAAM,MAAM,KAAKviB,MAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAKuiB,WAAW;AAAA,kBACzG,KAAK,MAAM,WAAW;AAAA,kBACtB,OAAO,MAAM,WAAW;AAAA,gBAC1C,CAAiB;AAAA,cACH,WAAW,MAAM,WAAW,SAAS,iBAAiB;AACpD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,KAAK,MAAM,MAAM,KAAKviB,MAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAKuiB,WAAW;AAAA,kBACzG,WAAW;AAAA,kBACX,OAAO,MAAM,WAAW;AAAA,kBACxB,UAAU,MAAM,WAAW;AAAA,kBAC3B,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,MAAM,MAAM,WAAW;AAAA,sBACvB,QAAQ,MAAM,WAAW;AAAA,sBACzB,OAAO,MAAM,WAAW;AAAA,oBAC9C;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,WAAW,SAAS,2BAA2B;AAC9D,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,KAAK,MAAM,MAAM,KAAKviB,MAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAKuiB,WAAW;AAAA,kBACzG,WAAW;AAAA,kBACX,OAAO,MAAM,WAAW;AAAA,kBACxB,UAAU,MAAM,WAAW;AAAA,kBAC3B,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,MAAM,MAAM,WAAW;AAAA,sBACvB,QAAQ,MAAM,WAAW;AAAA,sBACzB,aAAa,MAAM,WAAW;AAAA,oBACpD;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH,WAAW,MAAM,WAAW,SAAS,aAAa;AAChD,2BAAW,QAAQ;AAAA,kBACjB,MAAM;AAAA,kBACN,YAAY;AAAA,kBACZ,KAAK,MAAM,MAAM,KAAKviB,MAAK,QAAQ,eAAe,OAAO,SAAS,GAAG,KAAK,EAAE,MAAM,OAAO,KAAKuiB,WAAW;AAAA,kBACzG,WAAW;AAAA,kBACX,OAAO,MAAM,WAAW;AAAA,kBACxB,UAAU,MAAM,WAAW;AAAA,kBAC3B,kBAAkB;AAAA,oBAChB,CAAC,mBAAmB,GAAG;AAAA,sBACrB,MAAM,MAAM,WAAW;AAAA,sBACvB,QAAQ,MAAM,WAAW;AAAA,sBACzB,OAAO,MAAM,WAAW;AAAA,oBAC9C;AAAA,kBACA;AAAA,gBACA,CAAiB;AAAA,cACH;AAAA,YACF,WAAW,aAAa,KAAK,GAAG;AAC9B,yBAAW,QAAQ,EAAE,MAAM,SAAS,OAAO,OAAO;AAAA,YACpD;AAAA,UACF;AAAA,UACA,MAAM,YAAY;AAChB,kBAAM,mBAAmB;AAAA,cACvB,CAAC,mBAAmB,GAAG;AAAA,gBACrB;AAAA,cAChB;AAAA,YACA;AACY,gBAAI,SAAS,SAAS,GAAG;AACvB,+BAAiB,mBAAmB,EAAE,WAAW;AAAA,YACnD;AACA,gBAAI,gBAAgB,QAAQ;AAC1B,+BAAiB,mBAAmB,EAAE,cAAc;AAAA,YACtD;AACA,uBAAW,QAAQ;AAAA,cACjB,MAAM;AAAA,cACN;AAAA,cACA,OAAO,4BAA4B,KAAK;AAAA,cACxC;AAAA,YACd,CAAa;AAAA,UACH;AAAA,QACV,CAAS;AAAA,MACT;AAAA,MACM,SAAS,EAAE,KAAI;AAAA,MACf,UAAU,EAAE,SAAS,gBAAe;AAAA,IAC1C;AAAA,EACE;AACF;AACA,SAAS,iBAAiB,OAAO;AAC/B,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,8BAA8B,OAAO;AAC5C,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,wBAAwB,OAAO;AACtC,SAAO,MAAM,SAAS,wBAAwB,MAAM,SAAS;AAC/D;AACA,SAAS,uBAAuB,OAAO;AACrC,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,0CAA0C,OAAO;AACxD,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,+CAA+C,OAAO;AAC7D,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,4CAA4C,OAAO;AAC1D,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,2CAA2C,OAAO;AACzD,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,gDAAgD,OAAO;AAC9D,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,+CAA+C,OAAO;AAC7D,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,+BAA+B,OAAO;AAC7C,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,+BAA+B,OAAO;AAC7C,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,aAAa,OAAO;AAC3B,SAAO,MAAM,SAAS;AACxB;AACA,SAAS,mBAAmB,QAAQ;AAClC,MAAI5f;AACJ,UAAQ,OAAO,MAAI;AAAA,IACjB,KAAK;AACH,aAAO;AAAA,QACL,QAAQ,EAAE,MAAM,UAAU,QAAQA,OAAK,OAAO,UAAU,OAAOA,OAAK,OAAM;AAAA;AAAA,QAE1E,GAAG,OAAO,WAAW,QAAQ,EAAE,SAAS,OAAO,QAAO;AAAA,MAC9D;AAAA,IACI,KAAK;AACH,aAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,KAAK,OAAO,MAAK;AAAA,IACxD,KAAK;AACH,aAAO;AAAA,QACL,QAAQ;AAAA,UACN,MAAM;AAAA,UACN,KAAK,OAAO;AAAA,UACZ,SAAS,OAAO;AAAA,QAC1B;AAAA,MACA;AAAA,EACA;AACA;AACA,SAAS,gBAAgB,OAAO;AAC9B,SAAO,KAAK,UAAU,KAAK,EAAE,MAAM,GAAG,EAAE;AAC1C;AAaA,IAAI,oCAAoC8lB;AAAAA,EACtC,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,cAAcC,OAAU,EAAG,QAAO;AAAA,MAClC,OAAOC,SAAU,EAAG,IAAI,IAAI,EAAE,IAAI,CAAC,EAAE,QAAQ,CAAC,EAAE,QAAO;AAAA,IAC7D,CAAK;AAAA,EACL;AACA;AAGA,IAAI,oBAAoB,MAAM;AAAA,EAC5B,YAAY,SAASlnB,SAAQ;AAC3B,SAAK,UAAU;AACf,SAAK,SAASA;AACd,SAAK,uBAAuB;AAAA,EAC9B;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ,MAAAG;AAAA,IACA,QAAQ;AAAA,IACR,eAAe;AAAA,IACf;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM,WAAW,CAAA;AACjB,UAAM,gBAAgB,MAAMgnB,qBAAsB;AAAA,MAChD,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACd,CAAK;AACD,UAAM,cAAc;AAAA,MAClB,OAAO,KAAK;AAAA,MACZ,OAAOhnB;AAAA,MACP;AAAA,MACA,iBAAiB;AAAA,MACjB;AAAA,MACA;AAAA,IACN;AACI,QAAI,cAAc;AAChB,UAAI,CAAC,OAAO,QAAQ,OAAO,QAAQ,OAAO,KAAK,EAAE,SAAS,YAAY,GAAG;AACvE,oBAAY,kBAAkB;AAAA,MAChC,OAAO;AACL,iBAAS,KAAK;AAAA,UACZ,MAAM;AAAA,UACN,SAAS;AAAA,UACT,SAAS,8BAA8B,YAAY;AAAA,QAC7D,CAAS;AAAA,MACH;AAAA,IACF;AACA,QAAI,eAAe;AACjB,YAAM,qBAAqB,CAAA;AAC3B,iBAAW,OAAO,oBAAoB;AACpC,cAAM,QAAQ,mBAAmB,GAAG;AACpC,YAAI,UAAU,QAAQ;AACpB,sBAAY,GAAG,IAAI;AAAA,QACrB;AAAA,MACF;AAAA,IACF;AACA,QAAI,UAAU;AACZ,eAAS,KAAK;AAAA,QACZ,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS,+EAA+E,QAAQ;AAAA,MACxG,CAAO;AAAA,IACH;AACA,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACN;AAAA,EACE;AAAA,EACA,MAAM,WAAW,SAAS;AACxB,QAAIa,MAAIC,KAAI;AACZ,UAAM,eAAe,MAAMA,OAAMD,OAAK,KAAK,OAAO,cAAc,OAAO,SAASA,KAAG,gBAAgB,OAAO,SAASC,IAAG,KAAKD,IAAE,MAAM,OAAO,KAAqB,oBAAI,KAAI;AACvK,UAAM,EAAE,aAAa,SAAQ,IAAK,MAAM,KAAK,QAAQ,OAAO;AAC5D,UAAM;AAAA,MACJ,OAAO;AAAA,MACP;AAAA,MACA,UAAU;AAAA,IAChB,IAAQ,MAAMomB,cAAe;AAAA,MACvB,KAAK,KAAK,OAAO,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,KAAK;AAAA,MACtB,CAAO;AAAA,MACD,SAASC,eAAgB,KAAK,OAAO,QAAO,GAAI,QAAQ,OAAO;AAAA,MAC/D,MAAM;AAAA,MACN,uBAAuB;AAAA,MACvB,2BAA2B,4BAA2B;AAAA,MACtD,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA,SAAS;AAAA,QACP,MAAM,KAAK,UAAU,WAAW;AAAA,MACxC;AAAA,MACM,UAAU;AAAA,QACR,WAAW;AAAA,QACX,SAAS,KAAK;AAAA,QACd,SAAS;AAAA,QACT,MAAM;AAAA,MACd;AAAA,IACA;AAAA,EACE;AACF;AAeA,IAAI,oCAAoCC;AAAAA,EACtC,MAAMC;AAAAA,IACJC,SAAW;AAAA,MACT,MAAMC,OAAU;AAAA,MAChB,UAAUA,OAAU,EAAG,QAAO;AAAA,MAC9B,UAAUC,SAAU,EAAG,QAAO;AAAA,MAC9B,OAAOC;AAAAA,QACLH,SAAW;AAAA,UACT,MAAMC,OAAU;AAAA,UAChB,OAAOC,SAAU;AAAA,UACjB,KAAKA,SAAU;AAAA,QACzB,CAAS;AAAA,MACT,EAAQ,QAAO;AAAA,MACT,UAAUC;AAAAA,QACRH,SAAW;AAAA,UACT,IAAIE,SAAU;AAAA,UACd,MAAMA,SAAU;AAAA,UAChB,OAAOA,SAAU;AAAA,UACjB,KAAKA,SAAU;AAAA,UACf,MAAMD,OAAU;AAAA,UAChB,QAAQE,QAAUD,UAAY;AAAA,UAC9B,aAAaA,SAAU;AAAA,UACvB,aAAaA,SAAU;AAAA,UACvB,mBAAmBA,SAAU;AAAA,UAC7B,gBAAgBA,SAAU;AAAA,QACpC,CAAS;AAAA,MACT,EAAQ,QAAO;AAAA,IACf,CAAK;AAAA,EACL;AACA;AAKA,IAAI,qCAAqCE;AAAAA,EACvC,MAAMC;AAAAA,IACJC,SAAW;AAAA;AAAA;AAAA;AAAA,MAIT,SAASC,QAAUC,OAAU,CAAE,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA,MAIzC,UAAUA,OAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA,MAI/B,QAAQA,OAAU,EAAG,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,MAK7B,aAAaC,SAAU,EAAG,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,QAAQ,CAAC,EAAE,SAAQ;AAAA;AAAA;AAAA;AAAA;AAAA,MAK3D,wBAAwBF,QAAUG,MAAS,CAAC,QAAQ,SAAS,CAAC,CAAC,EAAE,QAAQ,CAAC,SAAS,CAAC,EAAE,SAAQ;AAAA,IACpG,CAAK;AAAA,EACL;AACA;AAGA,IAAI,cAAc;AAAA,EAChB,WAAW;AAAA,EACX,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,aAAa;AAAA,EACb,YAAY;AAAA,EACZ,SAAS;AAAA,EACT,WAAW;AAAA,EACX,SAAS;AAAA,EACT,SAAS;AAAA,EACT,UAAU;AAAA,EACV,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,SAAS;AAAA,EACT,UAAU;AAAA,EACV,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,OAAO;AAAA,EACP,WAAW;AAAA,EACX,WAAW;AAAA,EACX,YAAY;AAAA,EACZ,SAAS;AAAA,EACT,UAAU;AAAA,EACV,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,SAAS;AAAA,EACT,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AAAA,EACP,QAAQ;AAAA,EACR,WAAW;AAAA,EACX,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,YAAY;AAAA,EACZ,UAAU;AAAA,EACV,SAAS;AAAA,EACT,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,WAAW;AAAA,EACX,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,MAAM;AAAA,EACN,SAAS;AAAA,EACT,WAAW;AAAA,EACX,MAAM;AAAA,EACN,YAAY;AAAA,EACZ,OAAO;AACT;AACA,IAAI,2BAA2B,MAAM;AAAA,EACnC,YAAY,SAASloB,SAAQ;AAC3B,SAAK,UAAU;AACf,SAAK,SAASA;AACd,SAAK,uBAAuB;AAAA,EAC9B;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM,WAAW,CAAA;AACjB,UAAM,gBAAgB,MAAMmoB,qBAAsB;AAAA,MAChD,UAAU;AAAA,MACV;AAAA,MACA,QAAQ;AAAA,IACd,CAAK;AACD,UAAM,WAAW,IAAI,SAAQ;AAC7B,UAAM,OAAO,iBAAiB,aAAa,IAAI,KAAK,CAAC,KAAK,CAAC,IAAI,IAAI,KAAK,CAACC,0BAA2B,KAAK,CAAC,CAAC;AAC3G,aAAS,OAAO,SAAS,KAAK,OAAO;AACrC,UAAM,gBAAgB,qBAAqB,SAAS;AACpD,aAAS;AAAA,MACP;AAAA,MACA,IAAI,KAAK,CAAC,IAAI,GAAG,SAAS,EAAE,MAAM,WAAW;AAAA,MAC7C,SAAS,aAAa;AAAA,IAC5B;AACI,QAAI,eAAe;AACjB,YAAM,4BAA4B;AAAA,QAChC,SAAS,cAAc;AAAA,QACvB,UAAU,cAAc;AAAA,QACxB,QAAQ,cAAc;AAAA;AAAA;AAAA,QAGtB,iBAAiB;AAAA,UACf;AAAA,UACA;AAAA,QACV,EAAU,SAAS,KAAK,OAAO,IAAI,SAAS;AAAA,QACpC,aAAa,cAAc;AAAA,QAC3B,yBAAyB,cAAc;AAAA,MAC/C;AACM,iBAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,yBAAyB,GAAG;AACpE,YAAI,SAAS,MAAM;AACjB,cAAI,MAAM,QAAQ,KAAK,GAAG;AACxB,uBAAW,QAAQ,OAAO;AACxB,uBAAS,OAAO,GAAG,GAAG,MAAM,OAAO,IAAI,CAAC;AAAA,YAC1C;AAAA,UACF,OAAO;AACL,qBAAS,OAAO,KAAK,OAAO,KAAK,CAAC;AAAA,UACpC;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,WAAO;AAAA,MACL;AAAA,MACA;AAAA,IACN;AAAA,EACE;AAAA,EACA,MAAM,WAAW,SAAS;AACxB,QAAIpnB,MAAIC,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAChC,UAAM,eAAe,MAAMA,OAAMD,OAAK,KAAK,OAAO,cAAc,OAAO,SAASA,KAAG,gBAAgB,OAAO,SAASC,IAAG,KAAKD,IAAE,MAAM,OAAO,KAAqB,oBAAI,KAAI;AACvK,UAAM,EAAE,UAAU,SAAQ,IAAK,MAAM,KAAK,QAAQ,OAAO;AACzD,UAAM;AAAA,MACJ,OAAO;AAAA,MACP;AAAA,MACA,UAAU;AAAA,IAChB,IAAQ,MAAMqnB,kBAAmB;AAAA,MAC3B,KAAK,KAAK,OAAO,IAAI;AAAA,QACnB,MAAM;AAAA,QACN,SAAS,KAAK;AAAA,MACtB,CAAO;AAAA,MACD,SAASC,eAAgB,KAAK,OAAO,QAAO,GAAI,QAAQ,OAAO;AAAA,MAC/D;AAAA,MACA,uBAAuB;AAAA,MACvB,2BAA2BC;AAAAA,QACzB;AAAA,MACR;AAAA,MACM,aAAa,QAAQ;AAAA,MACrB,OAAO,KAAK,OAAO;AAAA,IACzB,CAAK;AACD,UAAM,WAAW,SAAS,YAAY,QAAQ,SAAS,YAAY,cAAc,YAAY,SAAS,QAAQ,IAAI;AAClH,WAAO;AAAA,MACL,MAAM,SAAS;AAAA,MACf,WAAW,MAAM,MAAM,KAAK,SAAS,aAAa,OAAO,SAAS,GAAG,IAAI,CAAC,aAAa;AAAA,QACrF,MAAM,QAAQ;AAAA,QACd,aAAa,QAAQ;AAAA,QACrB,WAAW,QAAQ;AAAA,MAC3B,EAAQ,MAAM,OAAO,MAAM,KAAK,SAAS,UAAU,OAAO,SAAS,GAAG,IAAI,CAAC,UAAU;AAAA,QAC7E,MAAM,KAAK;AAAA,QACX,aAAa,KAAK;AAAA,QAClB,WAAW,KAAK;AAAA,MACxB,EAAQ,MAAM,OAAO,KAAK,CAAA;AAAA,MACpB;AAAA,MACA,oBAAoB,KAAK,SAAS,aAAa,OAAO,KAAK;AAAA,MAC3D;AAAA,MACA,UAAU;AAAA,QACR,WAAW;AAAA,QACX,SAAS,KAAK;AAAA,QACd,SAAS;AAAA,QACT,MAAM;AAAA,MACd;AAAA,IACA;AAAA,EACE;AACF;AAGA,IAAIjS,YAAiB;AAGrB,SAAS,aAAa,UAAU,IAAI;AAClC,MAAItV,MAAIC;AACR,QAAM,WAAWD,OAAK;AAAA,IACpB,oBAAoB;AAAA,MAClB,cAAc,QAAQ;AAAA,MACtB,yBAAyB;AAAA,IAC/B,CAAK;AAAA,EACL,MAAQ,OAAOA,OAAK;AAClB,QAAM,gBAAgBC,MAAK,QAAQ,SAAS,OAAOA,MAAK;AACxD,QAAM,aAAa,MAAM;AAAA,IACvB;AAAA,MACE,eAAe,UAAU,WAAW;AAAA,QAClC,QAAQ,QAAQ;AAAA,QAChB,yBAAyB;AAAA,QACzB,aAAa;AAAA,MACrB,CAAO,CAAC;AAAA,MACF,uBAAuB,QAAQ;AAAA,MAC/B,kBAAkB,QAAQ;AAAA,MAC1B,GAAG,QAAQ;AAAA,IACjB;AAAA,IACI,iBAAiBqV,SAAO;AAAA,EAC5B;AACE,QAAM,kBAAkB,CAAC,YAAY,IAAI,wBAAwB,SAAS;AAAA,IACxE,UAAU,GAAG,YAAY;AAAA,IACzB,KAAK,CAAC,EAAE,MAAAjX,MAAI,MAAO,GAAG,OAAO,GAAGA,KAAI;AAAA,IACpC,SAAS;AAAA,IACT,OAAO,QAAQ;AAAA,EACnB,CAAG;AACD,QAAM,wBAAwB,CAAC,YAAY,IAAI,8BAA8B,SAAS;AAAA,IACpF,UAAU,GAAG,YAAY;AAAA,IACzB,KAAK,CAAC,EAAE,MAAAA,MAAI,MAAO,GAAG,OAAO,GAAGA,KAAI;AAAA,IACpC,SAAS;AAAA,IACT,OAAO,QAAQ;AAAA,EACnB,CAAG;AACD,QAAM,uBAAuB,CAAC,YAAY,IAAI,qBAAqB,SAAS;AAAA,IAC1E,UAAU,GAAG,YAAY;AAAA,IACzB,KAAK,CAAC,EAAE,MAAAA,MAAI,MAAO,GAAG,OAAO,GAAGA,KAAI;AAAA,IACpC,SAAS;AAAA,IACT,OAAO,QAAQ;AAAA,EACnB,CAAG;AACD,QAAM,mBAAmB,CAAC,YAAY,IAAI,iBAAiB,SAAS;AAAA,IAClE,UAAU,GAAG,YAAY;AAAA,IACzB,KAAK,CAAC,EAAE,MAAAA,MAAI,MAAO,GAAG,OAAO,GAAGA,KAAI;AAAA,IACpC,SAAS;AAAA,IACT,OAAO,QAAQ;AAAA,EACnB,CAAG;AACD,QAAM,2BAA2B,CAAC,YAAY,IAAI,yBAAyB,SAAS;AAAA,IAClF,UAAU,GAAG,YAAY;AAAA,IACzB,KAAK,CAAC,EAAE,MAAAA,MAAI,MAAO,GAAG,OAAO,GAAGA,KAAI;AAAA,IACpC,SAAS;AAAA,IACT,OAAO,QAAQ;AAAA,EACnB,CAAG;AACD,QAAM,oBAAoB,CAAC,YAAY,IAAI,kBAAkB,SAAS;AAAA,IACpE,UAAU,GAAG,YAAY;AAAA,IACzB,KAAK,CAAC,EAAE,MAAAA,MAAI,MAAO,GAAG,OAAO,GAAGA,KAAI;AAAA,IACpC,SAAS;AAAA,IACT,OAAO,QAAQ;AAAA,EACnB,CAAG;AACD,QAAM,sBAAsB,CAAC,YAAY;AACvC,QAAI,YAAY;AACd,YAAM,IAAI;AAAA,QACR;AAAA,MACR;AAAA,IACI;AACA,WAAO,qBAAqB,OAAO;AAAA,EACrC;AACA,QAAM,uBAAuB,CAAC,YAAY;AACxC,WAAO,IAAI,6BAA6B,SAAS;AAAA,MAC/C,UAAU,GAAG,YAAY;AAAA,MACzB,KAAK,CAAC,EAAE,MAAAA,MAAI,MAAO,GAAG,OAAO,GAAGA,KAAI;AAAA,MACpC,SAAS;AAAA,MACT,OAAO,QAAQ;AAAA,MACf,gBAAgB,CAAC,OAAO;AAAA,IAC9B,CAAK;AAAA,EACH;AACA,QAAM,WAAW,SAAS,SAAS;AACjC,WAAO,oBAAoB,OAAO;AAAA,EACpC;AACA,WAAS,uBAAuB;AAChC,WAAS,gBAAgB;AACzB,WAAS,OAAO;AAChB,WAAS,aAAa;AACtB,WAAS,YAAY;AACrB,WAAS,YAAY;AACrB,WAAS,iBAAiB;AAC1B,WAAS,gBAAgB;AACzB,WAAS,qBAAqB;AAC9B,WAAS,QAAQ;AACjB,WAAS,aAAa;AACtB,WAAS,gBAAgB;AACzB,WAAS,qBAAqB;AAC9B,WAAS,SAAS;AAClB,WAAS,cAAc;AACvB,WAAS,QAAQ;AACjB,SAAO;AACT;AACA,IAAI,SAAS,aAAY;;;;;;ACtzLzB,MAAImpB,aAAY,OAAO;AACvB,MAAI,mBAAmB,OAAO;AAC9B,MAAI,oBAAoB,OAAO;AAC/B,MAAI,eAAe,OAAO,UAAU;AACpC,MAAIC,YAAW,CAAC,QAAQ,QAAQ;AAC9B,aAAS/pB,UAAQ;AACf,MAAA8pB,WAAU,QAAQ9pB,QAAM,EAAE,KAAK,IAAIA,MAAI,GAAG,YAAY,MAAM;AAAA,EAChE;AACA,MAAI,cAAc,CAAC,IAAI,MAAM,QAAQ,SAAS;AAC5C,QAAI,QAAQ,OAAO,SAAS,YAAY,OAAO,SAAS,YAAY;AAClE,eAAS,OAAO,kBAAkB,IAAI;AACpC,YAAI,CAAC,aAAa,KAAK,IAAI,GAAG,KAAK,QAAQ;AACzC,UAAA8pB,WAAU,IAAI,KAAK,EAAE,KAAK,MAAM,KAAK,GAAG,GAAG,YAAY,EAAE,OAAO,iBAAiB,MAAM,GAAG,MAAM,KAAK,YAAY;AAAA,IACzH;AACE,WAAO;AAAA,EACT;AACA,MAAI,eAAe,CAAC,QAAQ,YAAYA,WAAU,CAAA,GAAI,cAAc,EAAE,OAAO,KAAI,CAAE,GAAG,GAAG;AACzF,MAAI,sBAAsB,CAAA;AAC1B,EAAAC,UAAS,qBAAqB;AAAA,IAC5B,wBAAwB,MAAM;AAAA,IAC9B,YAAY,MAAM;AAAA,EACpB,CAAC;AACD,iBAAiB,aAAa,mBAAmB;AACjD,QAAM,yBAAyB,OAAO,IAAI,yBAAyB;AACnE,WAAS,aAAa;AACpB,UAAM,aAAa;AACnB,WAAO,WAAW,sBAAsB,GAAG,MAAG,KAAQ,CAAA;AAAA,EACxD;;;;;;;;AC3BA,MAAID,aAAY,OAAO;AACvB,MAAI,mBAAmB,OAAO;AAC9B,MAAI,oBAAoB,OAAO;AAC/B,MAAI,eAAe,OAAO,UAAU;AACpC,MAAIC,YAAW,CAAC,QAAQ,QAAQ;AAC9B,aAAS/pB,UAAQ;AACf,MAAA8pB,WAAU,QAAQ9pB,QAAM,EAAE,KAAK,IAAIA,MAAI,GAAG,YAAY,MAAM;AAAA,EAChE;AACA,MAAI,cAAc,CAAC,IAAI,MAAM,QAAQ,SAAS;AAC5C,QAAI,QAAQ,OAAO,SAAS,YAAY,OAAO,SAAS,YAAY;AAClE,eAAS,OAAO,kBAAkB,IAAI;AACpC,YAAI,CAAC,aAAa,KAAK,IAAI,GAAG,KAAK,QAAQ;AACzC,UAAA8pB,WAAU,IAAI,KAAK,EAAE,KAAK,MAAM,KAAK,GAAG,GAAG,YAAY,EAAE,OAAO,iBAAiB,MAAM,GAAG,MAAM,KAAK,YAAY;AAAA,IACzH;AACE,WAAO;AAAA,EACT;AACA,MAAI,eAAe,CAAC,QAAQ,YAAYA,WAAU,CAAA,GAAI,cAAc,EAAE,OAAO,KAAI,CAAE,GAAG,GAAG;AACzF,MAAI,wBAAwB,CAAA;AAC5B,EAAAC,UAAS,uBAAuB;AAAA,IAC9B,YAAY,MAAM,mBAAmB;AAAA,IACrC,oBAAoB,MAAM;AAAA,IAC1B,wBAAwB,MAAM;AAAA,EAChC,CAAC;AACD,iBAAiB,aAAa,qBAAqB;AACnD,MAAI,qBAAqBjqB,kBAAA;AACzB,iBAAe,qBAAqB;AAClC,WAAO;AAAA,EACT;AACA,WAAS,yBAAyB;AAChC,WAAO;AAAA,EACT;;;;AClBA,IAAIsC,WAAS;AACb,IAAIC,WAAS,OAAO,IAAID,QAAM;AAC9B,IAAIE,MAAI;AACR,IAAI,eAAe,MAAM,uBAAuB,KAAK,OAAOA,OAAKD,UAAQ,IAAI;AAAA,EAC3E,YAAY;AAAA,IACV;AAAA,IACA,aAAa;AAAA,IACb;AAAA,EACJ,GAAK;AACD,UAAM,OAAO;AACb,SAAKC,IAAE,IAAI;AACX,SAAK,aAAa;AAClB,SAAK,QAAQ;AAAA,EACf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAO,WAAWP,QAAO;AACvB,WAAO,cAAc,UAAUA,MAAK;AAAA,EACtC;AAAA,EACA,OAAO,UAAUA,QAAO;AACtB,WAAO,OAAOA,WAAU,YAAYA,WAAU,QAAQM,YAAUN,UAASA,OAAMM,QAAM,MAAM;AAAA,EAC7F;AACF;AAGA,IAAIrC,SAAO;AACX,IAAI,UAAU,2BAA2BA,MAAI;AAC7C,IAAI,UAAU,OAAO,IAAI,OAAO;AAChC,IAAI,KAAK;AACT,IAAI,6BAA6B,MAAM,qCAAqC,MAAM,cAAc,MAAM,SAAS,KAAK;AAAA,EAClH,YAAY;AAAA,IACV,UAAU;AAAA,IACV,aAAa;AAAA,IACb;AAAA,EACJ,IAAM,IAAI;AACN,UAAM,EAAE,SAAS,YAAY,MAAK,CAAE;AACpC,SAAK,GAAG,IAAI;AAEZ,SAAK,OAAOA;AACZ,SAAK,OAAO;AAAA,EACd;AAAA,EACA,OAAO,WAAW+B,QAAO;AACvB,WAAO,aAAa,UAAUA,MAAK,KAAK,WAAWA;AAAA,EACrD;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO,sBAAsB;AAAA,IAC3B;AAAA,IACA;AAAA,IACA,UAAU;AAAA,IACV,aAAa;AAAA,IACb;AAAA,EACJ,GAAK;AACD,QAAI;AACJ,QAAI,gBAAgB;AAClB,0BAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,IAKtB,WAAW,mBAAmB;AAC5B,0BAAoB;AAAA;AAAA;AAAA;AAAA;AAAA,IAKtB,OAAO;AACL,0BAAoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQtB;AACA,WAAO,IAAI,4BAA4B;AAAA,MACrC,SAAS;AAAA,MACT;AAAA,MACA;AAAA,IACN,CAAK;AAAA,EACH;AACF;AAGA,IAAI,QAAQ;AACZ,IAAIe,YAAU,2BAA2B,KAAK;AAC9C,IAAIC,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAK;AACT,IAAI,6BAA6B,eAAe,MAAM,cAAcA,QAAMD,WAAS,KAAK;AAAA,EACtF,YAAY;AAAA,IACV,UAAU;AAAA,IACV,aAAa;AAAA,IACb;AAAA,EACJ,IAAM,IAAI;AACN,UAAM,EAAE,SAAS,YAAY,MAAK,CAAE;AACpC,SAAKC,KAAG,IAAI;AAEZ,SAAK,OAAO;AACZ,SAAK,OAAO;AAAA,EACd;AAAA,EACA,OAAO,WAAWjB,QAAO;AACvB,WAAO,aAAa,UAAUA,MAAK,KAAKgB,aAAWhB;AAAA,EACrD;AACF;AAGA,IAAImB,UAAQ;AACZ,IAAIC,YAAU,2BAA2BD,OAAK;AAC9C,IAAIE,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAK;AACT,IAAI,wBAAwB,eAAe,MAAM,cAAcA,QAAMD,WAAS,KAAK;AAAA,EACjF,YAAY;AAAA,IACV,UAAU;AAAA,IACV,aAAa;AAAA,IACb;AAAA,EACJ,IAAM,IAAI;AACN,UAAM,EAAE,SAAS,YAAY,MAAK,CAAE;AACpC,SAAKC,KAAG,IAAI;AAEZ,SAAK,OAAOH;AACZ,SAAK,OAAO;AAAA,EACd;AAAA,EACA,OAAO,WAAWnB,QAAO;AACvB,WAAO,aAAa,UAAUA,MAAK,KAAKqB,aAAWrB;AAAA,EACrD;AACF;AAKA,IAAIwB,UAAQ;AACZ,IAAIC,YAAU,2BAA2BD,OAAK;AAC9C,IAAIE,YAAU,OAAO,IAAID,SAAO;AAChC,IAAI,2BAA2B;AAAA,EAC7B,MAAM;AAAA,IACJqV,SAAS;AAAA,MACP,SAASE,OAAQ;AAAA,IACvB,CAAK;AAAA,EACL;AACA;AACA,IAAIrV,OAAK;AACT,IAAI,4BAA4B,eAAe,MAAM,cAAcA,QAAMD,WAAS,KAAK;AAAA,EACrF,YAAY;AAAA,IACV,UAAU;AAAA,IACV,aAAa;AAAA,IACb;AAAA,IACA;AAAA,EACJ,IAAM,IAAI;AACN,UAAM,EAAE,SAAS,YAAY,MAAK,CAAE;AACpC,SAAKC,KAAG,IAAI;AAEZ,SAAK,OAAOH;AACZ,SAAK,OAAO;AACZ,SAAK,UAAU;AAAA,EACjB;AAAA,EACA,OAAO,WAAWxB,QAAO;AACvB,WAAO,aAAa,UAAUA,MAAK,KAAK0B,aAAW1B;AAAA,EACrD;AACF;AAGA,IAAI6B,UAAQ;AACZ,IAAI,UAAU,2BAA2BA,OAAK;AAC9C,IAAI,UAAU,OAAO,IAAI,OAAO;AAChC,IAAI,KAAK;AACT,IAAI,6BAA6B,eAAe,MAAM,cAAc,MAAM,SAAS,KAAK;AAAA,EACtF,YAAY;AAAA,IACV,UAAU;AAAA,IACV,aAAa;AAAA,IACb;AAAA,EACJ,IAAM,IAAI;AACN,UAAM,EAAE,SAAS,YAAY,MAAK,CAAE;AACpC,SAAK,GAAG,IAAI;AAEZ,SAAK,OAAOA;AACZ,SAAK,OAAO;AAAA,EACd;AAAA,EACA,OAAO,WAAW7B,QAAO;AACvB,WAAO,aAAa,UAAUA,MAAK,KAAK,WAAWA;AAAA,EACrD;AACF;AAGA,IAAI,QAAQ;AACZ,IAAImC,YAAU,2BAA2B,KAAK;AAC9C,IAAIC,YAAU,OAAO,IAAID,SAAO;AAChC,IAAIE,OAAK;AACT,IAAI,uBAAuB,eAAe,MAAM,cAAcA,QAAMD,WAAS,KAAK;AAAA,EAChF,YAAY;AAAA,IACV,UAAU;AAAA,IACV,aAAa;AAAA,IACb;AAAA,IACA;AAAA,IACA;AAAA,EACJ,IAAM,IAAI;AACN,UAAM,EAAE,SAAS,YAAY,MAAK,CAAE;AACpC,SAAKC,KAAG,IAAI;AAEZ,SAAK,OAAO;AACZ,SAAK,OAAO;AACZ,SAAK,WAAW;AAChB,SAAK,kBAAkB;AAAA,EACzB;AAAA,EACA,OAAO,WAAWrC,QAAO;AACvB,WAAO,aAAa,UAAUA,MAAK,KAAKoC,aAAWpC;AAAA,EACrD;AACF;AAQA,eAAe,+BAA+B;AAAA,EAC5C;AAAA,EACA;AAAA,EACA,iBAAiB;AAAA,EACjB;AAAA,EACA;AACF,GAAG;AACD,QAAM,cAAc,MAAM,kBAAkB;AAAA,IAC1C,OAAO;AAAA,IACP,QAAQ;AAAA,EACZ,CAAG;AACD,MAAI,CAAC,YAAY,SAAS;AACxB,WAAO,IAAI,qBAAqB;AAAA,MAC9B,SAAS,kCAAkC,cAAc;AAAA,MACzD;AAAA,MACA;AAAA,MACA,iBAAiB,YAAY;AAAA,MAC7B;AAAA,IACN,CAAK;AAAA,EACH;AACA,QAAM,oBAAoB,YAAY;AACtC,QAAM,YAAY,kBAAkB,MAAM;AAC1C,QAAM,UAAU,kBAAkB,MAAM;AACxC,UAAQ,WAAS;AAAA,IACf,KAAK;AACH,aAAO,2BAA2B,sBAAsB;AAAA,QACtD,gBAAgB,eAAe;AAAA,QAC/B,mBAAmB,eAAe;AAAA,QAClC;AAAA,QACA;AAAA,MACR,CAAO;AAAA,IACH,KAAK;AACH,aAAO,IAAI,2BAA2B,EAAE,SAAS,YAAY,MAAK,CAAE;AAAA,IACtE,KAAK;AACH,aAAO,IAAI,sBAAsB,EAAE,SAAS,YAAY,MAAK,CAAE;AAAA,IACjE,KAAK,mBAAmB;AACtB,YAAM,cAAc,MAAM,kBAAkB;AAAA,QAC1C,OAAO,kBAAkB,MAAM;AAAA,QAC/B,QAAQ;AAAA,MAChB,CAAO;AACD,aAAO,IAAI,0BAA0B;AAAA,QACnC;AAAA,QACA;AAAA,QACA,SAAS,YAAY,UAAU,YAAY,MAAM,UAAU;AAAA,QAC3D;AAAA,MACR,CAAO;AAAA,IACH;AAAA,IACA,KAAK;AACH,aAAO,IAAI,2BAA2B,EAAE,SAAS,YAAY,MAAK,CAAE;AAAA,IACtE;AACE,aAAO,IAAI,2BAA2B,EAAE,SAAS,YAAY,MAAK,CAAE;AAAA,EAC1E;AACA;AACA,IAAI,6BAA6BiX;AAAAA,EAC/B,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,OAAOA,SAAU;AAAA,QACf,SAASE,OAAS;AAAA,QAClB,MAAMA,OAAS,EAAG,QAAO;AAAA,QACzB,OAAOI,QAAU,EAAG,QAAO;AAAA,QAC3B,MAAMC,MAAS,CAACL,OAAS,GAAIG,SAAS,CAAE,CAAC,EAAE,QAAO;AAAA,MAC1D,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AAGA,SAAS,eAAexX,QAAO,YAAY;AACzC,MAAI0C;AACJ,MAAI,aAAa,WAAW1C,MAAK,GAAG;AAClC,WAAOA;AAAA,EACT;AACA,MAAI,aAAa,WAAWA,MAAK,GAAG;AAClC,WAAO,+BAA+B;AAAA,MACpC,UAAU,uBAAuBA,MAAK;AAAA,MACtC,aAAa0C,OAAM1C,OAAM,eAAe,OAAO0C,OAAM;AAAA,MACrD,gBAAgB;AAAA,MAChB,OAAO1C;AAAA,MACP;AAAA,IACN,CAAK;AAAA,EACH;AACA,SAAO,+BAA+B;AAAA,IACpC,UAAU,CAAA;AAAA,IACV,YAAY;AAAA,IACZ,gBAAgBA,kBAAiB,QAAQ,2BAA2BA,OAAM,OAAO,KAAK;AAAA,IACtF,OAAOA;AAAA,IACP;AAAA,EACJ,CAAG;AACH;AAGA,SAAS,uBAAuBA,QAAO;AACrC,MAAIA,OAAM,SAAS,QAAQ;AACzB,WAAOA,OAAM;AAAA,EACf;AACA,MAAIA,OAAM,gBAAgB,MAAM;AAC9B,QAAI;AACF,aAAO,KAAK,MAAMA,OAAM,YAAY;AAAA,IACtC,SAAS,GAAG;AACV,aAAOA,OAAM;AAAA,IACf;AAAA,EACF;AACA,SAAO,CAAA;AACT;AASA,IAAI,6BAA6B;AACjC,eAAe,gBAAgB,SAAS;AACtC,QAAM,SAAS,MAAMioB,kBAAmB;AAAA,IACtC,OAAO,QAAQ,0BAA0B;AAAA,IACzC,QAAQ;AAAA,EACZ,CAAG;AACD,SAAO,OAAO,UAAU,OAAO,QAAQ;AACzC;AACA,IAAI,0BAA0B1P;AAAAA,EAC5B,MAAMC,UAAWN,MAAS,CAACC,QAAW,SAAS,GAAGA,QAAW,MAAM,CAAC,CAAC,CAAC;AACxE;AAYA,IAAI,uBAAuB,MAAM;AAAA,EAC/B,YAAY5Y,SAAQ;AAClB,SAAK,SAASA;AAAA,EAChB;AAAA,EACA,MAAM,qBAAqB;AACzB,QAAI;AACF,YAAM,EAAE,UAAU,MAAM,WAAW;AAAA,QACjC,KAAK,GAAG,KAAK,OAAO,OAAO;AAAA,QAC3B,SAAS,MAAM,QAAQ,KAAK,OAAO,QAAO,CAAE;AAAA,QAC5C,2BAA2B;AAAA,UACzB;AAAA,QACV;AAAA,QACQ,uBAAuB,+BAA+B;AAAA,UACpD,aAAa2oB,IAAM;AAAA,UACnB,gBAAgB,CAAC,SAAS;AAAA,QACpC,CAAS;AAAA,QACD,OAAO,KAAK,OAAO;AAAA,MAC3B,CAAO;AACD,aAAO;AAAA,IACT,SAASloB,QAAO;AACd,YAAM,MAAM,eAAeA,MAAK;AAAA,IAClC;AAAA,EACF;AAAA,EACA,MAAM,aAAa;AACjB,QAAI;AACF,YAAM,UAAU,IAAI,IAAI,KAAK,OAAO,OAAO;AAC3C,YAAM,EAAE,UAAU,MAAM,WAAW;AAAA,QACjC,KAAK,GAAG,QAAQ,MAAM;AAAA,QACtB,SAAS,MAAM,QAAQ,KAAK,OAAO,QAAO,CAAE;AAAA,QAC5C,2BAA2B;AAAA,UACzB;AAAA,QACV;AAAA,QACQ,uBAAuB,+BAA+B;AAAA,UACpD,aAAakoB,IAAM;AAAA,UACnB,gBAAgB,CAAC,SAAS;AAAA,QACpC,CAAS;AAAA,QACD,OAAO,KAAK,OAAO;AAAA,MAC3B,CAAO;AACD,aAAO;AAAA,IACT,SAASloB,QAAO;AACd,YAAM,MAAM,eAAeA,MAAK;AAAA,IAClC;AAAA,EACF;AACF;AACA,IAAI,uCAAuC8Y;AAAAA,EACzC,MAAMC;AAAAA,IACJN,SAAU;AAAA,MACR,QAAQI;AAAAA,QACNJ,SAAU;AAAA,UACR,IAAIG,OAAS;AAAA,UACb,MAAMA,OAAS;AAAA,UACf,aAAaA,OAAS,EAAG,QAAO;AAAA,UAChC,SAASH,SAAU;AAAA,YACjB,OAAOG,OAAS;AAAA,YAChB,QAAQA,OAAS;AAAA,YACjB,kBAAkBA,OAAS,EAAG,QAAO;AAAA,YACrC,mBAAmBA,OAAS,EAAG,QAAO;AAAA,UAClD,CAAW,EAAE;AAAA,YACD,CAAC,EAAE,OAAO,QAAQ,kBAAkB,kBAAiB,OAAQ;AAAA,cAC3D;AAAA,cACA;AAAA,cACA,GAAG,mBAAmB,EAAE,mBAAmB,iBAAgB,IAAK,CAAA;AAAA,cAChE,GAAG,oBAAoB,EAAE,0BAA0B,sBAAsB,CAAA;AAAA,YACvF;AAAA,UACA,EAAY,QAAO;AAAA,UACT,eAAeH,SAAU;AAAA,YACvB,sBAAsB0P,QAAW,IAAI;AAAA,YACrC,UAAUvP,OAAS;AAAA,YACnB,SAASA,OAAS;AAAA,UAC9B,CAAW;AAAA,UACD,WAAWD,MAAQ,CAAC,YAAY,aAAa,OAAO,CAAC,EAAE,QAAO;AAAA,QACxE,CAAS;AAAA,MACT;AAAA,IACA,CAAK;AAAA,EACL;AACA;AACA,IAAI,+BAA+BG;AAAAA,EACjC,MAAMC;AAAAA,IACJN,SAAU;AAAA,MACR,SAASG,OAAS;AAAA,MAClB,YAAYA,OAAS;AAAA,IAC3B,CAAK,EAAE,UAAU,CAAC,EAAE,SAAS,WAAU,OAAQ;AAAA,MACzC;AAAA,MACA,WAAW;AAAA,IACjB,EAAM;AAAA,EACN;AACA;AAYA,IAAI,uBAAuB,MAAM;AAAA,EAC/B,YAAY,SAASrZ,SAAQ;AAC3B,SAAK,UAAU;AACf,SAAK,SAASA;AACd,SAAK,uBAAuB;AAC5B,SAAK,gBAAgB,EAAE,OAAO,CAAC,IAAI,EAAC;AAAA,EACtC;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ,SAAS;AACrB,UAAM,EAAE,aAAa,cAAc,GAAG,qBAAoB,IAAK;AAC/D,WAAO;AAAA,MACL,MAAM,KAAK,qBAAqB,oBAAoB;AAAA,MACpD,UAAU,CAAA;AAAA,IAChB;AAAA,EACE;AAAA,EACA,MAAM,WAAW,SAAS;AACxB,UAAM,EAAE,MAAM,SAAQ,IAAK,MAAM,KAAK,QAAQ,OAAO;AACrD,UAAM,EAAE,YAAW,IAAK;AACxB,UAAM,kBAAkB,MAAMmhB,QAAS,KAAK,OAAO,QAAO,CAAE;AAC5D,QAAI;AACF,YAAM;AAAA,QACJ;AAAA,QACA,OAAO;AAAA,QACP,UAAU;AAAA,MAClB,IAAU,MAAM,cAAc;AAAA,QACtB,KAAK,KAAK,OAAM;AAAA,QAChB,SAAS;AAAA,UACP;AAAA,UACA,QAAQ;AAAA,UACR,KAAK,sBAAsB,KAAK,SAAS,KAAK;AAAA,UAC9C,MAAMA,QAAS,KAAK,OAAO,WAAW;AAAA,QAChD;AAAA,QACQ,MAAM;AAAA,QACN,2BAA2BE,0BAA2BwH,KAAQ;AAAA,QAC9D,uBAAuBC,+BAAgC;AAAA,UACrD,aAAaD,IAAM;AAAA,UACnB,gBAAgB,CAAC,SAAS;AAAA,QACpC,CAAS;AAAA,QACD,GAAG,eAAe,EAAE,YAAW;AAAA,QAC/B,OAAO,KAAK,OAAO;AAAA,MAC3B,CAAO;AACD,aAAO;AAAA,QACL,GAAG;AAAA,QACH,SAAS,EAAE,MAAM,KAAI;AAAA,QACrB,UAAU,EAAE,SAAS,iBAAiB,MAAM,YAAW;AAAA,QACvD;AAAA,MACR;AAAA,IACI,SAASpoB,QAAO;AACd,YAAM,MAAM,eAAeA,QAAO,MAAM,gBAAgB,eAAe,CAAC;AAAA,IAC1E;AAAA,EACF;AAAA,EACA,MAAM,SAAS,SAAS;AACtB,UAAM,EAAE,MAAM,SAAQ,IAAK,MAAM,KAAK,QAAQ,OAAO;AACrD,UAAM,EAAE,YAAW,IAAK;AACxB,UAAM,kBAAkB,MAAM0gB,QAAS,KAAK,OAAO,QAAO,CAAE;AAC5D,QAAI;AACF,YAAM,EAAE,OAAO,UAAU,gBAAe,IAAK,MAAM,cAAc;AAAA,QAC/D,KAAK,KAAK,OAAM;AAAA,QAChB,SAAS;AAAA,UACP;AAAA,UACA,QAAQ;AAAA,UACR,KAAK,sBAAsB,KAAK,SAAS,IAAI;AAAA,UAC7C,MAAMA,QAAS,KAAK,OAAO,WAAW;AAAA,QAChD;AAAA,QACQ,MAAM;AAAA,QACN,2BAA2B,iCAAiC0H,KAAQ;AAAA,QACpE,uBAAuBC,+BAAgC;AAAA,UACrD,aAAaD,IAAM;AAAA,UACnB,gBAAgB,CAAC,SAAS;AAAA,QACpC,CAAS;AAAA,QACD,GAAG,eAAe,EAAE,YAAW;AAAA,QAC/B,OAAO,KAAK,OAAO;AAAA,MAC3B,CAAO;AACD,aAAO;AAAA,QACL,QAAQ,SAAS;AAAA,UACf,IAAI,gBAAgB;AAAA,YAClB,MAAM,YAAY;AAChB,kBAAI,SAAS,SAAS,GAAG;AACvB,2BAAW,QAAQ,EAAE,MAAM,gBAAgB,SAAQ,CAAE;AAAA,cACvD;AAAA,YACF;AAAA,YACA,UAAU,OAAO,YAAY;AAC3B,kBAAI,MAAM,SAAS;AACjB,sBAAM,aAAa,MAAM;AACzB,oBAAI,WAAW,SAAS,SAAS,CAAC,QAAQ,kBAAkB;AAC1D;AAAA,gBACF;AACA,oBAAI,WAAW,SAAS,uBAAuB,WAAW,aAAa,OAAO,WAAW,cAAc,UAAU;AAC/G,6BAAW,YAAY,IAAI,KAAK,WAAW,SAAS;AAAA,gBACtD;AACA,2BAAW,QAAQ,UAAU;AAAA,cAC/B,OAAO;AACL,2BAAW;AAAA,kBACT,MAAM;AAAA,gBACxB;AAAA,cACc;AAAA,YACF;AAAA,UACZ,CAAW;AAAA,QACX;AAAA,QACQ,SAAS,EAAE,MAAM,KAAI;AAAA,QACrB,UAAU,EAAE,SAAS,gBAAe;AAAA,MAC5C;AAAA,IACI,SAASpoB,QAAO;AACd,YAAM,MAAM,eAAeA,QAAO,MAAM,gBAAgB,eAAe,CAAC;AAAA,IAC1E;AAAA,EACF;AAAA,EACA,WAAW,MAAM;AACf,WAAO,QAAQ,OAAO,SAAS,YAAY,UAAU,QAAQ,KAAK,SAAS;AAAA,EAC7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,qBAAqB,SAAS;AAC5B,eAAW,WAAW,QAAQ,QAAQ;AACpC,iBAAW,QAAQ,QAAQ,SAAS;AAClC,YAAI,KAAK,WAAW,IAAI,GAAG;AACzB,gBAAM,WAAW;AACjB,cAAI,SAAS,gBAAgB,YAAY;AACvC,kBAAM,SAAS,WAAW,KAAK,SAAS,IAAI;AAC5C,kBAAM,aAAa,OAAO,KAAK,MAAM,EAAE,SAAS,QAAQ;AACxD,qBAAS,OAAO,IAAI;AAAA,cAClB,QAAQ,SAAS,aAAa,0BAA0B,WAAW,UAAU;AAAA,YAC3F;AAAA,UACU;AAAA,QACF;AAAA,MACF;AAAA,IACF;AACA,WAAO;AAAA,EACT;AAAA,EACA,SAAS;AACP,WAAO,GAAG,KAAK,OAAO,OAAO;AAAA,EAC/B;AAAA,EACA,sBAAsB,SAAS,WAAW;AACxC,WAAO;AAAA,MACL,2CAA2C;AAAA,MAC3C,wBAAwB;AAAA,MACxB,+BAA+B,OAAO,SAAS;AAAA,IACrD;AAAA,EACE;AACF;AAaA,IAAI,wBAAwB,MAAM;AAAA,EAChC,YAAY,SAAST,SAAQ;AAC3B,SAAK,UAAU;AACf,SAAK,SAASA;AACd,SAAK,uBAAuB;AAC5B,SAAK,uBAAuB;AAC5B,SAAK,wBAAwB;AAAA,EAC/B;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,QAAQ;AAAA,IACZ;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,QAAImD;AACJ,UAAM,kBAAkB,MAAM6e,QAAS,KAAK,OAAO,QAAO,CAAE;AAC5D,QAAI;AACF,YAAM;AAAA,QACJ;AAAA,QACA,OAAO;AAAA,QACP;AAAA,MACR,IAAU,MAAMZ,cAAe;AAAA,QACvB,KAAK,KAAK,OAAM;AAAA,QAChB,SAASF;AAAAA,UACP;AAAA,UACA,WAAW,OAAO,UAAU,CAAA;AAAA,UAC5B,KAAK,sBAAqB;AAAA,UAC1B,MAAMc,QAAS,KAAK,OAAO,WAAW;AAAA,QAChD;AAAA,QACQ,MAAM;AAAA,UACJ;AAAA,UACA,GAAG,kBAAkB,EAAE,oBAAoB,CAAA;AAAA,QACrD;AAAA,QACQ,2BAA2BC;AAAAA,UACzB;AAAA,QACV;AAAA,QACQ,uBAAuB8G,+BAAgC;AAAA,UACrD,aAAaC,IAAM;AAAA,UACnB,gBAAgB,CAAC,SAAS;AAAA,QACpC,CAAS;AAAA,QACD,GAAG,eAAe,EAAE,YAAW;AAAA,QAC/B,OAAO,KAAK,OAAO;AAAA,MAC3B,CAAO;AACD,aAAO;AAAA,QACL,YAAY,aAAa;AAAA,QACzB,QAAQ7lB,OAAM,aAAa,UAAU,OAAOA,OAAM;AAAA,QAClD,kBAAkB,aAAa;AAAA,QAC/B,UAAU,EAAE,SAAS,iBAAiB,MAAM,SAAQ;AAAA,QACpD,UAAU,CAAA;AAAA,MAClB;AAAA,IACI,SAAS1C,QAAO;AACd,YAAM,MAAM,eAAeA,QAAO,MAAM,gBAAgB,eAAe,CAAC;AAAA,IAC1E;AAAA,EACF;AAAA,EACA,SAAS;AACP,WAAO,GAAG,KAAK,OAAO,OAAO;AAAA,EAC/B;AAAA,EACA,wBAAwB;AACtB,WAAO;AAAA,MACL,4CAA4C;AAAA,MAC5C,eAAe,KAAK;AAAA,IAC1B;AAAA,EACE;AACF;AACA,IAAI,iCAAiCqZ;AAAAA,EACnC,MAAMC;AAAAA,IACJC,SAAU;AAAA,MACR,YAAYE,QAASA,QAASD,SAAS,CAAE,CAAC;AAAA,MAC1C,OAAOD,SAAU,EAAE,QAAQC,SAAS,EAAE,CAAE,EAAE,QAAO;AAAA,MACjD,kBAAkBgP,OAAU9O,UAAa8O,OAAU9O,UAAa+O,SAAY,CAAC,EAAE,SAAQ;AAAA,IAC7F,CAAK;AAAA,EACL;AACA;AAYA,IAAI,oBAAoB,MAAM;AAAA,EAC5B,YAAY,SAASlpB,SAAQ;AAC3B,SAAK,UAAU;AACf,SAAK,SAASA;AACd,SAAK,uBAAuB;AAE5B,SAAK,mBAAmB,OAAO;AAAA,EACjC;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,OAAO;AAAA,EACrB;AAAA,EACA,MAAM,WAAW;AAAA,IACf;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,QAAImD;AACJ,UAAM,kBAAkB,MAAMgmB,QAAS,KAAK,OAAO,QAAO,CAAE;AAC5D,QAAI;AACF,YAAM;AAAA,QACJ;AAAA,QACA,OAAO;AAAA,QACP;AAAA,MACR,IAAU,MAAMrH,cAAe;AAAA,QACvB,KAAK,KAAK,OAAM;AAAA,QAChB,SAASC;AAAAA,UACP;AAAA,UACA,WAAW,OAAO,UAAU,CAAA;AAAA,UAC5B,KAAK,sBAAqB;AAAA,UAC1B,MAAMoH,QAAS,KAAK,OAAO,WAAW;AAAA,QAChD;AAAA,QACQ,MAAM;AAAA,UACJ;AAAA,UACA;AAAA,UACA,GAAG,QAAQ,EAAE,KAAI;AAAA,UACjB,GAAG,eAAe,EAAE,YAAW;AAAA,UAC/B,GAAG,QAAQ,EAAE,KAAI;AAAA,UACjB,GAAG,mBAAmB,EAAE,gBAAe;AAAA,UACvC,GAAG,SAAS;AAAA,YACV,OAAO,MAAM,IAAI,CAAC,SAAS,qBAAqB,IAAI,CAAC;AAAA,UACjE;AAAA,UACU,GAAG,QAAQ,EAAE,MAAM,qBAAqB,IAAI,EAAC;AAAA,QACvD;AAAA,QACQ,2BAA2BtG;AAAAA,UACzB;AAAA,QACV;AAAA,QACQ,uBAAuBuG,+BAAgC;AAAA,UACrD,aAAaC,IAAM;AAAA,UACnB,gBAAgB,CAAC,SAAS;AAAA,QACpC,CAAS;AAAA,QACD,GAAG,eAAe,EAAE,YAAW;AAAA,QAC/B,OAAO,KAAK,OAAO;AAAA,MAC3B,CAAO;AACD,aAAO;AAAA,QACL,QAAQ,aAAa;AAAA;AAAA,QAErB,WAAWlmB,OAAM,aAAa,aAAa,OAAOA,OAAM,CAAA;AAAA,QACxD,kBAAkB,aAAa;AAAA,QAC/B,UAAU;AAAA,UACR,WAA2B,oBAAI,KAAI;AAAA,UACnC,SAAS,KAAK;AAAA,UACd,SAAS;AAAA,QACnB;AAAA,MACA;AAAA,IACI,SAAS1C,QAAO;AACd,YAAM,eAAeA,QAAO,MAAM,gBAAgB,eAAe,CAAC;AAAA,IACpE;AAAA,EACF;AAAA,EACA,SAAS;AACP,WAAO,GAAG,KAAK,OAAO,OAAO;AAAA,EAC/B;AAAA,EACA,wBAAwB;AACtB,WAAO;AAAA,MACL,wCAAwC;AAAA,MACxC,eAAe,KAAK;AAAA,IAC1B;AAAA,EACE;AACF;AACA,SAAS,qBAAqB,MAAM;AAClC,MAAI,KAAK,SAAS,UAAU,KAAK,gBAAgB,YAAY;AAC3D,WAAO;AAAA,MACL,GAAG;AAAA,MACH,MAAM,0BAA0B,KAAK,IAAI;AAAA,IAC/C;AAAA,EACE;AACA,SAAO;AACT;AACA,IAAI,8BAA8Bma,SAAU;AAAA,EAC1C,QAAQI,QAASsO,QAAU,CAAE,EAAE,SAAQ;AACzC,CAAC,EAAE,SAASA,SAAY;AACxB,IAAI,6BAA6B1O,SAAU;AAAA,EACzC,QAAQI,QAASF,QAAW;AAAA;AAAA,EAE5B,UAAUE;AAAAA,IACRJ,SAAU;AAAA,MACR,MAAMC,QAAW,OAAO;AAAA,MACxB,SAASC,OAAS;AAAA,IACxB,CAAK;AAAA,EACL,EAAI,SAAQ;AAAA,EACV,kBAAkByO,OAAUzO,UAAa,2BAA2B,EAAE,SAAQ;AAChF,CAAC;AASD,IAAI,8BAA8BJ;AAAAA,EAChC,MAAMC;AAAAA,IACJU,SAAU;AAAA,MACR,OAAOmO,MAAS,CAACjO,OAAS,GAAIE,QAASF,OAAS,CAAE,CAAC,CAAC,EAAE;AAAA,QACpD;AAAA,MACR;AAAA,MACM,aAAaC,SAAS,EAAG,SAAQ,EAAG;AAAA,QAClC;AAAA,MACR;AAAA,MACM,qBAAqBA,SAAS,EAAG,SAAQ,EAAG;AAAA,QAC1C;AAAA,MACR;AAAA,MACM,YAAYA,SAAS,EAAG,SAAQ,EAAG;AAAA,QACjC;AAAA,MACR;AAAA,MACM,SAASD,OAAS,EAAG,SAAQ,EAAG;AAAA,QAC9B;AAAA,MACR;AAAA,MACM,sBAAsBE,QAASF,OAAS,CAAE,EAAE,SAAQ,EAAG;AAAA,QACrD;AAAA,MACR;AAAA,MACM,wBAAwBE,QAASF,OAAS,CAAE,EAAE,SAAQ,EAAG;AAAA,QACvD;AAAA,MACR;AAAA,MACM,mBAAmBA,OAAS,EAAG,SAAQ,EAAG;AAAA,QACxC;AAAA,MACR;AAAA,MACM,oBAAoBA,OAAS,EAAG,SAAQ,EAAG;AAAA,QACzC;AAAA,MACR;AAAA,MACM,2BAA2BA,OAAS,EAAG,SAAQ,EAAG;AAAA,QAChD;AAAA,MACR;AAAA,MACM,4BAA4BA,OAAS,EAAG,SAAQ,EAAG;AAAA,QACjD;AAAA,MACR;AAAA,MACM,uBAAuBkO,MAAQ,CAAC,OAAO,QAAQ,SAAS,MAAM,CAAC,EAAE,SAAQ,EAAG;AAAA,QAC1E;AAAA,MACR;AAAA,IACA,CAAK;AAAA,EACL;AACA;AACA,IAAI,+BAA+B/O;AAAAA,EACjC,MAAMC;AAAAA,IACJ6O,MAAS;AAAA;AAAA,MAEPnO,SAAU;AAAA,QACR,SAASI;AAAAA,UACPJ,SAAU;AAAA,YACR,OAAOE,OAAS;AAAA,YAChB,KAAKA,OAAS;AAAA,YACd,SAASA,OAAS;AAAA,YAClB,MAAMA,OAAS,EAAG,SAAQ;AAAA,YAC1B,aAAaA,OAAS,EAAG,SAAQ;AAAA,UAC7C,CAAW;AAAA,QACX;AAAA,QACQ,IAAIA,OAAS;AAAA,MACrB,CAAO;AAAA;AAAA,MAEDF,SAAU;AAAA,QACR,OAAOoO,MAAQ;AAAA,UACb;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACV,CAAS;AAAA,QACD,YAAYjO,SAAS,EAAG,SAAQ;AAAA,QAChC,SAASD,OAAS;AAAA,MAC1B,CAAO;AAAA,IACP,CAAK;AAAA,EACL;AACA;AACA,IAAI,8BAA8B,0CAA0C;AAAA,EAC1E,IAAI;AAAA,EACJ,aAAa;AAAA,EACb,cAAc;AAChB,CAAC;AACD,IAAI,mBAAmB,CAACvb,UAAS,OAAO,4BAA4BA,OAAM;AAG1E,IAAI,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQjB;AACF;AAKA,eAAe,qBAAqB;AAClC,MAAImD;AACJ,UAAQA,OAAMumB,oBAAAA,aAAa,YAAY,OAAO,SAASvmB,KAAI,aAAa;AAC1E;AAMA,IAAImT,YAAiB;AAGrB,IAAI,8BAA8B;AAClC,SAAS,sBAAsB,UAAU,IAAI;AAC3C,MAAInT,MAAKwmB;AACT,MAAI,kBAAkB;AACtB,MAAI,gBAAgB;AACpB,QAAM,sBAAsBxmB,OAAM,QAAQ,+BAA+B,OAAOA,OAAM,MAAM,KAAK;AACjG,MAAI,gBAAgB;AACpB,QAAM,WAAWwmB,OAAM,qBAAqB,QAAQ,OAAO,MAAM,OAAOA,OAAM;AAC9E,QAAM,aAAa,YAAY;AAC7B,QAAI;AACF,YAAM,OAAO,MAAM,oBAAoB,OAAO;AAC9C,aAAO;AAAA,QACL;AAAA,UACE,eAAe,UAAU,KAAK,KAAK;AAAA,UACnC,+BAA+B;AAAA,UAC/B,CAAC,0BAA0B,GAAG,KAAK;AAAA,UACnC,GAAG,QAAQ;AAAA,QACrB;AAAA,QACQ,kBAAkBrT,SAAO;AAAA,MACjC;AAAA,IACI,SAAS7V,QAAO;AACd,YAAM,2BAA2B,sBAAsB;AAAA,QACrD,gBAAgB;AAAA,QAChB,mBAAmB;AAAA,QACnB,YAAY;AAAA,QACZ,OAAOA;AAAA,MACf,CAAO;AAAA,IACH;AAAA,EACF;AACA,QAAM,oBAAoB,MAAM;AAC9B,UAAM,eAAe,oBAAoB;AAAA,MACvC,cAAc;AAAA,MACd,yBAAyB;AAAA,IAC/B,CAAK;AACD,UAAM,cAAc,oBAAoB;AAAA,MACtC,cAAc;AAAA,MACd,yBAAyB;AAAA,IAC/B,CAAK;AACD,UAAM,SAAS,oBAAoB;AAAA,MACjC,cAAc;AAAA,MACd,yBAAyB;AAAA,IAC/B,CAAK;AACD,WAAO,YAAY;AACjB,YAAM,YAAY,MAAM,mBAAkB;AAC1C,aAAO;AAAA,QACL,GAAG,gBAAgB,EAAE,yBAAyB,aAAY;AAAA,QAC1D,GAAG,eAAe,EAAE,uBAAuB,YAAW;AAAA,QACtD,GAAG,UAAU,EAAE,kBAAkB,OAAM;AAAA,QACvC,GAAG,aAAa,EAAE,sBAAsB,UAAS;AAAA,MACzD;AAAA,IACI;AAAA,EACF;AACA,QAAM,sBAAsB,CAAC,YAAY;AACvC,WAAO,IAAI,qBAAqB,SAAS;AAAA,MACvC,UAAU;AAAA,MACV;AAAA,MACA,SAAS;AAAA,MACT,OAAO,QAAQ;AAAA,MACf,aAAa,kBAAiB;AAAA,IACpC,CAAK;AAAA,EACH;AACA,QAAM,qBAAqB,YAAY;AACrC,QAAImpB,MAAK,KAAK;AACd,UAAM,OAAO,MAAM,OAAOA,OAAM,QAAQ,cAAc,OAAO,SAASA,KAAI,gBAAgB,OAAO,SAAS,IAAI,KAAKA,IAAG,EAAE,QAAO,MAAO,OAAO,KAAK,KAAK,IAAG;AAC1J,QAAI,CAAC,mBAAmB,MAAM,gBAAgB,oBAAoB;AAChE,sBAAgB;AAChB,wBAAkB,IAAI,qBAAqB;AAAA,QACzC;AAAA,QACA,SAAS;AAAA,QACT,OAAO,QAAQ;AAAA,MACvB,CAAO,EAAE,mBAAkB,EAAG,KAAK,CAAC,aAAa;AACzC,wBAAgB;AAChB,eAAO;AAAA,MACT,CAAC,EAAE,MAAM,OAAOnpB,WAAU;AACxB,cAAM,MAAM;AAAA,UACVA;AAAA,UACA,MAAM,gBAAgB,MAAM,WAAU,CAAE;AAAA,QAClD;AAAA,MACM,CAAC;AAAA,IACH;AACA,WAAO,gBAAgB,QAAQ,QAAQ,aAAa,IAAI;AAAA,EAC1D;AACA,QAAM,aAAa,YAAY;AAC7B,WAAO,IAAI,qBAAqB;AAAA,MAC9B;AAAA,MACA,SAAS;AAAA,MACT,OAAO,QAAQ;AAAA,IACrB,CAAK,EAAE,WAAU,EAAG,MAAM,OAAOA,WAAU;AACrC,YAAM,MAAM;AAAA,QACVA;AAAA,QACA,MAAM,gBAAgB,MAAM,WAAU,CAAE;AAAA,MAChD;AAAA,IACI,CAAC;AAAA,EACH;AACA,QAAM,WAAW,SAAS,SAAS;AACjC,QAAI,YAAY;AACd,YAAM,IAAI;AAAA,QACR;AAAA,MACR;AAAA,IACI;AACA,WAAO,oBAAoB,OAAO;AAAA,EACpC;AACA,WAAS,uBAAuB;AAChC,WAAS,qBAAqB;AAC9B,WAAS,aAAa;AACtB,WAAS,aAAa,CAAC,YAAY;AACjC,WAAO,IAAI,kBAAkB,SAAS;AAAA,MACpC,UAAU;AAAA,MACV;AAAA,MACA,SAAS;AAAA,MACT,OAAO,QAAQ;AAAA,MACf,aAAa,kBAAiB;AAAA,IACpC,CAAK;AAAA,EACH;AACA,WAAS,gBAAgB;AACzB,QAAM,uBAAuB,CAAC,YAAY;AACxC,WAAO,IAAI,sBAAsB,SAAS;AAAA,MACxC,UAAU;AAAA,MACV;AAAA,MACA,SAAS;AAAA,MACT,OAAO,QAAQ;AAAA,MACf,aAAa,kBAAiB;AAAA,IACpC,CAAK;AAAA,EACH;AACA,WAAS,iBAAiB;AAC1B,WAAS,qBAAqB;AAC9B,WAAS,QAAQ;AACjB,SAAO;AACT;AACA,IAAI,UAAU,sBAAqB;AACnC,eAAe,oBAAoB,SAAS;AAC1C,QAAM,SAAS,oBAAoB;AAAA,IACjC,cAAc,QAAQ;AAAA,IACtB,yBAAyB;AAAA,EAC7B,CAAG;AACD,MAAI,QAAQ;AACV,WAAO;AAAA,MACL,OAAO;AAAA,MACP,YAAY;AAAA,IAClB;AAAA,EACE;AACA,QAAM,YAAY,MAAMopB,uCAAkB;AAC1C,SAAO;AAAA,IACL,OAAO;AAAA,IACP,YAAY;AAAA,EAChB;AACA;AC5hCO,IAAI,cAAc,OAAO,eAAe,WACzC,aACA,OAAO,SAAS,WACZ,OACA,OAAO,WAAW,WACd,SACA,OAAO,WAAW,WACd,SACA,CAAA;ACjBX,IAAIvT,YAAU;ACArB,IAAI,KAAK;AAiBF,SAAS,wBAAwB,YAAY;AAChD,MAAI,mBAAmB,oBAAI,IAAI,CAAC,UAAU,CAAC;AAC3C,MAAI,mBAAmB,oBAAI,IAAG;AAC9B,MAAI,iBAAiB,WAAW,MAAM,EAAE;AACxC,MAAI,CAAC,gBAAgB;AAEjB,WAAO,WAAY;AAAE,aAAO;AAAA,IAAO;AAAA,EACvC;AACA,MAAI,mBAAmB;AAAA,IACnB,OAAO,CAAC,eAAe,CAAC;AAAA,IACxB,OAAO,CAAC,eAAe,CAAC;AAAA,IACxB,OAAO,CAAC,eAAe,CAAC;AAAA,IACxB,YAAY,eAAe,CAAC;AAAA,EACpC;AAEI,MAAI,iBAAiB,cAAc,MAAM;AACrC,WAAO,SAAS,aAAa,eAAe;AACxC,aAAO,kBAAkB;AAAA,IAC7B;AAAA,EACJ;AACA,WAAS,QAAQ,GAAG;AAChB,qBAAiB,IAAI,CAAC;AACtB,WAAO;AAAA,EACX;AACA,WAAS,QAAQ,GAAG;AAChB,qBAAiB,IAAI,CAAC;AACtB,WAAO;AAAA,EACX;AACA,SAAO,SAASwT,cAAa,eAAe;AACxC,QAAI,iBAAiB,IAAI,aAAa,GAAG;AACrC,aAAO;AAAA,IACX;AACA,QAAI,iBAAiB,IAAI,aAAa,GAAG;AACrC,aAAO;AAAA,IACX;AACA,QAAI,qBAAqB,cAAc,MAAM,EAAE;AAC/C,QAAI,CAAC,oBAAoB;AAGrB,aAAO,QAAQ,aAAa;AAAA,IAChC;AACA,QAAI,sBAAsB;AAAA,MACtB,OAAO,CAAC,mBAAmB,CAAC;AAAA,MAC5B,OAAO,CAAC,mBAAmB,CAAC;AAAA,MAC5B,OAAO,CAAC,mBAAmB,CAAC;AAAA,MAC5B,YAAY,mBAAmB,CAAC;AAAA,IAC5C;AAEQ,QAAI,oBAAoB,cAAc,MAAM;AACxC,aAAO,QAAQ,aAAa;AAAA,IAChC;AAEA,QAAI,iBAAiB,UAAU,oBAAoB,OAAO;AACtD,aAAO,QAAQ,aAAa;AAAA,IAChC;AACA,QAAI,iBAAiB,UAAU,GAAG;AAC9B,UAAI,iBAAiB,UAAU,oBAAoB,SAC/C,iBAAiB,SAAS,oBAAoB,OAAO;AACrD,eAAO,QAAQ,aAAa;AAAA,MAChC;AACA,aAAO,QAAQ,aAAa;AAAA,IAChC;AACA,QAAI,iBAAiB,SAAS,oBAAoB,OAAO;AACrD,aAAO,QAAQ,aAAa;AAAA,IAChC;AACA,WAAO,QAAQ,aAAa;AAAA,EAChC;AACJ;AAgBO,IAAI,eAAe,wBAAwBxT,SAAO;AClGzD,IAAI,QAAQA,UAAQ,MAAM,GAAG,EAAE,CAAC;AAChC,IAAI,+BAA+B,OAAO,IAAI,0BAA0B,KAAK;AAC7E,IAAI,UAAU;AACP,SAAS,eAAe,MAAM,UAAU,MAAM,eAAe;AAChE,MAAItV;AACJ,MAAI,kBAAkB,QAAQ;AAAE,oBAAgB;AAAA,EAAO;AACvD,MAAI,MAAO,QAAQ,4BAA4B,KAAKA,OAAK,QAAQ,4BAA4B,OAAO,QAAQA,SAAO,SAASA,OAAK;AAAA,IAC7H,SAASsV;AAAAA,EACjB;AACI,MAAI,CAAC,iBAAiB,IAAI,IAAI,GAAG;AAE7B,QAAI,MAAM,IAAI,MAAM,kEAAkE,IAAI;AAC1F,SAAK,MAAM,IAAI,SAAS,IAAI,OAAO;AACnC,WAAO;AAAA,EACX;AACA,MAAI,IAAI,YAAYA,WAAS;AAEzB,QAAI,MAAM,IAAI,MAAM,kDAAkD,IAAI,UAAU,UAAU,OAAO,gDAAgDA,SAAO;AAC5J,SAAK,MAAM,IAAI,SAAS,IAAI,OAAO;AACnC,WAAO;AAAA,EACX;AACA,MAAI,IAAI,IAAI;AACZ,OAAK,MAAM,iDAAiD,OAAO,OAAOA,YAAU,GAAG;AACvF,SAAO;AACX;AACO,SAAS,UAAU,MAAM;AAC5B,MAAItV,MAAIC;AACR,MAAI,iBAAiBD,OAAK,QAAQ,4BAA4B,OAAO,QAAQA,SAAO,SAAS,SAASA,KAAG;AACzG,MAAI,CAAC,iBAAiB,CAAC,aAAa,aAAa,GAAG;AAChD;AAAA,EACJ;AACA,UAAQC,MAAK,QAAQ,4BAA4B,OAAO,QAAQA,QAAO,SAAS,SAASA,IAAG,IAAI;AACpG;AACO,SAAS,iBAAiB,MAAM,MAAM;AACzC,OAAK,MAAM,oDAAoD,OAAO,OAAOqV,YAAU,GAAG;AAC1F,MAAI,MAAM,QAAQ,4BAA4B;AAC9C,MAAI,KAAK;AACL,WAAO,IAAI,IAAI;AAAA,EACnB;AACJ;AC1CA,IAAIyT,WAAkC,SAAU,GAAG,GAAG;AAClD,MAAI,IAAI,OAAO,WAAW,cAAc,EAAE,OAAO,QAAQ;AACzD,MAAI,CAAC,EAAG,QAAO;AACf,MAAI,IAAI,EAAE,KAAK,CAAC,GAAG,GAAG,KAAK,CAAA,GAAI;AAC/B,MAAI;AACA,YAAQ,MAAM,UAAU,MAAM,MAAM,EAAE,IAAI,EAAE,KAAI,GAAI,KAAM,IAAG,KAAK,EAAE,KAAK;AAAA,EAC7E,SACOtpB,QAAO;AAAE,QAAI,EAAE,OAAOA,OAAK;AAAA,EAAI,UAC1C;AACQ,QAAI;AACA,UAAI,KAAK,CAAC,EAAE,SAAS,IAAI,EAAE,QAAQ,GAAI,GAAE,KAAK,CAAC;AAAA,IACnD,UACR;AAAkB,UAAI,EAAG,OAAM,EAAE;AAAA,IAAO;AAAA,EACpC;AACA,SAAO;AACX;AACA,IAAIupB,kBAAgD,SAAU,IAAI,MAAM,MAAM;AAC1E,MAAI,QAAQ,UAAU,WAAW,EAAG,UAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,IAAI,GAAG,KAAK;AACjF,QAAI,MAAM,EAAE,KAAK,OAAO;AACpB,UAAI,CAAC,GAAI,MAAK,MAAM,UAAU,MAAM,KAAK,MAAM,GAAG,CAAC;AACnD,SAAG,CAAC,IAAI,KAAK,CAAC;AAAA,IAClB;AAAA,EACJ;AACA,SAAO,GAAG,OAAO,MAAM,MAAM,UAAU,MAAM,KAAK,IAAI,CAAC;AAC3D;AAWA,IAAI;AAAA;AAAA,GAAqC,WAAY;AACjD,aAASC,qBAAoB,OAAO;AAChC,WAAK,aAAa,MAAM,aAAa;AAAA,IACzC;AACA,IAAAA,qBAAoB,UAAU,QAAQ,WAAY;AAC9C,UAAI,OAAO,CAAA;AACX,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,EAAE,IAAI,UAAU,EAAE;AAAA,MAC3B;AACA,aAAO,SAAS,SAAS,KAAK,YAAY,IAAI;AAAA,IAClD;AACA,IAAAA,qBAAoB,UAAU,QAAQ,WAAY;AAC9C,UAAI,OAAO,CAAA;AACX,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,EAAE,IAAI,UAAU,EAAE;AAAA,MAC3B;AACA,aAAO,SAAS,SAAS,KAAK,YAAY,IAAI;AAAA,IAClD;AACA,IAAAA,qBAAoB,UAAU,OAAO,WAAY;AAC7C,UAAI,OAAO,CAAA;AACX,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,EAAE,IAAI,UAAU,EAAE;AAAA,MAC3B;AACA,aAAO,SAAS,QAAQ,KAAK,YAAY,IAAI;AAAA,IACjD;AACA,IAAAA,qBAAoB,UAAU,OAAO,WAAY;AAC7C,UAAI,OAAO,CAAA;AACX,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,EAAE,IAAI,UAAU,EAAE;AAAA,MAC3B;AACA,aAAO,SAAS,QAAQ,KAAK,YAAY,IAAI;AAAA,IACjD;AACA,IAAAA,qBAAoB,UAAU,UAAU,WAAY;AAChD,UAAI,OAAO,CAAA;AACX,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,EAAE,IAAI,UAAU,EAAE;AAAA,MAC3B;AACA,aAAO,SAAS,WAAW,KAAK,YAAY,IAAI;AAAA,IACpD;AACA,WAAOA;AAAA,EACX;;AAEA,SAAS,SAAS,UAAU,WAAW,MAAM;AACzC,MAAItpB,UAAS,UAAU,MAAM;AAE7B,MAAI,CAACA,SAAQ;AACT;AAAA,EACJ;AACA,OAAK,QAAQ,SAAS;AACtB,SAAOA,QAAO,QAAQ,EAAE,MAAMA,SAAQqpB,gBAAc,CAAA,GAAID,SAAO,IAAI,GAAG,KAAK,CAAC;AAChF;AChFO,IAAI;AAAA,CACV,SAAUG,eAAc;AAErB,EAAAA,cAAaA,cAAa,MAAM,IAAI,CAAC,IAAI;AAEzC,EAAAA,cAAaA,cAAa,OAAO,IAAI,EAAE,IAAI;AAE3C,EAAAA,cAAaA,cAAa,MAAM,IAAI,EAAE,IAAI;AAE1C,EAAAA,cAAaA,cAAa,MAAM,IAAI,EAAE,IAAI;AAE1C,EAAAA,cAAaA,cAAa,OAAO,IAAI,EAAE,IAAI;AAK3C,EAAAA,cAAaA,cAAa,SAAS,IAAI,EAAE,IAAI;AAE7C,EAAAA,cAAaA,cAAa,KAAK,IAAI,IAAI,IAAI;AAC/C,GAAG,iBAAiB,eAAe,CAAA,EAAG;ACvB/B,SAAS,yBAAyB,UAAUvpB,SAAQ;AACvD,MAAI,WAAW,aAAa,MAAM;AAC9B,eAAW,aAAa;AAAA,EAC5B,WACS,WAAW,aAAa,KAAK;AAClC,eAAW,aAAa;AAAA,EAC5B;AAEA,EAAAA,UAASA,WAAU,CAAA;AACnB,WAAS,YAAY,UAAU,UAAU;AACrC,QAAI,UAAUA,QAAO,QAAQ;AAC7B,QAAI,OAAO,YAAY,cAAc,YAAY,UAAU;AACvD,aAAO,QAAQ,KAAKA,OAAM;AAAA,IAC9B;AACA,WAAO,WAAY;AAAA,IAAE;AAAA,EACzB;AACA,SAAO;AAAA,IACH,OAAO,YAAY,SAAS,aAAa,KAAK;AAAA,IAC9C,MAAM,YAAY,QAAQ,aAAa,IAAI;AAAA,IAC3C,MAAM,YAAY,QAAQ,aAAa,IAAI;AAAA,IAC3C,OAAO,YAAY,SAAS,aAAa,KAAK;AAAA,IAC9C,SAAS,YAAY,WAAW,aAAa,OAAO;AAAA,EAC5D;AACA;ACxBA,IAAIopB,WAAkC,SAAU,GAAG,GAAG;AAClD,MAAI,IAAI,OAAO,WAAW,cAAc,EAAE,OAAO,QAAQ;AACzD,MAAI,CAAC,EAAG,QAAO;AACf,MAAI,IAAI,EAAE,KAAK,CAAC,GAAG,GAAG,KAAK,CAAA,GAAI;AAC/B,MAAI;AACA,YAAQ,MAAM,UAAU,MAAM,MAAM,EAAE,IAAI,EAAE,KAAI,GAAI,KAAM,IAAG,KAAK,EAAE,KAAK;AAAA,EAC7E,SACOtpB,QAAO;AAAE,QAAI,EAAE,OAAOA,OAAK;AAAA,EAAI,UAC1C;AACQ,QAAI;AACA,UAAI,KAAK,CAAC,EAAE,SAAS,IAAI,EAAE,QAAQ,GAAI,GAAE,KAAK,CAAC;AAAA,IACnD,UACR;AAAkB,UAAI,EAAG,OAAM,EAAE;AAAA,IAAO;AAAA,EACpC;AACA,SAAO;AACX;AACA,IAAIupB,kBAAgD,SAAU,IAAI,MAAM,MAAM;AAC1E,MAAI,QAAQ,UAAU,WAAW,EAAG,UAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,IAAI,GAAG,KAAK;AACjF,QAAI,MAAM,EAAE,KAAK,OAAO;AACpB,UAAI,CAAC,GAAI,MAAK,MAAM,UAAU,MAAM,KAAK,MAAM,GAAG,CAAC;AACnD,SAAG,CAAC,IAAI,KAAK,CAAC;AAAA,IAClB;AAAA,EACJ;AACA,SAAO,GAAG,OAAO,MAAM,MAAM,UAAU,MAAM,KAAK,IAAI,CAAC;AAC3D;AAKA,IAAIG,aAAW;AAKf,IAAI;AAAA;AAAA,GAAyB,WAAY;AAKrC,aAASC,WAAU;AACf,eAAS,UAAU,UAAU;AACzB,eAAO,WAAY;AACf,cAAI,OAAO,CAAA;AACX,mBAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,iBAAK,EAAE,IAAI,UAAU,EAAE;AAAA,UAC3B;AACA,cAAIzpB,UAAS,UAAU,MAAM;AAE7B,cAAI,CAACA;AACD;AACJ,iBAAOA,QAAO,QAAQ,EAAE,MAAMA,SAAQqpB,gBAAc,CAAA,GAAID,SAAO,IAAI,GAAG,KAAK,CAAC;AAAA,QAChF;AAAA,MACJ;AAEA,UAAI1rB,QAAO;AAEX,UAAI,YAAY,SAAUsC,SAAQ,mBAAmB;AACjD,YAAIK,MAAIC,KAAI;AACZ,YAAI,sBAAsB,QAAQ;AAAE,8BAAoB,EAAE,UAAU,aAAa,KAAI;AAAA,QAAI;AACzF,YAAIN,YAAWtC,OAAM;AAIjB,cAAI,MAAM,IAAI,MAAM,oIAAoI;AACxJ,UAAAA,MAAK,OAAO2C,OAAK,IAAI,WAAW,QAAQA,SAAO,SAASA,OAAK,IAAI,OAAO;AACxE,iBAAO;AAAA,QACX;AACA,YAAI,OAAO,sBAAsB,UAAU;AACvC,8BAAoB;AAAA,YAChB,UAAU;AAAA,UAC9B;AAAA,QACY;AACA,YAAI,YAAY,UAAU,MAAM;AAChC,YAAI,YAAY,0BAA0BC,MAAK,kBAAkB,cAAc,QAAQA,QAAO,SAASA,MAAK,aAAa,MAAMN,OAAM;AAErI,YAAI,aAAa,CAAC,kBAAkB,yBAAyB;AACzD,cAAI,SAAS,KAAK,IAAI,MAAK,EAAG,WAAW,QAAQ,OAAO,SAAS,KAAK;AACtE,oBAAU,KAAK,6CAA6C,KAAK;AACjE,oBAAU,KAAK,+DAA+D,KAAK;AAAA,QACvF;AACA,eAAO,eAAe,QAAQ,WAAWtC,OAAM,IAAI;AAAA,MACvD;AACA,MAAAA,MAAK,YAAY;AACjB,MAAAA,MAAK,UAAU,WAAY;AACvB,yBAAiB8rB,YAAU9rB,KAAI;AAAA,MACnC;AACA,MAAAA,MAAK,wBAAwB,SAAU,SAAS;AAC5C,eAAO,IAAI,oBAAoB,OAAO;AAAA,MAC1C;AACA,MAAAA,MAAK,UAAU,UAAU,SAAS;AAClC,MAAAA,MAAK,QAAQ,UAAU,OAAO;AAC9B,MAAAA,MAAK,OAAO,UAAU,MAAM;AAC5B,MAAAA,MAAK,OAAO,UAAU,MAAM;AAC5B,MAAAA,MAAK,QAAQ,UAAU,OAAO;AAAA,IAClC;AAEA,IAAA+rB,SAAQ,WAAW,WAAY;AAC3B,UAAI,CAAC,KAAK,WAAW;AACjB,aAAK,YAAY,IAAIA,SAAO;AAAA,MAChC;AACA,aAAO,KAAK;AAAA,IAChB;AACA,WAAOA;AAAA,EACX;;ACtGO,SAAS,iBAAiB,aAAa;AAO1C,SAAO,OAAO,IAAI,WAAW;AACjC;AACA,IAAI;AAAA;AAAA,EAA6B,4BAAY;AAMzC,aAASC,aAAY,eAAe;AAEhC,UAAIhsB,QAAO;AACX,MAAAA,MAAK,kBAAkB,gBAAgB,IAAI,IAAI,aAAa,IAAI,oBAAI,IAAG;AACvE,MAAAA,MAAK,WAAW,SAAU,KAAK;AAAE,eAAOA,MAAK,gBAAgB,IAAI,GAAG;AAAA,MAAG;AACvE,MAAAA,MAAK,WAAW,SAAU,KAAK,OAAO;AAClC,YAAI,UAAU,IAAIgsB,aAAYhsB,MAAK,eAAe;AAClD,gBAAQ,gBAAgB,IAAI,KAAK,KAAK;AACtC,eAAO;AAAA,MACX;AACA,MAAAA,MAAK,cAAc,SAAU,KAAK;AAC9B,YAAI,UAAU,IAAIgsB,aAAYhsB,MAAK,eAAe;AAClD,gBAAQ,gBAAgB,OAAO,GAAG;AAClC,eAAO;AAAA,MACX;AAAA,IACJ;AACA,WAAOgsB;AAAA,EACX;;AAEO,IAAI,eAAe,IAAI,YAAW;ACnCzC,IAAIN,WAAkC,SAAU,GAAG,GAAG;AAClD,MAAI,IAAI,OAAO,WAAW,cAAc,EAAE,OAAO,QAAQ;AACzD,MAAI,CAAC,EAAG,QAAO;AACf,MAAI,IAAI,EAAE,KAAK,CAAC,GAAG,GAAG,KAAK,CAAA,GAAI;AAC/B,MAAI;AACA,YAAQ,MAAM,UAAU,MAAM,MAAM,EAAE,IAAI,EAAE,KAAI,GAAI,KAAM,IAAG,KAAK,EAAE,KAAK;AAAA,EAC7E,SACOtpB,QAAO;AAAE,QAAI,EAAE,OAAOA,OAAK;AAAA,EAAI,UAC1C;AACQ,QAAI;AACA,UAAI,KAAK,CAAC,EAAE,SAAS,IAAI,EAAE,QAAQ,GAAI,GAAE,KAAK,CAAC;AAAA,IACnD,UACR;AAAkB,UAAI,EAAG,OAAM,EAAE;AAAA,IAAO;AAAA,EACpC;AACA,SAAO;AACX;AACA,IAAIupB,kBAAgD,SAAU,IAAI,MAAM,MAAM;AAC1E,MAAI,QAAQ,UAAU,WAAW,EAAG,UAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,IAAI,GAAG,KAAK;AACjF,QAAI,MAAM,EAAE,KAAK,OAAO;AACpB,UAAI,CAAC,GAAI,MAAK,MAAM,UAAU,MAAM,KAAK,MAAM,GAAG,CAAC;AACnD,SAAG,CAAC,IAAI,KAAK,CAAC;AAAA,IAClB;AAAA,EACJ;AACA,SAAO,GAAG,OAAO,MAAM,MAAM,UAAU,MAAM,KAAK,IAAI,CAAC;AAC3D;AAEA,IAAI;AAAA;AAAA,GAAoC,WAAY;AAChD,aAASM,sBAAqB;AAAA,IAC9B;AACA,IAAAA,oBAAmB,UAAU,SAAS,WAAY;AAC9C,aAAO;AAAA,IACX;AACA,IAAAA,oBAAmB,UAAU,OAAO,SAAU,UAAU,IAAI,SAAS;AACjE,UAAI,OAAO,CAAA;AACX,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,KAAK,CAAC,IAAI,UAAU,EAAE;AAAA,MAC/B;AACA,aAAO,GAAG,KAAK,MAAM,IAAIN,gBAAc,CAAC,OAAO,GAAGD,SAAO,IAAI,GAAG,KAAK,CAAC;AAAA,IAC1E;AACA,IAAAO,oBAAmB,UAAU,OAAO,SAAU,UAAU,QAAQ;AAC5D,aAAO;AAAA,IACX;AACA,IAAAA,oBAAmB,UAAU,SAAS,WAAY;AAC9C,aAAO;AAAA,IACX;AACA,IAAAA,oBAAmB,UAAU,UAAU,WAAY;AAC/C,aAAO;AAAA,IACX;AACA,WAAOA;AAAA,EACX;;ACjDA,IAAI,SAAkC,SAAU,GAAG,GAAG;AAClD,MAAI,IAAI,OAAO,WAAW,cAAc,EAAE,OAAO,QAAQ;AACzD,MAAI,CAAC,EAAG,QAAO;AACf,MAAI,IAAI,EAAE,KAAK,CAAC,GAAG,GAAG,KAAK,CAAA,GAAI;AAC/B,MAAI;AACA,YAAQ,MAAM,UAAU,MAAM,MAAM,EAAE,IAAI,EAAE,KAAI,GAAI,KAAM,IAAG,KAAK,EAAE,KAAK;AAAA,EAC7E,SACO7pB,QAAO;AAAE,QAAI,EAAE,OAAOA,OAAK;AAAA,EAAI,UAC1C;AACQ,QAAI;AACA,UAAI,KAAK,CAAC,EAAE,SAAS,IAAI,EAAE,QAAQ,GAAI,GAAE,KAAK,CAAC;AAAA,IACnD,UACR;AAAkB,UAAI,EAAG,OAAM,EAAE;AAAA,IAAO;AAAA,EACpC;AACA,SAAO;AACX;AACA,IAAI,gBAAgD,SAAU,IAAI,MAAM,MAAM;AAC1E,MAAI,QAAQ,UAAU,WAAW,EAAG,UAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,IAAI,GAAG,KAAK;AACjF,QAAI,MAAM,EAAE,KAAK,OAAO;AACpB,UAAI,CAAC,GAAI,MAAK,MAAM,UAAU,MAAM,KAAK,MAAM,GAAG,CAAC;AACnD,SAAG,CAAC,IAAI,KAAK,CAAC;AAAA,IAClB;AAAA,EACJ;AACA,SAAO,GAAG,OAAO,MAAM,MAAM,UAAU,MAAM,KAAK,IAAI,CAAC;AAC3D;AAIA,IAAI0pB,aAAW;AACf,IAAI,uBAAuB,IAAI,mBAAkB;AAIjD,IAAI;AAAA;AAAA,GAA4B,WAAY;AAExC,aAASI,cAAa;AAAA,IACtB;AAEA,IAAAA,YAAW,cAAc,WAAY;AACjC,UAAI,CAAC,KAAK,WAAW;AACjB,aAAK,YAAY,IAAIA,YAAU;AAAA,MACnC;AACA,aAAO,KAAK;AAAA,IAChB;AAMA,IAAAA,YAAW,UAAU,0BAA0B,SAAU,gBAAgB;AACrE,aAAO,eAAeJ,YAAU,gBAAgB,QAAQ,SAAQ,CAAE;AAAA,IACtE;AAIA,IAAAI,YAAW,UAAU,SAAS,WAAY;AACtC,aAAO,KAAK,mBAAkB,EAAG,OAAM;AAAA,IAC3C;AASA,IAAAA,YAAW,UAAU,OAAO,SAAU,SAAS,IAAI,SAAS;AACxD,UAAIvpB;AACJ,UAAI,OAAO,CAAA;AACX,eAAS,KAAK,GAAG,KAAK,UAAU,QAAQ,MAAM;AAC1C,aAAK,KAAK,CAAC,IAAI,UAAU,EAAE;AAAA,MAC/B;AACA,cAAQA,OAAK,KAAK,mBAAkB,GAAI,KAAK,MAAMA,MAAI,cAAc,CAAC,SAAS,IAAI,OAAO,GAAG,OAAO,IAAI,GAAG,KAAK,CAAC;AAAA,IACrH;AAOA,IAAAupB,YAAW,UAAU,OAAO,SAAU,SAAS,QAAQ;AACnD,aAAO,KAAK,mBAAkB,EAAG,KAAK,SAAS,MAAM;AAAA,IACzD;AACA,IAAAA,YAAW,UAAU,qBAAqB,WAAY;AAClD,aAAO,UAAUJ,UAAQ,KAAK;AAAA,IAClC;AAEA,IAAAI,YAAW,UAAU,UAAU,WAAY;AACvC,WAAK,mBAAkB,EAAG,QAAO;AACjC,uBAAiBJ,YAAU,QAAQ,UAAU;AAAA,IACjD;AACA,WAAOI;AAAA,EACX;;AC5FO,IAAI;AAAA,CACV,SAAUC,aAAY;AAEnB,EAAAA,YAAWA,YAAW,MAAM,IAAI,CAAC,IAAI;AAErC,EAAAA,YAAWA,YAAW,SAAS,IAAI,CAAC,IAAI;AAC5C,GAAG,eAAe,aAAa,CAAA,EAAG;ACL3B,IAAI,iBAAiB;AACrB,IAAI,kBAAkB;AACtB,IAAI,uBAAuB;AAAA,EAC9B,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,YAAY,WAAW;AAC3B;ACDA,IAAI;AAAA;AAAA,GAAkC,WAAY;AAC9C,aAASC,kBAAiB,cAAc;AACpC,UAAI,iBAAiB,QAAQ;AAAE,uBAAe;AAAA,MAAsB;AACpE,WAAK,eAAe;AAAA,IACxB;AAEA,IAAAA,kBAAiB,UAAU,cAAc,WAAY;AACjD,aAAO,KAAK;AAAA,IAChB;AAEA,IAAAA,kBAAiB,UAAU,eAAe,SAAU,MAAM,QAAQ;AAC9D,aAAO;AAAA,IACX;AAEA,IAAAA,kBAAiB,UAAU,gBAAgB,SAAU,aAAa;AAC9D,aAAO;AAAA,IACX;AAEA,IAAAA,kBAAiB,UAAU,WAAW,SAAU,OAAO,aAAa;AAChE,aAAO;AAAA,IACX;AACA,IAAAA,kBAAiB,UAAU,UAAU,SAAU,OAAO;AAClD,aAAO;AAAA,IACX;AACA,IAAAA,kBAAiB,UAAU,WAAW,SAAU,QAAQ;AACpD,aAAO;AAAA,IACX;AAEA,IAAAA,kBAAiB,UAAU,YAAY,SAAU,SAAS;AACtD,aAAO;AAAA,IACX;AAEA,IAAAA,kBAAiB,UAAU,aAAa,SAAU,OAAO;AACrD,aAAO;AAAA,IACX;AAEA,IAAAA,kBAAiB,UAAU,MAAM,SAAU,UAAU;AAAA,IAAE;AAEvD,IAAAA,kBAAiB,UAAU,cAAc,WAAY;AACjD,aAAO;AAAA,IACX;AAEA,IAAAA,kBAAiB,UAAU,kBAAkB,SAAU,YAAY,OAAO;AAAA,IAAE;AAC5E,WAAOA;AAAA,EACX;;AC5CA,IAAI,WAAW,iBAAiB,gCAAgC;AAMzD,SAAS,QAAQ,SAAS;AAC7B,SAAO,QAAQ,SAAS,QAAQ,KAAK;AACzC;AAIO,SAAS,gBAAgB;AAC5B,SAAO,QAAQ,WAAW,YAAW,EAAG,OAAM,CAAE;AACpD;AAOO,SAAS,QAAQ,SAAS,MAAM;AACnC,SAAO,QAAQ,SAAS,UAAU,IAAI;AAC1C;AAMO,SAAS,WAAW,SAAS;AAChC,SAAO,QAAQ,YAAY,QAAQ;AACvC;AAQO,SAAS,eAAe,SAAS,aAAa;AACjD,SAAO,QAAQ,SAAS,IAAI,iBAAiB,WAAW,CAAC;AAC7D;AAMO,SAAS,eAAe,SAAS;AACpC,MAAIzpB;AACJ,UAAQA,OAAK,QAAQ,OAAO,OAAO,QAAQA,SAAO,SAAS,SAASA,KAAG,YAAW;AACtF;ACtDA,IAAI,sBAAsB;AAC1B,IAAI,qBAAqB;AAClB,SAAS,eAAe,SAAS;AACpC,SAAO,oBAAoB,KAAK,OAAO,KAAK,YAAY;AAC5D;AACO,SAAS,cAAc,QAAQ;AAClC,SAAO,mBAAmB,KAAK,MAAM,KAAK,WAAW;AACzD;AAKO,SAAS,mBAAmB,aAAa;AAC5C,SAAQ,eAAe,YAAY,OAAO,KAAK,cAAc,YAAY,MAAM;AACnF;AAOO,SAAS,gBAAgB,aAAa;AACzC,SAAO,IAAI,iBAAiB,WAAW;AAC3C;ACrBA,IAAI,aAAa,WAAW,YAAW;AAIvC,IAAI;AAAA;AAAA,GAA4B,WAAY;AACxC,aAAS0pB,cAAa;AAAA,IACtB;AAEA,IAAAA,YAAW,UAAU,YAAY,SAAUhsB,QAAM,SAAS,SAAS;AAC/D,UAAI,YAAY,QAAQ;AAAE,kBAAU,WAAW,OAAM;AAAA,MAAI;AACzD,UAAI,OAAO,QAAQ,YAAY,QAAQ,YAAY,SAAS,SAAS,QAAQ,IAAI;AACjF,UAAI,MAAM;AACN,eAAO,IAAI,iBAAgB;AAAA,MAC/B;AACA,UAAI,oBAAoB,WAAW,eAAe,OAAO;AACzD,UAAI,cAAc,iBAAiB,KAC/B,mBAAmB,iBAAiB,GAAG;AACvC,eAAO,IAAI,iBAAiB,iBAAiB;AAAA,MACjD,OACK;AACD,eAAO,IAAI,iBAAgB;AAAA,MAC/B;AAAA,IACJ;AACA,IAAAgsB,YAAW,UAAU,kBAAkB,SAAUhsB,QAAM,MAAM,MAAM,MAAM;AACrE,UAAI;AACJ,UAAI;AACJ,UAAI;AACJ,UAAI,UAAU,SAAS,GAAG;AACtB;AAAA,MACJ,WACS,UAAU,WAAW,GAAG;AAC7B,aAAK;AAAA,MACT,WACS,UAAU,WAAW,GAAG;AAC7B,eAAO;AACP,aAAK;AAAA,MACT,OACK;AACD,eAAO;AACP,cAAM;AACN,aAAK;AAAA,MACT;AACA,UAAI,gBAAgB,QAAQ,QAAQ,QAAQ,SAAS,MAAM,WAAW,OAAM;AAC5E,UAAI,OAAO,KAAK,UAAUA,QAAM,MAAM,aAAa;AACnD,UAAI,qBAAqB,QAAQ,eAAe,IAAI;AACpD,aAAO,WAAW,KAAK,oBAAoB,IAAI,QAAW,IAAI;AAAA,IAClE;AACA,WAAOgsB;AAAA,EACX;;AAEA,SAAS,cAAc,aAAa;AAChC,SAAQ,OAAO,gBAAgB,YAC3B,OAAO,YAAY,QAAQ,MAAM,YACjC,OAAO,YAAY,SAAS,MAAM,YAClC,OAAO,YAAY,YAAY,MAAM;AAC7C;AC1DA,IAAI,cAAc,IAAI,WAAU;AAIhC,IAAI;AAAA;AAAA,GAA6B,WAAY;AACzC,aAASC,aAAY,WAAWjsB,QAAM6B,UAAS,SAAS;AACpD,WAAK,YAAY;AACjB,WAAK,OAAO7B;AACZ,WAAK,UAAU6B;AACf,WAAK,UAAU;AAAA,IACnB;AACA,IAAAoqB,aAAY,UAAU,YAAY,SAAUjsB,QAAM,SAAS,SAAS;AAChE,aAAO,KAAK,WAAU,EAAG,UAAUA,QAAM,SAAS,OAAO;AAAA,IAC7D;AACA,IAAAisB,aAAY,UAAU,kBAAkB,SAAU,OAAO,UAAU,UAAU,KAAK;AAC9E,UAAI,SAAS,KAAK,WAAU;AAC5B,aAAO,QAAQ,MAAM,OAAO,iBAAiB,QAAQ,SAAS;AAAA,IAClE;AAKA,IAAAA,aAAY,UAAU,aAAa,WAAY;AAC3C,UAAI,KAAK,WAAW;AAChB,eAAO,KAAK;AAAA,MAChB;AACA,UAAI,SAAS,KAAK,UAAU,kBAAkB,KAAK,MAAM,KAAK,SAAS,KAAK,OAAO;AACnF,UAAI,CAAC,QAAQ;AACT,eAAO;AAAA,MACX;AACA,WAAK,YAAY;AACjB,aAAO,KAAK;AAAA,IAChB;AACA,WAAOA;AAAA,EACX;;AC5BA,IAAI;AAAA;AAAA,GAAoC,WAAY;AAChD,aAASC,sBAAqB;AAAA,IAC9B;AACA,IAAAA,oBAAmB,UAAU,YAAY,SAAU,OAAO,UAAU,UAAU;AAC1E,aAAO,IAAI,WAAU;AAAA,IACzB;AACA,WAAOA;AAAA,EACX;;ACZA,IAAI,uBAAuB,IAAI,mBAAkB;AASjD,IAAI;AAAA;AAAA,GAAqC,WAAY;AACjD,aAASC,uBAAsB;AAAA,IAC/B;AAIA,IAAAA,qBAAoB,UAAU,YAAY,SAAUnsB,QAAM6B,UAAS,SAAS;AACxE,UAAIS;AACJ,cAASA,OAAK,KAAK,kBAAkBtC,QAAM6B,UAAS,OAAO,OAAO,QAAQS,SAAO,SAASA,OAAK,IAAI,YAAY,MAAMtC,QAAM6B,UAAS,OAAO;AAAA,IAC/I;AACA,IAAAsqB,qBAAoB,UAAU,cAAc,WAAY;AACpD,UAAI7pB;AACJ,cAAQA,OAAK,KAAK,eAAe,QAAQA,SAAO,SAASA,OAAK;AAAA,IAClE;AAIA,IAAA6pB,qBAAoB,UAAU,cAAc,SAAU,UAAU;AAC5D,WAAK,YAAY;AAAA,IACrB;AACA,IAAAA,qBAAoB,UAAU,oBAAoB,SAAUnsB,QAAM6B,UAAS,SAAS;AAChF,UAAIS;AACJ,cAAQA,OAAK,KAAK,eAAe,QAAQA,SAAO,SAAS,SAASA,KAAG,UAAUtC,QAAM6B,UAAS,OAAO;AAAA,IACzG;AACA,WAAOsqB;AAAA,EACX;;AChDO,IAAI;AAAA,CACV,SAAUC,iBAAgB;AAIvB,EAAAA,gBAAeA,gBAAe,OAAO,IAAI,CAAC,IAAI;AAK9C,EAAAA,gBAAeA,gBAAe,IAAI,IAAI,CAAC,IAAI;AAI3C,EAAAA,gBAAeA,gBAAe,OAAO,IAAI,CAAC,IAAI;AAClD,GAAG,mBAAmB,iBAAiB,CAAA,EAAG;ACE1C,IAAI,WAAW;AAIf,IAAI;AAAA;AAAA,GAA0B,WAAY;AAEtC,aAASC,YAAW;AAChB,WAAK,uBAAuB,IAAI,oBAAmB;AACnD,WAAK,kBAAkB;AACvB,WAAK,qBAAqB;AAC1B,WAAK,aAAa;AAClB,WAAK,UAAU;AACf,WAAK,gBAAgB;AACrB,WAAK,iBAAiB;AACtB,WAAK,UAAU;AACf,WAAK,iBAAiB;AAAA,IAC1B;AAEA,IAAAA,UAAS,cAAc,WAAY;AAC/B,UAAI,CAAC,KAAK,WAAW;AACjB,aAAK,YAAY,IAAIA,UAAQ;AAAA,MACjC;AACA,aAAO,KAAK;AAAA,IAChB;AAMA,IAAAA,UAAS,UAAU,0BAA0B,SAAU,UAAU;AAC7D,UAAI,UAAU,eAAe,UAAU,KAAK,sBAAsB,QAAQ,UAAU;AACpF,UAAI,SAAS;AACT,aAAK,qBAAqB,YAAY,QAAQ;AAAA,MAClD;AACA,aAAO;AAAA,IACX;AAIA,IAAAA,UAAS,UAAU,oBAAoB,WAAY;AAC/C,aAAO,UAAU,QAAQ,KAAK,KAAK;AAAA,IACvC;AAIA,IAAAA,UAAS,UAAU,YAAY,SAAUrsB,QAAM6B,UAAS;AACpD,aAAO,KAAK,kBAAiB,EAAG,UAAU7B,QAAM6B,QAAO;AAAA,IAC3D;AAEA,IAAAwqB,UAAS,UAAU,UAAU,WAAY;AACrC,uBAAiB,UAAU,QAAQ,UAAU;AAC7C,WAAK,uBAAuB,IAAI,oBAAmB;AAAA,IACvD;AACA,WAAOA;AAAA,EACX;;ACvDO,IAAI,QAAQ,SAAS,YAAW;ACnBvC,IAAI,YAAY,OAAO;AACvB,IAAI,WAAW,CAAC,QAAQ,QAAQ;AAC9B,WAAS,UAAU;AACjB,cAAU,QAAQ,QAAQ,EAAE,KAAK,IAAI,MAAM,GAAG,YAAY,MAAM;AACpE;AAyCA,IAAI,OAAO;AACX,IAAI,SAAS,mBAAmB,IAAI;AACpC,IAAI,SAAS,OAAO,IAAI,MAAM;AAC9B,IAAI;AACJ,IAAIxsB,wBAAuB,cAAc,WAAW;AAAA,EAClD,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM;AAAA,MACJ;AAAA,MACA,SAAS,kCAAkC,SAAS,KAAK,OAAO;AAAA,IACtE,CAAK;AACD,SAAK,EAAE,IAAI;AACX,SAAK,YAAY;AACjB,SAAK,QAAQ;AAAA,EACf;AAAA,EACA,OAAO,WAAWkC,QAAO;AACvB,WAAO,WAAW,UAAUA,QAAO,MAAM;AAAA,EAC3C;AACF;AACA,KAAK;AAyBL,IAAI,QAAQ;AACZ,IAAI,UAAU,mBAAmB,KAAK;AACtC,IAAI,UAAU,OAAO,IAAI,OAAO;AAChC,IAAI;AACJ,IAAI,2BAA2B,cAAcuqB,WAAY;AAAA,EACvD,YAAY,EAAE,cAAc;AAC1B,UAAM;AAAA,MACJ,MAAM;AAAA,MACN,SAAS,0DAA0D,UAAU;AAAA,IACnF,CAAK;AACD,SAAK,GAAG,IAAI;AACZ,SAAK,aAAa;AAAA,EACpB;AAAA,EACA,OAAO,WAAWvqB,QAAO;AACvB,WAAOuqB,WAAY,UAAUvqB,QAAO,OAAO;AAAA,EAC7C;AACF;AACA,MAAM;AAIN,IAAI,QAAQ;AACZ,IAAI,UAAU,mBAAmB,KAAK;AACtC,IAAI,UAAU,OAAO,IAAI,OAAO;AAChC,IAAI;AACJ,IAAI,wBAAwB,cAAcwqB,WAAY;AAAA,EACpD,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA,UAAU,0BAA0B,QAAQ,KAAK/qB,kBAAgB,KAAK,CAAC;AAAA,EAC3E,GAAK;AACD,UAAM,EAAE,MAAM,OAAO,SAAS,MAAK,CAAE;AACrC,SAAK,GAAG,IAAI;AACZ,SAAK,YAAY;AACjB,SAAK,WAAW;AAAA,EAClB;AAAA,EACA,OAAO,WAAWO,QAAO;AACvB,WAAOwqB,WAAY,UAAUxqB,QAAO,OAAO;AAAA,EAC7C;AACF;AACA,MAAM;AAIN,IAAI,QAAQ;AACZ,IAAI,UAAU,mBAAmB,KAAK;AACtC,IAAI,UAAU,OAAO,IAAI,OAAO;AAChC,IAAI;AACJ,IAAI,mCAAmC,cAAcyqB,WAAY;AAAA,EAC/D,YAAY;AAAA,IACV;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM;AAAA,MACJ,MAAM;AAAA,MACN,SAAS,cAAc,UAAU,qCAAqC,UAAU;AAAA,IACtF,CAAK;AACD,SAAK,GAAG,IAAI;AACZ,SAAK,aAAa;AAClB,SAAK,aAAa;AAAA,EACpB;AAAA,EACA,OAAO,WAAWzqB,QAAO;AACvB,WAAOyqB,WAAY,UAAUzqB,QAAO,OAAO;AAAA,EAC7C;AACF;AACA,MAAM;AA0BN,IAAI,QAAQ;AACZ,IAAI,UAAU,mBAAmB,KAAK;AACtC,IAAI,UAAU,OAAO,IAAI,OAAO;AAChC,IAAI;AACJ,IAAI,yBAAyB,cAAc0qB,WAAY;AAAA,EACrD,YAAY;AAAA,IACV,UAAU;AAAA,IACV;AAAA,IACA,MAAM;AAAA,IACN;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM,EAAE,MAAM,OAAO,SAAS,MAAK,CAAE;AACrC,SAAK,GAAG,IAAI;AACZ,SAAK,OAAO;AACZ,SAAK,WAAW;AAChB,SAAK,QAAQ;AACb,SAAK,eAAe;AAAA,EACtB;AAAA,EACA,OAAO,WAAW1qB,QAAO;AACvB,WAAO0qB,WAAY,UAAU1qB,QAAO,OAAO;AAAA,EAC7C;AACF;AACA,MAAM;AAIN,IAAI,QAAQ;AACZ,IAAI,UAAU,mBAAmB,KAAK;AACtC,IAAI,UAAU,OAAO,IAAI,OAAO;AAChC,IAAI;AACJ,IAAI,yBAAyB,cAAc2qB,WAAY;AAAA;AAAA,EAErD,YAAY;AAAA,IACV,UAAU;AAAA,IACV;AAAA,EACJ,IAAM,IAAI;AACN,UAAM,EAAE,MAAM,OAAO,SAAS,MAAK,CAAE;AACrC,SAAK,GAAG,IAAI;AAAA,EACd;AAAA,EACA,OAAO,WAAW3qB,QAAO;AACvB,WAAO2qB,WAAY,UAAU3qB,QAAO,OAAO;AAAA,EAC7C;AACF;AACA,MAAM;AAgBN,IAAI,QAAQ;AACZ,IAAI,UAAU,mBAAmB,KAAK;AACtC,IAAI,UAAU,OAAO,IAAI,OAAO;AAChC,IAAI;AACJ,IAAI,kBAAkB,cAAc4qB,WAAa;AAAA,EAC/C,YAAY;AAAA,IACV;AAAA,IACA,iBAAiB;AAAA,IACjB,UAAU,yCAAyC,QAAQ,MAAM,mBAAmB,SAAS,4BAA4B,oBAAoB,eAAe,KAAK,IAAI,CAAC,GAAG;AAAA,EAC7K,GAAK;AACD,UAAM,EAAE,MAAM,OAAO,QAAO,CAAE;AAC9B,SAAK,GAAG,IAAI;AACZ,SAAK,WAAW;AAChB,SAAK,iBAAiB;AAAA,EACxB;AAAA,EACA,OAAO,WAAW5qB,QAAO;AACvB,WAAO4qB,WAAa,UAAU5qB,QAAO,OAAO;AAAA,EAC9C;AACF;AACA,MAAM;AAIN,IAAI,SAAS;AACb,IAAI,WAAW,mBAAmB,MAAM;AACxC,IAAI,WAAW,OAAO,IAAI,QAAQ;AAClC,IAAI;AACJ,IAAI,sBAAsB,cAAc6qB,WAAa;AAAA,EACnD,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA,UAAU,8BAA8BC,kBAAiB,KAAK,CAAC;AAAA,EACnE,GAAK;AACD,UAAM,EAAE,MAAM,QAAQ,SAAS,MAAK,CAAE;AACtC,SAAK,IAAI,IAAI;AACb,SAAK,gBAAgB;AAAA,EACvB;AAAA,EACA,OAAO,WAAW9qB,QAAO;AACvB,WAAO6qB,WAAa,UAAU7qB,QAAO,QAAQ;AAAA,EAC/C;AACF;AACA,OAAO;AAIP,IAAI,+BAA+B,cAAc+qB,WAAa;AAAA,EAC5D,YAAY,SAAS;AACnB,UAAM;AAAA,MACJ,MAAM;AAAA,MACN,SAAS,6BAA6B,QAAQ,OAAO,kBAAkB,QAAQ,QAAQ,gBAAgB,QAAQ,OAAO;AAAA,IAC5H,CAAK;AACD,SAAK,UAAU,QAAQ;AACvB,SAAK,WAAW,QAAQ;AACxB,SAAK,UAAU,QAAQ;AAAA,EACzB;AACF;AA0BA,IAAI,SAAS;AACb,IAAI,WAAW,mBAAmB,MAAM;AACxC,IAAI,WAAW,OAAO,IAAI,QAAQ;AAClC,IAAI;AACJ,IAAI,0BAA0B,cAAcC,WAAa;AAAA,EACvD,YAAY;AAAA,IACV;AAAA,IACA,UAAU,0BAA0B,IAAI;AAAA,EAC5C,GAAK;AACD,UAAM,EAAE,MAAM,QAAQ,QAAO,CAAE;AAC/B,SAAK,IAAI,IAAI;AACb,SAAK,OAAO;AAAA,EACd;AAAA,EACA,OAAO,WAAWhrB,QAAO;AACvB,WAAOgrB,WAAa,UAAUhrB,QAAO,QAAQ;AAAA,EAC/C;AACF;AACA,OAAO;AA4BP,IAAI,SAAS;AACb,IAAI,WAAW,mBAAmB,MAAM;AACxC,IAAI,WAAW,OAAO,IAAI,QAAQ;AAClC,IAAI;AACJ,IAAI,aAAa,cAAcirB,WAAa;AAAA,EAC1C,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM,EAAE,MAAM,QAAQ,QAAO,CAAE;AAC/B,SAAK,IAAI,IAAI;AACb,SAAK,SAAS;AACd,SAAK,SAAS;AACd,SAAK,YAAY,OAAO,OAAO,SAAS,CAAC;AAAA,EAC3C;AAAA,EACA,OAAO,WAAWjrB,QAAO;AACvB,WAAOirB,WAAa,UAAUjrB,QAAO,QAAQ;AAAA,EAC/C;AACF;AACA,OAAO;AAGP,SAAS,cAAc;AAAA,EACrB;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,QAAM,SAAS,mBAAmB,QAAQ,MAAM,KAAK;AACrD,UAAQ,QAAQ,MAAI;AAAA,IAClB,KAAK,eAAe;AAClB,UAAI,UAAU,GAAG,MAAM,iBAAiB,QAAQ,OAAO;AACvD,UAAI,QAAQ,SAAS;AACnB,mBAAW,IAAI,QAAQ,OAAO;AAAA,MAChC;AACA,aAAO;AAAA,IACT;AAAA,IACA,KAAK,iBAAiB;AACpB,UAAI,UAAU,GAAG,MAAM,iBAAiB,QAAQ,OAAO;AACvD,UAAI,QAAQ,SAAS;AACnB,mBAAW,IAAI,QAAQ,OAAO;AAAA,MAChC;AACA,aAAO;AAAA,IACT;AAAA,IACA,KAAK,SAAS;AACZ,aAAO,GAAG,MAAM,IAAI,QAAQ,OAAO;AAAA,IACrC;AAAA,IACA,SAAS;AACP,aAAO,GAAG,MAAM,IAAI,KAAK,UAAU,SAAS,MAAM,CAAC,CAAC;AAAA,IACtD;AAAA,EACJ;AACA;AACA,IAAI,6BAA6B;AACjC,IAAI,kBAAkB;AACtB,IAAI,cAAc,CAAC,YAAY;AAC7B,MAAI,QAAQ,SAAS,WAAW,GAAG;AACjC;AAAA,EACF;AACA,QAAME,UAAS,WAAW;AAC1B,MAAIA,YAAW,OAAO;AACpB;AAAA,EACF;AACA,MAAI,OAAOA,YAAW,YAAY;AAChC,IAAAA,QAAO,OAAO;AACd;AAAA,EACF;AACA,MAAI,CAAC,iBAAiB;AACpB,sBAAkB;AAClB,YAAQ,KAAK,0BAA0B;AAAA,EACzC;AACA,aAAW,WAAW,QAAQ,UAAU;AACtC,YAAQ;AAAA,MACN,cAAc;AAAA,QACZ;AAAA,QACA,UAAU,QAAQ;AAAA,QAClB,OAAO,QAAQ;AAAA,MACvB,CAAO;AAAA,IACP;AAAA,EACE;AACF;AAMA,SAAS,0BAA0B;AAAA,EACjC;AAAA,EACA;AACF,GAAG;AACD,cAAY;AAAA,IACV,UAAU;AAAA,MACR;AAAA,QACE,MAAM;AAAA,QACN,SAAS;AAAA,QACT,SAAS;AAAA,MACjB;AAAA,IACA;AAAA,IACI;AAAA,IACA,OAAO;AAAA,EACX,CAAG;AACH;AAuCA,SAAS,kBAAkB,OAAO;AAChC,MAAI,MAAM,yBAAyB,MAAM;AACvC,WAAO;AAAA,EACT;AACA,4BAA0B;AAAA,IACxB,UAAU,MAAM;AAAA,IAChB,SAAS,MAAM;AAAA,EACnB,CAAG;AACD,SAAO,IAAI,MAAM,OAAO;AAAA,IACtB,IAAI,QAAQ,MAAM;AAChB,cAAQ,MAAI;AAAA,QACV,KAAK;AACH,iBAAO;AAAA,QACT,KAAK;AACH,iBAAO,UAAU,SAAS;AACxB,kBAAM,SAAS,MAAM,OAAO,WAAW,GAAG,IAAI;AAC9C,mBAAO;AAAA,cACL,GAAG;AAAA,cACH,cAAc,0BAA0B,OAAO,YAAY;AAAA,cAC3D,OAAO,mBAAmB,OAAO,KAAK;AAAA,YACpD;AAAA,UACU;AAAA,QACF,KAAK;AACH,iBAAO,UAAU,SAAS;AACxB,kBAAM,SAAS,MAAM,OAAO,SAAS,GAAG,IAAI;AAC5C,mBAAO;AAAA,cACL,GAAG;AAAA,cACH,QAAQ,oBAAoB,OAAO,MAAM;AAAA,YACvD;AAAA,UACU;AAAA,QACF;AACE,iBAAO,OAAO,IAAI;AAAA,MAC5B;AAAA,IACI;AAAA,EACJ,CAAG;AACH;AACA,SAAS,oBAAoB,QAAQ;AACnC,SAAO,OAAO;AAAA,IACZ,IAAI,gBAAgB;AAAA,MAClB,UAAU,OAAO,YAAY;AAC3B,gBAAQ,MAAM,MAAI;AAAA,UAChB,KAAK;AACH,uBAAW,QAAQ;AAAA,cACjB,GAAG;AAAA,cACH,cAAc,0BAA0B,MAAM,YAAY;AAAA,cAC1D,OAAO,mBAAmB,MAAM,KAAK;AAAA,YACnD,CAAa;AACD;AAAA,UACF;AACE,uBAAW,QAAQ,KAAK;AACxB;AAAA,QACZ;AAAA,MACM;AAAA,IACN,CAAK;AAAA,EACL;AACA;AACA,SAAS,0BAA0B,cAAc;AAC/C,SAAO;AAAA,IACL,SAAS,iBAAiB,YAAY,UAAU;AAAA,IAChD,KAAK;AAAA,EACT;AACA;AACA,SAAS,mBAAmB,OAAO;AACjC,SAAO;AAAA,IACL,aAAa;AAAA,MACX,OAAO,MAAM;AAAA,MACb,SAAS;AAAA,MACT,WAAW,MAAM;AAAA,MACjB,YAAY;AAAA,IAClB;AAAA,IACI,cAAc;AAAA,MACZ,OAAO,MAAM;AAAA,MACb,MAAM;AAAA,MACN,WAAW,MAAM;AAAA,IACvB;AAAA,EACA;AACA;AAuCA,SAAS,qBAAqB,OAAO;AACnC,MAAI,OAAO,UAAU,UAAU;AAC7B,QAAI,MAAM,yBAAyB,QAAQ,MAAM,yBAAyB,MAAM;AAC9E,YAAM,mBAAmB;AACzB,YAAM,IAAI,6BAA6B;AAAA,QACrC,SAAS,iBAAiB;AAAA,QAC1B,UAAU,iBAAiB;AAAA,QAC3B,SAAS,iBAAiB;AAAA,MAClC,CAAO;AAAA,IACH;AACA,WAAO,kBAAkB,KAAK;AAAA,EAChC;AACA,SAAO,kBAAiB,EAAG,cAAc,KAAK;AAChD;AA2DA,SAAS,oBAAoB;AAC3B,MAAI;AACJ,UAAQ,OAAO,WAAW,4BAA4B,OAAO,OAAO;AACtE;AAGA,SAAS,kBAAkB,SAAS;AAClC,MAAI,WAAW,MAAM;AACnB,WAAO;AAAA,EACT;AACA,MAAI,OAAO,YAAY,UAAU;AAC/B,WAAO;AAAA,EACT;AACA,SAAO,QAAQ;AACjB;AACA,SAAS,iBAAiB,SAAS;AACjC,MAAI,WAAW,QAAQ,OAAO,YAAY,UAAU;AAClD,WAAO;AAAA,EACT;AACA,SAAO,QAAQ;AACjB;AAeA,IAAI,2BAA2B;AAAA,EAC7B;AAAA,IACE,WAAW;AAAA,IACX,aAAa,CAAC,IAAI,IAAI,EAAE;AAAA;AAAA,EAE5B;AAAA,EACE;AAAA,IACE,WAAW;AAAA,IACX,aAAa,CAAC,KAAK,IAAI,IAAI,EAAE;AAAA;AAAA,EAEjC;AAAA,EACE;AAAA,IACE,WAAW;AAAA,IACX,aAAa,CAAC,KAAK,GAAG;AAAA;AAAA,EAE1B;AAAA,EACE;AAAA,IACE,WAAW;AAAA,IACX,aAAa;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MAEA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,MAEA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA,IAEN;AAAA,EACA;AAAA,EACE;AAAA,IACE,WAAW;AAAA,IACX,aAAa,CAAC,IAAI,EAAE;AAAA,EACxB;AAAA,EACE;AAAA,IACE,WAAW;AAAA,IACX,aAAa,CAAC,IAAI,IAAI,IAAI,CAAC;AAAA,EAC/B;AAAA,EACE;AAAA,IACE,WAAW;AAAA,IACX,aAAa,CAAC,IAAI,IAAI,GAAG,EAAE;AAAA,EAC/B;AAAA,EACE;AAAA,IACE,WAAW;AAAA,IACX,aAAa;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN;AAAA,EACA;AAAA,EACE;AAAA,IACE,WAAW;AAAA,IACX,aAAa;AAAA,MACX;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACN;AAAA,EACA;AACA;AAwEA,IAAI,WAAW,CAAC,SAAS;AACvB,QAAM,QAAQ,OAAO,SAAS,WAAW,0BAA0B,IAAI,IAAI;AAC3E,QAAM,WAAW,MAAM,CAAC,IAAI,QAAQ,MAAM,MAAM,CAAC,IAAI,QAAQ,MAAM,MAAM,CAAC,IAAI,QAAQ,IAAI,MAAM,CAAC,IAAI;AACrG,SAAO,MAAM,MAAM,UAAU,EAAE;AACjC;AACA,SAAS,sBAAsB,MAAM;AACnC,QAAM,SAAS,OAAO,SAAS,YAAY,KAAK,WAAW,MAAM,KAAK,OAAO,SAAS,YAAY,KAAK,SAAS,MAAM,KAAK,CAAC,MAAM;AAAA,EAClI,KAAK,CAAC,MAAM;AAAA,EACZ,KAAK,CAAC,MAAM;AACZ,SAAO,SAAS,SAAS,IAAI,IAAI;AACnC;AACA,SAAS,gBAAgB;AAAA,EACvB;AAAA,EACA;AACF,GAAG;AACD,QAAM,gBAAgB,sBAAsB,IAAI;AAChD,QAAM,QAAQ,OAAO,kBAAkB,WAAW;AAAA,IAChD,cAAc,UAAU,GAAG,KAAK,IAAI,cAAc,QAAQ,EAAE,CAAC;AAAA,EACjE,IAAM;AACJ,aAAW,aAAa,YAAY;AAClC,QAAI,MAAM,UAAU,UAAU,YAAY,UAAU,UAAU,YAAY;AAAA,MACxE,CAAC,MAAM,UAAU,SAAS,QAAQ,MAAM,KAAK,MAAM;AAAA,IACzD,GAAO;AACD,aAAO,UAAU;AAAA,IACnB;AAAA,EACF;AACA,SAAO;AACT;AAUA,IAAI,UAAiB;AAGrB,IAAI,WAAW,OAAO,EAAE,UAAU;AAChC,MAAI;AACJ,QAAM,UAAU,IAAI,SAAQ;AAC5B,MAAI;AACF,UAAM,WAAW,MAAM,MAAM,SAAS;AAAA,MACpC,SAAS;AAAA,QACP,CAAA;AAAA,QACA,UAAU,OAAO;AAAA,QACjB,+BAA8B;AAAA,MACtC;AAAA,IACA,CAAK;AACD,QAAI,CAAC,SAAS,IAAI;AAChB,YAAM,IAAIgrB,cAAe;AAAA,QACvB,KAAK;AAAA,QACL,YAAY,SAAS;AAAA,QACrB,YAAY,SAAS;AAAA,MAC7B,CAAO;AAAA,IACH;AACA,WAAO;AAAA,MACL,MAAM,IAAI,WAAW,MAAM,SAAS,YAAW,CAAE;AAAA,MACjD,YAAY,OAAO,SAAS,QAAQ,IAAI,cAAc,MAAM,OAAO,OAAO;AAAA,IAChF;AAAA,EACE,SAASlrB,QAAO;AACd,QAAIkrB,cAAe,WAAWlrB,MAAK,GAAG;AACpC,YAAMA;AAAA,IACR;AACA,UAAM,IAAIkrB,cAAe,EAAE,KAAK,SAAS,OAAOlrB,QAAO;AAAA,EACzD;AACF;AAGA,IAAI,gCAAgC,CAAC,YAAY,aAAa,CAAC,uBAAuB,QAAQ;AAAA,EAC5F,mBAAmB;AAAA,IACjB,OAAO,sBAAsB,kBAAkB,wBAAwB,OAAO,UAAU,iBAAiB;AAAA,EAC7G;AACA;AAWA,SAAS,aAAa,SAAS;AAC7B,MAAI;AACF,UAAM,CAAC,QAAQ,aAAa,IAAI,QAAQ,MAAM,GAAG;AACjD,WAAO;AAAA,MACL,WAAW,OAAO,MAAM,GAAG,EAAE,CAAC,EAAE,MAAM,GAAG,EAAE,CAAC;AAAA,MAC5C;AAAA,IACN;AAAA,EACE,SAASA,QAAO;AACd,WAAO;AAAA,MACL,WAAW;AAAA,MACX,eAAe;AAAA,IACrB;AAAA,EACE;AACF;AAGA,IAAI,oBAAoB2hB,MAAQ;AAAA,EAC9B3K,OAAQ;AAAA,EACRmU,YAAa,UAAU;AAAA,EACvBA,YAAa,WAAW;AAAA,EACxBC;AAAAA;AAAAA,IAEE,CAAC,UAAU;AACT,UAAI,MAAM5qB;AACV,cAAQA,OAAM,OAAO,WAAW,WAAW,OAAO,SAAS,KAAK,SAAS,KAAK,MAAM,OAAOA,MAAK;AAAA,IAClG;AAAA,IACA,EAAE,SAAS,mBAAkB;AAAA,EACjC;AACA,CAAC;AACD,SAAS,oCAAoC,SAAS;AACpD,MAAI,mBAAmB,YAAY;AACjC,WAAO,EAAE,MAAM,SAAS,WAAW,OAAM;AAAA,EAC3C;AACA,MAAI,mBAAmB,aAAa;AAClC,WAAO,EAAE,MAAM,IAAI,WAAW,OAAO,GAAG,WAAW,OAAM;AAAA,EAC3D;AACA,MAAI,OAAO,YAAY,UAAU;AAC/B,QAAI;AACF,gBAAU,IAAI,IAAI,OAAO;AAAA,IAC3B,SAASR,QAAO;AAAA,IAChB;AAAA,EACF;AACA,MAAI,mBAAmB,OAAO,QAAQ,aAAa,SAAS;AAC1D,UAAM,EAAE,WAAW,kBAAkB,cAAa,IAAK;AAAA,MACrD,QAAQ,SAAQ;AAAA,IACtB;AACI,QAAI,oBAAoB,QAAQ,iBAAiB,MAAM;AACrD,YAAM,IAAIqrB,WAAa;AAAA,QACrB,MAAM;AAAA,QACN,SAAS,sCAAsC,QAAQ,SAAQ,CAAE;AAAA,MACzE,CAAO;AAAA,IACH;AACA,WAAO,EAAE,MAAM,eAAe,WAAW,iBAAgB;AAAA,EAC3D;AACA,SAAO,EAAE,MAAM,SAAS,WAAW,OAAM;AAC3C;AACA,SAAS,iCAAiC,SAAS;AACjD,MAAI,OAAO,YAAY,UAAU;AAC/B,WAAO;AAAA,EACT;AACA,MAAI,mBAAmB,aAAa;AAClC,WAAO,0BAA0B,IAAI,WAAW,OAAO,CAAC;AAAA,EAC1D;AACA,SAAO,0BAA0B,OAAO;AAC1C;AAuBA,SAAS,QAAQ,OAAO;AACtB,SAAO,UAAU,SAAS,CAAA,IAAK,MAAM,QAAQ,KAAK,IAAI,QAAQ,CAAC,KAAK;AACtE;AAGA,eAAe,6BAA6B;AAAA,EAC1C;AAAA,EACA;AAAA,EACA,UAAU,YAAY,8BAA6B;AACrD,GAAG;AACD,QAAM,mBAAmB,MAAM;AAAA,IAC7B,OAAO;AAAA,IACP;AAAA,IACA;AAAA,EACJ;AACE,QAAM,WAAW;AAAA,IACf,GAAG,OAAO,UAAU,OAAO,OAAO,OAAO,WAAW,WAAW,CAAC,EAAE,MAAM,UAAU,SAAS,OAAO,OAAM,CAAE,IAAI,QAAQ,OAAO,MAAM,EAAE,IAAI,CAAC,aAAa;AAAA,MACrJ,MAAM;AAAA,MACN,SAAS,QAAQ;AAAA,MACjB,iBAAiB,QAAQ;AAAA,IAC/B,EAAM,IAAI,CAAA;AAAA,IACN,GAAG,OAAO,SAAS;AAAA,MACjB,CAAC,YAAY,8BAA8B,EAAE,SAAS,iBAAgB,CAAE;AAAA,IAC9E;AAAA,EACA;AACE,QAAM,mBAAmB,CAAA;AACzB,aAAW,WAAW,UAAU;AAC9B,QAAI,QAAQ,SAAS,QAAQ;AAC3B,uBAAiB,KAAK,OAAO;AAC7B;AAAA,IACF;AACA,UAAM,sBAAsB,iBAAiB,GAAG,EAAE;AAClD,SAAK,uBAAuB,OAAO,SAAS,oBAAoB,UAAU,QAAQ;AAChF,0BAAoB,QAAQ,KAAK,GAAG,QAAQ,OAAO;AAAA,IACrD,OAAO;AACL,uBAAiB,KAAK,OAAO;AAAA,IAC/B;AAAA,EACF;AACA,SAAO;AACT;AACA,SAAS,8BAA8B;AAAA,EACrC;AAAA,EACA;AACF,GAAG;AACD,QAAM,OAAO,QAAQ;AACrB,UAAQ,MAAI;AAAA,IACV,KAAK,UAAU;AACb,aAAO;AAAA,QACL,MAAM;AAAA,QACN,SAAS,QAAQ;AAAA,QACjB,iBAAiB,QAAQ;AAAA,MACjC;AAAA,IACI;AAAA,IACA,KAAK,QAAQ;AACX,UAAI,OAAO,QAAQ,YAAY,UAAU;AACvC,eAAO;AAAA,UACL,MAAM;AAAA,UACN,SAAS,CAAC,EAAE,MAAM,QAAQ,MAAM,QAAQ,SAAS;AAAA,UACjD,iBAAiB,QAAQ;AAAA,QACnC;AAAA,MACM;AACA,aAAO;AAAA,QACL,MAAM;AAAA,QACN,SAAS,QAAQ,QAAQ,IAAI,CAAC,SAAS,+BAA+B,MAAM,gBAAgB,CAAC,EAAE,OAAO,CAAC,SAAS,KAAK,SAAS,UAAU,KAAK,SAAS,EAAE;AAAA,QACxJ,iBAAiB,QAAQ;AAAA,MACjC;AAAA,IACI;AAAA,IACA,KAAK,aAAa;AAChB,UAAI,OAAO,QAAQ,YAAY,UAAU;AACvC,eAAO;AAAA,UACL,MAAM;AAAA,UACN,SAAS,CAAC,EAAE,MAAM,QAAQ,MAAM,QAAQ,SAAS;AAAA,UACjD,iBAAiB,QAAQ;AAAA,QACnC;AAAA,MACM;AACA,aAAO;AAAA,QACL,MAAM;AAAA,QACN,SAAS,QAAQ,QAAQ;AAAA;AAAA,UAEvB,CAAC,SAAS,KAAK,SAAS,UAAU,KAAK,SAAS,MAAM,KAAK,mBAAmB;AAAA,QACxF,EAAU;AAAA,UACA,CAAC,SAAS,KAAK,SAAS;AAAA,QAClC,EAAU,IAAI,CAAC,SAAS;AACd,gBAAM,kBAAkB,KAAK;AAC7B,kBAAQ,KAAK,MAAI;AAAA,YACf,KAAK,QAAQ;AACX,oBAAM,EAAE,MAAM,UAAS,IAAK;AAAA,gBAC1B,KAAK;AAAA,cACrB;AACc,qBAAO;AAAA,gBACL,MAAM;AAAA,gBACN;AAAA,gBACA,UAAU,KAAK;AAAA,gBACf,WAAW,aAAa,OAAO,YAAY,KAAK;AAAA,gBAChD;AAAA,cAChB;AAAA,YACY;AAAA,YACA,KAAK,aAAa;AAChB,qBAAO;AAAA,gBACL,MAAM;AAAA,gBACN,MAAM,KAAK;AAAA,gBACX;AAAA,cAChB;AAAA,YACY;AAAA,YACA,KAAK,QAAQ;AACX,qBAAO;AAAA,gBACL,MAAM;AAAA,gBACN,MAAM,KAAK;AAAA,gBACX;AAAA,cAChB;AAAA,YACY;AAAA,YACA,KAAK,aAAa;AAChB,qBAAO;AAAA,gBACL,MAAM;AAAA,gBACN,YAAY,KAAK;AAAA,gBACjB,UAAU,KAAK;AAAA,gBACf,OAAO,KAAK;AAAA,gBACZ,kBAAkB,KAAK;AAAA,gBACvB;AAAA,cAChB;AAAA,YACY;AAAA,YACA,KAAK,eAAe;AAClB,qBAAO;AAAA,gBACL,MAAM;AAAA,gBACN,YAAY,KAAK;AAAA,gBACjB,UAAU,KAAK;AAAA,gBACf,QAAQ,oBAAoB,KAAK,MAAM;AAAA,gBACvC;AAAA,cAChB;AAAA,YACY;AAAA,UACZ;AAAA,QACQ,CAAC;AAAA,QACD,iBAAiB,QAAQ;AAAA,MACjC;AAAA,IACI;AAAA,IACA,KAAK,QAAQ;AACX,aAAO;AAAA,QACL,MAAM;AAAA,QACN,SAAS,QAAQ,QAAQ;AAAA;AAAA,UAEvB,CAAC,SAAS,KAAK,SAAS,4BAA4B,KAAK;AAAA,QACnE,EAAU,IAAI,CAAC,SAAS;AACd,kBAAQ,KAAK,MAAI;AAAA,YACf,KAAK,eAAe;AAClB,qBAAO;AAAA,gBACL,MAAM;AAAA,gBACN,YAAY,KAAK;AAAA,gBACjB,UAAU,KAAK;AAAA,gBACf,QAAQ,oBAAoB,KAAK,MAAM;AAAA,gBACvC,iBAAiB,KAAK;AAAA,cACtC;AAAA,YACY;AAAA,YACA,KAAK,0BAA0B;AAC7B,qBAAO;AAAA,gBACL,MAAM;AAAA,gBACN,YAAY,KAAK;AAAA,gBACjB,UAAU,KAAK;AAAA,gBACf,QAAQ,KAAK;AAAA,cAC7B;AAAA,YACY;AAAA,UACZ;AAAA,QACQ,CAAC;AAAA,QACD,iBAAiB,QAAQ;AAAA,MACjC;AAAA,IACI;AAAA,IACA,SAAS;AACP,YAAM,mBAAmB;AACzB,YAAM,IAAI,wBAAwB,EAAE,MAAM,iBAAgB,CAAE;AAAA,IAC9D;AAAA,EACJ;AACA;AACA,eAAe,eAAe,UAAU,WAAW,eAAe;AAChE,QAAM,mBAAmB,SAAS,OAAO,CAAC,YAAY,QAAQ,SAAS,MAAM,EAAE,IAAI,CAAC,YAAY,QAAQ,OAAO,EAAE;AAAA,IAC/G,CAAC,YAAY,MAAM,QAAQ,OAAO;AAAA,EACtC,EAAI,KAAI,EAAG;AAAA,IACP,CAAC,SAAS,KAAK,SAAS,WAAW,KAAK,SAAS;AAAA,EACrD,EAAI,IAAI,CAAC,SAAS;AACd,QAAI;AACJ,UAAM,aAAa,OAAO,KAAK,cAAc,OAAO,OAAO,KAAK,SAAS,UAAU,YAAY;AAC/F,QAAI,OAAO,KAAK,SAAS,UAAU,KAAK,QAAQ,KAAK;AACrD,QAAI,OAAO,SAAS,UAAU;AAC5B,UAAI;AACF,eAAO,IAAI,IAAI,IAAI;AAAA,MACrB,SAAS,SAAS;AAAA,MAClB;AAAA,IACF;AACA,WAAO,EAAE,WAAW,KAAI;AAAA,EAC1B,CAAC,EAAE;AAAA,IACD,CAAC,SAAS,KAAK,gBAAgB;AAAA,EACnC,EAAI,IAAI,CAAC,UAAU;AAAA,IACf,KAAK,KAAK;AAAA,IACV,uBAAuB,KAAK,aAAa,QAAQ,eAAe;AAAA,MAC9D,KAAK,KAAK,KAAK,SAAQ;AAAA,MACvB,WAAW,KAAK;AAAA,MAChB;AAAA,IACN,CAAK;AAAA,EACL,EAAI;AACF,QAAM,kBAAkB,MAAM,UAAU,gBAAgB;AACxD,SAAO,OAAO;AAAA,IACZ,gBAAgB;AAAA,MACd,CAAC,MAAM,UAAU,QAAQ,OAAO,OAAO;AAAA,QACrC,iBAAiB,KAAK,EAAE,IAAI,SAAQ;AAAA,QACpC,EAAE,MAAM,KAAK,MAAM,WAAW,KAAK,UAAS;AAAA,MACpD;AAAA,IACA,EAAM,OAAO,CAAC,SAAS,QAAQ,IAAI;AAAA,EACnC;AACA;AACA,SAAS,+BAA+B,MAAM,kBAAkB;AAC9D,MAAI;AACJ,MAAI,KAAK,SAAS,QAAQ;AACxB,WAAO;AAAA,MACL,MAAM;AAAA,MACN,MAAM,KAAK;AAAA,MACX,iBAAiB,KAAK;AAAA,IAC5B;AAAA,EACE;AACA,MAAI;AACJ,QAAM,OAAO,KAAK;AAClB,UAAQ,MAAI;AAAA,IACV,KAAK;AACH,qBAAe,KAAK;AACpB;AAAA,IACF,KAAK;AACH,qBAAe,KAAK;AACpB;AAAA,IACF;AACE,YAAM,IAAI,MAAM,0BAA0B,IAAI,EAAE;AAAA,EACtD;AACE,QAAM,EAAE,MAAM,eAAe,WAAW,mBAAkB,IAAK,oCAAoC,YAAY;AAC/G,MAAI,YAAY,sBAAsB,OAAO,qBAAqB,KAAK;AACvE,MAAI,OAAO;AACX,MAAI,gBAAgB,KAAK;AACvB,UAAM,iBAAiB,iBAAiB,KAAK,SAAQ,CAAE;AACvD,QAAI,gBAAgB;AAClB,aAAO,eAAe;AACtB,mBAAa,OAAO,YAAY,YAAY,eAAe;AAAA,IAC7D;AAAA,EACF;AACA,UAAQ,MAAI;AAAA,IACV,KAAK,SAAS;AACZ,UAAI,gBAAgB,cAAc,OAAO,SAAS,UAAU;AAC1D,qBAAa,OAAO,gBAAgB,EAAE,MAAM,YAAY,0BAA0B,MAAM,OAAO,OAAO;AAAA,MACxG;AACA,aAAO;AAAA,QACL,MAAM;AAAA,QACN,WAAW,aAAa,OAAO,YAAY;AAAA;AAAA,QAE3C,UAAU;AAAA,QACV;AAAA,QACA,iBAAiB,KAAK;AAAA,MAC9B;AAAA,IACI;AAAA,IACA,KAAK,QAAQ;AACX,UAAI,aAAa,MAAM;AACrB,cAAM,IAAI,MAAM,qCAAqC;AAAA,MACvD;AACA,aAAO;AAAA,QACL,MAAM;AAAA,QACN;AAAA,QACA,UAAU,KAAK;AAAA,QACf;AAAA,QACA,iBAAiB,KAAK;AAAA,MAC9B;AAAA,IACI;AAAA,EACJ;AACA;AACA,SAAS,oBAAoB,QAAQ;AACnC,MAAI,OAAO,SAAS,WAAW;AAC7B,WAAO;AAAA,EACT;AACA,SAAO;AAAA,IACL,MAAM;AAAA,IACN,OAAO,OAAO,MAAM,IAAI,CAAC,SAAS;AAChC,UAAI,KAAK,SAAS,SAAS;AACzB,eAAO;AAAA,MACT;AACA,UAAI,KAAK,UAAU,WAAW,QAAQ,GAAG;AACvC,eAAO;AAAA,UACL,MAAM;AAAA,UACN,MAAM,KAAK;AAAA,UACX,WAAW,KAAK;AAAA,QAC1B;AAAA,MACM;AACA,aAAO;AAAA,QACL,MAAM;AAAA,QACN,MAAM,KAAK;AAAA,QACX,WAAW,KAAK;AAAA,MACxB;AAAA,IACI,CAAC;AAAA,EACL;AACA;AAIA,eAAe,sBAAsB;AAAA,EACnC;AAAA,EACA;AAAA,EACA;AAAA,EACA,MAAM;AAAA,EACN;AACF,GAAG;AACD,MAAI,cAAc,QAAQ;AACxB,WAAO,EAAE,MAAM,cAAc,OAAOC,kBAAiB,MAAM,EAAC;AAAA,EAC9D,WAAW,cAAc,QAAQ;AAC/B,WAAO,EAAE,MAAM,cAAc,OAAO,YAAY,MAAM,EAAC;AAAA,EACzD;AACA,MAAI,SAAS,OAAO,SAAS,MAAM,eAAe;AAChD,WAAO,MAAM,MAAM,cAAc,EAAE,YAAY,OAAO,QAAQ;AAAA,EAChE;AACA,SAAO,OAAO,WAAW,WAAW,EAAE,MAAM,QAAQ,OAAO,OAAM,IAAK,EAAE,MAAM,QAAQ,OAAO,YAAY,MAAM,EAAC;AAClH;AACA,SAAS,YAAY,OAAO;AAC1B,SAAO,UAAU,SAAS,OAAO;AACnC;AAGA,SAAS,oBAAoB;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAI,mBAAmB,MAAM;AAC3B,QAAI,CAAC,OAAO,UAAU,eAAe,GAAG;AACtC,YAAM,IAAIxtB,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AACA,QAAI,kBAAkB,GAAG;AACvB,YAAM,IAAIA,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AAAA,EACF;AACA,MAAI,eAAe,MAAM;AACvB,QAAI,OAAO,gBAAgB,UAAU;AACnC,YAAM,IAAIA,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AAAA,EACF;AACA,MAAI,QAAQ,MAAM;AAChB,QAAI,OAAO,SAAS,UAAU;AAC5B,YAAM,IAAIA,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AAAA,EACF;AACA,MAAI,QAAQ,MAAM;AAChB,QAAI,OAAO,SAAS,UAAU;AAC5B,YAAM,IAAIA,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AAAA,EACF;AACA,MAAI,mBAAmB,MAAM;AAC3B,QAAI,OAAO,oBAAoB,UAAU;AACvC,YAAM,IAAIA,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AAAA,EACF;AACA,MAAI,oBAAoB,MAAM;AAC5B,QAAI,OAAO,qBAAqB,UAAU;AACxC,YAAM,IAAIA,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AAAA,EACF;AACA,MAAI,QAAQ,MAAM;AAChB,QAAI,CAAC,OAAO,UAAU,IAAI,GAAG;AAC3B,YAAM,IAAIA,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AAAA,EACF;AACA,SAAO;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ;AACA;AAMA,SAAS,iBAAiB,SAAS;AACjC,SAAO,WAAW,QAAQ,OAAO,KAAK,OAAO,EAAE,SAAS;AAC1D;AAGA,eAAe,0BAA0B;AAAA,EACvC;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAI,CAAC,iBAAiB,KAAK,GAAG;AAC5B,WAAO;AAAA,MACL,OAAO;AAAA,MACP,YAAY;AAAA,IAClB;AAAA,EACE;AACA,QAAM,gBAAgB,eAAe,OAAO,OAAO,QAAQ,KAAK,EAAE;AAAA,IAChE,CAAC,CAAC,MAAM,MAAM,YAAY,SAAS,MAAM;AAAA,EAC7C,IAAM,OAAO,QAAQ,KAAK;AACxB,QAAM,qBAAqB,CAAA;AAC3B,aAAW,CAAC,QAAQ,KAAK,KAAK,eAAe;AAC3C,UAAM,WAAW,MAAM;AACvB,YAAQ,UAAQ;AAAA,MACd,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,2BAAmB,KAAK;AAAA,UACtB,MAAM;AAAA,UACN,MAAM;AAAA,UACN,aAAa,MAAM;AAAA,UACnB,aAAa,MAAM,SAAS,MAAM,WAAW,EAAE;AAAA,UAC/C,GAAG,MAAM,iBAAiB,OAAO,EAAE,eAAe,MAAM,cAAa,IAAK,CAAA;AAAA,UAC1E,iBAAiB,MAAM;AAAA,UACvB,GAAG,MAAM,UAAU,OAAO,EAAE,QAAQ,MAAM,WAAW,CAAA;AAAA,QAC/D,CAAS;AACD;AAAA,MACF,KAAK;AACH,2BAAmB,KAAK;AAAA,UACtB,MAAM;AAAA,UACN,MAAM;AAAA,UACN,IAAI,MAAM;AAAA,UACV,MAAM,MAAM;AAAA,QACtB,CAAS;AACD;AAAA,MACF,SAAS;AACP,cAAM,kBAAkB;AACxB,cAAM,IAAI,MAAM,0BAA0B,eAAe,EAAE;AAAA,MAC7D;AAAA,IACN;AAAA,EACE;AACA,SAAO;AAAA,IACL,OAAO;AAAA,IACP,YAAY,cAAc,OAAO,EAAE,MAAM,OAAM,IAAK,OAAO,eAAe,WAAW,EAAE,MAAM,WAAU,IAAK,EAAE,MAAM,QAAQ,UAAU,WAAW,SAAQ;AAAA,EAC7J;AACA;AAiBA,IAAI,kBAAkBytB;AAAAA,EACpB,MAAM7T,MAAS;AAAA,IACb8T,MAAO;AAAA,IACPnU,OAAS;AAAA,IACTG,SAAS;AAAA,IACTI,QAAU;AAAA,IACVD,OAAUN,OAAS,GAAI,gBAAgB,SAAQ,CAAE;AAAA,IACjDC,QAAS,eAAe;AAAA,EAC5B,CAAG;AACH;AAGA,IAAI,yBAAyBsK;AAAAA,EAC3B5J,OAAS;AAAA,EACT4J,OAAU5J,OAAS,GAAI,gBAAgB,SAAQ,CAAE;AACnD;AAIA,IAAI,iBAAiBS,SAAU;AAAA,EAC7B,MAAM0P,QAAW,MAAM;AAAA,EACvB,MAAMvP,OAAS;AAAA,EACf,iBAAiB,uBAAuB,SAAQ;AAClD,CAAC;AACD,IAAI,kBAAkBH,SAAU;AAAA,EAC9B,MAAM0P,QAAW,OAAO;AAAA,EACxB,OAAOnG,MAAS,CAAC,mBAAmByJ,YAAc,GAAG,CAAC,CAAC;AAAA,EACvD,WAAW7S,OAAS,EAAG,SAAQ;AAAA,EAC/B,iBAAiB,uBAAuB,SAAQ;AAClD,CAAC;AACD,IAAI,iBAAiBH,SAAU;AAAA,EAC7B,MAAM0P,QAAW,MAAM;AAAA,EACvB,MAAMnG,MAAS,CAAC,mBAAmByJ,YAAc,GAAG,CAAC,CAAC;AAAA,EACtD,UAAU7S,OAAS,EAAG,SAAQ;AAAA,EAC9B,WAAWA,OAAS;AAAA,EACpB,iBAAiB,uBAAuB,SAAQ;AAClD,CAAC;AACD,IAAI,sBAAsBH,SAAU;AAAA,EAClC,MAAM0P,QAAW,WAAW;AAAA,EAC5B,MAAMvP,OAAS;AAAA,EACf,iBAAiB,uBAAuB,SAAQ;AAClD,CAAC;AACD,IAAI,qBAAqBH,SAAU;AAAA,EACjC,MAAM0P,QAAW,WAAW;AAAA,EAC5B,YAAYvP,OAAS;AAAA,EACrB,UAAUA,OAAS;AAAA,EACnB,OAAO8S,QAAU;AAAA,EACjB,iBAAiB,uBAAuB,SAAQ;AAAA,EAChD,kBAAkBnL,QAAU,EAAG,SAAQ;AACzC,CAAC;AACD,IAAI,eAAeoL;AAAAA,EACjB;AAAA,EACA;AAAA,IACElT,SAAU;AAAA,MACR,MAAM0P,QAAW,MAAM;AAAA,MACvB,OAAOvP,OAAS;AAAA,MAChB,iBAAiB,uBAAuB,SAAQ;AAAA,IACtD,CAAK;AAAA,IACDH,SAAU;AAAA,MACR,MAAM0P,QAAW,MAAM;AAAA,MACvB,OAAO;AAAA,MACP,iBAAiB,uBAAuB,SAAQ;AAAA,IACtD,CAAK;AAAA,IACD1P,SAAU;AAAA,MACR,MAAM0P,QAAW,kBAAkB;AAAA,MACnC,QAAQvP,OAAS,EAAG,SAAQ;AAAA,MAC5B,iBAAiB,uBAAuB,SAAQ;AAAA,IACtD,CAAK;AAAA,IACDH,SAAU;AAAA,MACR,MAAM0P,QAAW,YAAY;AAAA,MAC7B,OAAOvP,OAAS;AAAA,MAChB,iBAAiB,uBAAuB,SAAQ;AAAA,IACtD,CAAK;AAAA,IACDH,SAAU;AAAA,MACR,MAAM0P,QAAW,YAAY;AAAA,MAC7B,OAAO;AAAA,MACP,iBAAiB,uBAAuB,SAAQ;AAAA,IACtD,CAAK;AAAA,IACD1P,SAAU;AAAA,MACR,MAAM0P,QAAW,SAAS;AAAA,MAC1B,OAAOtP;AAAAA,QACLmJ,MAAS;AAAA,UACPvJ,SAAU;AAAA,YACR,MAAM0P,QAAW,MAAM;AAAA,YACvB,MAAMvP,OAAS;AAAA,YACf,iBAAiB,uBAAuB,SAAQ;AAAA,UAC5D,CAAW;AAAA,UACDH,SAAU;AAAA,YACR,MAAM0P,QAAW,OAAO;AAAA,YACxB,MAAMvP,OAAS;AAAA,YACf,WAAWA,OAAS;AAAA,UAChC,CAAW;AAAA,UACDH,SAAU;AAAA,YACR,MAAM0P,QAAW,WAAW;AAAA,YAC5B,MAAMvP,OAAS;AAAA,YACf,WAAWA,OAAS;AAAA,YACpB,UAAUA,OAAS,EAAG,SAAQ;AAAA,YAC9B,iBAAiB,uBAAuB,SAAQ;AAAA,UAC5D,CAAW;AAAA,UACDH,SAAU;AAAA,YACR,MAAM0P,QAAW,UAAU;AAAA,YAC3B,KAAKvP,OAAS;AAAA,YACd,iBAAiB,uBAAuB,SAAQ;AAAA,UAC5D,CAAW;AAAA,UACDH,SAAU;AAAA,YACR,MAAM0P,QAAW,SAAS;AAAA,YAC1B,QAAQnG,MAAS,CAACpJ,OAAS,GAAI4H,OAAU5H,OAAS,GAAIA,OAAS,CAAE,CAAC,CAAC;AAAA,YACnE,iBAAiB,uBAAuB,SAAQ;AAAA,UAC5D,CAAW;AAAA,UACDH,SAAU;AAAA,YACR,MAAM0P,QAAW,YAAY;AAAA,YAC7B,MAAMvP,OAAS;AAAA,YACf,WAAWA,OAAS;AAAA,YACpB,iBAAiB,uBAAuB,SAAQ;AAAA,UAC5D,CAAW;AAAA,UACDH,SAAU;AAAA,YACR,MAAM0P,QAAW,WAAW;AAAA,YAC5B,KAAKvP,OAAS;AAAA,YACd,iBAAiB,uBAAuB,SAAQ;AAAA,UAC5D,CAAW;AAAA,UACDH,SAAU;AAAA,YACR,MAAM0P,QAAW,eAAe;AAAA,YAChC,QAAQnG,MAAS,CAACpJ,OAAS,GAAI4H,OAAU5H,OAAS,GAAIA,OAAS,CAAE,CAAC,CAAC;AAAA,YACnE,iBAAiB,uBAAuB,SAAQ;AAAA,UAC5D,CAAW;AAAA,UACDH,SAAU;AAAA,YACR,MAAM0P,QAAW,QAAQ;AAAA,YACzB,iBAAiB,uBAAuB,SAAQ;AAAA,UAC5D,CAAW;AAAA,QACX,CAAS;AAAA,MACT;AAAA,IACA,CAAK;AAAA,EACL;AACA;AACA,IAAI,uBAAuB1P,SAAU;AAAA,EACnC,MAAM0P,QAAW,aAAa;AAAA,EAC9B,YAAYvP,OAAS;AAAA,EACrB,UAAUA,OAAS;AAAA,EACnB,QAAQ;AAAA,EACR,iBAAiB,uBAAuB,SAAQ;AAClD,CAAC;AACD,IAAI,4BAA4BH,SAAU;AAAA,EACxC,MAAM0P,QAAW,uBAAuB;AAAA,EACxC,YAAYvP,OAAS;AAAA,EACrB,YAAYA,OAAS;AACvB,CAAC;AACD,IAAI,6BAA6BH,SAAU;AAAA,EACzC,MAAM0P,QAAW,wBAAwB;AAAA,EACzC,YAAYvP,OAAS;AAAA,EACrB,UAAU2H,QAAU;AAAA,EACpB,QAAQ3H,OAAS,EAAG,SAAQ;AAC9B,CAAC;AAGD,IAAI,2BAA2BI;AAAAA,EAC7B;AAAA,IACE,MAAMI,QAAW,QAAQ;AAAA,IACzB,SAASD,OAAS;AAAA,IAClB,iBAAiB,uBAAuB,SAAQ;AAAA,EACpD;AACA;AACA,IAAI,yBAAyBH,SAAU;AAAA,EACrC,MAAMI,QAAW,MAAM;AAAA,EACvB,SAASyH,MAAS;AAAA,IAChB1H,OAAS;AAAA,IACTD,QAAS2H,MAAS,CAAC,gBAAgB,iBAAiB,cAAc,CAAC,CAAC;AAAA,EACxE,CAAG;AAAA,EACD,iBAAiB,uBAAuB,SAAQ;AAClD,CAAC;AACD,IAAI,8BAA8B7H,SAAU;AAAA,EAC1C,MAAMI,QAAW,WAAW;AAAA,EAC5B,SAASyH,MAAS;AAAA,IAChB1H,OAAS;AAAA,IACTD;AAAAA,MACE2H,MAAS;AAAA,QACP;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACR,CAAO;AAAA,IACP;AAAA,EACA,CAAG;AAAA,EACD,iBAAiB,uBAAuB,SAAQ;AAClD,CAAC;AACD,IAAI,yBAAyB7H,SAAU;AAAA,EACrC,MAAMI,QAAW,MAAM;AAAA,EACvB,SAASF,QAAS2H,MAAS,CAAC,sBAAsB,0BAA0B,CAAC,CAAC;AAAA,EAC9E,iBAAiB,uBAAuB,SAAQ;AAClD,CAAC;AACD,IAAI,qBAAqBA,MAAS;AAAA,EAChC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,CAAC;AAGD,eAAe,kBAAkB,QAAQ;AACvC,MAAI,OAAO,UAAU,QAAQ,OAAO,YAAY,MAAM;AACpD,UAAM,IAAI+K,mBAAoB;AAAA,MAC5B;AAAA,MACA,SAAS;AAAA,IACf,CAAK;AAAA,EACH;AACA,MAAI,OAAO,UAAU,QAAQ,OAAO,YAAY,MAAM;AACpD,UAAM,IAAIA,mBAAoB;AAAA,MAC5B;AAAA,MACA,SAAS;AAAA,IACf,CAAK;AAAA,EACH;AACA,MAAI,OAAO,UAAU,QAAQ,OAAO,OAAO,WAAW,YAAY,CAAC,QAAQ,OAAO,MAAM,EAAE;AAAA,IACxF,CAAC,YAAY,OAAO,YAAY,YAAY,YAAY,QAAQ,UAAU,WAAW,QAAQ,SAAS;AAAA,EAC1G,GAAK;AACD,UAAM,IAAIA,mBAAoB;AAAA,MAC5B;AAAA,MACA,SAAS;AAAA,IACf,CAAK;AAAA,EACH;AACA,MAAI;AACJ,MAAI,OAAO,UAAU,QAAQ,OAAO,OAAO,WAAW,UAAU;AAC9D,eAAW,CAAC,EAAE,MAAM,QAAQ,SAAS,OAAO,QAAQ;AAAA,EACtD,WAAW,OAAO,UAAU,QAAQ,MAAM,QAAQ,OAAO,MAAM,GAAG;AAChE,eAAW,OAAO;AAAA,EACpB,WAAW,OAAO,YAAY,MAAM;AAClC,eAAW,OAAO;AAAA,EACpB,OAAO;AACL,UAAM,IAAIA,mBAAoB;AAAA,MAC5B;AAAA,MACA,SAAS;AAAA,IACf,CAAK;AAAA,EACH;AACA,MAAI,SAAS,WAAW,GAAG;AACzB,UAAM,IAAIA,mBAAoB;AAAA,MAC5B;AAAA,MACA,SAAS;AAAA,IACf,CAAK;AAAA,EACH;AACA,QAAM,mBAAmB,MAAM,kBAAkB;AAAA,IAC/C,OAAO;AAAA,IACP,QAAQnS,QAAS,kBAAkB;AAAA,EACvC,CAAG;AACD,MAAI,CAAC,iBAAiB,SAAS;AAC7B,UAAM,IAAImS,mBAAoB;AAAA,MAC5B;AAAA,MACA,SAAS;AAAA,MACT,OAAO,iBAAiB;AAAA,IAC9B,CAAK;AAAA,EACH;AACA,SAAO;AAAA,IACL;AAAA,IACA,QAAQ,OAAO;AAAA,EACnB;AACA;AAKA,SAAS,iBAAiB5rB,QAAO;AAC/B,MAAI,CAAC,2BAA2B,WAAWA,MAAK;AAC9C,WAAOA;AACT,QAAM,mBAAmB,WAAW,OAAO,SAAS,QAAQ,IAAI,cAAc;AAC9E,QAAM,cAAc;AACpB,MAAI,iBAAiB;AACnB,WAAO,IAAI6rB,WAAa;AAAA,MACtB,MAAM;AAAA,MACN,SAAS,uFAAuF,WAAW;AAAA,IACjH,CAAK;AAAA,EACH;AACA,SAAO,OAAO;AAAA,IACZ,IAAI,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAMQ,WAAW;AAAA;AAAA,CAEhC;AAAA,IACG,EAAE,MAAM,6BAA4B;AAAA,EACxC;AACA;AAGA,SAAS,sBAAsB;AAAA,EAC7B;AAAA,EACA;AACF,GAAG;AACD,SAAO;AAAA;AAAA,IAEL,kBAAkB,GAAG,WAAW,IAAI,aAAa,OAAO,SAAS,UAAU,eAAe,OAAO,IAAI,UAAU,UAAU,KAAK,EAAE;AAAA,IAChI,iBAAiB,aAAa,OAAO,SAAS,UAAU;AAAA;AAAA,IAExD,kBAAkB;AAAA,IAClB,2BAA2B,aAAa,OAAO,SAAS,UAAU;AAAA,EACtE;AACA;AAGA,SAAS,2BAA2B;AAAA,EAClC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAI;AACJ,SAAO;AAAA,IACL,qBAAqB,MAAM;AAAA,IAC3B,eAAe,MAAM;AAAA;AAAA,IAErB,GAAG,OAAO,QAAQ,QAAQ,EAAE,OAAO,CAAC,YAAY,CAAC,KAAK,KAAK,MAAM;AAC/D,UAAI,QAAQ,WAAW;AACrB,cAAM,iBAAiB;AAAA,UACrB;AAAA,QACV;AACQ,YAAI,kBAAkB,MAAM;AAC1B,qBAAW,eAAe,GAAG,EAAE,IAAI;AAAA,QACrC;AAAA,MACF,OAAO;AACL,mBAAW,eAAe,GAAG,EAAE,IAAI;AAAA,MACrC;AACA,aAAO;AAAA,IACT,GAAG,CAAA,CAAE;AAAA;AAAA,IAEL,GAAG,OAAO,SAAS,OAAO,aAAa,OAAO,SAAS,UAAU,aAAa,OAAO,OAAO,CAAA,CAAE,EAAE;AAAA,MAC9F,CAAC,YAAY,CAAC,KAAK,KAAK,MAAM;AAC5B,mBAAW,yBAAyB,GAAG,EAAE,IAAI;AAC7C,eAAO;AAAA,MACT;AAAA,MACA,CAAA;AAAA,IACN;AAAA;AAAA,IAEI,GAAG,OAAO,QAAQ,WAAW,OAAO,UAAU,CAAA,CAAE,EAAE,OAAO,CAAC,YAAY,CAAC,KAAK,KAAK,MAAM;AACrF,UAAI,UAAU,QAAQ;AACpB,mBAAW,sBAAsB,GAAG,EAAE,IAAI;AAAA,MAC5C;AACA,aAAO;AAAA,IACT,GAAG,CAAA,CAAE;AAAA,EACT;AACA;AAMA,IAAI,aAAa;AAAA,EACf,YAAY;AACV,WAAO;AAAA,EACT;AAAA,EACA,gBAAgB,QAAQ,MAAM,MAAM,MAAM;AACxC,QAAI,OAAO,SAAS,YAAY;AAC9B,aAAO,KAAK,QAAQ;AAAA,IACtB;AACA,QAAI,OAAO,SAAS,YAAY;AAC9B,aAAO,KAAK,QAAQ;AAAA,IACtB;AACA,QAAI,OAAO,SAAS,YAAY;AAC9B,aAAO,KAAK,QAAQ;AAAA,IACtB;AAAA,EACF;AACF;AACA,IAAI,WAAW;AAAA,EACb,cAAc;AACZ,WAAO;AAAA,EACT;AAAA,EACA,eAAe;AACb,WAAO;AAAA,EACT;AAAA,EACA,gBAAgB;AACd,WAAO;AAAA,EACT;AAAA,EACA,WAAW;AACT,WAAO;AAAA,EACT;AAAA,EACA,UAAU;AACR,WAAO;AAAA,EACT;AAAA,EACA,WAAW;AACT,WAAO;AAAA,EACT;AAAA,EACA,YAAY;AACV,WAAO;AAAA,EACT;AAAA,EACA,aAAa;AACX,WAAO;AAAA,EACT;AAAA,EACA,MAAM;AACJ,WAAO;AAAA,EACT;AAAA,EACA,cAAc;AACZ,WAAO;AAAA,EACT;AAAA,EACA,kBAAkB;AAChB,WAAO;AAAA,EACT;AACF;AACA,IAAI,kBAAkB;AAAA,EACpB,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,YAAY;AACd;AAGA,SAAS,UAAU;AAAA,EACjB,YAAY;AAAA,EACZ;AACF,IAAI,IAAI;AACN,MAAI,CAAC,WAAW;AACd,WAAO;AAAA,EACT;AACA,MAAI,QAAQ;AACV,WAAO;AAAA,EACT;AACA,SAAO,MAAM,UAAU,IAAI;AAC7B;AAIA,eAAe,WAAW;AAAA,EACxB,MAAM;AAAA,EACN;AAAA,EACA;AAAA,EACA;AAAA,EACA,cAAc;AAChB,GAAG;AACD,SAAO,OAAO;AAAA,IACZ;AAAA,IACA,EAAE,YAAY,MAAM,WAAU;AAAA,IAC9B,OAAO,SAAS;AACd,UAAI;AACF,cAAM,SAAS,MAAM,GAAG,IAAI;AAC5B,YAAI,aAAa;AACf,eAAK,IAAG;AAAA,QACV;AACA,eAAO;AAAA,MACT,SAAS7rB,QAAO;AACd,YAAI;AACF,4BAAkB,MAAMA,MAAK;AAAA,QAC/B,UAAC;AACC,eAAK,IAAG;AAAA,QACV;AACA,cAAMA;AAAA,MACR;AAAA,IACF;AAAA,EACJ;AACA;AACA,SAAS,kBAAkB,MAAMA,QAAO;AACtC,MAAIA,kBAAiB,OAAO;AAC1B,SAAK,gBAAgB;AAAA,MACnB,MAAMA,OAAM;AAAA,MACZ,SAASA,OAAM;AAAA,MACf,OAAOA,OAAM;AAAA,IACnB,CAAK;AACD,SAAK,UAAU;AAAA,MACb,MAAM,eAAe;AAAA,MACrB,SAASA,OAAM;AAAA,IACrB,CAAK;AAAA,EACH,OAAO;AACL,SAAK,UAAU,EAAE,MAAM,eAAe,MAAK,CAAE;AAAA,EAC/C;AACF;AAGA,eAAe,0BAA0B;AAAA,EACvC;AAAA,EACA;AACF,GAAG;AACD,OAAK,aAAa,OAAO,SAAS,UAAU,eAAe,MAAM;AAC/D,WAAO,CAAA;AAAA,EACT;AACA,QAAM,mBAAmB,CAAA;AACzB,aAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,UAAU,GAAG;AACrD,QAAI,SAAS,MAAM;AACjB;AAAA,IACF;AACA,QAAI,OAAO,UAAU,YAAY,WAAW,SAAS,OAAO,MAAM,UAAU,YAAY;AACtF,WAAK,aAAa,OAAO,SAAS,UAAU,kBAAkB,OAAO;AACnE;AAAA,MACF;AACA,YAAM,SAAS,MAAM,MAAM,MAAK;AAChC,UAAI,UAAU,MAAM;AAClB,yBAAiB,GAAG,IAAI;AAAA,MAC1B;AACA;AAAA,IACF;AACA,QAAI,OAAO,UAAU,YAAY,YAAY,SAAS,OAAO,MAAM,WAAW,YAAY;AACxF,WAAK,aAAa,OAAO,SAAS,UAAU,mBAAmB,OAAO;AACpE;AAAA,MACF;AACA,YAAM,SAAS,MAAM,MAAM,OAAM;AACjC,UAAI,UAAU,MAAM;AAClB,yBAAiB,GAAG,IAAI;AAAA,MAC1B;AACA;AAAA,IACF;AACA,qBAAiB,GAAG,IAAI;AAAA,EAC1B;AACA,SAAO;AACT;AAGA,SAAS,sBAAsB,QAAQ;AACrC,SAAO,KAAK;AAAA,IACV,OAAO,IAAI,CAAC,aAAa;AAAA,MACvB,GAAG;AAAA,MACH,SAAS,OAAO,QAAQ,YAAY,WAAW,QAAQ,UAAU,QAAQ,QAAQ;AAAA,QAC/E,CAAC,SAAS,KAAK,SAAS,SAAS;AAAA,UAC/B,GAAG;AAAA,UACH,MAAM,KAAK,gBAAgB,aAAa,iCAAiC,KAAK,IAAI,IAAI,KAAK;AAAA,QACrG,IAAY;AAAA,MACZ;AAAA,IACA,EAAM;AAAA,EACN;AACA;AAGA,SAAS,qBAAqB,OAAO;AACnC,SAAO;AAAA,IACL,aAAa,MAAM,YAAY;AAAA,IAC/B,mBAAmB;AAAA,MACjB,eAAe,MAAM,YAAY;AAAA,MACjC,iBAAiB,MAAM,YAAY;AAAA,MACnC,kBAAkB,MAAM,YAAY;AAAA,IAC1C;AAAA,IACI,cAAc,MAAM,aAAa;AAAA,IACjC,oBAAoB;AAAA,MAClB,YAAY,MAAM,aAAa;AAAA,MAC/B,iBAAiB,MAAM,aAAa;AAAA,IAC1C;AAAA,IACI,aAAa;AAAA,MACX,MAAM,YAAY;AAAA,MAClB,MAAM,aAAa;AAAA,IACzB;AAAA,IACI,KAAK,MAAM;AAAA,IACX,iBAAiB,MAAM,aAAa;AAAA,IACpC,mBAAmB,MAAM,YAAY;AAAA,EACzC;AACA;AAkBA,SAAS,sBAAsB,QAAQ,QAAQ;AAC7C,MAAI,MAAMQ,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAC1C,SAAO;AAAA,IACL,aAAa,eAAe,OAAO,aAAa,OAAO,WAAW;AAAA,IAClE,mBAAmB;AAAA,MACjB,eAAe;AAAA,SACZ,OAAO,OAAO,sBAAsB,OAAO,SAAS,KAAK;AAAA,SACzDA,MAAK,OAAO,sBAAsB,OAAO,SAASA,IAAG;AAAA,MAC9D;AAAA,MACM,iBAAiB;AAAA,SACd,KAAK,OAAO,sBAAsB,OAAO,SAAS,GAAG;AAAA,SACrD,KAAK,OAAO,sBAAsB,OAAO,SAAS,GAAG;AAAA,MAC9D;AAAA,MACM,kBAAkB;AAAA,SACf,KAAK,OAAO,sBAAsB,OAAO,SAAS,GAAG;AAAA,SACrD,KAAK,OAAO,sBAAsB,OAAO,SAAS,GAAG;AAAA,MAC9D;AAAA,IACA;AAAA,IACI,cAAc,eAAe,OAAO,cAAc,OAAO,YAAY;AAAA,IACrE,oBAAoB;AAAA,MAClB,YAAY;AAAA,SACT,KAAK,OAAO,uBAAuB,OAAO,SAAS,GAAG;AAAA,SACtD,KAAK,OAAO,uBAAuB,OAAO,SAAS,GAAG;AAAA,MAC/D;AAAA,MACM,iBAAiB;AAAA,SACd,KAAK,OAAO,uBAAuB,OAAO,SAAS,GAAG;AAAA,SACtD,KAAK,OAAO,uBAAuB,OAAO,SAAS,GAAG;AAAA,MAC/D;AAAA,IACA;AAAA,IACI,aAAa,eAAe,OAAO,aAAa,OAAO,WAAW;AAAA,IAClE,iBAAiB;AAAA,MACf,OAAO;AAAA,MACP,OAAO;AAAA,IACb;AAAA,IACI,mBAAmB;AAAA,MACjB,OAAO;AAAA,MACP,OAAO;AAAA,IACb;AAAA,EACA;AACA;AACA,SAAS,eAAe,aAAa,aAAa;AAChD,SAAO,eAAe,QAAQ,eAAe,OAAO,UAAU,eAAe,OAAO,cAAc,MAAM,eAAe,OAAO,cAAc;AAC9I;AAUA,SAAS,aAAa,MAAM,WAAW;AACrC,MAAI,SAAS,UAAU,cAAc,QAAQ;AAC3C,WAAO;AAAA,EACT;AACA,MAAI,SAAS,QAAQ;AACnB,WAAO;AAAA,EACT;AACA,MAAI,cAAc,QAAQ;AACxB,WAAO;AAAA,EACT;AACA,QAAM,SAAS,EAAE,GAAG,KAAI;AACxB,aAAW,OAAO,WAAW;AAC3B,QAAI,OAAO,UAAU,eAAe,KAAK,WAAW,GAAG,GAAG;AACxD,YAAM,iBAAiB,UAAU,GAAG;AACpC,UAAI,mBAAmB;AACrB;AACF,YAAM,YAAY,OAAO,OAAO,KAAK,GAAG,IAAI;AAC5C,YAAM,iBAAiB,mBAAmB,QAAQ,OAAO,mBAAmB,YAAY,CAAC,MAAM,QAAQ,cAAc,KAAK,EAAE,0BAA0B,SAAS,EAAE,0BAA0B;AAC3L,YAAM,iBAAiB,cAAc,QAAQ,cAAc,UAAU,OAAO,cAAc,YAAY,CAAC,MAAM,QAAQ,SAAS,KAAK,EAAE,qBAAqB,SAAS,EAAE,qBAAqB;AAC1L,UAAI,kBAAkB,gBAAgB;AACpC,eAAO,GAAG,IAAI;AAAA,UACZ;AAAA,UACA;AAAA,QACV;AAAA,MACM,OAAO;AACL,eAAO,GAAG,IAAI;AAAA,MAChB;AAAA,IACF;AAAA,EACF;AACA,SAAO;AACT;AAKA,SAAS,kBAAkB;AAAA,EACzB,OAAAR;AAAA,EACA;AACF,GAAG;AACD,QAAM,UAAUA,OAAM;AACtB,MAAI,CAAC;AACH,WAAO;AACT,MAAI;AACJ,QAAM,eAAe,QAAQ,gBAAgB;AAC7C,MAAI,cAAc;AAChB,UAAM,YAAY,WAAW,YAAY;AACzC,QAAI,CAAC,OAAO,MAAM,SAAS,GAAG;AAC5B,WAAK;AAAA,IACP;AAAA,EACF;AACA,QAAM,aAAa,QAAQ,aAAa;AACxC,MAAI,cAAc,OAAO,QAAQ;AAC/B,UAAM,iBAAiB,WAAW,UAAU;AAC5C,QAAI,CAAC,OAAO,MAAM,cAAc,GAAG;AACjC,WAAK,iBAAiB;AAAA,IACxB,OAAO;AACL,WAAK,KAAK,MAAM,UAAU,IAAI,KAAK,IAAG;AAAA,IACxC;AAAA,EACF;AACA,MAAI,MAAM,QAAQ,CAAC,OAAO,MAAM,EAAE,KAAK,KAAK,OAAO,KAAK,KAAK,OAAO,KAAK,0BAA0B;AACjG,WAAO;AAAA,EACT;AACA,SAAO;AACT;AACA,IAAI,oDAAoD,CAAC;AAAA,EACvD,aAAa;AAAA,EACb,mBAAmB;AAAA,EACnB,gBAAgB;AAAA,EAChB;AACF,IAAI,OAAO,OAAO,MAAM,6BAA6B,GAAG;AAAA,EACtD;AAAA,EACA,WAAW;AAAA,EACX;AAAA,EACA;AACF,CAAC;AACD,eAAe,6BAA6B,GAAG;AAAA,EAC7C;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG,SAAS,CAAA,GAAI;AACd,MAAI;AACF,WAAO,MAAM,EAAC;AAAA,EAChB,SAASA,QAAO;AACd,QAAI,aAAaA,MAAK,GAAG;AACvB,YAAMA;AAAA,IACR;AACA,QAAI,eAAe,GAAG;AACpB,YAAMA;AAAA,IACR;AACA,UAAM,eAAe8rB,gBAAiB9rB,MAAK;AAC3C,UAAM,YAAY,CAAC,GAAG,QAAQA,MAAK;AACnC,UAAM,YAAY,UAAU;AAC5B,QAAI,YAAY,YAAY;AAC1B,YAAM,IAAI,WAAW;AAAA,QACnB,SAAS,gBAAgB,SAAS,0BAA0B,YAAY;AAAA,QACxE,QAAQ;AAAA,QACR,QAAQ;AAAA,MAChB,CAAO;AAAA,IACH;AACA,QAAIA,kBAAiB,SAAS8V,aAAc,WAAW9V,MAAK,KAAKA,OAAM,gBAAgB,QAAQ,aAAa,YAAY;AACtH,YAAM;AAAA,QACJ,kBAAkB;AAAA,UAChB,OAAAA;AAAA,UACA,yBAAyB;AAAA,QACnC,CAAS;AAAA,QACD,EAAE,YAAW;AAAA,MACrB;AACM,aAAO;AAAA,QACL;AAAA,QACA;AAAA,UACE;AAAA,UACA,WAAW,gBAAgB;AAAA,UAC3B;AAAA,UACA;AAAA,QACV;AAAA,QACQ;AAAA,MACR;AAAA,IACI;AACA,QAAI,cAAc,GAAG;AACnB,YAAMA;AAAA,IACR;AACA,UAAM,IAAI,WAAW;AAAA,MACnB,SAAS,gBAAgB,SAAS,wCAAwC,YAAY;AAAA,MACtF,QAAQ;AAAA,MACR,QAAQ;AAAA,IACd,CAAK;AAAA,EACH;AACF;AAGA,SAAS,eAAe;AAAA,EACtB;AAAA,EACA;AACF,GAAG;AACD,MAAI,cAAc,MAAM;AACtB,QAAI,CAAC,OAAO,UAAU,UAAU,GAAG;AACjC,YAAM,IAAIlC,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AACA,QAAI,aAAa,GAAG;AAClB,YAAM,IAAIA,sBAAqB;AAAA,QAC7B,WAAW;AAAA,QACX,OAAO;AAAA,QACP,SAAS;AAAA,MACjB,CAAO;AAAA,IACH;AAAA,EACF;AACA,QAAM,mBAAmB,cAAc,OAAO,aAAa;AAC3D,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,OAAO,kDAAkD;AAAA,MACvD,YAAY;AAAA,MACZ;AAAA,IACN,CAAK;AAAA,EACL;AACA;AAGA,SAAS,qBAAqB;AAAA,EAC5B;AACF,GAAG;AACD,QAAM,cAAc,SAAS,GAAG,EAAE;AAClC,OAAK,eAAe,OAAO,SAAS,YAAY,SAAS,QAAQ;AAC/D,WAAO;AAAA,MACL,uBAAuB,CAAA;AAAA,MACvB,qBAAqB,CAAA;AAAA,IAC3B;AAAA,EACE;AACA,QAAM,wBAAwB,CAAA;AAC9B,aAAW,WAAW,UAAU;AAC9B,QAAI,QAAQ,SAAS,eAAe,OAAO,QAAQ,YAAY,UAAU;AACvE,YAAM,UAAU,QAAQ;AACxB,iBAAW,QAAQ,SAAS;AAC1B,YAAI,KAAK,SAAS,aAAa;AAC7B,gCAAsB,KAAK,UAAU,IAAI;AAAA,QAC3C;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACA,QAAM,mCAAmC,CAAA;AACzC,aAAW,WAAW,UAAU;AAC9B,QAAI,QAAQ,SAAS,eAAe,OAAO,QAAQ,YAAY,UAAU;AACvE,YAAM,UAAU,QAAQ;AACxB,iBAAW,QAAQ,SAAS;AAC1B,YAAI,KAAK,SAAS,yBAAyB;AACzC,2CAAiC,KAAK,UAAU,IAAI;AAAA,QACtD;AAAA,MACF;AAAA,IACF;AAAA,EACF;AACA,QAAM,cAAc,CAAA;AACpB,aAAW,QAAQ,YAAY,SAAS;AACtC,QAAI,KAAK,SAAS,eAAe;AAC/B,kBAAY,KAAK,UAAU,IAAI;AAAA,IACjC;AAAA,EACF;AACA,QAAM,wBAAwB,CAAA;AAC9B,QAAM,sBAAsB,CAAA;AAC5B,QAAM,oBAAoB,YAAY,QAAQ;AAAA,IAC5C,CAAC,SAAS,KAAK,SAAS;AAAA,EAC5B;AACE,aAAW,oBAAoB,mBAAmB;AAChD,UAAM,kBAAkB,iCAAiC,iBAAiB,UAAU;AACpF,QAAI,mBAAmB,MAAM;AAC3B,YAAM,IAAI,yBAAyB;AAAA,QACjC,YAAY,iBAAiB;AAAA,MACrC,CAAO;AAAA,IACH;AACA,QAAI,YAAY,gBAAgB,UAAU,KAAK,MAAM;AACnD;AAAA,IACF;AACA,UAAM,WAAW,sBAAsB,gBAAgB,UAAU;AACjE,QAAI,YAAY,MAAM;AACpB,YAAM,IAAI,iCAAiC;AAAA,QACzC,YAAY,gBAAgB;AAAA,QAC5B,YAAY,gBAAgB;AAAA,MACpC,CAAO;AAAA,IACH;AACA,UAAM,WAAW;AAAA,MACf;AAAA,MACA;AAAA,MACA;AAAA,IACN;AACI,QAAI,iBAAiB,UAAU;AAC7B,4BAAsB,KAAK,QAAQ;AAAA,IACrC,OAAO;AACL,0BAAoB,KAAK,QAAQ;AAAA,IACnC;AAAA,EACF;AACA,SAAO,EAAE,uBAAuB,oBAAmB;AACrD;AAIA,eAAe,gBAAgB;AAAA,EAC7B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,QAAM,EAAE,UAAU,YAAY,MAAK,IAAK;AACxC,QAAM,QAAQ,SAAS,OAAO,SAAS,MAAM,QAAQ;AACrD,OAAK,SAAS,OAAO,SAAS,MAAM,YAAY,MAAM;AACpD,WAAO;AAAA,EACT;AACA,SAAO,WAAW;AAAA,IAChB,MAAM;AAAA,IACN,YAAY,0BAA0B;AAAA,MACpC;AAAA,MACA,YAAY;AAAA,QACV,GAAG,sBAAsB;AAAA,UACvB,aAAa;AAAA,UACb;AAAA,QACV,CAAS;AAAA,QACD,oBAAoB;AAAA,QACpB,kBAAkB;AAAA,QAClB,oBAAoB;AAAA,UAClB,QAAQ,MAAM,KAAK,UAAU,KAAK;AAAA,QAC5C;AAAA,MACA;AAAA,IACA,CAAK;AAAA,IACD;AAAA,IACA,IAAI,OAAO,SAAS;AAClB,UAAI;AACJ,UAAI;AACF,cAAM,SAAS,YAAY;AAAA,UACzB,SAAS,MAAM,QAAQ,KAAK,KAAK;AAAA,UACjC;AAAA,UACA,SAAS;AAAA,YACP;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACZ;AAAA,QACA,CAAS;AACD,yBAAiB,QAAQ,QAAQ;AAC/B,cAAI,KAAK,SAAS,eAAe;AAC/B,uCAA2B,OAAO,SAAS,wBAAwB;AAAA,cACjE,GAAG;AAAA,cACH,MAAM;AAAA,cACN,QAAQ,KAAK;AAAA,cACb,aAAa;AAAA,YAC3B,CAAa;AAAA,UACH,OAAO;AACL,qBAAS,KAAK;AAAA,UAChB;AAAA,QACF;AAAA,MACF,SAASkC,QAAO;AACd,0BAAkB,MAAMA,MAAK;AAC7B,eAAO;AAAA,UACL,MAAM;AAAA,UACN;AAAA,UACA;AAAA,UACA;AAAA,UACA,OAAAA;AAAA,UACA,SAAS,MAAM,SAAS;AAAA,UACxB,GAAG,SAAS,oBAAoB,OAAO,EAAE,kBAAkB,SAAS,qBAAqB,CAAA;AAAA,QACnG;AAAA,MACM;AACA,UAAI;AACF,aAAK;AAAA,UACH,MAAM,0BAA0B;AAAA,YAC9B;AAAA,YACA,YAAY;AAAA,cACV,sBAAsB;AAAA,gBACpB,QAAQ,MAAM,KAAK,UAAU,MAAM;AAAA,cACnD;AAAA,YACA;AAAA,UACA,CAAW;AAAA,QACX;AAAA,MACM,SAAS,SAAS;AAAA,MAClB;AACA,aAAO;AAAA,QACL,MAAM;AAAA,QACN;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA,SAAS,MAAM,SAAS;AAAA,QACxB,GAAG,SAAS,oBAAoB,OAAO,EAAE,kBAAkB,SAAS,qBAAqB,CAAA;AAAA,MACjG;AAAA,IACI;AAAA,EACJ,CAAG;AACH;AAGA,SAAS,mBAAmB,SAAS;AACnC,QAAM,QAAQ,QAAQ;AAAA,IACpB,CAAC,aAAa,SAAS,SAAS;AAAA,EACpC;AACE,MAAI,MAAM,WAAW,GAAG;AACtB,WAAO;AAAA,EACT;AACA,SAAO,MAAM,IAAI,CAAC,aAAa,SAAS,IAAI,EAAE,KAAK,EAAE;AACvD;AAOA,IAAI,uBAAuB,MAAM;AAAA,EAC/B,YAAY;AAAA,IACV;AAAA,IACA;AAAA,EACJ,GAAK;AACD,UAAM,eAAe,gBAAgB;AACrC,SAAK,aAAa,eAAe,SAAS;AAC1C,SAAK,iBAAiB,eAAe,OAAO;AAC5C,SAAK,YAAY;AAAA,EACnB;AAAA;AAAA,EAEA,IAAI,SAAS;AACX,QAAI,KAAK,cAAc,MAAM;AAC3B,WAAK,aAAa+rB,0BAA2B,KAAK,cAAc;AAAA,IAClE;AACA,WAAO,KAAK;AAAA,EACd;AAAA;AAAA,EAEA,IAAI,aAAa;AACf,QAAI,KAAK,kBAAkB,MAAM;AAC/B,WAAK,iBAAiBC,0BAA2B,KAAK,UAAU;AAAA,IAClE;AACA,WAAO,KAAK;AAAA,EACd;AACF;AASA,eAAe,iBAAiB;AAAA,EAC9B,MAAM;AAAA,EACN;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAI,MAAM,iBAAiB,MAAM;AAC/B,WAAO;AAAA,EACT;AACA,MAAI,OAAO,MAAM,kBAAkB,WAAW;AAC5C,WAAO,MAAM;AAAA,EACf;AACA,SAAO,MAAM,MAAM,cAAc,SAAS,OAAO;AAAA,IAC/C,YAAY,SAAS;AAAA,IACrB;AAAA,IACA;AAAA,EACJ,CAAG;AACH;AAGA,IAAI,iBAAiB,CAAA;AACrB,SAAS,gBAAgB;AAAA,EACvB,OAAO,MAAM;AAAA,EACb,QAAQ,MAAM;AAAA,EACd,MAAM,MAAM;AAAA,EACZ,QAAQ,MAAM;AAAA,EACd,MAAM,MAAM;AACd,CAAC;AAeD,SAAS,QAAQ,OAAO;AACtB,QAAM,QAAQ,CAAC,MAAM;AACrB,MAAI,iBAAiB;AACrB,MAAI,eAAe;AACnB,WAAS,kBAAkB,MAAM,GAAG,WAAW;AAC7C;AACE,cAAQ,MAAI;AAAA,QACV,KAAK,KAAK;AACR,2BAAiB;AACjB,gBAAM,IAAG;AACT,gBAAM,KAAK,SAAS;AACpB,gBAAM,KAAK,eAAe;AAC1B;AAAA,QACF;AAAA,QACA,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK,KAAK;AACR,2BAAiB;AACjB,yBAAe;AACf,gBAAM,IAAG;AACT,gBAAM,KAAK,SAAS;AACpB,gBAAM,KAAK,gBAAgB;AAC3B;AAAA,QACF;AAAA,QACA,KAAK,KAAK;AACR,gBAAM,IAAG;AACT,gBAAM,KAAK,SAAS;AACpB,gBAAM,KAAK,eAAe;AAC1B;AAAA,QACF;AAAA,QACA,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK;AAAA,QACL,KAAK,KAAK;AACR,2BAAiB;AACjB,gBAAM,IAAG;AACT,gBAAM,KAAK,SAAS;AACpB,gBAAM,KAAK,eAAe;AAC1B;AAAA,QACF;AAAA,QACA,KAAK,KAAK;AACR,2BAAiB;AACjB,gBAAM,IAAG;AACT,gBAAM,KAAK,SAAS;AACpB,gBAAM,KAAK,qBAAqB;AAChC;AAAA,QACF;AAAA,QACA,KAAK,KAAK;AACR,2BAAiB;AACjB,gBAAM,IAAG;AACT,gBAAM,KAAK,SAAS;AACpB,gBAAM,KAAK,oBAAoB;AAC/B;AAAA,QACF;AAAA,MACR;AAAA,IACI;AAAA,EACF;AACA,WAAS,wBAAwB,MAAM,GAAG;AACxC,YAAQ,MAAI;AAAA,MACV,KAAK,KAAK;AACR,cAAM,IAAG;AACT,cAAM,KAAK,2BAA2B;AACtC;AAAA,MACF;AAAA,MACA,KAAK,KAAK;AACR,yBAAiB;AACjB,cAAM,IAAG;AACT;AAAA,MACF;AAAA,IACN;AAAA,EACE;AACA,WAAS,uBAAuB,MAAM,GAAG;AACvC,YAAQ,MAAI;AAAA,MACV,KAAK,KAAK;AACR,cAAM,IAAG;AACT,cAAM,KAAK,0BAA0B;AACrC;AAAA,MACF;AAAA,MACA,KAAK,KAAK;AACR,yBAAiB;AACjB,cAAM,IAAG;AACT;AAAA,MACF;AAAA,IACN;AAAA,EACE;AACA,WAAS,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK;AACrC,UAAM,OAAO,MAAM,CAAC;AACpB,UAAM,eAAe,MAAM,MAAM,SAAS,CAAC;AAC3C,YAAQ,cAAY;AAAA,MAClB,KAAK;AACH,0BAAkB,MAAM,GAAG,QAAQ;AACnC;AAAA,MACF,KAAK,uBAAuB;AAC1B,gBAAQ,MAAI;AAAA,UACV,KAAK,KAAK;AACR,kBAAM,IAAG;AACT,kBAAM,KAAK,mBAAmB;AAC9B;AAAA,UACF;AAAA,UACA,KAAK,KAAK;AACR,6BAAiB;AACjB,kBAAM,IAAG;AACT;AAAA,UACF;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,6BAA6B;AAChC,gBAAQ,MAAI;AAAA,UACV,KAAK,KAAK;AACR,kBAAM,IAAG;AACT,kBAAM,KAAK,mBAAmB;AAC9B;AAAA,UACF;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,qBAAqB;AACxB,gBAAQ,MAAI;AAAA,UACV,KAAK,KAAK;AACR,kBAAM,IAAG;AACT,kBAAM,KAAK,yBAAyB;AACpC;AAAA,UACF;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,2BAA2B;AAC9B,gBAAQ,MAAI;AAAA,UACV,KAAK,KAAK;AACR,kBAAM,IAAG;AACT,kBAAM,KAAK,4BAA4B;AACvC;AAAA,UACF;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,8BAA8B;AACjC,0BAAkB,MAAM,GAAG,2BAA2B;AACtD;AAAA,MACF;AAAA,MACA,KAAK,6BAA6B;AAChC,gCAAwB,MAAM,CAAC;AAC/B;AAAA,MACF;AAAA,MACA,KAAK,iBAAiB;AACpB,gBAAQ,MAAI;AAAA,UACV,KAAK,KAAK;AACR,kBAAM,IAAG;AACT,6BAAiB;AACjB;AAAA,UACF;AAAA,UACA,KAAK,MAAM;AACT,kBAAM,KAAK,sBAAsB;AACjC;AAAA,UACF;AAAA,UACA,SAAS;AACP,6BAAiB;AAAA,UACnB;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,sBAAsB;AACzB,gBAAQ,MAAI;AAAA,UACV,KAAK,KAAK;AACR,6BAAiB;AACjB,kBAAM,IAAG;AACT;AAAA,UACF;AAAA,UACA,SAAS;AACP,6BAAiB;AACjB,8BAAkB,MAAM,GAAG,0BAA0B;AACrD;AAAA,UACF;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,4BAA4B;AAC/B,gBAAQ,MAAI;AAAA,UACV,KAAK,KAAK;AACR,kBAAM,IAAG;AACT,kBAAM,KAAK,0BAA0B;AACrC;AAAA,UACF;AAAA,UACA,KAAK,KAAK;AACR,6BAAiB;AACjB,kBAAM,IAAG;AACT;AAAA,UACF;AAAA,UACA,SAAS;AACP,6BAAiB;AACjB;AAAA,UACF;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,4BAA4B;AAC/B,0BAAkB,MAAM,GAAG,0BAA0B;AACrD;AAAA,MACF;AAAA,MACA,KAAK,wBAAwB;AAC3B,cAAM,IAAG;AACT,yBAAiB;AACjB;AAAA,MACF;AAAA,MACA,KAAK,iBAAiB;AACpB,gBAAQ,MAAI;AAAA,UACV,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK,KAAK;AACR,6BAAiB;AACjB;AAAA,UACF;AAAA,UACA,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK,KAAK;AACR;AAAA,UACF;AAAA,UACA,KAAK,KAAK;AACR,kBAAM,IAAG;AACT,gBAAI,MAAM,MAAM,SAAS,CAAC,MAAM,4BAA4B;AAC1D,qCAAuB,MAAM,CAAC;AAAA,YAChC;AACA,gBAAI,MAAM,MAAM,SAAS,CAAC,MAAM,6BAA6B;AAC3D,sCAAwB,MAAM,CAAC;AAAA,YACjC;AACA;AAAA,UACF;AAAA,UACA,KAAK,KAAK;AACR,kBAAM,IAAG;AACT,gBAAI,MAAM,MAAM,SAAS,CAAC,MAAM,6BAA6B;AAC3D,sCAAwB,MAAM,CAAC;AAAA,YACjC;AACA;AAAA,UACF;AAAA,UACA,KAAK,KAAK;AACR,kBAAM,IAAG;AACT,gBAAI,MAAM,MAAM,SAAS,CAAC,MAAM,4BAA4B;AAC1D,qCAAuB,MAAM,CAAC;AAAA,YAChC;AACA;AAAA,UACF;AAAA,UACA,SAAS;AACP,kBAAM,IAAG;AACT;AAAA,UACF;AAAA,QACV;AACQ;AAAA,MACF;AAAA,MACA,KAAK,kBAAkB;AACrB,cAAM,iBAAiB,MAAM,UAAU,cAAc,IAAI,CAAC;AAC1D,YAAI,CAAC,QAAQ,WAAW,cAAc,KAAK,CAAC,OAAO,WAAW,cAAc,KAAK,CAAC,OAAO,WAAW,cAAc,GAAG;AACnH,gBAAM,IAAG;AACT,cAAI,MAAM,MAAM,SAAS,CAAC,MAAM,6BAA6B;AAC3D,oCAAwB,MAAM,CAAC;AAAA,UACjC,WAAW,MAAM,MAAM,SAAS,CAAC,MAAM,4BAA4B;AACjE,mCAAuB,MAAM,CAAC;AAAA,UAChC;AAAA,QACF,OAAO;AACL,2BAAiB;AAAA,QACnB;AACA;AAAA,MACF;AAAA,IACN;AAAA,EACE;AACA,MAAI,SAAS,MAAM,MAAM,GAAG,iBAAiB,CAAC;AAC9C,WAAS,IAAI,MAAM,SAAS,GAAG,KAAK,GAAG,KAAK;AAC1C,UAAM,QAAQ,MAAM,CAAC;AACrB,YAAQ,OAAK;AAAA,MACX,KAAK,iBAAiB;AACpB,kBAAU;AACV;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK,6BAA6B;AAChC,kBAAU;AACV;AAAA,MACF;AAAA,MACA,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK,4BAA4B;AAC/B,kBAAU;AACV;AAAA,MACF;AAAA,MACA,KAAK,kBAAkB;AACrB,cAAM,iBAAiB,MAAM,UAAU,cAAc,MAAM,MAAM;AACjE,YAAI,OAAO,WAAW,cAAc,GAAG;AACrC,oBAAU,OAAO,MAAM,eAAe,MAAM;AAAA,QAC9C,WAAW,QAAQ,WAAW,cAAc,GAAG;AAC7C,oBAAU,QAAQ,MAAM,eAAe,MAAM;AAAA,QAC/C,WAAW,OAAO,WAAW,cAAc,GAAG;AAC5C,oBAAU,OAAO,MAAM,eAAe,MAAM;AAAA,QAC9C;AAAA,MACF;AAAA,IACN;AAAA,EACE;AACA,SAAO;AACT;AAGA,eAAe,iBAAiB,UAAU;AACxC,MAAI,aAAa,QAAQ;AACvB,WAAO,EAAE,OAAO,QAAQ,OAAO,kBAAiB;AAAA,EAClD;AACA,MAAI,SAAS,MAAM,cAAc,EAAE,MAAM,SAAQ,CAAE;AACnD,MAAI,OAAO,SAAS;AAClB,WAAO,EAAE,OAAO,OAAO,OAAO,OAAO,mBAAkB;AAAA,EACzD;AACA,WAAS,MAAM,cAAc,EAAE,MAAM,QAAQ,QAAQ,GAAG;AACxD,MAAI,OAAO,SAAS;AAClB,WAAO,EAAE,OAAO,OAAO,OAAO,OAAO,iBAAgB;AAAA,EACvD;AACA,SAAO,EAAE,OAAO,QAAQ,OAAO,eAAc;AAC/C;AAGA,IAAI,OAAO,OAAO;AAAA,EAChB,MAAM;AAAA,EACN,gBAAgB,QAAQ,QAAQ,EAAE,MAAM,OAAM,CAAE;AAAA,EAChD,MAAM,oBAAoB,EAAE,MAAM,SAAS;AACzC,WAAO;AAAA,EACT;AAAA,EACA,MAAM,mBAAmB,EAAE,MAAM,SAAS;AACxC,WAAO,EAAE,SAAS,MAAK;AAAA,EACzB;AAAA,EACA,+BAA+B;AAC7B,WAAO;AAAA,EACT;AACF;AACA,IAAI,SAAS,CAAC;AAAA,EACZ,QAAQ;AAAA,EACR,MAAM;AAAA,EACN;AACF,MAAM;AACJ,QAAM,SAASC,SAAU,WAAW;AACpC,SAAO;AAAA,IACL,MAAM;AAAA,IACN,gBAAgB,QAAQ,OAAO,UAAU,EAAE,KAAK,CAAC,iBAAiB;AAAA,MAChE,MAAM;AAAA,MACN,QAAQ;AAAA,MACR,GAAG,UAAU,QAAQ,EAAE,MAAM,OAAM;AAAA,MACnC,GAAG,eAAe,QAAQ,EAAE,YAAW;AAAA,IAC7C,EAAM;AAAA,IACF,MAAM,oBAAoB,EAAE,MAAM,MAAK,GAAI,SAAS;AAClD,YAAM,cAAc,MAAMC,cAAe,EAAE,MAAM,MAAK,CAAE;AACxD,UAAI,CAAC,YAAY,SAAS;AACxB,cAAM,IAAI,uBAAuB;AAAA,UAC/B,SAAS;AAAA,UACT,OAAO,YAAY;AAAA,UACnB,MAAM;AAAA,UACN,UAAU,QAAQ;AAAA,UAClB,OAAO,QAAQ;AAAA,UACf,cAAc,QAAQ;AAAA,QAChC,CAAS;AAAA,MACH;AACA,YAAM,mBAAmB,MAAMjE,kBAAmB;AAAA,QAChD,OAAO,YAAY;AAAA,QACnB;AAAA,MACR,CAAO;AACD,UAAI,CAAC,iBAAiB,SAAS;AAC7B,cAAM,IAAI,uBAAuB;AAAA,UAC/B,SAAS;AAAA,UACT,OAAO,iBAAiB;AAAA,UACxB,MAAM;AAAA,UACN,UAAU,QAAQ;AAAA,UAClB,OAAO,QAAQ;AAAA,UACf,cAAc,QAAQ;AAAA,QAChC,CAAS;AAAA,MACH;AACA,aAAO,iBAAiB;AAAA,IAC1B;AAAA,IACA,MAAM,mBAAmB,EAAE,MAAM,SAAS;AACxC,YAAM,SAAS,MAAM,iBAAiB,KAAK;AAC3C,cAAQ,OAAO,OAAK;AAAA,QAClB,KAAK;AAAA,QACL,KAAK,mBAAmB;AACtB,iBAAO;AAAA,QACT;AAAA,QACA,KAAK;AAAA,QACL,KAAK,oBAAoB;AACvB,iBAAO;AAAA;AAAA,YAEL,SAAS,OAAO;AAAA,UAC5B;AAAA,QACQ;AAAA,MACR;AAAA,IACI;AAAA,IACA,+BAA+B;AAC7B,aAAO;AAAA,IACT;AAAA,EACJ;AACA;AACA,IAAI,QAAQ,CAAC;AAAA,EACX,SAAS;AAAA,EACT,MAAM;AAAA,EACN;AACF,MAAM;AACJ,QAAM,gBAAgBgE,SAAU,kBAAkB;AAClD,SAAO;AAAA,IACL,MAAM;AAAA;AAAA,IAEN,gBAAgB,QAAQ,cAAc,UAAU,EAAE,KAAK,CAAC,gBAAgB;AACtE,YAAM,EAAE,SAAS,GAAG,WAAU,IAAK;AACnC,aAAO;AAAA,QACL,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,SAAS;AAAA,UACT,MAAM;AAAA,UACN,YAAY;AAAA,YACV,UAAU,EAAE,MAAM,SAAS,OAAO,WAAU;AAAA,UACxD;AAAA,UACU,UAAU,CAAC,UAAU;AAAA,UACrB,sBAAsB;AAAA,QAChC;AAAA,QACQ,GAAG,UAAU,QAAQ,EAAE,MAAM,OAAM;AAAA,QACnC,GAAG,eAAe,QAAQ,EAAE,YAAW;AAAA,MAC/C;AAAA,IACI,CAAC;AAAA,IACD,MAAM,oBAAoB,EAAE,MAAM,MAAK,GAAI,SAAS;AAClD,YAAM,cAAc,MAAMC,cAAe,EAAE,MAAM,MAAK,CAAE;AACxD,UAAI,CAAC,YAAY,SAAS;AACxB,cAAM,IAAI,uBAAuB;AAAA,UAC/B,SAAS;AAAA,UACT,OAAO,YAAY;AAAA,UACnB,MAAM;AAAA,UACN,UAAU,QAAQ;AAAA,UAClB,OAAO,QAAQ;AAAA,UACf,cAAc,QAAQ;AAAA,QAChC,CAAS;AAAA,MACH;AACA,YAAM,aAAa,YAAY;AAC/B,UAAI,cAAc,QAAQ,OAAO,eAAe,YAAY,EAAE,cAAc,eAAe,CAAC,MAAM,QAAQ,WAAW,QAAQ,GAAG;AAC9H,cAAM,IAAI,uBAAuB;AAAA,UAC/B,SAAS;AAAA,UACT,OAAO,IAAI5V,oBAAqB;AAAA,YAC9B,OAAO;AAAA,YACP,OAAO;AAAA,UACnB,CAAW;AAAA,UACD,MAAM;AAAA,UACN,UAAU,QAAQ;AAAA,UAClB,OAAO,QAAQ;AAAA,UACf,cAAc,QAAQ;AAAA,QAChC,CAAS;AAAA,MACH;AACA,iBAAW,WAAW,WAAW,UAAU;AACzC,cAAM,mBAAmB,MAAM2R,kBAAmB;AAAA,UAChD,OAAO;AAAA,UACP,QAAQ;AAAA,QAClB,CAAS;AACD,YAAI,CAAC,iBAAiB,SAAS;AAC7B,gBAAM,IAAI,uBAAuB;AAAA,YAC/B,SAAS;AAAA,YACT,OAAO,iBAAiB;AAAA,YACxB,MAAM;AAAA,YACN,UAAU,QAAQ;AAAA,YAClB,OAAO,QAAQ;AAAA,YACf,cAAc,QAAQ;AAAA,UAClC,CAAW;AAAA,QACH;AAAA,MACF;AACA,aAAO,WAAW;AAAA,IACpB;AAAA,IACA,MAAM,mBAAmB,EAAE,MAAM,SAAS;AACxC,YAAM,SAAS,MAAM,iBAAiB,KAAK;AAC3C,cAAQ,OAAO,OAAK;AAAA,QAClB,KAAK;AAAA,QACL,KAAK,mBAAmB;AACtB,iBAAO;AAAA,QACT;AAAA,QACA,KAAK;AAAA,QACL,KAAK,oBAAoB;AACvB,gBAAM,aAAa,OAAO;AAC1B,cAAI,cAAc,QAAQ,OAAO,eAAe,YAAY,EAAE,cAAc,eAAe,CAAC,MAAM,QAAQ,WAAW,QAAQ,GAAG;AAC9H,mBAAO;AAAA,UACT;AACA,gBAAM,cAAc,OAAO,UAAU,oBAAoB,WAAW,SAAS,SAAS,IAAI,WAAW,SAAS,MAAM,GAAG,EAAE,IAAI,WAAW;AACxI,gBAAM,iBAAiB,CAAA;AACvB,qBAAW,cAAc,aAAa;AACpC,kBAAM,mBAAmB,MAAMA,kBAAmB;AAAA,cAChD,OAAO;AAAA,cACP,QAAQ;AAAA,YACtB,CAAa;AACD,gBAAI,iBAAiB,SAAS;AAC5B,6BAAe,KAAK,iBAAiB,KAAK;AAAA,YAC5C;AAAA,UACF;AACA,iBAAO,EAAE,SAAS,eAAc;AAAA,QAClC;AAAA,MACR;AAAA,IACI;AAAA,IACA,+BAA+B;AAC7B,UAAI,oBAAoB;AACxB,aAAO,IAAI,gBAAgB;AAAA,QACzB,UAAU,EAAE,cAAa,GAAI,YAAY;AACvC,cAAI,iBAAiB,MAAM;AACzB,mBAAO,oBAAoB,cAAc,QAAQ,qBAAqB;AACpE,yBAAW,QAAQ,cAAc,iBAAiB,CAAC;AAAA,YACrD;AAAA,UACF;AAAA,QACF;AAAA,MACR,CAAO;AAAA,IACH;AAAA,EACJ;AACA;AACA,IAAI,SAAS,CAAC;AAAA,EACZ,SAAS;AAAA,EACT,MAAM;AAAA,EACN;AACF,MAAM;AACJ,SAAO;AAAA,IACL,MAAM;AAAA;AAAA,IAEN,gBAAgB,QAAQ,QAAQ;AAAA,MAC9B,MAAM;AAAA,MACN,QAAQ;AAAA,QACN,SAAS;AAAA,QACT,MAAM;AAAA,QACN,YAAY;AAAA,UACV,QAAQ,EAAE,MAAM,UAAU,MAAM,cAAa;AAAA,QACvD;AAAA,QACQ,UAAU,CAAC,QAAQ;AAAA,QACnB,sBAAsB;AAAA,MAC9B;AAAA,MACM,GAAG,UAAU,QAAQ,EAAE,MAAM,OAAM;AAAA,MACnC,GAAG,eAAe,QAAQ,EAAE,YAAW;AAAA,IAC7C,CAAK;AAAA,IACD,MAAM,oBAAoB,EAAE,MAAM,MAAK,GAAI,SAAS;AAClD,YAAM,cAAc,MAAMiE,cAAe,EAAE,MAAM,MAAK,CAAE;AACxD,UAAI,CAAC,YAAY,SAAS;AACxB,cAAM,IAAI,uBAAuB;AAAA,UAC/B,SAAS;AAAA,UACT,OAAO,YAAY;AAAA,UACnB,MAAM;AAAA,UACN,UAAU,QAAQ;AAAA,UAClB,OAAO,QAAQ;AAAA,UACf,cAAc,QAAQ;AAAA,QAChC,CAAS;AAAA,MACH;AACA,YAAM,aAAa,YAAY;AAC/B,UAAI,cAAc,QAAQ,OAAO,eAAe,YAAY,EAAE,YAAY,eAAe,OAAO,WAAW,WAAW,YAAY,CAAC,cAAc,SAAS,WAAW,MAAM,GAAG;AAC5K,cAAM,IAAI,uBAAuB;AAAA,UAC/B,SAAS;AAAA,UACT,OAAO,IAAI5V,oBAAqB;AAAA,YAC9B,OAAO;AAAA,YACP,OAAO;AAAA,UACnB,CAAW;AAAA,UACD,MAAM;AAAA,UACN,UAAU,QAAQ;AAAA,UAClB,OAAO,QAAQ;AAAA,UACf,cAAc,QAAQ;AAAA,QAChC,CAAS;AAAA,MACH;AACA,aAAO,WAAW;AAAA,IACpB;AAAA,IACA,MAAM,mBAAmB,EAAE,MAAM,SAAS;AACxC,YAAM,SAAS,MAAM,iBAAiB,KAAK;AAC3C,cAAQ,OAAO,OAAK;AAAA,QAClB,KAAK;AAAA,QACL,KAAK,mBAAmB;AACtB,iBAAO;AAAA,QACT;AAAA,QACA,KAAK;AAAA,QACL,KAAK,oBAAoB;AACvB,gBAAM,aAAa,OAAO;AAC1B,cAAI,cAAc,QAAQ,OAAO,eAAe,YAAY,EAAE,YAAY,eAAe,OAAO,WAAW,WAAW,UAAU;AAC9H,mBAAO;AAAA,UACT;AACA,gBAAM,mBAAmB,cAAc;AAAA,YACrC,CAAC,iBAAiB,aAAa,WAAW,WAAW,MAAM;AAAA,UACvE;AACU,cAAI,OAAO,UAAU,oBAAoB;AACvC,mBAAO,iBAAiB,SAAS,WAAW,MAAM,IAAI,EAAE,SAAS,WAAW,OAAM,IAAK;AAAA,UACzF,OAAO;AACL,mBAAO,iBAAiB,WAAW,IAAI,EAAE,SAAS,iBAAiB,CAAC,EAAC,IAAK;AAAA,UAC5E;AAAA,QACF;AAAA,MACR;AAAA,IACI;AAAA,IACA,+BAA+B;AAC7B,aAAO;AAAA,IACT;AAAA,EACJ;AACA;AACA,IAAI,OAAO,CAAC;AAAA,EACV,MAAM;AAAA,EACN;AACF,IAAI,OAAO;AACT,SAAO;AAAA,IACL,MAAM;AAAA,IACN,gBAAgB,QAAQ,QAAQ;AAAA,MAC9B,MAAM;AAAA,MACN,GAAG,UAAU,QAAQ,EAAE,MAAM,OAAM;AAAA,MACnC,GAAG,eAAe,QAAQ,EAAE,YAAW;AAAA,IAC7C,CAAK;AAAA,IACD,MAAM,oBAAoB,EAAE,MAAM,MAAK,GAAI,SAAS;AAClD,YAAM,cAAc,MAAM4V,cAAe,EAAE,MAAM,MAAK,CAAE;AACxD,UAAI,CAAC,YAAY,SAAS;AACxB,cAAM,IAAI,uBAAuB;AAAA,UAC/B,SAAS;AAAA,UACT,OAAO,YAAY;AAAA,UACnB,MAAM;AAAA,UACN,UAAU,QAAQ;AAAA,UAClB,OAAO,QAAQ;AAAA,UACf,cAAc,QAAQ;AAAA,QAChC,CAAS;AAAA,MACH;AACA,aAAO,YAAY;AAAA,IACrB;AAAA,IACA,MAAM,mBAAmB,EAAE,MAAM,SAAS;AACxC,YAAM,SAAS,MAAM,iBAAiB,KAAK;AAC3C,cAAQ,OAAO,OAAK;AAAA,QAClB,KAAK;AAAA,QACL,KAAK,mBAAmB;AACtB,iBAAO;AAAA,QACT;AAAA,QACA,KAAK;AAAA,QACL,KAAK,oBAAoB;AACvB,iBAAO,OAAO,UAAU,SAAS,SAAS,EAAE,SAAS,OAAO,MAAK;AAAA,QACnE;AAAA,MACR;AAAA,IACI;AAAA,IACA,+BAA+B;AAC7B,aAAO;AAAA,IACT;AAAA,EACJ;AACA;AAQA,eAAe,cAAc;AAAA,EAC3B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,MAAI;AACJ,MAAI;AACF,QAAI,SAAS,MAAM;AACjB,UAAI,SAAS,oBAAoB,SAAS,SAAS;AACjD,eAAO,MAAM,qCAAqC,QAAQ;AAAA,MAC5D;AACA,YAAM,IAAI,gBAAgB,EAAE,UAAU,SAAS,SAAQ,CAAE;AAAA,IAC3D;AACA,QAAI;AACF,aAAO,MAAM,gBAAgB,EAAE,UAAU,MAAK,CAAE;AAAA,IAClD,SAASlsB,QAAO;AACd,UAAI,kBAAkB,QAAQ,EAAE,gBAAgB,WAAWA,MAAK,KAAK,sBAAsB,WAAWA,MAAK,IAAI;AAC7G,cAAMA;AAAA,MACR;AACA,UAAI,mBAAmB;AACvB,UAAI;AACF,2BAAmB,MAAM,eAAe;AAAA,UACtC;AAAA,UACA;AAAA,UACA,aAAa,OAAO,EAAE,eAAe;AACnC,kBAAM,EAAE,YAAW,IAAK,MAAM,QAAQ;AACtC,mBAAO,MAAMmsB,SAAU,WAAW,EAAE;AAAA,UACtC;AAAA,UACA;AAAA,UACA;AAAA,UACA,OAAAnsB;AAAA,QACV,CAAS;AAAA,MACH,SAAS,aAAa;AACpB,cAAM,IAAI,oBAAoB;AAAA,UAC5B,OAAO;AAAA,UACP,eAAeA;AAAA,QACzB,CAAS;AAAA,MACH;AACA,UAAI,oBAAoB,MAAM;AAC5B,cAAMA;AAAA,MACR;AACA,aAAO,MAAM,gBAAgB,EAAE,UAAU,kBAAkB,MAAK,CAAE;AAAA,IACpE;AAAA,EACF,SAASA,QAAO;AACd,UAAM,cAAc,MAAMosB,cAAe,EAAE,MAAM,SAAS,OAAO;AACjE,UAAM,QAAQ,YAAY,UAAU,YAAY,QAAQ,SAAS;AACjE,WAAO;AAAA,MACL,MAAM;AAAA,MACN,YAAY,SAAS;AAAA,MACrB,UAAU,SAAS;AAAA,MACnB;AAAA,MACA,SAAS;AAAA,MACT,SAAS;AAAA,MACT,OAAApsB;AAAA,MACA,QAAQ,OAAO,SAAS,OAAO,SAAS,MAAM,SAAS,QAAQ,MAAM,OAAO,SAAS,KAAK;AAAA,MAC1F,kBAAkB,SAAS;AAAA,MAC3B,kBAAkB,SAAS;AAAA,IACjC;AAAA,EACE;AACF;AACA,eAAe,qCAAqC,UAAU;AAC5D,QAAM,cAAc,SAAS,MAAM,KAAI,MAAO,KAAK,EAAE,SAAS,MAAM,OAAO,CAAA,EAAE,IAAK,MAAMosB,cAAe,EAAE,MAAM,SAAS,OAAO;AAC/H,MAAI,YAAY,YAAY,OAAO;AACjC,UAAM,IAAI,sBAAsB;AAAA,MAC9B,UAAU,SAAS;AAAA,MACnB,WAAW,SAAS;AAAA,MACpB,OAAO,YAAY;AAAA,IACzB,CAAK;AAAA,EACH;AACA,SAAO;AAAA,IACL,MAAM;AAAA,IACN,YAAY,SAAS;AAAA,IACrB,UAAU,SAAS;AAAA,IACnB,OAAO,YAAY;AAAA,IACnB,kBAAkB;AAAA,IAClB,SAAS;AAAA,IACT,kBAAkB,SAAS;AAAA,EAC/B;AACA;AACA,eAAe,gBAAgB;AAAA,EAC7B;AAAA,EACA;AACF,GAAG;AACD,QAAM,WAAW,SAAS;AAC1B,QAAM,QAAQ,MAAM,QAAQ;AAC5B,MAAI,SAAS,MAAM;AACjB,QAAI,SAAS,oBAAoB,SAAS,SAAS;AACjD,aAAO,MAAM,qCAAqC,QAAQ;AAAA,IAC5D;AACA,UAAM,IAAI,gBAAgB;AAAA,MACxB,UAAU,SAAS;AAAA,MACnB,gBAAgB,OAAO,KAAK,KAAK;AAAA,IACvC,CAAK;AAAA,EACH;AACA,QAAM,SAASD,SAAU,MAAM,WAAW;AAC1C,QAAM,cAAc,SAAS,MAAM,KAAI,MAAO,KAAK,MAAME,kBAAmB,EAAE,OAAO,CAAA,GAAI,OAAM,CAAE,IAAI,MAAMD,cAAe,EAAE,MAAM,SAAS,OAAO,QAAQ;AAC1J,MAAI,YAAY,YAAY,OAAO;AACjC,UAAM,IAAI,sBAAsB;AAAA,MAC9B;AAAA,MACA,WAAW,SAAS;AAAA,MACpB,OAAO,YAAY;AAAA,IACzB,CAAK;AAAA,EACH;AACA,SAAO,MAAM,SAAS,YAAY;AAAA,IAChC,MAAM;AAAA,IACN,YAAY,SAAS;AAAA,IACrB,UAAU,SAAS;AAAA,IACnB,OAAO,YAAY;AAAA,IACnB,kBAAkB,SAAS;AAAA,IAC3B,kBAAkB,SAAS;AAAA,IAC3B,SAAS;AAAA,IACT,OAAO,MAAM;AAAA,EACjB,IAAM;AAAA,IACF,MAAM;AAAA,IACN,YAAY,SAAS;AAAA,IACrB;AAAA,IACA,OAAO,YAAY;AAAA,IACnB,kBAAkB,SAAS;AAAA,IAC3B,kBAAkB,SAAS;AAAA,IAC3B,OAAO,MAAM;AAAA,EACjB;AACA;AAGA,IAAI,oBAAoB,MAAM;AAAA,EAC5B,YAAY;AAAA,IACV;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACJ,GAAK;AACD,SAAK,UAAU;AACf,SAAK,eAAe;AACpB,SAAK,kBAAkB;AACvB,SAAK,QAAQ;AACb,SAAK,WAAW;AAChB,SAAK,UAAU;AACf,SAAK,WAAW;AAChB,SAAK,mBAAmB;AAAA,EAC1B;AAAA,EACA,IAAI,OAAO;AACT,WAAO,KAAK,QAAQ,OAAO,CAAC,SAAS,KAAK,SAAS,MAAM,EAAE,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE,KAAK,EAAE;AAAA,EAC7F;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK,QAAQ,OAAO,CAAC,SAAS,KAAK,SAAS,WAAW;AAAA,EAChE;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,UAAU,WAAW,IAAI,SAAS,KAAK,UAAU,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE,KAAK,EAAE;AAAA,EAC/F;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,QAAQ,OAAO,CAAC,SAAS,KAAK,SAAS,MAAM,EAAE,IAAI,CAAC,SAAS,KAAK,IAAI;AAAA,EACpF;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,QAAQ,OAAO,CAAC,SAAS,KAAK,SAAS,QAAQ;AAAA,EAC7D;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK,QAAQ,OAAO,CAAC,SAAS,KAAK,SAAS,WAAW;AAAA,EAChE;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK,UAAU;AAAA,MACpB,CAAC,aAAa,SAAS,YAAY;AAAA,IACzC;AAAA,EACE;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,UAAU;AAAA,MACpB,CAAC,aAAa,SAAS,YAAY;AAAA,IACzC;AAAA,EACE;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,QAAQ,OAAO,CAAC,SAAS,KAAK,SAAS,aAAa;AAAA,EAClE;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,KAAK,YAAY;AAAA,MACtB,CAAC,eAAe,WAAW,YAAY;AAAA,IAC7C;AAAA,EACE;AAAA,EACA,IAAI,qBAAqB;AACvB,WAAO,KAAK,YAAY;AAAA,MACtB,CAAC,eAAe,WAAW,YAAY;AAAA,IAC7C;AAAA,EACE;AACF;AAGA,SAAS,YAAY,WAAW;AAC9B,SAAO,CAAC,EAAE,MAAK,MAAO,MAAM,WAAW;AACzC;AASA,eAAe,mBAAmB;AAAA,EAChC;AAAA,EACA;AACF,GAAG;AACD,UAAQ,MAAM,QAAQ,IAAI,eAAe,IAAI,CAAC,cAAc,UAAU,EAAE,MAAK,CAAE,CAAC,CAAC,GAAG,KAAK,CAAC,WAAW,MAAM;AAC7G;AAGA,eAAe,mBAAmB;AAAA,EAChC,SAAS;AAAA,EACT;AACF,GAAG;AACD,QAAM,mBAAmB,CAAA;AACzB,QAAM,UAAU,CAAA;AAChB,aAAW,QAAQ,cAAc;AAC/B,QAAI,KAAK,SAAS,UAAU;AAC1B;AAAA,IACF;AACA,SAAK,KAAK,SAAS,iBAAiB,KAAK,SAAS,iBAAiB,CAAC,KAAK,kBAAkB;AACzF;AAAA,IACF;AACA,QAAI,KAAK,SAAS,UAAU,KAAK,KAAK,WAAW,GAAG;AAClD;AAAA,IACF;AACA,YAAQ,KAAK,MAAI;AAAA,MACf,KAAK;AACH,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,MAAM,KAAK;AAAA,UACX,iBAAiB,KAAK;AAAA,QAChC,CAAS;AACD;AAAA,MACF,KAAK;AACH,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,MAAM,KAAK;AAAA,UACX,iBAAiB,KAAK;AAAA,QAChC,CAAS;AACD;AAAA,MACF,KAAK;AACH,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,MAAM,KAAK,KAAK;AAAA,UAChB,WAAW,KAAK,KAAK;AAAA,UACrB,iBAAiB,KAAK;AAAA,QAChC,CAAS;AACD;AAAA,MACF,KAAK;AACH,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,YAAY,KAAK;AAAA,UACjB,UAAU,KAAK;AAAA,UACf,OAAO,KAAK;AAAA,UACZ,kBAAkB,KAAK;AAAA,UACvB,iBAAiB,KAAK;AAAA,QAChC,CAAS;AACD;AAAA,MACF,KAAK,eAAe;AAClB,cAAM,SAAS,MAAM,sBAAsB;AAAA,UACzC,YAAY,KAAK;AAAA,UACjB,OAAO,KAAK;AAAA,UACZ,MAAM,SAAS,OAAO,SAAS,MAAM,KAAK,QAAQ;AAAA,UAClD,QAAQ,KAAK;AAAA,UACb,WAAW;AAAA,QACrB,CAAS;AACD,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,YAAY,KAAK;AAAA,UACjB,UAAU,KAAK;AAAA,UACf;AAAA,UACA,iBAAiB,KAAK;AAAA,QAChC,CAAS;AACD;AAAA,MACF;AAAA,MACA,KAAK,cAAc;AACjB,cAAM,SAAS,MAAM,sBAAsB;AAAA,UACzC,YAAY,KAAK;AAAA,UACjB,OAAO,KAAK;AAAA,UACZ,MAAM,SAAS,OAAO,SAAS,MAAM,KAAK,QAAQ;AAAA,UAClD,QAAQ,KAAK;AAAA,UACb,WAAW;AAAA,QACrB,CAAS;AACD,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,YAAY,KAAK;AAAA,UACjB,UAAU,KAAK;AAAA,UACf;AAAA,UACA,iBAAiB,KAAK;AAAA,QAChC,CAAS;AACD;AAAA,MACF;AAAA,MACA,KAAK;AACH,gBAAQ,KAAK;AAAA,UACX,MAAM;AAAA,UACN,YAAY,KAAK;AAAA,UACjB,YAAY,KAAK,SAAS;AAAA,QACpC,CAAS;AACD;AAAA,IACR;AAAA,EACE;AACA,MAAI,QAAQ,SAAS,GAAG;AACtB,qBAAiB,KAAK;AAAA,MACpB,MAAM;AAAA,MACN;AAAA,IACN,CAAK;AAAA,EACH;AACA,QAAM,oBAAoB,CAAA;AAC1B,aAAW,QAAQ,cAAc;AAC/B,QAAI,EAAE,KAAK,SAAS,iBAAiB,KAAK,SAAS,iBAAiB,KAAK,kBAAkB;AACzF;AAAA,IACF;AACA,UAAM,SAAS,MAAM,sBAAsB;AAAA,MACzC,YAAY,KAAK;AAAA,MACjB,OAAO,KAAK;AAAA,MACZ,MAAM,SAAS,OAAO,SAAS,MAAM,KAAK,QAAQ;AAAA,MAClD,QAAQ,KAAK,SAAS,gBAAgB,KAAK,SAAS,KAAK;AAAA,MACzD,WAAW,KAAK,SAAS,eAAe,SAAS;AAAA,IACvD,CAAK;AACD,sBAAkB,KAAK;AAAA,MACrB,MAAM;AAAA,MACN,YAAY,KAAK;AAAA,MACjB,UAAU,KAAK;AAAA,MACf;AAAA,MACA,GAAG,KAAK,oBAAoB,OAAO,EAAE,iBAAiB,KAAK,qBAAqB,CAAA;AAAA,IACtF,CAAK;AAAA,EACH;AACA,MAAI,kBAAkB,SAAS,GAAG;AAChC,qBAAiB,KAAK;AAAA,MACpB,MAAM;AAAA,MACN,SAAS;AAAA,IACf,CAAK;AAAA,EACH;AACA,SAAO;AACT;AAGA,SAAS,qBAAqB,SAAS;AACrC,QAAM,eAAe,QAAQ;AAAA,IAC3B,CAAC,WAAW,UAAU;AAAA,EAC1B;AACE,MAAI,aAAa,WAAW,GAAG;AAC7B,WAAO;AAAA,EACT;AACA,MAAI,aAAa,WAAW,GAAG;AAC7B,WAAO,aAAa,CAAC;AAAA,EACvB;AACA,QAAM,aAAa,IAAI,gBAAe;AACtC,aAAW,UAAU,cAAc;AACjC,QAAI,OAAO,SAAS;AAClB,iBAAW,MAAM,OAAO,MAAM;AAC9B,aAAO,WAAW;AAAA,IACpB;AACA,WAAO;AAAA,MACL;AAAA,MACA,MAAM;AACJ,mBAAW,MAAM,OAAO,MAAM;AAAA,MAChC;AAAA,MACA,EAAE,MAAM,KAAI;AAAA,IAClB;AAAA,EACE;AACA,SAAO,WAAW;AACpB;AAGA,IAAI,qBAAqB,kBAAkB;AAAA,EACzC,QAAQ;AAAA,EACR,MAAM;AACR,CAAC;AACD,eAAe,aAAa;AAAA,EAC1B,OAAO;AAAA,EACP;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAY;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AAAA,EACA,WAAW,YAAY,CAAC;AAAA,EACxB;AAAA,EACA,SAAS;AAAA,EACT,wBAAwB;AAAA,EACxB;AAAA,EACA;AAAA,EACA,cAAc;AAAA,EACd;AAAA,EACA,cAAc;AAAA,EACd,6BAA6B;AAAA,EAC7B,uBAAuB;AAAA,EACvB;AAAA,EACA,WAAW,EAAE,YAAY,cAAc,mBAAkB,IAAK,CAAA;AAAA,EAC9D;AAAA,EACA;AAAA,EACA,GAAG;AACL,GAAG;AACD,QAAM,QAAQ,qBAAqB,QAAQ;AAC3C,QAAM,iBAAiB,QAAQ,QAAQ;AACvC,QAAM,iBAAiB,kBAAkB,OAAO;AAChD,QAAM,gBAAgB,iBAAiB,OAAO;AAC9C,QAAM,sBAAsB,iBAAiB,OAAO,IAAI,gBAAe,IAAK;AAC5E,QAAM,oBAAoB;AAAA,IACxB;AAAA,IACA,kBAAkB,OAAO,YAAY,QAAQ,cAAc,IAAI;AAAA,IAC/D,uBAAuB,OAAO,SAAS,oBAAoB;AAAA,EAC/D;AACE,QAAM,EAAE,YAAY,MAAK,IAAK,eAAe;AAAA,IAC3C,YAAY;AAAA,IACZ,aAAa;AAAA,EACjB,CAAG;AACD,QAAM,eAAe,oBAAoB,QAAQ;AACjD,QAAM,uBAAuBE;AAAAA,IAC3B,WAAW,OAAO,UAAU,CAAA;AAAA,IAC5B,MAAM,OAAO;AAAA,EACjB;AACE,QAAM,0BAA0B,2BAA2B;AAAA,IACzD;AAAA,IACA;AAAA,IACA,SAAS;AAAA,IACT,UAAU,EAAE,GAAG,cAAc,WAAU;AAAA,EAC3C,CAAG;AACD,QAAM,gBAAgB,MAAM,kBAAkB;AAAA,IAC5C;AAAA,IACA;AAAA,IACA;AAAA,EACJ,CAAG;AACD,QAAM,SAAS,UAAU,SAAS;AAClC,MAAI;AACF,WAAO,MAAM,WAAW;AAAA,MACtB,MAAM;AAAA,MACN,YAAY,0BAA0B;AAAA,QACpC;AAAA,QACA,YAAY;AAAA,UACV,GAAG,sBAAsB;AAAA,YACvB,aAAa;AAAA,YACb;AAAA,UACZ,CAAW;AAAA,UACD,GAAG;AAAA;AAAA,UAEH,qBAAqB,MAAM;AAAA,UAC3B,eAAe,MAAM;AAAA;AAAA,UAErB,aAAa;AAAA,YACX,OAAO,MAAM,KAAK,UAAU,EAAE,QAAQ,QAAQ,SAAQ,CAAE;AAAA,UACpE;AAAA,QACA;AAAA,MACA,CAAO;AAAA,MACD;AAAA,MACA,IAAI,OAAO,SAAS;AAClB,YAAI,MAAM9rB,KAAI,IAAI,IAAI,IAAI,IAAI,IAAI;AAClC,cAAM,kBAAkB,cAAc;AACtC,cAAM,mBAAmB,CAAA;AACzB,cAAM,EAAE,uBAAuB,oBAAmB,IAAK,qBAAqB,EAAE,UAAU,iBAAiB;AACzG,cAAM,6BAA6B,sBAAsB;AAAA,UACvD,CAAC,iBAAiB,CAAC,aAAa,SAAS;AAAA,QACnD;AACQ,YAAI,oBAAoB,SAAS,KAAK,2BAA2B,SAAS,GAAG;AAC3E,gBAAM,cAAc,MAAM,aAAa;AAAA,YACrC,WAAW,2BAA2B;AAAA,cACpC,CAAC,iBAAiB,aAAa;AAAA,YAC7C;AAAA,YACY;AAAA,YACA;AAAA,YACA;AAAA,YACA,UAAU;AAAA,YACV,aAAa;AAAA,YACb;AAAA,UACZ,CAAW;AACD,gBAAM,cAAc,CAAA;AACpB,qBAAW,WAAW,aAAa;AACjC,kBAAM,cAAc,MAAM,sBAAsB;AAAA,cAC9C,YAAY,QAAQ;AAAA,cACpB,OAAO,QAAQ;AAAA,cACf,MAAM,SAAS,OAAO,SAAS,MAAM,QAAQ,QAAQ;AAAA,cACrD,QAAQ,QAAQ,SAAS,gBAAgB,QAAQ,SAAS,QAAQ;AAAA,cAClE,WAAW,QAAQ,SAAS,eAAe,SAAS;AAAA,YAClE,CAAa;AACD,wBAAY,KAAK;AAAA,cACf,MAAM;AAAA,cACN,YAAY,QAAQ;AAAA,cACpB,UAAU,QAAQ;AAAA,cAClB,QAAQ;AAAA,YACtB,CAAa;AAAA,UACH;AACA,qBAAW,gBAAgB,qBAAqB;AAC9C,wBAAY,KAAK;AAAA,cACf,MAAM;AAAA,cACN,YAAY,aAAa,SAAS;AAAA,cAClC,UAAU,aAAa,SAAS;AAAA,cAChC,QAAQ;AAAA,gBACN,MAAM;AAAA,gBACN,QAAQ,aAAa,iBAAiB;AAAA;AAAA,gBAEtC,GAAG,aAAa,SAAS,oBAAoB;AAAA,kBAC3C,iBAAiB;AAAA,oBACf,QAAQ;AAAA,sBACN,YAAY,aAAa,iBAAiB;AAAA,oBAChE;AAAA,kBACA;AAAA,gBACA;AAAA,cACA;AAAA,YACA,CAAa;AAAA,UACH;AACA,2BAAiB,KAAK;AAAA,YACpB,MAAM;AAAA,YACN,SAAS;AAAA,UACrB,CAAW;AAAA,QACH;AACA,cAAM,gCAAgC;AAAA,UACpC,GAAG;AAAA,UACH,GAAG;AAAA,QACb,EAAU,OAAO,CAAC,iBAAiB,aAAa,SAAS,gBAAgB;AACjE,YAAI,8BAA8B,SAAS,GAAG;AAC5C,2BAAiB,KAAK;AAAA,YACpB,MAAM;AAAA,YACN,SAAS,8BAA8B;AAAA,cACrC,CAAC,kBAAkB;AAAA,gBACjB,MAAM;AAAA,gBACN,YAAY,aAAa,iBAAiB;AAAA,gBAC1C,UAAU,aAAa,iBAAiB;AAAA,gBACxC,QAAQ,aAAa,iBAAiB;AAAA,gBACtC,kBAAkB;AAAA,cAClC;AAAA,YACA;AAAA,UACA,CAAW;AAAA,QACH;AACA,cAAM,gBAAgB,oBAAoB,QAAQ;AAClD,YAAI;AACJ,YAAI,kBAAkB,CAAA;AACtB,YAAI,oBAAoB,CAAA;AACxB,cAAM,QAAQ,CAAA;AACd,cAAM,2BAA2C,oBAAI,IAAG;AACxD,WAAG;AACD,gBAAM,gBAAgB,iBAAiB,OAAO,WAAW,MAAM,oBAAoB,MAAK,GAAI,aAAa,IAAI;AAC7G,cAAI;AACF,kBAAM,oBAAoB,CAAC,GAAG,iBAAiB,GAAG,gBAAgB;AAClE,kBAAM,oBAAoB,OAAO,eAAe,OAAO,SAAS,YAAY;AAAA,cAC1E;AAAA,cACA;AAAA,cACA,YAAY,MAAM;AAAA,cAClB,UAAU;AAAA,cACV;AAAA,YACd,CAAa;AACD,kBAAM,YAAY;AAAA,eACf,OAAO,qBAAqB,OAAO,SAAS,kBAAkB,UAAU,OAAO,OAAO;AAAA,YACrG;AACY,kBAAM,iBAAiB,MAAM,6BAA6B;AAAA,cACxD,QAAQ;AAAA,gBACN,SAASA,MAAK,qBAAqB,OAAO,SAAS,kBAAkB,WAAW,OAAOA,MAAK,cAAc;AAAA,gBAC1G,WAAW,KAAK,qBAAqB,OAAO,SAAS,kBAAkB,aAAa,OAAO,KAAK;AAAA,cAChH;AAAA,cACc,eAAe,MAAM,UAAU;AAAA,cAC/B,UAAU;AAAA,YACxB,CAAa;AACD,oCAAwB,KAAK,qBAAqB,OAAO,SAAS,kBAAkB,yBAAyB,OAAO,KAAK;AACzH,kBAAM,EAAE,YAAY,gBAAgB,OAAO,UAAS,IAAK,MAAM,0BAA0B;AAAA,cACvF;AAAA,cACA,aAAa,KAAK,qBAAqB,OAAO,SAAS,kBAAkB,eAAe,OAAO,KAAK;AAAA,cACpG,cAAc,KAAK,qBAAqB,OAAO,SAAS,kBAAkB,gBAAgB,OAAO,KAAK;AAAA,YACpH,CAAa;AACD,mCAAuB,MAAM;AAAA,cAC3B,MAAM;AACJ,oBAAI;AACJ,uBAAO,WAAW;AAAA,kBAChB,MAAM;AAAA,kBACN,YAAY,0BAA0B;AAAA,oBACpC;AAAA,oBACA,YAAY;AAAA,sBACV,GAAG,sBAAsB;AAAA,wBACvB,aAAa;AAAA,wBACb;AAAA,sBACxB,CAAuB;AAAA,sBACD,GAAG;AAAA;AAAA,sBAEH,qBAAqB,UAAU;AAAA,sBAC/B,eAAe,UAAU;AAAA;AAAA,sBAEzB,sBAAsB;AAAA,wBACpB,OAAO,MAAM,sBAAsB,cAAc;AAAA,sBACzE;AAAA,sBACsB,mBAAmB;AAAA;AAAA,wBAEjB,OAAO,MAAM,aAAa,OAAO,SAAS,UAAU,IAAI,CAAC,UAAU,KAAK,UAAU,KAAK,CAAC;AAAA,sBAChH;AAAA,sBACsB,wBAAwB;AAAA,wBACtB,OAAO,MAAM,kBAAkB,OAAO,KAAK,UAAU,cAAc,IAAI;AAAA,sBAC/F;AAAA;AAAA,sBAEsB,iBAAiB,UAAU;AAAA,sBAC3B,wBAAwB,UAAU;AAAA,sBAClC,oCAAoC,SAAS;AAAA,sBAC7C,6BAA6B,SAAS;AAAA,sBACtC,mCAAmC,SAAS;AAAA,sBAC5C,iCAAiC,SAAS;AAAA,sBAC1C,+BAA+B,OAAO,SAAS,gBAAgB,OAAO,OAAO;AAAA,sBAC7E,wBAAwB,SAAS;AAAA,sBACjC,wBAAwB,SAAS;AAAA,oBACvD;AAAA,kBACA,CAAmB;AAAA,kBACD;AAAA,kBACA,IAAI,OAAO,UAAU;AACnB,wBAAI,MAAMK,MAAK,KAAK,KAAK,KAAK,KAAK,KAAK;AACxC,0BAAM,sBAAsB;AAAA,sBAC1B;AAAA,sBACA,qBAAqB,OAAO,SAAS,kBAAkB;AAAA,oBAC7E;AACoB,0BAAM,SAAS,MAAM,UAAU,WAAW;AAAA,sBACxC,GAAG;AAAA,sBACH,OAAO;AAAA,sBACP,YAAY;AAAA,sBACZ,gBAAgB,OAAO,UAAU,OAAO,SAAS,OAAO;AAAA,sBACxD,QAAQ;AAAA,sBACR,iBAAiB;AAAA,sBACjB,aAAa;AAAA,sBACb,SAAS;AAAA,oBAC/B,CAAqB;AACD,0BAAM,eAAe;AAAA,sBACnB,KAAKA,QAAO,OAAO,OAAO,aAAa,OAAO,SAAS,KAAK,OAAO,OAAOA,OAAM,YAAW;AAAA,sBAC3F,YAAY,OAAO,MAAM,OAAO,aAAa,OAAO,SAAS,IAAI,cAAc,OAAO,MAAsB,oBAAI,KAAI;AAAA,sBACpH,UAAU,OAAO,MAAM,OAAO,aAAa,OAAO,SAAS,IAAI,YAAY,OAAO,MAAM,UAAU;AAAA,sBAClG,UAAU,MAAM,OAAO,aAAa,OAAO,SAAS,IAAI;AAAA,sBACxD,OAAO,MAAM,OAAO,aAAa,OAAO,SAAS,IAAI;AAAA,oBAC3E;AACoB,0BAAM;AAAA,sBACJ,MAAM,0BAA0B;AAAA,wBAC9B;AAAA,wBACA,YAAY;AAAA,0BACV,4BAA4B,OAAO,aAAa;AAAA,0BAChD,oBAAoB;AAAA,4BAClB,QAAQ,MAAM,mBAAmB,OAAO,OAAO;AAAA,0BAC3E;AAAA,0BAC0B,yBAAyB;AAAA,4BACvB,QAAQ,MAAM;AACZ,oCAAM,YAAY,YAAY,OAAO,OAAO;AAC5C,qCAAO,aAAa,OAAO,SAAS,KAAK,UAAU,SAAS;AAAA,4BAC9D;AAAA,0BAC5B;AAAA,0BAC0B,kBAAkB,aAAa;AAAA,0BAC/B,qBAAqB,aAAa;AAAA,0BAClC,yBAAyB,aAAa,UAAU,YAAW;AAAA,0BAC3D,gCAAgC,KAAK;AAAA,4BACnC,OAAO;AAAA,0BACnC;AAAA;AAAA,0BAE0B,yBAAyB,OAAO,MAAM,YAAY;AAAA,0BAClD,6BAA6B,OAAO,MAAM,aAAa;AAAA;AAAA,0BAEvD,kCAAkC;AAAA,4BAChC,OAAO,aAAa;AAAA,0BAChD;AAAA,0BAC0B,sBAAsB,aAAa;AAAA,0BACnC,yBAAyB,aAAa;AAAA,0BACtC,6BAA6B,OAAO,MAAM,YAAY;AAAA,0BACtD,8BAA8B,OAAO,MAAM,aAAa;AAAA,wBAClF;AAAA,sBACA,CAAuB;AAAA,oBACvB;AACoB,2BAAO,EAAE,GAAG,QAAQ,UAAU,aAAY;AAAA,kBAC5C;AAAA,gBAClB,CAAiB;AAAA,cACH;AAAA,YACd;AACY,kBAAM,gBAAgB,MAAM,QAAQ;AAAA,cAClC,qBAAqB,QAAQ;AAAA,gBAC3B,CAAC,SAAS,KAAK,SAAS;AAAA,cACxC,EAAgB;AAAA,gBACA,CAAC,aAAa,cAAc;AAAA,kBAC1B;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA,UAAU;AAAA,gBAC5B,CAAiB;AAAA,cACjB;AAAA,YACA;AACY,kBAAM,uBAAuB,CAAA;AAC7B,uBAAW,YAAY,eAAe;AACpC,kBAAI,SAAS,SAAS;AACpB;AAAA,cACF;AACA,oBAAM,QAAQ,SAAS,OAAO,SAAS,MAAM,SAAS,QAAQ;AAC9D,kBAAI,SAAS,MAAM;AACjB;AAAA,cACF;AACA,mBAAK,SAAS,OAAO,SAAS,MAAM,qBAAqB,MAAM;AAC7D,sBAAM,MAAM,iBAAiB;AAAA,kBAC3B,OAAO,SAAS;AAAA,kBAChB,YAAY,SAAS;AAAA,kBACrB,UAAU;AAAA,kBACV,aAAa;AAAA,kBACb;AAAA,gBAClB,CAAiB;AAAA,cACH;AACA,kBAAI,MAAM,iBAAiB;AAAA,gBACzB,MAAM;AAAA,gBACN;AAAA,gBACA,UAAU;AAAA,gBACV;AAAA,cAChB,CAAe,GAAG;AACF,qCAAqB,SAAS,UAAU,IAAI;AAAA,kBAC1C,MAAM;AAAA,kBACN,YAAY,YAAW;AAAA,kBACvB;AAAA,gBAClB;AAAA,cACc;AAAA,YACF;AACA,kBAAM,mBAAmB,cAAc;AAAA,cACrC,CAAC,aAAa,SAAS,WAAW,SAAS;AAAA,YACzD;AACY,gCAAoB,CAAA;AACpB,uBAAW,YAAY,kBAAkB;AACvC,gCAAkB,KAAK;AAAA,gBACrB,MAAM;AAAA,gBACN,YAAY,SAAS;AAAA,gBACrB,UAAU,SAAS;AAAA,gBACnB,OAAO,SAAS;AAAA,gBAChB,OAAO0rB,gBAAiB,SAAS,KAAK;AAAA,gBACtC,SAAS;AAAA,cACzB,CAAe;AAAA,YACH;AACA,8BAAkB,cAAc;AAAA,cAC9B,CAAC,aAAa,CAAC,SAAS;AAAA,YACtC;AACY,gBAAI,SAAS,MAAM;AACjB,gCAAkB;AAAA,gBAChB,GAAG,MAAM,aAAa;AAAA,kBACpB,WAAW,gBAAgB;AAAA,oBACzB,CAAC,aAAa,CAAC,SAAS,WAAW,qBAAqB,SAAS,UAAU,KAAK;AAAA,kBACpG;AAAA,kBACkB;AAAA,kBACA;AAAA,kBACA;AAAA,kBACA,UAAU;AAAA,kBACV,aAAa;AAAA,kBACb;AAAA,gBAClB,CAAiB;AAAA,cACjB;AAAA,YACY;AACA,uBAAW,YAAY,eAAe;AACpC,kBAAI,CAAC,SAAS;AACZ;AACF,oBAAM,QAAQ,SAAS,OAAO,SAAS,MAAM,SAAS,QAAQ;AAC9D,mBAAK,SAAS,OAAO,SAAS,MAAM,UAAU,cAAc,MAAM,yBAAyB;AACzF,sBAAM,sBAAsB,qBAAqB,QAAQ;AAAA,kBACvD,CAAC,SAAS,KAAK,SAAS,iBAAiB,KAAK,eAAe,SAAS;AAAA,gBACxF;AACgB,oBAAI,CAAC,qBAAqB;AACxB,2CAAyB,IAAI,SAAS,YAAY;AAAA,oBAChD,UAAU,SAAS;AAAA,kBACvC,CAAmB;AAAA,gBACH;AAAA,cACF;AAAA,YACF;AACA,uBAAW,QAAQ,qBAAqB,SAAS;AAC/C,kBAAI,KAAK,SAAS,eAAe;AAC/B,yCAAyB,OAAO,KAAK,UAAU;AAAA,cACjD;AAAA,YACF;AACA,kBAAM,cAAc,UAAU;AAAA,cAC5B,SAAS,qBAAqB;AAAA,cAC9B,WAAW;AAAA,cACX,aAAa;AAAA,cACb,sBAAsB,OAAO,OAAO,oBAAoB;AAAA,cACxD;AAAA,YACd,CAAa;AACD,6BAAiB;AAAA,cACf,GAAG,MAAM,mBAAmB;AAAA,gBAC1B,SAAS;AAAA,gBACT;AAAA,cAChB,CAAe;AAAA,YACf;AACY,kBAAM,oBAAoB,IAAI,kBAAkB;AAAA,cAC9C,SAAS;AAAA,cACT,cAAc,qBAAqB,aAAa;AAAA,cAChD,iBAAiB,qBAAqB,aAAa;AAAA,cACnD,OAAO,qBAAqB,qBAAqB,KAAK;AAAA,cACtD,UAAU,qBAAqB;AAAA,cAC/B,kBAAkB,qBAAqB;AAAA,cACvC,UAAU,KAAK,qBAAqB,YAAY,OAAO,KAAK,CAAA;AAAA,cAC5D,UAAU;AAAA,gBACR,GAAG,qBAAqB;AAAA;AAAA,gBAExB,UAAU,gBAAgB,gBAAgB;AAAA,cAC1D;AAAA,YACA,CAAa;AACD,wBAAY;AAAA,cACV,WAAW,KAAK,qBAAqB,aAAa,OAAO,KAAK,CAAA;AAAA,cAC9D,UAAU,UAAU;AAAA,cACpB,OAAO,UAAU;AAAA,YAC/B,CAAa;AACD,kBAAM,KAAK,iBAAiB;AAC5B,mBAAO,gBAAgB,OAAO,SAAS,aAAa,iBAAiB;AAAA,UACvE,UAAC;AACC,gBAAI,iBAAiB,MAAM;AACzB,2BAAa,aAAa;AAAA,YAC5B;AAAA,UACF;AAAA,QACF;AAAA;AAAA;AAAA;AAAA,WAIG,gBAAgB,SAAS,KAAK,kBAAkB,WAAW,gBAAgB,UAAU,yBAAyB,OAAO;AAAA,UACtH,CAAC,MAAM,mBAAmB,EAAE,gBAAgB,MAAK,CAAE;AAAA;AAErD,aAAK;AAAA,UACH,MAAM,0BAA0B;AAAA,YAC9B;AAAA,YACA,YAAY;AAAA,cACV,4BAA4B,qBAAqB,aAAa;AAAA,cAC9D,oBAAoB;AAAA,gBAClB,QAAQ,MAAM,mBAAmB,qBAAqB,OAAO;AAAA,cAC7E;AAAA,cACc,yBAAyB;AAAA,gBACvB,QAAQ,MAAM;AACZ,wBAAM,YAAY,YAAY,qBAAqB,OAAO;AAC1D,yBAAO,aAAa,OAAO,SAAS,KAAK,UAAU,SAAS;AAAA,gBAC9D;AAAA,cAChB;AAAA,cACc,gCAAgC,KAAK;AAAA,gBACnC,qBAAqB;AAAA,cACrC;AAAA;AAAA,cAEc,yBAAyB,qBAAqB,MAAM,YAAY;AAAA,cAChE,6BAA6B,qBAAqB,MAAM,aAAa;AAAA,YACnF;AAAA,UACA,CAAW;AAAA,QACX;AACQ,cAAM,WAAW,MAAM,MAAM,SAAS,CAAC;AACvC,cAAM,aAAa,MAAM;AAAA,UACvB,CAAC,aAAa,SAAS;AACrB,mBAAO,sBAAsB,aAAa,KAAK,KAAK;AAAA,UACtD;AAAA,UACA;AAAA,YACE,aAAa;AAAA,YACb,cAAc;AAAA,YACd,aAAa;AAAA,YACb,iBAAiB;AAAA,YACjB,mBAAmB;AAAA,UAC/B;AAAA,QACA;AACQ,eAAO,YAAY,OAAO,SAAS,SAAS;AAAA,UAC1C,cAAc,SAAS;AAAA,UACvB,iBAAiB,SAAS;AAAA,UAC1B,OAAO,SAAS;AAAA,UAChB,SAAS,SAAS;AAAA,UAClB,MAAM,SAAS;AAAA,UACf,eAAe,SAAS;AAAA,UACxB,WAAW,SAAS;AAAA,UACpB,OAAO,SAAS;AAAA,UAChB,SAAS,SAAS;AAAA,UAClB,WAAW,SAAS;AAAA,UACpB,iBAAiB,SAAS;AAAA,UAC1B,kBAAkB,SAAS;AAAA,UAC3B,aAAa,SAAS;AAAA,UACtB,mBAAmB,SAAS;AAAA,UAC5B,oBAAoB,SAAS;AAAA,UAC7B,SAAS,SAAS;AAAA,UAClB,UAAU,SAAS;AAAA,UACnB,UAAU,SAAS;AAAA,UACnB,kBAAkB,SAAS;AAAA,UAC3B;AAAA,UACA;AAAA,UACA;AAAA,QACV,CAAS;AACD,YAAI;AACJ,YAAI,SAAS,iBAAiB,QAAQ;AACpC,gBAAM,sBAAsB,UAAU,OAAO,SAAS,KAAI;AAC1D,2BAAiB,MAAM,oBAAoB;AAAA,YACzC,EAAE,MAAM,SAAS,KAAI;AAAA,YACrB;AAAA,cACE,UAAU,SAAS;AAAA,cACnB,OAAO,SAAS;AAAA,cAChB,cAAc,SAAS;AAAA,YACrC;AAAA,UACA;AAAA,QACQ;AACA,eAAO,IAAI,0BAA0B;AAAA,UACnC;AAAA,UACA;AAAA,UACA,QAAQ;AAAA,QAClB,CAAS;AAAA,MACH;AAAA,IACN,CAAK;AAAA,EACH,SAASvsB,QAAO;AACd,UAAM,iBAAiBA,MAAK;AAAA,EAC9B;AACF;AACA,eAAe,aAAa;AAAA,EAC1B;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,QAAM,cAAc,MAAM,QAAQ;AAAA,IAChC,UAAU;AAAA,MACR,OAAO,aAAa,gBAAgB;AAAA,QAClC;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACR,CAAO;AAAA,IACP;AAAA,EACA;AACE,SAAO,YAAY;AAAA,IACjB,CAAC,WAAW,UAAU;AAAA,EAC1B;AACA;AACA,IAAI,4BAA4B,MAAM;AAAA,EACpC,YAAY,SAAS;AACnB,SAAK,QAAQ,QAAQ;AACrB,SAAK,UAAU,QAAQ;AACvB,SAAK,aAAa,QAAQ;AAAA,EAC5B;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK,MAAM,KAAK,MAAM,SAAS,CAAC;AAAA,EACzC;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,OAAO;AACT,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,gBAAgB;AAClB,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,YAAY;AACd,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,cAAc;AAChB,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,oBAAoB;AACtB,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,qBAAqB;AACvB,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,eAAe;AACjB,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,kBAAkB;AACpB,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,mBAAmB;AACrB,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,WAAW;AACb,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,UAAU;AACZ,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,QAAQ;AACV,WAAO,KAAK,UAAU;AAAA,EACxB;AAAA,EACA,IAAI,sBAAsB;AACxB,WAAO,KAAK;AAAA,EACd;AAAA,EACA,IAAI,SAAS;AACX,QAAI,KAAK,WAAW,MAAM;AACxB,YAAM,IAAI,uBAAsB;AAAA,IAClC;AACA,WAAO,KAAK;AAAA,EACd;AACF;AACA,SAAS,YAAY,SAAS;AAC5B,QAAM,QAAQ,QAAQ;AAAA,IACpB,CAAC,SAAS,KAAK,SAAS;AAAA,EAC5B;AACE,MAAI,MAAM,WAAW,GAAG;AACtB,WAAO;AAAA,EACT;AACA,SAAO,MAAM,IAAI,CAAC,cAAc;AAAA,IAC9B,YAAY,SAAS;AAAA,IACrB,UAAU,SAAS;AAAA,IACnB,OAAO,SAAS;AAAA,EACpB,EAAI;AACJ;AACA,SAAS,UAAU;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;AACD,QAAM,eAAe,CAAA;AACrB,aAAW,QAAQ,SAAS;AAC1B,YAAQ,KAAK,MAAI;AAAA,MACf,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AACH,qBAAa,KAAK,IAAI;AACtB;AAAA,MACF,KAAK,QAAQ;AACX,qBAAa,KAAK;AAAA,UAChB,MAAM;AAAA,UACN,MAAM,IAAI,qBAAqB,IAAI;AAAA,UACnC,GAAG,KAAK,oBAAoB,OAAO,EAAE,kBAAkB,KAAK,qBAAqB,CAAA;AAAA,QAC3F,CAAS;AACD;AAAA,MACF;AAAA,MACA,KAAK,aAAa;AAChB,qBAAa;AAAA,UACX,UAAU,KAAK,CAAC,aAAa,SAAS,eAAe,KAAK,UAAU;AAAA,QAC9E;AACQ;AAAA,MACF;AAAA,MACA,KAAK,eAAe;AAClB,cAAM,WAAW,UAAU;AAAA,UACzB,CAAC,cAAc,UAAU,eAAe,KAAK;AAAA,QACvD;AACQ,YAAI,YAAY,MAAM;AACpB,gBAAM,QAAQ,SAAS,OAAO,SAAS,MAAM,KAAK,QAAQ;AAC1D,gBAAM,2BAA2B,SAAS,OAAO,SAAS,MAAM,UAAU,cAAc,MAAM;AAC9F,cAAI,CAAC,yBAAyB;AAC5B,kBAAM,IAAI,MAAM,aAAa,KAAK,UAAU,aAAa;AAAA,UAC3D;AACA,cAAI,KAAK,SAAS;AAChB,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,KAAK;AAAA,cACf,OAAO;AAAA,cACP,OAAO,KAAK;AAAA,cACZ,kBAAkB;AAAA,cAClB,SAAS,KAAK;AAAA,YAC5B,CAAa;AAAA,UACH,OAAO;AACL,yBAAa,KAAK;AAAA,cAChB,MAAM;AAAA,cACN,YAAY,KAAK;AAAA,cACjB,UAAU,KAAK;AAAA,cACf,OAAO;AAAA,cACP,QAAQ,KAAK;AAAA,cACb,kBAAkB;AAAA,cAClB,SAAS,KAAK;AAAA,YAC5B,CAAa;AAAA,UACH;AACA;AAAA,QACF;AACA,YAAI,KAAK,SAAS;AAChB,uBAAa,KAAK;AAAA,YAChB,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,KAAK;AAAA,YACf,OAAO,SAAS;AAAA,YAChB,OAAO,KAAK;AAAA,YACZ,kBAAkB;AAAA,YAClB,SAAS,SAAS;AAAA,UAC9B,CAAW;AAAA,QACH,OAAO;AACL,uBAAa,KAAK;AAAA,YAChB,MAAM;AAAA,YACN,YAAY,KAAK;AAAA,YACjB,UAAU,KAAK;AAAA,YACf,OAAO,SAAS;AAAA,YAChB,QAAQ,KAAK;AAAA,YACb,kBAAkB;AAAA,YAClB,SAAS,SAAS;AAAA,UAC9B,CAAW;AAAA,QACH;AACA;AAAA,MACF;AAAA,MACA,KAAK,yBAAyB;AAC5B,cAAM,WAAW,UAAU;AAAA,UACzB,CAAC,cAAc,UAAU,eAAe,KAAK;AAAA,QACvD;AACQ,YAAI,YAAY,MAAM;AACpB,gBAAM,IAAI,iCAAiC;AAAA,YACzC,YAAY,KAAK;AAAA,YACjB,YAAY,KAAK;AAAA,UAC7B,CAAW;AAAA,QACH;AACA,qBAAa,KAAK;AAAA,UAChB,MAAM;AAAA,UACN,YAAY,KAAK;AAAA,UACjB;AAAA,QACV,CAAS;AACD;AAAA,MACF;AAAA,IACN;AAAA,EACE;AACA,SAAO,CAAC,GAAG,cAAc,GAAG,aAAa,GAAG,oBAAoB;AAClE;AAAA,CAmG+B,cAAc,gBAAgB;AAAA,EAC3D,cAAc;AACZ,UAAM;AAAA,MACJ,UAAU,MAAM,YAAY;AAC1B,mBAAW,QAAQ,SAAS,KAAK,UAAU,IAAI,CAAC;AAAA;AAAA,CAEvD;AAAA,MACK;AAAA,MACA,MAAM,YAAY;AAChB,mBAAW,QAAQ,kBAAkB;AAAA,MACvC;AAAA,IACN,CAAK;AAAA,EACH;AACF;AAguC0BwsB,kBAAmB;AAAA,EAC3C,QAAQ;AAAA,EACR,MAAM;AACR,CAAC;AAg5GyBC,kBAAmB,EAAE,QAAQ,SAAS,MAAM,GAAE,CAAE;AAuZhDC,kBAAmB,EAAE,QAAQ,SAAS,MAAM,GAAE,CAAE;ACj2SnE,MAAM,UAAU;AAAA,EACJ;AAAA,EACA;AAAA,EAEjB,YAAYntB,SAAkBW,SAAgB;AAC5C,SAAK,SAASX;AACd,SAAK,SAASW;AAAA,EAChB;AAAA,EAEQ,WAAW;AACjB,QAAI,KAAK,OAAO,aAAa,UAAU;AACrC,aAAO,OAAO,KAAK,OAAO,KAAK;AAAA,IACjC;AAEA,QAAI,KAAK,OAAO,aAAa,aAAa;AACxC,aAAO,UAAU,KAAK,OAAO,KAAK;AAAA,IACpC;AAEA,QAAI,KAAK,OAAO,aAAa,UAAU;AACrC,YAAM,SAAS,yBAAyB;AAAA,QACtC,QAAQ,KAAK,OAAO;AAAA,MAAA,CACrB;AACD,aAAO,OAAO,KAAK,OAAO,KAAK;AAAA,IACjC;AAEA,UAAM,IAAI,MAAM,4BAA4B,KAAK,OAAO,QAAQ,EAAE;AAAA,EACpE;AAAA,EAEA,MAAa,SAAS,QAAgB,aAAsC;AAC1E,SAAK,OAAO,KAAK,uBAAuB;AAExC,UAAM,QAAQ,KAAK,SAAA;AAEnB,QAAI;AACF,YAAM,EAAE,MAAAR,UAAS,MAAM,aAAa;AAAA,QAClC;AAAA,QACA;AAAA,QACA;AAAA,MAAA,CACD;AAED,aAAOA;AAAA,IACT,SAASM,QAAO;AACd,WAAK,OAAO,MAAM,4BAA4BA,MAAK,EAAE;AACrD,YAAMA;AAAA,IACR;AAAA,EACF;AACF;ACrCA,eAAsB,YAAYkE,OAAY3E,SAA+B;AAC3E,QAAMa,YAAW,MAAM,kBAAA;AAEvB,QAAM,KAAK,IAAI,UAAUb,QAAO,IAAI,MAAM;AAC1C,QAAM,MAAqB;AAAA,IACzB,MAAA2E;AAAA,IACA,QAAQ,EAAE,YAAY3E,QAAO,cAAc,aAAA;AAAA,IAC3C;AAAA,EAAA;AAMF,QAAM,oBAAoB,MAAM,QAAQ;AAAA,IACtCA,QAAO,OAAO,IAAI,OAAO,UAAU;AACjC,UAAI,CAAC,MAAM,SAAS;AAClB;AAAA,MACF;AACA,YAAM,SAASa,UAAS,IAAI,MAAM,MAAM;AACxC,UAAI,CAAC,cAAc,MAAM,GAAG;AAC1B,cAAM,IAAI,MAAM,UAAU,MAAM,MAAM,wCAAwC;AAAA,MAChF;AAEA,YAAM,eAAe,OAAO,YAAY,MAAM,UAAU,CAAA,CAAE;AAE1D,aAAO,KAAK,oBAAoB,MAAM,EAAE,KAAK,MAAM,MAAM,GAAG;AAE5D,YAAM,SAAS,MAAM,OAAO;AAAA,QAC1B;AAAA,UACE,GAAG;AAAA,UACH,cAAc,CAAC,WAAmB,GAAG,SAAS,QAAQ,GAAG;AAAA,QAAA;AAAA,QAE3D;AAAA,MAAA;AAGF,aAAO,EAAE,IAAI,MAAM,IAAI,QAAQ,QAAQ,cAAc,eAAe,OAAA;AAAA,IACtE,CAAC;AAAA,EAAA;AAGH,QAAM,kBAAyC,CAAA;AAC/C,aAAW,OAAO,mBAAmB;AACnC,QAAI,IAAI,WAAW,eAAe,IAAI,OAAO;AAC3C,sBAAgB,KAAK,IAAI,MAAM,aAAa;AAAA,IAC9C,WAAW,IAAI,WAAW,YAAY;AACpC,aAAO,MAAM,iCAAiC,IAAI,MAAM,EAAE;AAAA,IAC5D;AAAA,EACF;AAMA,QAAM,kBAAkBA,UAAS,IAAIb,QAAO,UAAU,MAAM;AAE5D,MAAI,CAAC,kBAAkB,eAAe,GAAG;AACvC,UAAM,IAAI,MAAM,UAAUA,QAAO,UAAU,MAAM,4CAA4C;AAAA,EAC/F;AAEA,QAAM,kBAAkB,gBAAgB,YAAYA,QAAO,UAAU,UAAU,EAAE;AAEjF,QAAM,SAAS,MAAM,gBAAgB,OAAO,KAAK,iBAAiB,eAAe;AAEjF,QAAM,QAAQ;AAAA,IACZA,QAAO,QAAQ,IAAI,OAAO,iBAAiB;AACzC,UAAI,CAAC,aAAa,SAAS;AACzB;AAAA,MACF;AACA,YAAM,SAASa,UAAS,IAAI,aAAa,MAAM;AAC/C,UAAI,CAAC,eAAe,MAAM,GAAG;AAC3B,cAAM,IAAI,MAAM,UAAU,aAAa,MAAM,yCAAyC;AAAA,MACxF;AAEA,YAAM,eAAe,OAAO,YAAY,aAAa,UAAU,CAAA,CAAE;AACjE,aAAO,KAAK,mBAAmB,aAAa,MAAM,EAAE;AACpD,YAAM,OAAO,OAAO,KAAK,QAAQ,YAAY;AAAA,IAC/C,CAAC;AAAA,EAAA;AAEL;ACpFO,MAAM,iBAAiB0W,SAAS;AAAA,EACrC,UAAU6V,MAAO,CAAC,UAAU,aAAa,QAAQ,CAAC;AAAA,EAClD,QAAQ3V,OAAE,EAAS,IAAI,CAAC;AAAA,EACxB,OAAOA,OAAE,EAAS,IAAI,CAAC;AAAA,EACvB,aAAaoJ,SAAE,EAAS,IAAI,CAAC,EAAE,IAAI,CAAC,EAAE,WAAW,QAAQ,GAAG;AAC9D,CAAC;ACVM,MAAM,uBAAuBtJ,SAAS;AAAA,EAC3C,IAAIE,OAAE,EAAS,IAAI,CAAC,EAAE,SAAA;AAAA,EACtB,QAAQA,OAAE,EAAS,IAAI,CAAC;AAAA,EACxB,SAAS4V,QAAE,EAAU,SAAA,EAAW,QAAQ,IAAI;AAAA,EAC5C,QAAQC,QAAE,EAAU,SAAA;AACtB,CAAC;AAEM,MAAM,eAAe/V,SAAS;AAAA,EACnC,IAAI;AAAA,EACJ,QAAQgW,QAAQ,oBAAoB,EAAE,IAAI,CAAC;AAAA,EAC3C,WAAWhW,SAAS;AAAA,IAClB,QAAQE,OAAE,EAAS,IAAI,CAAC;AAAA,IACxB,QAAQ6V,QAAE,EAAU,SAAA;AAAA,EAAS,CAC9B;AAAA,EACD,SAASC,QAAQ,oBAAoB,EAAE,IAAI,CAAC;AAAA,EAC5C,YAAY9V,OAAE,EAAS,SAAA;AACzB,CAAC;ACRD,OAAO,OAAA;AAQP,MAAM,yBAAyB,CAAC,UAA4B;AAC1D,MAAI,OAAO,UAAU,UAAU;AAC7B,UAAM,WAAW,MAAM,MAAM,aAAa;AAE1C,QAAI,YAAY,SAAS,CAAC,GAAG;AAC3B,YAAM,SAAS,SAAS,CAAC;AACzB,YAAM,WAAWjY,UAAQ,IAAI,MAAM;AAEnC,UAAI,aAAa,QAAW;AAC1B,cAAM,IAAI,MAAM,wBAAwB,MAAM,aAAa;AAAA,MAC7D;AAEA,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT;AAEA,MAAI,MAAM,QAAQ,KAAK,GAAG;AACxB,WAAO,MAAM,IAAI,sBAAsB;AAAA,EACzC;AAEA,MAAI,SAAS,OAAO,UAAU,UAAU;AACtC,WAAO,OAAO;AAAA,MACZ,OAAO,QAAQ,KAAK,EAAE,IAAI,CAAC,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,uBAAuB,GAAG,CAAC,CAAC;AAAA,IAAA;AAAA,EAEhF;AAEA,SAAO;AACT;AAEA,MAAM,YAAY,OAAO,eAAuB;AAC9C,QAAMD,MAAK,MAAM,OAAO,kBAAkB;AAC1C,QAAM,OAAO,MAAM,OAAO,qBAAM;AAEhC,QAAM,gBAAgB,MAAMA,IAAG,SAAS,YAAY,OAAO;AAC3D,QAAM,aAAa,KAAK,MAAM,aAAa;AAC3C,QAAM,qBAAqB,uBAAuB,UAAU;AAC5D,QAAMS,UAAS,aAAa,MAAM,kBAAkB;AAEpD,SAAOA;AACT;AAEA,eAAe,OAAsB;AACnC,MAAI;AACF,UAAMwtB,WAAU,IAAI,QAAA,EACjB,KAAK,WAAW,EAChB,YAAY,qDAAqD,EACjE,OAAO,uBAAuB,uBAAuB,uBAAuB,EAC5E,OAAO,qBAAqB,gCAAgC,EAC5D,OAAO,WAAW,gCAAgC,KAAK;AAE1D,UAAM,UAAUA,SAAQ,MAAMhuB,UAAQ,IAAI,EAAE,KAAA;AAE5C,QAAI,QAAQ,OAAO;AACjBA,gBAAQ,IAAI,QAAQ;AACpB,aAAO,MAAM,uBAAuB;AAAA,IACtC;AAEA,UAAMQ,UAAS,MAAM,UAAU,KAAK,QAAQR,UAAQ,IAAA,GAAO,QAAQ,MAAM,CAAC;AAE1E,QAAI,CAAC,QAAQ,MAAM;AACjB,aAAO,KAAK,uCAAuC;AAAA,IACrD;AAEA,UAAM,YAAY,QAAQ,OAAO,IAAI,KAAK,QAAQ,IAAI,IAAI,oBAAI,KAAA,GAAQQ,OAAM;AAAA,EAC9E,SAASS,QAAO;AACd,YAAQ,IAAIA,MAAK;AACjB,WAAO,MAAM,oBAAoBA,MAAK,EAAE;AACxCjB,cAAQ,KAAK,CAAC;AAAA,EAChB;AACF;AAEA,KAAK,KAAA;","x_google_ignoreList":[0,1,2,3,5,6,7,8,9,10,11,12,13,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70]}